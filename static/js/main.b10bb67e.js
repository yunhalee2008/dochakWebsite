/*! For license information please see main.b10bb67e.js.LICENSE.txt */
(()=>{var e={579:(e,t,n)=>{"use strict";e.exports=n(2799)},724:function(e){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),r=function(){function e(e,t,n){void 0===e&&(e=NaN),void 0===t&&(t=NaN),void 0===n&&(n=!1),this._minFPS=t,this._maxFPS=e,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new i.default,this._onPause=new i.default,this._onTick=new i.default,this._onTickOncePerFrame=new i.default,n||this.resume()}return e.prototype.updateOnce=function(e){e(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},e.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},e.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},e.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(e.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._timeScale},set:function(e){this._timeScale!==e&&(this._timeScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),e.prototype.animateOnce=function(){var e=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return e.onFrame()})},e.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},e.prototype.update=function(e,t){void 0===t&&(t=!0),this._currentTick++,this._currentTime+=e,this._tickDeltaTime=e,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),t&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},e.prototype.getTimer=function(){return Date.now()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";var n=function(){function e(){this.functions=[]}return e.prototype.add=function(e){return-1===this.functions.indexOf(e)&&(this.functions.push(e),!0)},e.prototype.remove=function(e){var t=this.functions.indexOf(e);return t>-1&&(this.functions.splice(t,1),!0)},e.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},e.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.functions.concat().forEach(function(t){t.apply(void 0,e)})},Object.defineProperty(e.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])})}])},2016:(e,t,n)=>{"use strict";e.exports=n(4492)},2330:(e,t,n)=>{"use strict";var i=n(5043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useState,o=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(i){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return s(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),o(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function i(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in i={},t)"key"!==a&&(i[a]=t[a]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}Symbol.for("react.fragment"),t.jsx=i,t.jsxs=i},3179:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,A=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(A=!1,b(e),!f)if(null!==i(c))f=!0,R();else{var t=i(u);null!==t&&D(x,t.startTime-e)}}var w,T=!1,_=-1,S=5,M=-1;function E(){return!(t.unstable_now()-M<S)}function C(){if(T){var e=t.unstable_now();M=e;var n=!0;try{e:{f=!1,A&&(A=!1,v(_),_=-1),m=!0;var a=p;try{t:{for(b(e),h=i(c);null!==h&&!(h.expirationTime>e&&E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,b(e),n=!0;break t}h===i(c)&&r(c),b(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&D(x,l.startTime-e),n=!1}}break e}finally{h=null,p=a,m=!1}n=void 0}}finally{n?w():T=!1}}}if("function"===typeof y)w=function(){y(C)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=C,w=function(){N.postMessage(null)}}else w=function(){g(C,0)};function R(){T||(T=!0,w())}function D(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(A?(v(_),_=-1):A=!0,D(x,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,R())),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,A={};function g(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||m}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,f(b,g.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function _(e,t,i,r,a,o){return i=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:o}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function P(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return P((u=e._init)(e._payload),t,r,a,o)}}if(u)return o=o(e),u=""===a?"."+E(e,0):a,x(o)?(r="",null!=u&&(r=u.replace(M,"$&/")+"/"),P(o,t,r,"",function(e){return e})):null!=o&&(S(o)&&(l=o,c=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+u,o=_(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,m=""===a?".":a+":";if(x(e))for(var f=0;f<e.length;f++)u+=P(a=e[f],t,r,s=m+E(a,f),o);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=P(a=a.value,t,r,s=m+E(a,f++),o);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var i=[],r=0;return P(e,i,"","",function(e){return t.call(n,e,r++)}),i}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=f({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!T.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(i[a]=t[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];i.children=o}return _(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var i,r={},a=null;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)T.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===r[i]&&(r[i]=o[i]);return _(e,a,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var i=e(),r=w.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(I,D)}catch(a){D(a)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=w.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.0"},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4492:(e,t,n)=>{"use strict";e.exports=function(e){function t(e,t,n,i){return new _r(e,t,n,i)}function i(){}function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=la&&e[la]||e["@@iterator"])?e:null}function o(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===ca?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Qr:return"Fragment";case Wr:return"Portal";case Xr:return"Profiler";case Yr:return"StrictMode";case ea:return"Suspense";case ta:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Jr:return(e.displayName||"Context")+".Provider";case Zr:return(e._context.displayName||"Context")+".Consumer";case $r:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case na:return null!==(t=e.displayName||null)?t:o(e.type)||"Memo";case ia:t=e._payload,e=e._init;try{return o(e(t))}catch(n){}}return null}function s(e){if(void 0===aa)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);aa=t&&t[1]||"",oa=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+aa+e+oa}function l(e,t){if(!e||da)return"";da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){i=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){i=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&i&&"string"===typeof s.stack)return[s.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],l=a[1];if(o&&l){var c=o.split("\n"),u=l.split("\n");for(r=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===c.length||r===u.length)for(i=c.length-1,r=u.length-1;1<=i&&0<=r&&c[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(c[i]!==u[r]){if(1!==i||1!==r)do{if(i--,0>--r||c[i]!==u[r]){var d="\n"+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=i&&0<=r);break}}}finally{da=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?s(n):""}function c(e){switch(e.tag){case 26:case 27:case 5:return s(e.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return e=l(e.type,!1);case 11:return e=l(e.type.render,!1);case 1:return e=l(e.type,!0);default:return""}}function u(e){try{var t="";do{t+=c(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function h(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(null===(t=d(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return h(a),e;if(o===i)return h(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}function f(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(4!==e.tag&&null!==(t=f(e)))return t;e=e.sibling}return null}function A(e){return{current:e}}function g(e){0>vs||(e.current=gs[vs],gs[vs]=null,vs--)}function v(e,t){vs++,gs[vs]=e.current,e.current=t}function y(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function b(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~r)?i=y(n):0!==(a&=s)?i=y(a):e||0!==(o=s&~o)&&(i=y(o)):0!==(s=n&~r)?i=y(s):0!==a?i=y(a):e||0!==(o=n&~o)&&(i=y(o)),0===i?0:0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||32===r&&0!==(4194176&o))?t:i}function x(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function w(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function T(){var e=Ts;return 0===(4194176&(Ts<<=1))&&(Ts=128),e}function _(){var e=_s;return 0===(62914560&(_s<<=1))&&(_s=4194304),e}function S(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function M(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function E(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-bs(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194218&n}function C(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-bs(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function P(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function N(e){if("function"===typeof Ls&&ks(e),Fs&&"function"===typeof Fs.setStrictMode)try{Fs.setStrictMode(Bs,e)}catch(t){}}function R(e,t){if("object"===typeof e&&null!==e){var n=Us.get(e);return void 0!==n?n:(t={value:e,source:t,stack:u(t)},Us.set(e,t),t)}return{value:e,source:t,stack:u(t)}}function D(e,t){Vs[js++]=qs,Vs[js++]=zs,zs=e,qs=t}function I(e,t,n){Gs[Hs++]=Qs,Gs[Hs++]=Ys,Gs[Hs++]=Ws,Ws=e;var i=Qs;e=Ys;var r=32-bs(i)-1;i&=~(1<<r),n+=1;var a=32-bs(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qs=1<<32-bs(t)+r|n<<r|i,Ys=a+e}else Qs=1<<a|n<<r|i,Ys=e}function L(e){null!==e.return&&(D(e,1),I(e,1,0))}function k(e){for(;e===zs;)zs=Vs[--js],Vs[js]=null,qs=Vs[--js],Vs[js]=null;for(;e===Ws;)Ws=Gs[--Hs],Gs[Hs]=null,Ys=Gs[--Hs],Gs[Hs]=null,Qs=Gs[--Hs],Gs[Hs]=null}function B(e,t){v(Zs,t),v(Ks,e),v(Xs,null),e=ga(t),g(Xs),v(Xs,e)}function F(){g(Xs),g(Ks),g(Zs)}function O(e){null!==e.memoizedState&&v(Js,e);var t=Xs.current,n=va(t,e.type);t!==n&&(v(Ks,e),v(Xs,n))}function U(e){Ks.current===e&&(g(Xs),g(Ks)),Js.current===e&&(g(Js),Pa?Wa._currentValue=Ha:Wa._currentValue2=Ha)}function V(e){throw H(R(Error(r(418,"")),e)),rl}function j(e,t){if(!Da)throw Error(r(175));Vo(e.stateNode,e.type,e.memoizedProps,t,e)||V(e)}function z(e){for($s=e.return;$s;)switch($s.tag){case 3:case 27:return void(il=!0);case 5:case 13:return void(il=!1);default:$s=$s.return}}function q(e){if(!Da||e!==$s)return!1;if(!tl)return z(e),tl=!0,!1;var t=!1;if(ds?3!==e.tag&&27!==e.tag&&(5!==e.tag||Yo(e.type)&&!_a(e.type,e.memoizedProps))&&(t=!0):3!==e.tag&&(5!==e.tag||Yo(e.type)&&!_a(e.type,e.memoizedProps))&&(t=!0),t&&el&&V(e),z(e),13===e.tag){if(!Da)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));el=qo(e)}else el=$s?Io(e.stateNode):null;return!0}function G(){Da&&(el=$s=null,tl=!1)}function H(e){null===nl?nl=[e]:nl.push(e)}function W(){for(var e=ol,t=sl=ol=0;t<e;){var n=al[t];al[t++]=null;var i=al[t];al[t++]=null;var r=al[t];al[t++]=null;var a=al[t];if(al[t++]=null,null!==i&&null!==r){var o=i.pending;null===o?r.next=r:(r.next=o.next,o.next=r),i.pending=r}0!==a&&K(n,r,a)}}function Q(e,t,n,i){al[ol++]=e,al[ol++]=t,al[ol++]=n,al[ol++]=i,sl|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Y(e,t,n,i){return Q(e,t,n,i),Z(e)}function X(e,t){return Q(e,null,null,t),Z(e)}function K(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;r&&null!==t&&3===e.tag&&(a=e.stateNode,r=31-bs(n),null===(e=(a=a.hiddenUpdates)[r])?a[r]=[t]:e.push(t),t.lane=536870912|n)}function Z(e){if(50<nu)throw nu=0,iu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function J(e){var t;e!==cl&&null===e.next&&(null===cl?ll=cl=e:cl=cl.next=e),dl=!0,ul||(ul=!0,t=ee,Ya?Xa(function(){0!==(6&Cc)?Ss(Ns,t):t()}):Ss(Ns,t))}function $(e,t){if(!hl&&dl){hl=!0;do{for(var n=!1,i=ll;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var o=i.suspendedLanes,s=i.pingedLanes;a=(1<<31-bs(42|e)+1)-1,a=201326677&(a&=r&~(o&~s))?201326677&a|1:a?2|a:0}0!==a&&(n=!0,ie(i,a))}else a=Rc,0===(3&(a=b(i,i===Pc?a:0)))||x(i,a)||(n=!0,ie(i,a));i=i.next}}while(n);hl=!1}}function ee(){dl=ul=!1;var e=0;0!==pl&&(Oa()&&(e=pl),pl=0);for(var t=Ps(),n=null,i=ll;null!==i;){var r=i.next,a=te(i,t);0===a?(i.next=null,null===n?ll=r:n.next=r,null===r&&(cl=n)):(n=i,(0!==e||0!==(3&a))&&(dl=!0)),i=r}$(e,!1)}function te(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-bs(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=w(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=Rc,n=b(e,e===(t=Pc)?n:0),i=e.callbackNode,0===n||e===t&&2===Dc||null!==e.cancelPendingCommit)return null!==i&&null!==i&&Ms(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||x(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&Ms(i),P(n)){case 2:case 8:n=Rs;break;case 32:default:n=Ds;break;case 268435456:n=Is}return i=ne.bind(null,e),n=Ss(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&Ms(i),e.callbackPriority=2,e.callbackNode=null,2}function ne(e,t){var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var i=Rc;return 0===(i=b(e,e===Pc?i:0))?null:(Qi(e,i,t),te(e,Ps()),null!=e.callbackNode&&e.callbackNode===n?ne.bind(null,e):null)}function ie(e,t){if(Ar())return null;Qi(e,t,!0)}function re(){return 0===pl&&(pl=T()),pl}function ae(){if(0===--fl&&null!==ml){null!==gl&&(gl.status="fulfilled");var e=ml;ml=null,Al=0,gl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oe(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function se(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function le(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ce(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Cc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Z(e),K(e,null,n),t}return Q(e,i,t,n),Z(e)}function ue(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,C(e,n)}}function de(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function he(){if(yl){if(null!==gl)throw gl}}function pe(e,t,n,i){yl=!1;var r=e.updateQueue;vl=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(Rc&h)===h:(i&h)===h){0!==h&&h===Al&&(yl=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,f=s;h=t;var A=n;switch(f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(A,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(A,d,h):m)||void 0===h)break e;d=qr({},d,h);break e;case 2:vl=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(p=s).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),Uc|=o,e.lanes=o,e.memoizedState=d}}function me(e,t){if("function"!==typeof e)throw Error(r(191,e));e.call(t)}function fe(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)me(n[e],t)}function Ae(e,t){if(Os(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!bl.call(t,r)||!Os(e[r],t[r]))return!1}return!0}function ge(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ve(){}function ye(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ve,ve),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===xl)throw Error(r(483));throw e;default:if("string"===typeof t.status)t.then(ve,ve);else{if(null!==(e=Pc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===xl)throw Error(r(483));throw e}throw _l=t,xl}}function be(){if(null===_l)throw Error(r(459));var e=_l;return _l=null,e}function xe(e){var t=Ml;return Ml+=1,null===Sl&&(Sl=[]),ye(Sl,e,t)}function we(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Te(e,t){if(t.$$typeof===Gr)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _e(e){return(0,e._init)(e._payload)}function Se(e){function n(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function i(t,i){if(!e)return null;for(;null!==i;)n(t,i),i=i.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function l(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=33554434,n):i:(t.flags|=33554434,n):(t.flags|=1048576,n)}function c(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function u(e,t,n,i){return null===t||6!==t.tag?((t=Rr(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n,i){var r=n.type;return r===Qr?p(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===ia&&_e(r)===t.type)?(we(t=s(t,n.props),n),t.return=e,t):(we(t=Cr(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dr(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function p(e,t,n,i,r){return null===t||7!==t.tag?((t=Pr(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Rr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Hr:return we(n=Cr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case Wr:return(t=Dr(t,e.mode,n)).return=e,t;case ia:return m(e,t=(0,t._init)(t._payload),n)}if(ha(t)||a(t))return(t=Pr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,xe(t),n);if(t.$$typeof===Jr)return m(e,In(e,t),n);Te(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:u(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Hr:return n.key===r?d(e,t,n,i):null;case Wr:return n.key===r?h(e,t,n,i):null;case ia:return f(e,t,n=(r=n._init)(n._payload),i)}if(ha(n)||a(n))return null!==r?null:p(e,t,n,i,null);if("function"===typeof n.then)return f(e,t,xe(n),i);if(n.$$typeof===Jr)return f(e,t,In(e,n),i);Te(e,n)}return null}function A(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return u(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Hr:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case Wr:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case ia:return A(e,t,n,i=(0,i._init)(i._payload),r)}if(ha(i)||a(i))return p(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return A(e,t,n,xe(i),r);if(i.$$typeof===Jr)return A(e,t,n,In(t,i),r);Te(t,i)}return null}function g(t,u,d,h){if("object"===typeof d&&null!==d&&d.type===Qr&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case Hr:e:{for(var p=d.key;null!==u;){if(u.key===p){if((p=d.type)===Qr){if(7===u.tag){i(t,u.sibling),(h=s(u,d.props.children)).return=t,t=h;break e}}else if(u.elementType===p||"object"===typeof p&&null!==p&&p.$$typeof===ia&&_e(p)===u.type){i(t,u.sibling),we(h=s(u,d.props),d),h.return=t,t=h;break e}i(t,u);break}n(t,u),u=u.sibling}d.type===Qr?((h=Pr(d.props.children,t.mode,h,d.key)).return=t,t=h):(we(h=Cr(d.type,d.key,d.props,null,t.mode,h),d),h.return=t,t=h)}return c(t);case Wr:e:{for(p=d.key;null!==u;){if(u.key===p){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){i(t,u.sibling),(h=s(u,d.children||[])).return=t,t=h;break e}i(t,u);break}n(t,u),u=u.sibling}(h=Dr(d,t.mode,h)).return=t,t=h}return c(t);case ia:return g(t,u,d=(p=d._init)(d._payload),h)}if(ha(d))return function(t,r,a,s){for(var c=null,u=null,d=r,h=r=0,p=null;null!==d&&h<a.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var g=f(t,d,a[h],s);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&n(t,d),r=l(g,r,h),null===u?c=g:u.sibling=g,u=g,d=p}if(h===a.length)return i(t,d),tl&&D(t,h),c;if(null===d){for(;h<a.length;h++)null!==(d=m(t,a[h],s))&&(r=l(d,r,h),null===u?c=d:u.sibling=d,u=d);return tl&&D(t,h),c}for(d=o(d);h<a.length;h++)null!==(p=A(d,t,h,a[h],s))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),r=l(p,r,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return n(t,e)}),tl&&D(t,h),c}(t,u,d,h);if(a(d)){if("function"!==typeof(p=a(d)))throw Error(r(150));return function(t,a,s,c){if(null==s)throw Error(r(151));for(var u=null,d=null,h=a,p=a=0,g=null,v=s.next();null!==h&&!v.done;p++,v=s.next()){h.index>p?(g=h,h=null):g=h.sibling;var y=f(t,h,v.value,c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&n(t,h),a=l(y,a,p),null===d?u=y:d.sibling=y,d=y,h=g}if(v.done)return i(t,h),tl&&D(t,p),u;if(null===h){for(;!v.done;p++,v=s.next())null!==(v=m(t,v.value,c))&&(a=l(v,a,p),null===d?u=v:d.sibling=v,d=v);return tl&&D(t,p),u}for(h=o(h);!v.done;p++,v=s.next())null!==(v=A(h,t,p,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?p:v.key),a=l(v,a,p),null===d?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return n(t,e)}),tl&&D(t,p),u}(t,u,d=p.call(d),h)}if("function"===typeof d.then)return g(t,u,xe(d),h);if(d.$$typeof===Jr)return g(t,u,In(t,d),h);Te(t,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==u&&6===u.tag?(i(t,u.sibling),(h=s(u,d)).return=t,t=h):(i(t,u),(h=Rr(d,t.mode,h)).return=t,t=h),c(t)):i(t,u)}return function(e,n,i,r){try{Ml=0;var a=g(e,n,i,r);return Sl=null,a}catch(s){if(s===xl)throw s;var o=t(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}function Me(e,t){v(Nl,e=Fc),v(Pl,t),Fc=e|t.baseLanes}function Ee(){v(Nl,Fc),v(Pl,Pl.current)}function Ce(){Fc=Nl.current,g(Pl),g(Nl)}function Pe(e){var t=e.alternate;v(Il,1&Il.current),v(Rl,e),null===Dl&&(null===t||null!==Pl.current||null!==t.memoizedState)&&(Dl=e)}function Ne(e){if(22===e.tag){if(v(Il,Il.current),v(Rl,e),null===Dl){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Dl=e)}}else Re()}function Re(){v(Il,Il.current),v(Rl,Rl.current)}function De(e){g(Rl),Dl===e&&(Dl=null),g(Il)}function Ie(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Eo(n)||Co(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Le(){throw Error(r(321))}function ke(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Os(e[n],t[n]))return!1;return!0}function Be(e,t,n,i,r,a){return Ll=a,kl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.H=null===e||null===e.memoizedState?Ql:Yl,Vl=!1,a=n(i,r),Vl=!1,Ul&&(a=Oe(t,n,i,r)),Fe(e),a}function Fe(e){ua.H=Wl;var t=null!==Bl&&null!==Bl.next;if(Ll=0,Fl=Bl=kl=null,Ol=!1,zl=0,ql=null,t)throw Error(r(300));null===e||$l||null!==(e=e.dependencies)&&Nn(e)&&($l=!0)}function Oe(e,t,n,i){kl=e;var a=0;do{if(Ul&&(ql=null),zl=0,Ul=!1,25<=a)throw Error(r(301));if(a+=1,Fl=Bl=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}ua.H=Xl,o=t(n,i)}while(Ul);return o}function Ue(){var e=ua.H,t=e.useState()[0];return t="function"===typeof t.then?He(t):t,e=e.useState()[0],(null!==Bl?Bl.memoizedState:null)!==e&&(kl.flags|=1024),t}function Ve(){var e=0!==jl;return jl=0,e}function je(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ze(e){if(Ol){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ol=!1}Ll=0,Fl=Bl=kl=null,Ul=!1,zl=jl=0,ql=null}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fl?kl.memoizedState=Fl=e:Fl=Fl.next=e,Fl}function Ge(){if(null===Bl){var e=kl.alternate;e=null!==e?e.memoizedState:null}else e=Bl.next;var t=null===Fl?kl.memoizedState:Fl.next;if(null!==t)Fl=t,Bl=e;else{if(null===e){if(null===kl.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Bl=e).memoizedState,baseState:Bl.baseState,baseQueue:Bl.baseQueue,queue:Bl.queue,next:null},null===Fl?kl.memoizedState=Fl=e:Fl=Fl.next=e}return Fl}function He(e){var t=zl;return zl+=1,null===ql&&(ql=[]),e=ye(ql,e,t),t=kl,null===(null===Fl?t.memoizedState:Fl.next)&&(t=t.alternate,ua.H=null===t||null===t.memoizedState?Ql:Yl),e}function We(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return He(e);if(e.$$typeof===Jr)return Dn(e)}throw Error(r(438,String(e)))}function Qe(e){var t=null,n=kl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=kl.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n=Hl(),kl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=sa;return t.index++,n}function Ye(e,t){return"function"===typeof t?t(e):t}function Xe(e){return Ke(Ge(),Bl,e)}function Ke(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(Rc&h)===h:(Ll&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Al&&(d=!0);else{if((Ll&p)===p){u=u.next,p===Al&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,kl.lanes|=p,Uc|=p}h=u.action,Vl&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=o):c=c.next=p,kl.lanes|=h,Uc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Os(o,e.memoizedState)&&($l=!0,d&&null!==(n=gl)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,i.lastRenderedState=o}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ze(e){var t=Ge(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Os(o,t.memoizedState)||($l=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Je(e,t,n){var i=kl,a=Ge(),o=tl;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!Os((Bl||a).memoizedState,n);if(s&&(a.memoizedState=n,$l=!0),a=a.queue,Tt(tt.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||null!==Fl&&1&Fl.memoizedState.tag){if(i.flags|=2048,vt(9,et.bind(null,i,a,n,t),{destroy:void 0},null),null===Pc)throw Error(r(349));o||0!==(60&Ll)||$e(i,t,n)}return n}function $e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=kl.updateQueue)?(t=Hl(),kl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function et(e,t,n,i){t.value=n,t.getSnapshot=i,nt(t)&&it(e)}function tt(e,t,n){return n(function(){nt(t)&&it(e)})}function nt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Os(e,n)}catch(i){return!0}}function it(e){var t=X(e,2);null!==t&&Wi(t,e,2)}function rt(e){var t=qe();if("function"===typeof e){var n=e;if(e=n(),Vl){N(!0);try{n()}finally{N(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:e},t}function at(e,t,n,i){return e.baseState=n,Ke(e,Bl,"function"===typeof i?i:Ye)}function ot(e,t,n,i,a){if(qt(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==ua.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,st(t,o)):(o.next=n.next,t.pending=n.next=o)}}function st(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=ua.T,o={};ua.T=o;try{var s=n(r,i),l=ua.S;null!==l&&l(o,s),lt(e,t,s)}catch(c){ut(e,t,c)}finally{ua.T=a}}else try{lt(e,t,a=n(r,i))}catch(u){ut(e,t,u)}}function lt(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ct(e,t,n)},function(n){return ut(e,t,n)}):ct(e,t,n)}function ct(e,t,n){t.status="fulfilled",t.value=n,dt(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,st(e,n)))}function ut(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,dt(t),t=t.next}while(t!==i)}e.action=null}function dt(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ht(e,t){return t}function pt(e,t){if(tl){var n=Pc.formState;if(null!==n){e:{var i=kl;if(tl){if(el){var r=Ro(el,il);if(r){el=Io(r),i=Do(r);break e}}V(i)}i=!1}i&&(t=n[0])}}(n=qe()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ht,lastRenderedState:t},n.queue=i,n=Vt.bind(null,kl,i),i.dispatch=n,i=rt(!1);var a=zt.bind(null,kl,!1,i.queue);return r={state:t,dispatch:null,action:e,pending:null},(i=qe()).queue=r,n=ot.bind(null,kl,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function mt(e){return ft(Ge(),Bl,e)}function ft(e,t,n){t=Ke(e,t,ht)[0],e=Xe(Ye)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?He(t):t;var i=Ge(),r=i.queue,a=r.dispatch;return n!==i.memoizedState&&(kl.flags|=2048,vt(9,At.bind(null,r,n),{destroy:void 0},null)),[t,a,e]}function At(e,t){e.action=t}function gt(e){var t=Ge(),n=Bl;if(null!==n)return ft(t,n,e);Ge(),t=t.memoizedState;var i=(n=Ge()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function vt(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},null===(t=kl.updateQueue)&&(t=Hl(),kl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function yt(){return Ge().memoizedState}function bt(e,t,n,i){var r=qe();kl.flags|=e,r.memoizedState=vt(1|t,n,{destroy:void 0},void 0===i?null:i)}function xt(e,t,n,i){var r=Ge();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==Bl&&null!==i&&ke(i,Bl.memoizedState.deps)?r.memoizedState=vt(t,n,a,i):(kl.flags|=e,r.memoizedState=vt(1|t,n,a,i))}function wt(e,t){bt(8390656,8,e,t)}function Tt(e,t){xt(2048,8,e,t)}function _t(e,t){return xt(4,2,e,t)}function St(e,t){return xt(4,4,e,t)}function Mt(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Et(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,xt(4,4,Mt.bind(null,t,e),n)}function Ct(){}function Pt(e,t){var n=Ge();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&ke(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Nt(e,t){var n=Ge();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&ke(t,i[1]))return i[0];if(i=e(),Vl){N(!0);try{e()}finally{N(!1)}}return n.memoizedState=[i,t],i}function Rt(e,t,n){return void 0===n||0!==(1073741824&Ll)?e.memoizedState=t:(e.memoizedState=n,e=Hi(),kl.lanes|=e,Uc|=e,n)}function Dt(e,t,n,i){return Os(n,t)?n:null!==Pl.current?(e=Rt(e,n,i),Os(e,t)||($l=!0),e):0===(42&Ll)?($l=!0,e.memoizedState=n):(e=Hi(),kl.lanes|=e,Uc|=e,t)}function It(e,t,n,i,r){var a=Ba();ka(0!==a&&8>a?a:8);var o=ua.T,s={};ua.T=s,zt(e,!1,t,n);try{var l=r(),c=ua.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)jt(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Gi());else jt(e,t,i,Gi())}catch(u){jt(e,t,{then:function(){},status:"rejected",reason:u},Gi())}finally{ka(a),ua.T=o}}function Lt(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:Ha,baseState:Ha,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:Ha},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function kt(){return Dn(Wa)}function Bt(){return Ge().memoizedState}function Ft(){return Ge().memoizedState}function Ot(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gi(),i=ce(t,e=le(n),n);return null!==i&&(Wi(i,t,n),ue(i,t,n)),t={cache:kn()},void(e.payload=t)}t=t.return}}function Ut(e,t,n){var i=Gi();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qt(e)?Gt(t,n):null!==(n=Y(e,t,n,i))&&(Wi(n,e,i),Ht(n,t,i))}function Vt(e,t,n){jt(e,t,n,Gi())}function jt(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qt(e))Gt(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,Os(s,o))return Q(e,t,r,0),null===Pc&&W(),!1}catch(l){}if(null!==(n=Y(e,t,r,i)))return Wi(n,e,i),Ht(n,t,i),!0}return!1}function zt(e,t,n,i){if(i={lane:2,revertLane:re(),action:i,hasEagerState:!1,eagerState:null,next:null},qt(e)){if(t)throw Error(r(479))}else null!==(t=Y(e,n,i,2))&&Wi(t,e,2)}function qt(e){var t=e.alternate;return e===kl||null!==t&&t===kl}function Gt(e,t){Ul=Ol=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ht(e,t,n){if(0!==(4194176&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,C(e,n)}}function Wt(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:qr({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function Qt(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ae(n,i)||!Ae(r,a))}function Yt(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function Xt(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=qr({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Kt(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Zt(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Jt(e,t,n){return(n=le(n)).tag=3,n.payload={element:null},n.callback=function(){Kt(e,t)},n}function $t(e){return(e=le(e)).tag=3,e}function en(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Zt(t,n,i)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Zt(t,n,i),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}function tn(e,t,n,i){t.child=null===e?Cl(t,null,n,i):El(t,e.child,n,i)}function nn(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var o={};for(var s in i)"ref"!==s&&(o[s]=i[s])}else o=i;return Rn(t),i=Be(e,t,n,o,a,r),s=Ve(),null===e||$l?(tl&&s&&L(t),t.flags|=1,tn(e,t,i,r),t.child):(je(e,t,r),wn(e,t,r))}function rn(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Sr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Cr(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,an(e,t,a,i,r))}if(a=e.child,!Tn(e,r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Ae)(o,i)&&e.ref===t.ref)return wn(e,t,r)}return t.flags|=1,(e=Mr(a,i)).ref=t.ref,e.return=t,t.child=e}function an(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(Ae(a,i)&&e.ref===t.ref){if($l=!1,t.pendingProps=i=a,!Tn(e,r))return t.lanes=e.lanes,wn(e,t,r);0!==(131072&e.flags)&&($l=!0)}}return cn(e,t,n,i,r)}function on(e,t,n){var i=t.pendingProps,r=i.children,a=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(ln(e,t),"hidden"===i.mode||a){if(0!==(128&t.flags)){if(i=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return sn(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,sn(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&On(t,null!==o?o.cachePool:null),null!==o?Me(t,o):Ee(),Ne(t)}else null!==o?(On(t,o.cachePool),Me(t,o),Re(),t.memoizedState=null):(null!==e&&On(t,null),Ee(),Re());return tn(e,t,r,n),t.child}function sn(e,t,n,i){var r=Fn();return r=null===r?null:{parent:Pa?sc._currentValue:sc._currentValue2,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&On(t,null),Ee(),Ne(t),null!==e&&Pn(e,t,i,!0),null}function ln(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function cn(e,t,n,i,r){return Rn(t),n=Be(e,t,n,i,void 0,r),i=Ve(),null===e||$l?(tl&&i&&L(t),t.flags|=1,tn(e,t,n,r),t.child):(je(e,t,r),wn(e,t,r))}function un(e,t,n,i,r,a){return Rn(t),t.updateQueue=null,n=Oe(t,i,n,r),Fe(e),i=Ve(),null===e||$l?(tl&&i&&L(t),t.flags|=1,tn(e,t,n,a),t.child):(je(e,t,a),wn(e,t,a))}function dn(e,t,n,i,r){if(Rn(t),null===t.stateNode){var a=ys,o=n.contextType;"object"===typeof o&&null!==o&&(a=Dn(o)),a=new n(i,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Kl,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},oe(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Dn(o):ys,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(Wt(t,n,o,i),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Kl.enqueueReplaceState(a,a.state,null),pe(t,i,a,r),he(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Xt(n,s);a.props=l;var c=a.context,u=n.contextType;o=ys,"object"===typeof u&&null!==u&&(o=Dn(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&Yt(t,a,i,o),vl=!1;var h=t.memoizedState;a.state=h,pe(t,i,a,r),he(),c=t.memoizedState,s||h!==c||vl?("function"===typeof d&&(Wt(t,n,d,i),c=t.memoizedState),(l=vl||Qt(t,n,l,i,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=o,i=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,se(e,t),u=Xt(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=ys,"object"===typeof c&&null!==c&&(l=Dn(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Yt(t,a,i,l),vl=!1,h=t.memoizedState,a.state=h,pe(t,i,a,r),he();var p=t.memoizedState;o!==d||h!==p||vl||null!==e&&null!==e.dependencies&&Nn(e.dependencies)?("function"===typeof s&&(Wt(t,n,s,i),p=t.memoizedState),(u=vl||Qt(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&Nn(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,ln(e,t),i=0!==(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=El(t,e.child,null,r),t.child=El(t,null,n,r)):tn(e,t,n,r),t.memoizedState=a.state,e=t.child):e=wn(e,t,r),e}function hn(e,t,n,i){return G(),t.flags|=256,tn(e,t,n,i),t.child}function pn(e){return{baseLanes:e,cachePool:Un()}}function mn(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=zc),e}function fn(e,n,i){var a,o=n.pendingProps,s=!1,l=0!==(128&n.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&Il.current)),a&&(s=!0,n.flags&=-129),a=0!==(32&n.flags),n.flags&=-33,null===e){if(tl){if(s?Pe(n):Re(),tl){var c,u=el;(c=u)&&(null!==(u=Uo(u,il))?(n.memoizedState={dehydrated:u,treeContext:null!==Ws?{id:Qs,overflow:Ys}:null,retryLane:536870912},(c=t(18,null,null,0)).stateNode=u,c.return=n,n.child=c,$s=n,el=null,c=!0):c=!1),c||V(n)}if(null!==(u=n.memoizedState)&&null!==(u=u.dehydrated))return Co(u)?n.lanes=16:n.lanes=536870912,null;De(n)}return u=o.children,o=o.fallback,s?(Re(),u=gn({mode:"hidden",children:u},s=n.mode),o=Pr(o,s,i,null),u.return=n,o.return=n,u.sibling=o,n.child=u,(s=n.child).memoizedState=pn(i),s.childLanes=mn(e,a,i),n.memoizedState=ec,o):(Pe(n),An(n,u))}if(null!==(c=e.memoizedState)&&null!==(u=c.dehydrated)){if(l)256&n.flags?(Pe(n),n.flags&=-257,n=vn(e,n,i)):null!==n.memoizedState?(Re(),n.child=e.child,n.flags|=128,n=null):(Re(),s=o.fallback,u=n.mode,o=gn({mode:"visible",children:o.children},u),(s=Pr(s,u,i,null)).flags|=2,o.return=n,s.return=n,o.sibling=s,n.child=o,El(n,e.child,null,i),(o=n.child).memoizedState=pn(i),o.childLanes=mn(e,a,i),n.memoizedState=ec,n=s);else if(Pe(n),Co(u))a=Po(u).digest,(o=Error(r(419))).stack="",o.digest=a,H({value:o,source:null,stack:null}),n=vn(e,n,i);else if($l||Pn(e,n,i,!1),a=0!==(i&e.childLanes),$l||a){if(null!==(a=Pc)){if(0!==(42&(o=i&-i)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(a.suspendedLanes|i))?0:o)&&o!==c.retryLane)throw c.retryLane=o,X(e,o),Wi(a,e,o),Jl}Eo(u)||ar(),n=vn(e,n,i)}else Eo(u)?(n.flags|=128,n.child=e.child,n=wr.bind(null,e),No(u,n),n=null):(e=c.treeContext,Da&&(el=Bo(u),$s=n,tl=!0,nl=null,il=!1,null!==e&&(Gs[Hs++]=Qs,Gs[Hs++]=Ys,Gs[Hs++]=Ws,Qs=e.id,Ys=e.overflow,Ws=n)),(n=An(n,o.children)).flags|=4096);return n}return s?(Re(),s=o.fallback,u=n.mode,l=(c=e.child).sibling,(o=Mr(c,{mode:"hidden",children:o.children})).subtreeFlags=31457280&c.subtreeFlags,null!==l?s=Mr(l,s):(s=Pr(s,u,i,null)).flags|=2,s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,null===(u=e.child.memoizedState)?u=pn(i):(null!==(c=u.cachePool)?(l=Pa?sc._currentValue:sc._currentValue2,c=c.parent!==l?{parent:l,pool:l}:c):c=Un(),u={baseLanes:u.baseLanes|i,cachePool:c}),s.memoizedState=u,s.childLanes=mn(e,a,i),n.memoizedState=ec,o):(Pe(n),e=(i=e.child).sibling,(i=Mr(i,{mode:"visible",children:o.children})).return=n,i.sibling=null,null!==e&&(null===(a=n.deletions)?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=i,n.memoizedState=null,i)}function An(e,t){return(t=gn({mode:"visible",children:t},e.mode)).return=e,e.child=t}function gn(e,t){return Nr(e,t,0,null)}function vn(e,t,n){return El(t,e.child,null,n),(e=An(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function yn(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),En(e.return,t,n)}function bn(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function xn(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(tn(e,t,i.children,n),0!==(2&(i=Il.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&yn(e,n,t);else if(19===e.tag)yn(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(v(Il,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ie(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),bn(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ie(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}bn(t,!0,n,null,a);break;case"together":bn(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wn(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pn(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Tn(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Nn(e))}function _n(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$l=!0;else{if(!Tn(e,n)&&0===(128&t.flags))return $l=!1,function(e,t,n){switch(t.tag){case 3:B(t,t.stateNode.containerInfo),Sn(t,sc,e.memoizedState.cache),G();break;case 27:case 5:O(t);break;case 4:B(t,t.stateNode.containerInfo);break;case 10:Sn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Pe(t),t.flags|=128,null):0!==(n&t.child.childLanes)?fn(e,t,n):(Pe(t),null!==(e=wn(e,t,n))?e.sibling:null);Pe(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Pn(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return xn(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),v(Il,Il.current),i)break;return null;case 22:case 23:return t.lanes=0,on(e,t,n);case 24:Sn(t,sc,e.memoizedState.cache)}return wn(e,t,n)}(e,t,n);$l=0!==(131072&e.flags)}else $l=!1,tl&&0!==(1048576&t.flags)&&I(t,qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((a=i.$$typeof)===$r){t.tag=11,t=nn(null,t,i,e,n);break e}if(a===na){t.tag=14,t=rn(null,t,i,e,n);break e}}throw t=o(i)||i,Error(r(306,t,""))}Sr(i)?(e=Xt(i,e),t.tag=1,t=dn(null,t,i,e,n)):(t.tag=0,t=cn(null,t,i,e,n))}return t;case 0:return cn(e,t,t.type,t.pendingProps,n);case 1:return dn(e,t,i=t.type,a=Xt(i,t.pendingProps),n);case 3:e:{if(B(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var s=t.pendingProps;i=(a=t.memoizedState).element,se(e,t),pe(t,s,null,n);var l=t.memoizedState;if(s=l.cache,Sn(t,sc,s),s!==a.cache&&Cn(t,[sc],n,!0),he(),s=l.element,Da&&a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=hn(e,t,s,n);break e}if(s!==i){H(i=R(Error(r(424)),t)),t=hn(e,t,s,n);break e}for(Da&&(el=ko(t.stateNode.containerInfo),$s=t,tl=!0,nl=null,il=!0),n=Cl(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(G(),s===i){t=wn(e,t,n);break e}tn(e,t,s,n)}t=t.child}return t;case 26:if(Zo)return ln(e,t),null===e?(n=es(t.type,null,t.pendingProps,null))?t.memoizedState=n:tl||(t.stateNode=os(t.type,t.pendingProps,Zs.current,t)):t.memoizedState=es(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(ds)return O(t),null===e&&ds&&tl&&(i=t.stateNode=hs(t.type,t.pendingProps,Zs.current,Xs.current,!1),$s=t,il=!0,el=Lo(i)),i=t.pendingProps.children,null!==e||tl?tn(e,t,i,n):t.child=El(t,null,i,n),ln(e,t),t.child;case 5:return null===e&&tl&&(Xo(t.type,t.pendingProps,Xs.current),(a=i=el)&&(null!==(i=Fo(i,t.type,t.pendingProps,il))?(t.stateNode=i,$s=t,el=Lo(i),il=!1,a=!0):a=!1),a||V(t)),O(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,_a(a,s)?i=null:null!==l&&_a(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=Be(e,t,Ue,null,null,n),Pa?Wa._currentValue=a:Wa._currentValue2=a),ln(e,t),tn(e,t,i,n),t.child;case 6:return null===e&&tl&&(Ko(t.pendingProps,Xs.current),(e=n=el)&&(null!==(n=Oo(n,t.pendingProps,il))?(t.stateNode=n,$s=t,el=null,e=!0):e=!1),e||V(t)),null;case 13:return fn(e,t,n);case 4:return B(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=El(t,null,i,n):tn(e,t,i,n),t.child;case 11:return nn(e,t,t.type,t.pendingProps,n);case 7:return tn(e,t,t.pendingProps,n),t.child;case 8:case 12:return tn(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Sn(t,t.type,i.value),tn(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Rn(t),i=i(a=Dn(a)),t.flags|=1,tn(e,t,i,n),t.child;case 14:return rn(e,t,t.type,t.pendingProps,n);case 15:return an(e,t,t.type,t.pendingProps,n);case 19:return xn(e,t,n);case 22:return on(e,t,n);case 24:return Rn(t),i=Dn(sc),null===e?(null===(a=Fn())&&(a=Pc,s=kn(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},oe(t),Sn(t,sc,a)):(0!==(e.lanes&n)&&(se(e,t),pe(t,null,null,n),he()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Sn(t,sc,i)):(i=s.cache,Sn(t,sc,i),i!==a.cache&&Cn(t,[sc],n,!0))),tn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Sn(e,t,n){Pa?(v(tc,t._currentValue),t._currentValue=n):(v(tc,t._currentValue2),t._currentValue2=n)}function Mn(e){var t=tc.current;Pa?e._currentValue=t:e._currentValue2=t,g(tc)}function En(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Cn(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),En(o.return,n,e),i||(s=null);break e}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(r(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),En(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Pn(e,t,n,i){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=a.type;Os(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===Js.current){if(null===(s=a.alternate))throw Error(r(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Wa):e=[Wa])}a=a.return}null!==e&&Cn(t,e,n,i),t.flags|=262144}function Nn(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!Os(Pa?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function Rn(e){nc=e,ic=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Dn(e){return Ln(nc,e)}function In(e,t){return null===nc&&Rn(e),Ln(e,t)}function Ln(e,t){var n=Pa?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===ic){if(null===e)throw Error(r(308));ic=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ic=ic.next=t;return n}function kn(){return{controller:new rc,data:new Map,refCount:0}}function Bn(e){e.refCount--,0===e.refCount&&ac(oc,function(){e.controller.abort()})}function Fn(){var e=cc.current;return null!==e?e:Pc.pooledCache}function On(e,t){v(cc,null===t?cc.current:t.pool)}function Un(){var e=Fn();return null===e?null:{parent:Pa?sc._currentValue:sc._currentValue2,pool:e}}function Vn(e){e.flags|=4}function jn(e,t){if(null!==e&&e.child===t.child)return!1;if(0!==(16&t.flags))return!0;for(e=t.child;null!==e;){if(0!==(13878&e.flags)||0!==(13878&e.subtreeFlags))return!0;e=e.sibling}return!1}function zn(e,t,n,i){if(Na)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)wa(e,n.stateNode);else if(!(4===n.tag||ds&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(Ra)for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=So(a,r.type,r.memoizedProps)),wa(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=Mo(a,r.memoizedProps)),wa(e,a);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),zn(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function qn(e,t,n,i){if(Ra)for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=So(a,r.type,r.memoizedProps)),wo(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=Mo(a,r.memoizedProps)),wo(e,a);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),qn(e,r,!(null!==r.memoizedProps&&"manual"===r.memoizedProps.mode),!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Gn(e,t){if(Ra&&jn(e,t)){var n=(e=t.stateNode).containerInfo,i=xo();qn(i,t,!1,!1),e.pendingChildren=i,Vn(t),To(n,i)}}function Hn(e,t,n,i){if(Na)e.memoizedProps!==i&&Vn(t);else if(Ra){var r=e.stateNode,a=e.memoizedProps;if((e=jn(e,t))||a!==i){var o=Xs.current;(a=bo(r,n,a,i,!e,null))===r?t.stateNode=r:(Ta(a,n,i,o)&&Vn(t),t.stateNode=a,e?zn(a,t,!1,!1):Vn(t))}else t.stateNode=r}}function Wn(e,t,n){if(Va(t,n)){if(e.flags|=16777216,!ja(t,n)){if(!nr())throw _l=Tl,wl;e.flags|=8192}}else e.flags&=-16777217}function Qn(e,t){if(ls(t)){if(e.flags|=16777216,!cs(t)){if(!nr())throw _l=Tl,wl;e.flags|=8192}}else e.flags&=-16777217}function Yn(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_():536870912,e.lanes|=t,qc|=t)}function Xn(e,t){if(!tl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Kn(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=31457280&r.subtreeFlags,i|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Zn(e,t,n){var i=t.pendingProps;switch(k(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Kn(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Mn(sc),F(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(q(t)?Vn(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==nl&&(Yi(nl),nl=null))),Gn(e,t),Kn(t),null;case 26:if(Zo){n=t.type;var a=t.memoizedState;return null===e?(Vn(t),null!==a?(Kn(t),Qn(t,a)):(Kn(t),Wn(t,n,i))):a?a!==e.memoizedState?(Vn(t),Kn(t),Qn(t,a)):(Kn(t),t.flags&=-16777217):(Na?e.memoizedProps!==i&&Vn(t):Hn(e,t,n,i),Kn(t),Wn(t,n,i)),null}case 27:if(ds){if(U(t),n=Zs.current,a=t.type,null!==e&&null!=t.stateNode)Na?e.memoizedProps!==i&&Vn(t):Hn(e,t,a,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Kn(t),null}e=Xs.current,q(t)?j(t,e):(e=hs(a,i,n,e,!0),t.stateNode=e,Vn(t))}return Kn(t),null}case 5:if(U(t),n=t.type,null!==e&&null!=t.stateNode)Hn(e,t,n,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Kn(t),null}e=Xs.current,q(t)?j(t,e):(zn(a=xa(n,i,Zs.current,e,t),t,!1,!1),t.stateNode=a,Ta(a,n,i,e)&&Vn(t))}return Kn(t),Wn(t,t.type,t.pendingProps),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,Na?n!==i&&Vn(t):Ra&&(n!==i?(t.stateNode=Sa(i,Zs.current,Xs.current,t),Vn(t)):t.stateNode=e.stateNode);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));if(e=Zs.current,n=Xs.current,q(t)){if(!Da)throw Error(r(176));if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=$s))switch(a.tag){case 27:case 5:i=a.memoizedProps}jo(e,n,t,i)||V(t)}else t.stateNode=Sa(i,e,n,t)}return Kn(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=q(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!Da)throw Error(r(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));zo(a,t)}else G(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kn(t),a=!1}else null!==nl&&(Yi(nl),nl=null),a=!0;if(!a)return 256&t.flags?(De(t),t):(De(t),null)}if(De(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yn(t,t.updateQueue),Kn(t),null;case 4:return F(),Gn(e,t),null===e&&La(t.stateNode.containerInfo),Kn(t),null;case 10:return Mn(t.type),Kn(t),null;case 19:if(g(Il),null===(a=t.memoizedState))return Kn(t),null;if(i=0!==(128&t.flags),null===(o=a.rendering))if(i)Xn(a,!1);else{if(0!==Oc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Ie(e))){for(t.flags|=128,Xn(a,!1),e=o.updateQueue,t.updateQueue=e,Yn(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Er(n,e),n=n.sibling;return v(Il,1&Il.current|2),t.child}e=e.sibling}null!==a.tail&&Ps()>Yc&&(t.flags|=128,i=!0,Xn(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Ie(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Yn(t,e),Xn(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!tl)return Kn(t),null}else 2*Ps()-a.renderingStartTime>Yc&&536870912!==n&&(t.flags|=128,i=!0,Xn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ps(),t.sibling=null,e=Il.current,v(Il,i?1&e|2:1&e),t):(Kn(t),null);case 22:case 23:return De(t),Ce(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(Kn(t),6&t.subtreeFlags&&(t.flags|=8192)):Kn(t),null!==(n=t.updateQueue)&&Yn(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&g(cc),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mn(sc),Kn(t),null;case 25:return null}throw Error(r(156,t.tag))}function Jn(e,t){switch(k(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Mn(sc),F(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return U(t),null;case 13:if(De(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));G()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return g(Il),null;case 4:return F(),null;case 10:return Mn(t.type),null;case 22:case 23:return De(t),Ce(),null!==e&&g(cc),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Mn(sc),null;default:return null}}function $n(e,t){switch(k(t),t.tag){case 3:Mn(sc),F();break;case 26:case 27:case 5:U(t);break;case 4:F();break;case 13:De(t);break;case 19:g(Il);break;case 10:Mn(t.type);break;case 22:case 23:De(t),Ce(),null!==e&&g(cc);break;case 24:Mn(sc)}}function ei(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,o=n.inst;i=a(),o.destroy=i}n=n.next}while(n!==r)}}catch(s){vr(t,t.return,s)}}function ti(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var o=i.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,r=t;var l=n;try{s()}catch(c){vr(r,l,c)}}}i=i.next}while(i!==a)}}catch(c){vr(t,t.return,c)}}function ni(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fe(t,n)}catch(i){vr(e,e.return,i)}}}function ii(e,t,n){n.props=Xt(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){vr(e,t,i)}}function ri(e,t){try{var n=e.ref;if(null!==n){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=Aa(i);break;default:r=i}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){vr(e,t,a)}}function ai(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){vr(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){vr(e,t,a)}else n.current=null}function oi(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{so(i,t,n,e)}catch(r){vr(e,e.return,r)}}function si(e,t,n){try{lo(e.stateNode,e.type,n,t,e)}catch(i){vr(e,e.return,i)}}function li(e){return 5===e.tag||3===e.tag||!!Zo&&26===e.tag||!!ds&&27===e.tag||4===e.tag}function ci(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||li(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&(!ds||27!==e.tag)&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ui(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?uo(n,e,t):ao(n,e);else if(!(4===i||ds&&27===i)&&null!==(e=e.child))for(ui(e,t,n),e=e.sibling;null!==e;)ui(e,t,n),e=e.sibling}function di(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?co(n,e,t):ro(n,e);else if(!(4===i||ds&&27===i)&&null!==(e=e.child))for(di(e,t,n),e=e.sibling;null!==e;)di(e,t,n),e=e.sibling}function hi(e,t,n){e=e.containerInfo;try{_o(e,n)}catch(i){vr(t,t.return,i)}}function pi(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ti(e,n),4&i&&ei(5,n);break;case 1:if(Ti(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){vr(n,n.return,s)}else{var r=Xt(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){vr(n,n.return,l)}}64&i&&ni(n),512&i&&ri(n,n.return);break;case 3:if(Ti(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=Aa(n.child.stateNode);break;case 1:e=n.child.stateNode}try{fe(i,e)}catch(s){vr(n,n.return,s)}}break;case 26:if(Zo){Ti(e,n),512&i&&ri(n,n.return);break}case 27:case 5:Ti(e,n),null===t&&4&i&&oi(n),512&i&&ri(n,n.return);break;case 12:Ti(e,n);break;case 13:Ti(e,n),4&i&&gi(e,n);break;case 22:if(!(r=null!==n.memoizedState||uc)){t=null!==t&&null!==t.memoizedState||dc;var a=uc,o=dc;uc=r,(dc=t)&&!o?Si(e,n,0!==(8772&n.subtreeFlags)):Ti(e,n),uc=a,dc=o}512&i&&("manual"===n.memoizedProps.mode?ri(n,n.return):ai(n,n.return));break;default:Ti(e,n)}}function mi(e){var t=e.alternate;null!==t&&(e.alternate=null,mi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ua(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fi(e,t,n){for(n=n.child;null!==n;)Ai(e,t,n),n=n.sibling}function Ai(e,t,n){if(Fs&&"function"===typeof Fs.onCommitFiberUnmount)try{Fs.onCommitFiberUnmount(Bs,n)}catch(a){}switch(n.tag){case 26:if(Zo){dc||ai(n,t),fi(e,t,n),n.memoizedState?ns(n.memoizedState):n.stateNode&&as(n.stateNode);break}case 27:if(ds){dc||ai(n,t);var i=Ac,r=gc;Ac=n.stateNode,fi(e,t,n),fs(n.stateNode),Ac=i,gc=r;break}case 5:dc||ai(n,t);case 6:if(Na){if(i=Ac,r=gc,Ac=null,fi(e,t,n),gc=r,null!==(Ac=i))if(gc)try{po(Ac,n.stateNode)}catch(o){vr(n,t,o)}else try{ho(Ac,n.stateNode)}catch(o){vr(n,t,o)}}else fi(e,t,n);break;case 18:Na&&null!==Ac&&(gc?Qo(Ac,n.stateNode):Wo(Ac,n.stateNode));break;case 4:Na?(i=Ac,r=gc,Ac=n.stateNode.containerInfo,gc=!0,fi(e,t,n),Ac=i,gc=r):(Ra&&hi(n.stateNode,n,xo()),fi(e,t,n));break;case 0:case 11:case 14:case 15:dc||ti(2,n,t),dc||ti(4,n,t),fi(e,t,n);break;case 1:dc||(ai(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&ii(n,t,i)),fi(e,t,n);break;case 21:fi(e,t,n);break;case 22:dc||ai(n,t),dc=(i=dc)||null!==n.memoizedState,fi(e,t,n),dc=i;break;default:fi(e,t,n)}}function gi(e,t){if(Da&&null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ho(e)}catch(n){vr(t,t.return,n)}}function vi(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new pc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new pc),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var i=Tr.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function yi(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],o=e,s=t;if(Na){var l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:Ac=l.stateNode,gc=!1;break e;case 3:case 4:Ac=l.stateNode.containerInfo,gc=!0;break e}l=l.return}if(null===Ac)throw Error(r(160));Ai(o,s,a),Ac=null,gc=!1}else Ai(o,s,a);null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)bi(t,e),t=t.sibling}function bi(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yi(t,e),xi(e),4&i&&(ti(3,e,e.return),ei(3,e),ti(5,e,e.return));break;case 1:yi(t,e),xi(e),512&i&&(dc||null===n||ai(n,n.return)),64&i&&uc&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:if(Zo){var a=vc;yi(t,e),xi(e),512&i&&(dc||null===n||ai(n,n.return)),4&i&&(i=null!==n?n.memoizedState:null,t=e.memoizedState,null===n?null===t?null===e.stateNode?e.stateNode=is(a,e.type,e.memoizedProps,e):rs(a,e.type,e.stateNode):e.stateNode=ts(a,t,e.memoizedProps):i!==t?(null===i?null!==n.stateNode&&as(n.stateNode):ns(i),null===t?rs(a,e.type,e.stateNode):ts(a,t,e.memoizedProps)):null===t&&null!==e.stateNode&&si(e,e.memoizedProps,n.memoizedProps));break}case 27:if(ds&&4&i&&null===e.alternate){a=e.stateNode;var o=e.memoizedProps;try{ps(a),ms(e.type,o,a,e)}catch(d){vr(e,e.return,d)}}case 5:if(yi(t,e),xi(e),512&i&&(dc||null===n||ai(n,n.return)),Na){if(32&e.flags){t=e.stateNode;try{mo(t)}catch(d){vr(e,e.return,d)}}4&i&&null!=e.stateNode&&si(e,t=e.memoizedProps,null!==n?n.memoizedProps:t),1024&i&&(hc=!0)}break;case 6:if(yi(t,e),xi(e),4&i&&Na){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=null!==n?n.memoizedProps:i,t=e.stateNode;try{oo(t,n,i)}catch(d){vr(e,e.return,d)}}break;case 3:if(Zo?(ss(),a=vc,vc=$o(t.containerInfo),yi(t,e),vc=a):yi(t,e),xi(e),4&i){if(Na&&Da&&null!==n&&n.memoizedState.isDehydrated)try{Go(t.containerInfo)}catch(d){vr(e,e.return,d)}if(Ra){i=t.containerInfo,n=t.pendingChildren;try{_o(i,n)}catch(d){vr(e,e.return,d)}}}hc&&(hc=!1,wi(e));break;case 4:Zo?(n=vc,vc=$o(e.stateNode.containerInfo),yi(t,e),xi(e),vc=n):(yi(t,e),xi(e)),4&i&&Ra&&hi(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:yi(t,e),xi(e);break;case 13:yi(t,e),xi(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Qc=Ps()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,vi(e,i)));break;case 22:512&i&&(dc||null===n||ai(n,n.return)),a=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,l=uc,c=dc;if(uc=l||a,dc=c||s,yi(t,e),dc=c,uc=l,xi(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=a?-2&t._visibility:1|t._visibility,a&&(t=uc||dc,null===n||s||t||_i(e)),Na&&(null===e.memoizedProps||"manual"!==e.memoizedProps.mode)))e:if(n=null,Na)for(t=e;;){if(5===t.tag||Zo&&26===t.tag||ds&&27===t.tag){if(null===n){s=n=t;try{o=s.stateNode,a?fo(o):go(s.stateNode,s.memoizedProps)}catch(d){vr(s,s.return,d)}}}else if(6===t.tag){if(null===n){s=t;try{var u=s.stateNode;a?Ao(u):vo(u,s.memoizedProps)}catch(d){vr(s,s.return,d)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,vi(e,n))));break;case 19:yi(t,e),xi(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,vi(e,i)));break;case 21:break;default:yi(t,e),xi(e)}}function xi(e){var t=e.flags;if(2&t){try{if(Na&&(!ds||27!==e.tag)){e:{for(var n=e.return;null!==n;){if(li(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 27:if(ds){var a=i.stateNode;di(e,ci(e),a);break}case 5:var o=i.stateNode;32&i.flags&&(mo(o),i.flags&=-33),di(e,ci(e),o);break;case 3:case 4:var s=i.stateNode.containerInfo;ui(e,ci(e),s);break;default:throw Error(r(161))}}}catch(l){vr(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;wi(t),5===t.tag&&1024&t.flags&&Qa(t.stateNode),e=e.sibling}}function Ti(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)pi(e,t.alternate,t),t=t.sibling}function _i(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ti(4,t,t.return),_i(t);break;case 1:ai(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ii(t,t.return,n),_i(t);break;case 26:case 27:case 5:ai(t,t.return),_i(t);break;case 22:ai(t,t.return),null===t.memoizedState&&_i(t);break;default:_i(t)}e=e.sibling}}function Si(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Si(r,a,n),ei(4,a);break;case 1:if(Si(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){vr(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var s=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)me(l[r],s)}catch(c){vr(i,i.return,c)}}n&&64&o&&ni(a),ri(a,a.return);break;case 26:case 27:case 5:Si(r,a,n),n&&null===i&&4&o&&oi(a),ri(a,a.return);break;case 12:default:Si(r,a,n);break;case 13:Si(r,a,n),n&&4&o&&gi(r,a);break;case 22:null===a.memoizedState&&Si(r,a,n),ri(a,a.return)}t=t.sibling}}function Mi(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bn(n))}function Ei(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bn(e))}function Ci(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Pi(e,t,n,i),t=t.sibling}function Pi(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ci(e,t,n,i),2048&r&&ei(9,t);break;case 3:Ci(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bn(e)));break;case 12:if(2048&r){Ci(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){vr(t,t.return,l)}}else Ci(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?Ci(e,t,n,i):Ri(e,t):4&a._visibility?Ci(e,t,n,i):(a._visibility|=4,Ni(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Mi(t.alternate,t);break;case 24:Ci(e,t,n,i),2048&r&&Ei(t.alternate,t);break;default:Ci(e,t,n,i)}}function Ni(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(a,o,s,l,r),ei(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?4&u._visibility?Ni(a,o,s,l,r):Ri(a,o):(u._visibility|=4,Ni(a,o,s,l,r)),r&&2048&c&&Mi(o.alternate,o);break;case 24:Ni(a,o,s,l,r),r&&2048&c&&Ei(o.alternate,o);break;default:Ni(a,o,s,l,r)}t=t.sibling}}function Ri(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Ri(n,i),2048&r&&Mi(i.alternate,i);break;case 24:Ri(n,i),2048&r&&Ei(i.alternate,i);break;default:Ri(n,i)}t=t.sibling}}function Di(e){if(e.subtreeFlags&yc)for(e=e.child;null!==e;)Ii(e),e=e.sibling}function Ii(e){switch(e.tag){case 26:Di(e),e.flags&yc&&(null!==e.memoizedState?us(vc,e.memoizedState,e.memoizedProps):qa(e.type,e.memoizedProps));break;case 5:Di(e),e.flags&yc&&qa(e.type,e.memoizedProps);break;case 3:case 4:if(Zo){var t=vc;vc=$o(e.stateNode.containerInfo),Di(e),vc=t}else Di(e);break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=yc,yc=16777216,Di(e),yc=t):Di(e));break;default:Di(e)}}function Li(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ki(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];mc=i,Oi(i,e)}Li(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Bi(e),e=e.sibling}function Bi(e){switch(e.tag){case 0:case 11:case 15:ki(e),2048&e.flags&&ti(9,e,e.return);break;case 3:case 12:default:ki(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Fi(e)):ki(e)}}function Fi(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];mc=i,Oi(i,e)}Li(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ti(8,t,t.return),Fi(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Fi(t));break;default:Fi(t)}e=e.sibling}}function Oi(e,t){for(;null!==mc;){var n=mc;switch(n.tag){case 0:case 11:case 15:ti(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Bn(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,mc=i;else e:for(n=e;null!==mc;){var r=(i=mc).sibling,a=i.return;if(mi(i),i===n){mc=null;break e}if(null!==r){r.return=a,mc=r;break e}mc=a}}}function Ui(e){var t=Ia(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(r(364));return t}if(null===(e=Za(e)))throw Error(r(362));return e.stateNode.current}function Vi(e,t){var n=e.tag;switch(t.$$typeof){case xc:if(e.type===t.value)return!0;break;case wc:e:{for(t=t.value,e=[e,0],n=0;n<e.length;){var i=e[n++],a=i.tag,o=e[n++],s=t[o];if(5!==a&&26!==a&&27!==a||!eo(i)){for(;null!=s&&Vi(i,s);)s=t[++o];if(o===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}t=!1}return t;case Tc:if((5===n||26===n||27===n)&&to(e.stateNode,t.value))return!0;break;case Sc:if((5===n||6===n||26===n||27===n)&&(null!==(e=$a(e))&&0<=e.indexOf(t.value)))return!0;break;case _c:if((5===n||26===n||27===n)&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ji(e){switch(e.$$typeof){case xc:return"<"+(o(e.value)||"Unknown")+">";case wc:return":has("+(ji(e)||"")+")";case Tc:return'[role="'+e.value+'"]';case Sc:return'"'+e.value+'"';case _c:return'[data-testname="'+e.value+'"]';default:throw Error(r(365))}}function zi(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],a=r.tag,o=e[i++],s=t[o];if(5!==a&&26!==a&&27!==a||!eo(r)){for(;null!=s&&Vi(r,s);)s=t[++o];if(o===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,o),r=r.sibling}}return n}function qi(e,t){if(!Ka)throw Error(r(363));e=zi(e=Ui(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++],a=i.tag;if(5===a||26===a||27===a)eo(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}function Gi(){if(0!==(2&Cc)&&0!==Rc)return Rc&-Rc;if(null!==ua.T){return 0!==Al?Al:re()}return Fa()}function Hi(){0===zc&&(zc=0===(536870912&Rc)||tl?T():536870912);var e=Rl.current;return null!==e&&(e.flags|=32),zc}function Wi(e,t,n){(e===Pc&&2===Dc||null!==e.cancelPendingCommit)&&(er(e,0),Zi(e,Rc,zc,!1)),M(e,n),0!==(2&Cc)&&e===Pc||(e===Pc&&(0===(2&Cc)&&(Vc|=n),4===Oc&&Zi(e,Rc,zc,!1)),J(e))}function Qi(e,t,n){if(0!==(6&Cc))throw Error(r(327));for(var i=!n&&0===(60&t)&&0===(t&e.expiredLanes)||x(e,t),a=i?function(e,t){var n=Cc;Cc|=2;var i=ir(),a=rr();Pc!==e||Rc!==t?(Xc=null,Yc=Ps()+500,er(e,t)):kc=x(e,t);e:for(;;)try{if(0!==Dc&&null!==Nc){t=Nc;var o=Ic;t:switch(Dc){case 1:Dc=0,Ic=null,dr(e,t,o,1);break;case 2:if(ge(o)){Dc=0,Ic=null,ur(t);break}t=function(){2===Dc&&Pc===e&&(Dc=7),J(e)},o.then(t,t);break e;case 3:Dc=7;break e;case 4:Dc=5;break e;case 7:ge(o)?(Dc=0,Ic=null,ur(t)):(Dc=0,Ic=null,dr(e,t,o,7));break;case 5:var s=null;switch(Nc.tag){case 26:s=Nc.memoizedState;case 5:case 27:var l=Nc,c=l.type,u=l.pendingProps;if(s?cs(s):ja(c,u)){Dc=0,Ic=null;var d=l.sibling;if(null!==d)Nc=d;else{var h=l.return;null!==h?(Nc=h,hr(h)):Nc=null}break t}}Dc=0,Ic=null,dr(e,t,o,5);break;case 6:Dc=0,Ic=null,dr(e,t,o,6);break;case 8:$i(),Oc=6;break e;default:throw Error(r(462))}}lr();break}catch(p){tr(e,p)}return ic=nc=null,ua.H=i,ua.A=a,Cc=n,null!==Nc?0:(Pc=null,Rc=0,W(),Oc)}(e,t):or(e,t,!0),o=i;;){if(0===a){kc&&!i&&Zi(e,t,0,!1);break}if(6===a)Zi(e,t,0,!Lc);else{if(n=e.current.alternate,o&&!Ki(n)){a=or(e,t,!1),o=!1;continue}if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Gc;var c=Da&&l.current.memoizedState.isDehydrated;if(c&&(er(l,s).flags|=256),2!==(s=or(l,s,!1))){if(Bc&&!c){l.errorRecoveryDisabledLanes|=o,Vc|=o,a=4;break e}o=Hc,Hc=a,null!==o&&Yi(o)}a=s}if(o=!1,2!==a)continue}}if(1===a){er(e,0),Zi(e,t,0,!0);break}e:{switch(i=e,a){case 0:case 1:throw Error(r(345));case 4:if((4194176&t)===t){Zi(i,t,zc,!Lc);break e}break;case 2:Hc=null;break;case 3:case 5:break;default:throw Error(r(329))}if(i.finishedWork=n,i.finishedLanes=t,(62914560&t)===t&&10<(o=Qc+300-Ps())){if(Zi(i,t,zc,!Lc),0!==b(i,0))break e;i.timeoutHandle=Ma(Xi.bind(null,i,n,Hc,Xc,Wc,t,zc,Vc,qc,Lc,2,-0,0),o)}else Xi(i,n,Hc,Xc,Wc,t,zc,Vc,qc,Lc,0,-0,0)}}break}J(e)}function Yi(e){null===Hc?Hc=e:Hc.push.apply(Hc,e)}function Xi(e,t,n,i,r,a,o,s,l,c,u,d,h){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(za(),Ii(t),null!==(t=Ga())))return e.cancelPendingCommit=t(mr.bind(null,e,n,i,r,o,s,l,1,d,h)),void Zi(e,a,o,!c);mr(e,n,i,r,o,s,l,u,d,h)}function Ki(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Os(a(),r))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zi(e,t,n,i){t&=~jc,t&=~Vc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-bs(r),o=1<<a;i[a]=-1,r&=~o}0!==n&&E(e,n,t)}function Ji(){return 0!==(6&Cc)||($(0,!1),!1)}function $i(){if(null!==Nc){if(0===Dc)var e=Nc.return;else ic=nc=null,ze(e=Nc),Sl=null,Ml=0,e=Nc;for(;null!==e;)$n(e.alternate,e),e=e.return;Nc=null}}function er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==Ca&&(e.timeoutHandle=Ca,Ea(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$i(),Pc=e,Nc=n=Mr(e.current,null),Rc=t,Dc=0,Ic=null,Lc=!1,kc=x(e,t),Bc=!1,qc=zc=jc=Vc=Uc=Oc=0,Hc=Gc=null,Wc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-bs(i),a=1<<r;t|=e[r],i&=~a}return Fc=t,W(),n}function tr(e,t){kl=null,ua.H=Wl,t===xl?(t=be(),Dc=3):t===wl?(t=be(),Dc=4):Dc=t===Jl?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,Ic=t,null===Nc&&(Oc=1,Kt(e,R(t,e.current)))}function nr(){var e=Rl.current;return null===e||((4194176&Rc)===Rc?null===Dl:((62914560&Rc)===Rc||0!==(536870912&Rc))&&e===Dl)}function ir(){var e=ua.H;return ua.H=Wl,null===e?Wl:e}function rr(){var e=ua.A;return ua.A=bc,e}function ar(){Oc=4,Lc||(4194176&Rc)!==Rc&&null!==Rl.current||(kc=!0),0===(134217727&Uc)&&0===(134217727&Vc)||null===Pc||Zi(Pc,Rc,zc,!1)}function or(e,t,n){var i=Cc;Cc|=2;var r=ir(),a=rr();Pc===e&&Rc===t||(Xc=null,er(e,t)),t=!1;var o=Oc;e:for(;;)try{if(0!==Dc&&null!==Nc){var s=Nc,l=Ic;switch(Dc){case 8:$i(),o=6;break e;case 3:case 2:case 6:null===Rl.current&&(t=!0);var c=Dc;if(Dc=0,Ic=null,dr(e,s,l,c),n&&kc){o=0;break e}break;default:c=Dc,Dc=0,Ic=null,dr(e,s,l,c)}}sr(),o=Oc;break}catch(u){tr(e,u)}return t&&e.shellSuspendCounter++,ic=nc=null,Cc=i,ua.H=r,ua.A=a,null===Nc&&(Pc=null,Rc=0,W()),o}function sr(){for(;null!==Nc;)cr(Nc)}function lr(){for(;null!==Nc&&!Es();)cr(Nc)}function cr(e){var t=_n(e.alternate,e,Fc);e.memoizedProps=e.pendingProps,null===t?hr(e):Nc=t}function ur(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=un(n,t,t.pendingProps,t.type,void 0,Rc);break;case 11:t=un(n,t,t.pendingProps,t.type.render,t.ref,Rc);break;case 5:ze(t);default:$n(n,t),t=_n(n,t=Nc=Er(t,Fc),Fc)}e.memoizedProps=e.pendingProps,null===t?hr(e):Nc=t}function dr(e,t,n,i){ic=nc=null,ze(t),Sl=null,Ml=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Pn(t,n,a,!0),null!==(n=Rl.current)){switch(n.tag){case 13:return null===Dl?ar():null===n.alternate&&0===Oc&&(Oc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Tl?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),yr(e,i,a)),!1;case 22:return n.flags|=65536,i===Tl?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),yr(e,i,a)),!1}throw Error(r(435,n.tag))}return yr(e,i,a),ar(),!1}if(tl)return null!==(t=Rl.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==rl&&H(R(e=Error(r(422),{cause:i}),n))):(i!==rl&&H(R(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=R(i,n),de(e,a=Jt(e.stateNode,i,a)),4!==Oc&&(Oc=2)),!1;var o=Error(r(520),{cause:i});if(o=R(o,n),null===Gc?Gc=[o]:Gc.push(o),4!==Oc&&(Oc=2),null===t)return!0;i=R(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,de(n,e=Jt(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Kc||!Kc.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,en(a=$t(a),e,n,i),de(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,Rc))return Oc=1,Kt(e,R(n,e.current)),void(Nc=null)}catch(o){if(null!==a)throw Nc=a,o;return Oc=1,Kt(e,R(n,e.current)),void(Nc=null)}32768&t.flags?(tl||1===i?e=!0:kc||0!==(536870912&Rc)?e=!1:(Lc=e=!0,(2===i||3===i||6===i)&&(null!==(i=Rl.current)&&13===i.tag&&(i.flags|=16384))),pr(t,e)):hr(t)}function hr(e){var t=e;do{if(0!==(32768&t.flags))return void pr(t,Lc);e=t.return;var n=Zn(t.alternate,t,Fc);if(null!==n)return void(Nc=n);if(null!==(t=t.sibling))return void(Nc=t);Nc=t=e}while(null!==t);0===Oc&&(Oc=5)}function pr(e,t){do{var n=Jn(e.alternate,e);if(null!==n)return n.flags&=32767,void(Nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(Nc=e);Nc=e=n}while(null!==e);Oc=6,Nc=null}function mr(e,t,n,i,a,o,s,l,c,u){var d=ua.T,h=Ba();try{ka(2),ua.T=null,function(e,t,n,i,a,o,s,l){do{Ar()}while(null!==Jc);if(0!==(6&Cc))throw Error(r(327));var c=e.finishedWork;if(i=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,i,r,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-bs(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&E(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,i,u|=sl,o,s,l),e===Pc&&(Nc=Pc=null,Rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Zc||(Zc=!0,eu=u,tu=n,function(e,t){Ss(e,t)}(Ds,function(){return Ar(),null})),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=ua.T,ua.T=null,o=Ba(),ka(2),s=Cc,Cc|=4,function(e,t){for(ya(e.containerInfo),mc=t;null!==mc;)if(t=(e=mc).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,mc=t;else for(;null!==mc;){var n=(e=mc).alternate;switch(t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==n){t=void 0;var i=e,a=n.memoizedProps;n=n.memoizedState;var o=i.stateNode;try{var s=Xt(i.type,a,(i.elementType,i.type));t=o.getSnapshotBeforeUpdate(s,n),o.__reactInternalSnapshotBeforeUpdate=t}catch(l){vr(i,i.return,l)}}break;case 3:0!==(1024&t)&&Na&&yo(e.stateNode.containerInfo);break;default:if(0!==(1024&t))throw Error(r(163))}if(null!==(t=e.sibling)){t.return=e.return,mc=t;break}mc=e.return}s=fc,fc=!1}(e,c),bi(c,e),ba(e.containerInfo),e.current=c,pi(e,c.alternate,c),Cs(),Cc=s,ka(o),ua.T=n):e.current=c,Zc?(Zc=!1,Jc=e,$c=i):fr(e,u),u=e.pendingLanes,0===u&&(Kc=null),function(e){if(Fs&&"function"===typeof Fs.onCommitFiberRoot)try{Fs.onCommitFiberRoot(Bs,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),J(e),null!==t)for(a=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],a(u.value,{componentStack:u.stack});0!==(3&$c)&&Ar(),u=e.pendingLanes,0!==(4194218&i)&&0!==(42&u)?e===iu?nu++:(nu=0,iu=e):nu=0,$(0,!1)}(e,t,n,i,h,a,o,s)}finally{ua.T=d,ka(h)}}function fr(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bn(t)))}function Ar(){if(null!==Jc){var e=Jc,t=eu;eu=0;var n=P($c),i=32>n?32:n;n=ua.T;var a=Ba();try{if(ka(i),ua.T=null,null===Jc)var o=!1;else{i=tu,tu=null;var s=Jc,l=$c;if(Jc=null,$c=0,0!==(6&Cc))throw Error(r(331));var c=Cc;if(Cc|=4,Bi(s.current),Pi(s,s.current,l,i),Cc=c,$(0,!1),Fs&&"function"===typeof Fs.onPostCommitFiberRoot)try{Fs.onPostCommitFiberRoot(Bs,s)}catch(u){}o=!0}return o}finally{ka(a),ua.T=n,fr(e,t)}}return!1}function gr(e,t,n){t=R(n,t),null!==(e=ce(e,t=Jt(e.stateNode,t,2),2))&&(M(e,2),J(e))}function vr(e,t,n){if(3===e.tag)gr(e,e,n);else for(;null!==t;){if(3===t.tag){gr(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kc||!Kc.has(i))){e=R(n,e),null!==(i=ce(t,n=$t(2),2))&&(en(n,i,t,e),M(i,2),J(i));break}}t=t.return}}function yr(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new Ec;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(Bc=!0,r.add(n),e=br.bind(null,e,t,n),t.then(e,e))}function br(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Pc===e&&(Rc&n)===n&&(4===Oc||3===Oc&&(62914560&Rc)===Rc&&300>Ps()-Qc?0===(2&Cc)&&er(e,0):jc|=n,qc===Rc&&(qc=0)),J(e)}function xr(e,t){0===t&&(t=_()),null!==(e=X(e,t))&&(M(e,t),J(e))}function wr(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xr(e,n)}function Tr(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),xr(e,n)}function _r(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,n){var i=e.alternate;return null===i?((i=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=31457280&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Er(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cr(e,n,i,a,o,s){var l=0;if(a=e,"function"===typeof e)Sr(e)&&(l=1);else if("string"===typeof e)l=Zo&&ds?Jo(e,i,Xs.current)?26:As(e)?27:5:Zo?Jo(e,i,Xs.current)?26:5:ds&&As(e)?27:5;else e:switch(e){case Qr:return Pr(i.children,o,s,n);case Yr:l=8,o|=24;break;case Xr:return(e=t(12,i,n,2|o)).elementType=Xr,e.lanes=s,e;case ea:return(e=t(13,i,n,o)).elementType=ea,e.lanes=s,e;case ta:return(e=t(19,i,n,o)).elementType=ta,e.lanes=s,e;case ra:return Nr(i,o,s,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Kr:case Jr:l=10;break e;case Zr:l=9;break e;case $r:l=11;break e;case na:l=14;break e;case ia:l=16,a=null;break e}l=29,i=Error(r(130,null===e?"null":typeof e,"")),a=null}return(n=t(l,i,n,o)).elementType=e,n.type=a,n.lanes=s,n}function Pr(e,n,i,r){return(e=t(7,e,r,n)).lanes=i,e}function Nr(e,n,i,a){(e=t(22,e,a,n)).elementType=ra,e.lanes=i;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(r(456));if(0===(2&o._pendingVisibility)){var t=X(e,2);null!==t&&(o._pendingVisibility|=2,Wi(t,0,2))}},attach:function(){var e=o._current;if(null===e)throw Error(r(456));if(0!==(2&o._pendingVisibility)){var t=X(e,2);null!==t&&(o._pendingVisibility&=-3,Wi(t,0,2))}}};return e.stateNode=o,e}function Rr(e,n,i){return(e=t(6,e,null,n)).lanes=i,e}function Dr(e,n,i){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ir(e,t,n,i,r,a,o,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ca,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=S(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S(0),this.hiddenUpdates=S(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Lr(e,n,i,r,a,o,s,l,c,u,d,h){return e=new Ir(e,n,i,s,l,c,u,h),n=1,!0===o&&(n|=24),o=t(3,null,null,n),e.current=o,o.stateNode=e,(n=kn()).refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:r,isDehydrated:i,cache:n},oe(o),e}function kr(e){return e?e=ys:ys}function Br(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return null===(e=null!==(e=p(t))?m(e):null)?null:Aa(e.stateNode)}function Fr(e,t,n,i,r,a){r=kr(r),null===i.context?i.context=r:i.pendingContext=r,(i=le(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=ce(e,i,t))&&(Wi(n,0,t),ue(n,e,t))}function Or(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ur(e,t){Or(e,t),(e=e.alternate)&&Or(e,t)}var Vr={},jr=n(5043),zr=n(8513),qr=Object.assign,Gr=Symbol.for("react.element"),Hr=Symbol.for("react.transitional.element"),Wr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),Yr=Symbol.for("react.strict_mode"),Xr=Symbol.for("react.profiler"),Kr=Symbol.for("react.provider"),Zr=Symbol.for("react.consumer"),Jr=Symbol.for("react.context"),$r=Symbol.for("react.forward_ref"),ea=Symbol.for("react.suspense"),ta=Symbol.for("react.suspense_list"),na=Symbol.for("react.memo"),ia=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ra=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var aa,oa,sa=Symbol.for("react.memo_cache_sentinel"),la=Symbol.iterator,ca=Symbol.for("react.client.reference"),ua=jr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,da=!1,ha=Array.isArray,pa=e.rendererVersion,ma=e.rendererPackageName,fa=e.extraDevToolsConfig,Aa=e.getPublicInstance,ga=e.getRootHostContext,va=e.getChildHostContext,ya=e.prepareForCommit,ba=e.resetAfterCommit,xa=e.createInstance,wa=e.appendInitialChild,Ta=e.finalizeInitialChildren,_a=e.shouldSetTextContent,Sa=e.createTextInstance,Ma=e.scheduleTimeout,Ea=e.cancelTimeout,Ca=e.noTimeout,Pa=e.isPrimaryRenderer;e.warnsIfNotActing;var Na=e.supportsMutation,Ra=e.supportsPersistence,Da=e.supportsHydration,Ia=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var La=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ka=e.setCurrentUpdatePriority,Ba=e.getCurrentUpdatePriority,Fa=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Oa=e.shouldAttemptEagerTransition,Ua=e.detachDeletedInstance;e.requestPostPaintCallback;var Va=e.maySuspendCommit,ja=e.preloadInstance,za=e.startSuspendingCommit,qa=e.suspendInstance,Ga=e.waitForCommitToBeReady,Ha=e.NotPendingTransition,Wa=e.HostTransitionContext,Qa=e.resetFormInstance;e.bindToConsole;var Ya=e.supportsMicrotasks,Xa=e.scheduleMicrotask,Ka=e.supportsTestSelectors,Za=e.findFiberRoot,Ja=e.getBoundingRect,$a=e.getTextContent,eo=e.isHiddenSubtree,to=e.matchAccessibilityRole,no=e.setFocusIfFocusable,io=e.setupIntersectionObserver,ro=e.appendChild,ao=e.appendChildToContainer,oo=e.commitTextUpdate,so=e.commitMount,lo=e.commitUpdate,co=e.insertBefore,uo=e.insertInContainerBefore,ho=e.removeChild,po=e.removeChildFromContainer,mo=e.resetTextContent,fo=e.hideInstance,Ao=e.hideTextInstance,go=e.unhideInstance,vo=e.unhideTextInstance,yo=e.clearContainer,bo=e.cloneInstance,xo=e.createContainerChildSet,wo=e.appendChildToContainerChildSet,To=e.finalizeContainerChildren,_o=e.replaceContainerChildren,So=e.cloneHiddenInstance,Mo=e.cloneHiddenTextInstance,Eo=e.isSuspenseInstancePending,Co=e.isSuspenseInstanceFallback,Po=e.getSuspenseInstanceFallbackErrorDetails,No=e.registerSuspenseInstanceRetry,Ro=e.canHydrateFormStateMarker,Do=e.isFormStateMarkerMatching,Io=e.getNextHydratableSibling,Lo=e.getFirstHydratableChild,ko=e.getFirstHydratableChildWithinContainer,Bo=e.getFirstHydratableChildWithinSuspenseInstance,Fo=e.canHydrateInstance,Oo=e.canHydrateTextInstance,Uo=e.canHydrateSuspenseInstance,Vo=e.hydrateInstance,jo=e.hydrateTextInstance,zo=e.hydrateSuspenseInstance,qo=e.getNextHydratableInstanceAfterSuspenseInstance,Go=e.commitHydratedContainer,Ho=e.commitHydratedSuspenseInstance,Wo=e.clearSuspenseBoundary,Qo=e.clearSuspenseBoundaryFromContainer,Yo=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Xo=e.validateHydratableInstance,Ko=e.validateHydratableTextInstance,Zo=e.supportsResources,Jo=e.isHostHoistableType,$o=e.getHoistableRoot,es=e.getResource,ts=e.acquireResource,ns=e.releaseResource,is=e.hydrateHoistable,rs=e.mountHoistable,as=e.unmountHoistable,os=e.createHoistableInstance,ss=e.prepareToCommitHoistables,ls=e.mayResourceSuspendCommit,cs=e.preloadResource,us=e.suspendResource,ds=e.supportsSingletons,hs=e.resolveSingletonInstance,ps=e.clearSingleton,ms=e.acquireSingletonInstance,fs=e.releaseSingletonInstance,As=e.isHostSingletonType,gs=[],vs=-1,ys={},bs=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xs(e)/ws|0)|0},xs=Math.log,ws=Math.LN2,Ts=128,_s=4194304,Ss=zr.unstable_scheduleCallback,Ms=zr.unstable_cancelCallback,Es=zr.unstable_shouldYield,Cs=zr.unstable_requestPaint,Ps=zr.unstable_now,Ns=zr.unstable_ImmediatePriority,Rs=zr.unstable_UserBlockingPriority,Ds=zr.unstable_NormalPriority,Is=zr.unstable_IdlePriority,Ls=zr.log,ks=zr.unstable_setDisableYieldValue,Bs=null,Fs=null,Os="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Us=new WeakMap,Vs=[],js=0,zs=null,qs=0,Gs=[],Hs=0,Ws=null,Qs=1,Ys="",Xs=A(null),Ks=A(null),Zs=A(null),Js=A(null),$s=null,el=null,tl=!1,nl=null,il=!1,rl=Error(r(519)),al=[],ol=0,sl=0,ll=null,cl=null,ul=!1,dl=!1,hl=!1,pl=0,ml=null,fl=0,Al=0,gl=null,vl=!1,yl=!1,bl=Object.prototype.hasOwnProperty,xl=Error(r(460)),wl=Error(r(474)),Tl={then:function(){}},_l=null,Sl=null,Ml=0,El=Se(!0),Cl=Se(!1),Pl=A(null),Nl=A(0),Rl=A(null),Dl=null,Il=A(0),Ll=0,kl=null,Bl=null,Fl=null,Ol=!1,Ul=!1,Vl=!1,jl=0,zl=0,ql=null,Gl=0,Hl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Wl={readContext:Dn,use:We,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le};Wl.useCacheRefresh=Le,Wl.useMemoCache=Le,Wl.useHostTransitionStatus=Le,Wl.useFormState=Le,Wl.useActionState=Le,Wl.useOptimistic=Le;var Ql={readContext:Dn,use:We,useCallback:function(e,t){return qe().memoizedState=[e,void 0===t?null:t],e},useContext:Dn,useEffect:wt,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,bt(4194308,4,Mt.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bt(4194308,4,e,t)},useInsertionEffect:function(e,t){bt(4,2,e,t)},useMemo:function(e,t){var n=qe();t=void 0===t?null:t;var i=e();if(Vl){N(!0);try{e()}finally{N(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=qe();if(void 0!==n){var r=n(t);if(Vl){N(!0);try{n(t)}finally{N(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Ut.bind(null,kl,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},qe().memoizedState=e},useState:function(e){var t=(e=rt(e)).queue,n=Vt.bind(null,kl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ct,useDeferredValue:function(e,t){return Rt(qe(),e,t)},useTransition:function(){var e=rt(!1);return e=It.bind(null,kl,e.queue,!0,!1),qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=kl,a=qe();if(tl){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Pc)throw Error(r(349));0!==(60&Rc)||$e(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,wt(tt.bind(null,i,o,e),[e]),i.flags|=2048,vt(9,et.bind(null,i,o,n,t),{destroy:void 0},null),n},useId:function(){var e=qe(),t=Pc.identifierPrefix;if(tl){var n=Ys;t=":"+t+"R"+(n=(Qs&~(1<<32-bs(Qs)-1)).toString(32)+n),0<(n=jl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Gl++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return qe().memoizedState=Ot.bind(null,kl)}};Ql.useMemoCache=Qe,Ql.useHostTransitionStatus=kt,Ql.useFormState=pt,Ql.useActionState=pt,Ql.useOptimistic=function(e){var t=qe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zt.bind(null,kl,!0,n),n.dispatch=t,[e,t]};var Yl={readContext:Dn,use:We,useCallback:Pt,useContext:Dn,useEffect:Tt,useImperativeHandle:Et,useInsertionEffect:_t,useLayoutEffect:St,useMemo:Nt,useReducer:Xe,useRef:yt,useState:function(){return Xe(Ye)},useDebugValue:Ct,useDeferredValue:function(e,t){return Dt(Ge(),Bl.memoizedState,e,t)},useTransition:function(){var e=Xe(Ye)[0],t=Ge().memoizedState;return["boolean"===typeof e?e:He(e),t]},useSyncExternalStore:Je,useId:Bt};Yl.useCacheRefresh=Ft,Yl.useMemoCache=Qe,Yl.useHostTransitionStatus=kt,Yl.useFormState=mt,Yl.useActionState=mt,Yl.useOptimistic=function(e,t){return at(Ge(),0,e,t)};var Xl={readContext:Dn,use:We,useCallback:Pt,useContext:Dn,useEffect:Tt,useImperativeHandle:Et,useInsertionEffect:_t,useLayoutEffect:St,useMemo:Nt,useReducer:Ze,useRef:yt,useState:function(){return Ze(Ye)},useDebugValue:Ct,useDeferredValue:function(e,t){var n=Ge();return null===Bl?Rt(n,e,t):Dt(n,Bl.memoizedState,e,t)},useTransition:function(){var e=Ze(Ye)[0],t=Ge().memoizedState;return["boolean"===typeof e?e:He(e),t]},useSyncExternalStore:Je,useId:Bt};Xl.useCacheRefresh=Ft,Xl.useMemoCache=Qe,Xl.useHostTransitionStatus=kt,Xl.useFormState=gt,Xl.useActionState=gt,Xl.useOptimistic=function(e,t){var n=Ge();return null!==Bl?at(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Kl={isMounted:function(e){return!!(e=e._reactInternals)&&d(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Gi(),r=le(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ce(e,r,i))&&(Wi(t,0,i),ue(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Gi(),r=le(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ce(e,r,i))&&(Wi(t,0,i),ue(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gi(),i=le(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ce(e,i,n))&&(Wi(t,0,n),ue(t,e,n))}},Zl="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Jl=Error(r(461)),$l=!1,ec={dehydrated:null,treeContext:null,retryLane:0},tc=A(null),nc=null,ic=null,rc="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ac=zr.unstable_scheduleCallback,oc=zr.unstable_NormalPriority,sc={$$typeof:Jr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},lc=ua.S;ua.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ml){var n=ml=[];fl=0,Al=re(),gl={status:"pending",value:void 0,then:function(e){n.push(e)}}}fl++,t.then(ae,ae)}(0,t),null!==lc&&lc(e,t)};var cc=A(null),uc=!1,dc=!1,hc=!1,pc="function"===typeof WeakSet?WeakSet:Set,mc=null,fc=!1,Ac=null,gc=!1,vc=null,yc=8192,bc={getCacheForType:function(e){var t=Dn(sc),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},xc=0,wc=1,Tc=2,_c=3,Sc=4;if("function"===typeof Symbol&&Symbol.for){var Mc=Symbol.for;xc=Mc("selector.component"),wc=Mc("selector.has_pseudo_class"),Tc=Mc("selector.role"),_c=Mc("selector.test_id"),Sc=Mc("selector.text")}var Ec="function"===typeof WeakMap?WeakMap:Map,Cc=0,Pc=null,Nc=null,Rc=0,Dc=0,Ic=null,Lc=!1,kc=!1,Bc=!1,Fc=0,Oc=0,Uc=0,Vc=0,jc=0,zc=0,qc=0,Gc=null,Hc=null,Wc=!1,Qc=0,Yc=1/0,Xc=null,Kc=null,Zc=!1,Jc=null,$c=0,eu=0,tu=null,nu=0,iu=null;return Vr.attemptContinuousHydration=function(e){if(13===e.tag){var t=X(e,67108864);null!==t&&Wi(t,0,67108864),Ur(e,67108864)}},Vr.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Gi(),n=X(e,t);null!==n&&Wi(n,0,t),Ur(e,t)}},Vr.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=y(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-bs(t);e.entanglements[1]|=n,t&=~n}J(e),0===(6&Cc)&&(Yc=Ps()+500,$(0,!1))}}break;case 13:null!==(t=X(e,2))&&Wi(t,0,2),Ji(),Ur(e,2)}},Vr.batchedUpdates=function(e,t){return e(t)},Vr.createComponentSelector=function(e){return{$$typeof:xc,value:e}},Vr.createContainer=function(e,t,n,i,r,a,o,s,l,c){return Lr(e,t,!1,null,0,i,a,o,s,l,0,null)},Vr.createHasPseudoClassSelector=function(e){return{$$typeof:wc,value:e}},Vr.createHydrationContainer=function(e,t,n,i,r,a,o,s,l,c,u,d,h){return(e=Lr(n,i,!0,e,0,a,s,l,c,u,0,h)).context=kr(null),n=e.current,(r=le(i=Gi())).callback=void 0!==t&&null!==t?t:null,ce(n,r,i),e.current.lanes=i,M(e,i),J(e),e},Vr.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Wr,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},Vr.createRoleSelector=function(e){return{$$typeof:Tc,value:e}},Vr.createTestNameSelector=function(e){return{$$typeof:_c,value:e}},Vr.createTextSelector=function(e){return{$$typeof:Sc,value:e}},Vr.defaultOnCaughtError=function(e){console.error(e)},Vr.defaultOnRecoverableError=function(e){Zl(e)},Vr.defaultOnUncaughtError=function(e){Zl(e)},Vr.deferredUpdates=function(e){var t=ua.T,n=Ba();try{return ka(32),ua.T=null,e()}finally{ka(n),ua.T=t}},Vr.discreteUpdates=function(e,t,n,i,r){var a=ua.T,o=Ba();try{return ka(2),ua.T=null,e(t,n,i,r)}finally{ka(o),ua.T=a,0===Cc&&(Yc=Ps()+500)}},Vr.findAllNodes=qi,Vr.findBoundingRects=function(e,t){if(!Ka)throw Error(r(363));t=qi(e,t),e=[];for(var n=0;n<t.length;n++)e.push(Ja(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,a=i+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,p=h+c.height;if(i>=u&&o>=h&&a<=d&&s<=p){e.splice(t,1);break}if(!(i!==u||n.width!==c.width||p<o||h>s)){h>o&&(c.height+=h-o,c.y=o),p<s&&(c.height=s-h),e.splice(t,1);break}if(!(o!==h||n.height!==c.height||d<i||u>a)){u>i&&(c.width+=u-i,c.x=i),d<a&&(c.width=a-u),e.splice(t,1);break}}return e},Vr.findHostInstance=Br,Vr.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=p(e))?f(e):null)?null:Aa(e.stateNode)},Vr.findHostInstanceWithWarning=function(e){return Br(e)},Vr.flushPassiveEffects=Ar,Vr.flushSyncFromReconciler=function(e){var t=Cc;Cc|=1;var n=ua.T,i=Ba();try{if(ka(2),ua.T=null,e)return e()}finally{ka(i),ua.T=n,0===(6&(Cc=t))&&$(0,!1)}},Vr.flushSyncWork=Ji,Vr.focusWithin=function(e,t){if(!Ka)throw Error(r(363));for(t=zi(e=Ui(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++],i=n.tag;if(!eo(n)){if((5===i||26===i||27===i)&&no(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},Vr.getFindAllNodesFailureDescription=function(e,t){if(!Ka)throw Error(r(363));var n=0,i=[];e=[Ui(e),0];for(var a=0;a<e.length;){var o=e[a++],s=o.tag,l=e[a++],c=t[l];if((5!==s&&26!==s&&27!==s||!eo(o))&&(Vi(o,c)&&(i.push(ji(c)),++l>n&&(n=l)),l<t.length))for(o=o.child;null!==o;)e.push(o,l),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ji(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},Vr.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return Aa(e.child.stateNode);default:return e.child.stateNode}},Vr.injectIntoDevTools=function(){var e={bundleType:0,version:pa,rendererPackageName:ma,currentDispatcherRef:ua,findFiberByHostInstance:Ia,reconcilerVersion:"19.0.0"};if(null!==fa&&(e.rendererConfig=fa),"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Bs=t.inject(e),Fs=t}catch(n){}e=!!t.checkDCE}}return e},Vr.isAlreadyRendering=function(){return!1},Vr.observeVisibleRects=function(e,t,n,i){if(!Ka)throw Error(r(363));e=qi(e,t);var a=io(e,n,i).disconnect;return{disconnect:function(){a()}}},Vr.shouldError=function(){return null},Vr.shouldSuspend=function(){return!1},Vr.startHostTransition=function(e,t,n,a){if(5!==e.tag)throw Error(r(476));var o=Lt(e).queue;It(e,o,t,Ha,null===n?i:function(){var t=Lt(e).next.queue;return jt(e,t,{},Gi()),n(a)})},Vr.updateContainer=function(e,t,n,i){var r=t.current,a=Gi();return Fr(r,a,e,t,n,i),a},Vr.updateContainerSync=function(e,t,n,i){return 0===t.tag&&Ar(),Fr(t.current,2,e,t,n,i),2},Vr},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5252:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=8,t.DefaultEventPriority=32,t.DiscreteEventPriority=2},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,A=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(A=!1,x(e),!f)if(null!==i(c))f=!0,_||(_=!0,T());else{var t=i(u);null!==t&&D(w,t.startTime-e)}}var T,_=!1,S=-1,M=5,E=-1;function C(){return!!g||!(t.unstable_now()-E<M)}function P(){if(g=!1,_){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,A&&(A=!1,y(S),S=-1),m=!0;var a=p;try{t:{for(x(e),h=i(c);null!==h&&!(h.expirationTime>e&&C());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===i(c)&&r(c),x(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&D(w,l.startTime-e),n=!1}}break e}finally{h=null,p=a,m=!1}n=void 0}}finally{n?T():_=!1}}}if("function"===typeof b)T=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,T=function(){R.postMessage(null)}}else T=function(){v(P,0)};function D(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(A?(y(S),S=-1):A=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,_||(_=!0,T()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},6672:(e,t,n)=>{"use strict";var i=n(5043);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},7004:(e,t,n)=>{"use strict";var i=n(8853),r=n(5043),a=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case x:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var I=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},F=[],O=-1;function U(e){return{current:e}}function V(e){0>O||(e.current=F[O],F[O]=null,O--)}function j(e,t){O++,F[O]=e.current,e.current=t}var z=U(null),q=U(null),G=U(null),H=U(null);function W(e,t){switch(j(G,t),j(q,e),j(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(z),j(z,e)}function Q(){V(z),V(q),V(G)}function Y(e){null!==e.memoizedState&&j(H,e);var t=z.current,n=ad(t,e.type);t!==n&&(j(q,e),j(z,n))}function X(e){q.current===e&&(V(z),V(q)),H.current===e&&(V(H),Yd._currentValue=B)}var K=Object.prototype.hasOwnProperty,Z=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,$=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,ae=i.unstable_NormalPriority,oe=i.unstable_LowPriority,se=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var Ae=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&i;return 0!==s?0!==(i=s&~a)?r=ve(i):0!==(o&=s)?r=ve(o):n||0!==(n=s&~e)&&(r=ve(n)):0!==(s=i&~a)?r=ve(s):0!==o?r=ve(o):n||0!==(n=i&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=Ae;return 0===(4194048&(Ae<<=1))&&(Ae=256),e}function Te(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=k.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Re=Math.random().toString(36).slice(2),De="__reactFiber$"+Re,Ie="__reactProps$"+Re,Le="__reactContainer$"+Re,ke="__reactEvents$"+Re,Be="__reactListeners$"+Re,Fe="__reactHandles$"+Re,Oe="__reactResources$"+Re,Ue="__reactMarker$"+Re;function Ve(e){delete e[De],delete e[Ie],delete e[ke],delete e[Be],delete e[Fe]}function je(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Le]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yd(e);null!==e;){if(n=e[De])return n;e=yd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[De]||e[Le]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ge(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ue]=!0}var We=new Set,Qe={};function Ye(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Qe[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ke,Ze,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(r=t,K.call(et,r)||!K.call($e,r)&&(Je.test(r)?et[r]=!0:($e[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Ke)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Ze}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){i=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){i=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&i&&"string"===typeof s.stack)return[s.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function At(e,t,n,i,r,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function gt(e,t,n,i,r,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(I(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&_t(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function Mt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,It=null;function Lt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(At(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ie]||null;if(!r)throw Error(o(90));At(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var kt=!1;function Bt(e,t,n){if(kt)return e(t,n);kt=!0;try{return e(t)}finally{if(kt=!1,(null!==Dt||null!==It)&&(jc(),Dt&&(t=Dt,e=It,It=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Ie]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ot)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Ih){Ut=!1}var jt=null,zt=null,qt=null;function Gt(){if(qt)return qt;var e,t,n=zt,i=n.length,r="value"in jt?jt.value:jt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return qt=r.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Wt:Qt,this.isPropagationStopped=Qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Xt,Kt,Zt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Yt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Yt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Xt=e.screenX-Zt.screenX,Kt=e.screenY-Zt.screenY):Kt=Xt=0,Zt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),rn=Yt(nn),an=Yt(h({},nn,{dataTransfer:0})),on=Yt(h({},en,{relatedTarget:0})),sn=Yt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return pn}var fn=Yt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=Yt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Yt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),vn=Yt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Yt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Yt(h({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],wn=Ot&&"CompositionEvent"in window,Tn=null;Ot&&"documentMode"in document&&(Tn=document.documentMode);var _n=Ot&&"TextEvent"in window&&!Tn,Sn=Ot&&(!wn||Tn&&8<Tn&&11>=Tn),Mn=String.fromCharCode(32),En=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function In(e,t,n,i){Dt?It?It.push(i):It=[i]:Dt=i,0<(t=Gu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ln=null,kn=null;function Bn(e){Bu(e,0)}function Fn(e){if(ht(qe(e)))return e}function On(e,t){if("change"===e)return t}var Un=!1;if(Ot){var Vn;if(Ot){var jn="oninput"in document;if(!jn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),jn="function"===typeof zn.oninput}Vn=jn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){Ln&&(Ln.detachEvent("onpropertychange",Gn),kn=Ln=null)}function Gn(e){if("value"===e.propertyName&&Fn(kn)){var t=[];In(t,kn,e,Rt(e)),Bt(Bn,t)}}function Hn(e,t,n){"focusin"===e?(qn(),kn=n,(Ln=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(kn)}function Qn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!K.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,i=Zn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zn(i)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Ot&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,ai=null,oi=!1;function si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oi||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ai&&Kn(ai,i)||(ai=i,0<(i=Gu(ri,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},di={};function hi(e){if(ui[e])return ui[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ui[e]=n[t];return e}Ot&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=hi("animationend"),mi=hi("animationiteration"),fi=hi("animationstart"),Ai=hi("transitionrun"),gi=hi("transitionstart"),vi=hi("transitioncancel"),yi=hi("transitionend"),bi=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(e,t){bi.set(e,t),Ye(t,[e])}xi.push("scrollEnd");var Ti=new WeakMap;function _i(e,t){if("object"===typeof e&&null!==e){var n=Ti.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Ti.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Si=[],Mi=0,Ei=0;function Ci(){for(var e=Mi,t=Ei=Mi=0;t<e;){var n=Si[t];Si[t++]=null;var i=Si[t];Si[t++]=null;var r=Si[t];Si[t++]=null;var a=Si[t];if(Si[t++]=null,null!==i&&null!==r){var o=i.pending;null===o?r.next=r:(r.next=o.next,o.next=r),i.pending=r}0!==a&&Di(n,r,a)}}function Pi(e,t,n,i){Si[Mi++]=e,Si[Mi++]=t,Si[Mi++]=n,Si[Mi++]=i,Ei|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ni(e,t,n,i){return Pi(e,t,n,i),Ii(e)}function Ri(e,t){return Pi(e,null,null,t),Ii(e)}function Di(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-pe(n),null===(i=(e=a.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),a):null}function Ii(e){if(50<Dc)throw Dc=0,Ic=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Li={};function ki(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,n,i){return new ki(e,t,n,i)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oi(e,t){var n=e.alternate;return null===n?((n=Bi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ui(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vi(e,t,n,i,r,a){var s=0;if(i=e,"function"===typeof e)Fi(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Bi(31,n,t,r)).elementType=E,e.lanes=a,e;case A:return ji(n.children,r,a,t);case g:s=8,r|=24;break;case v:return(e=Bi(12,n,t,2|r)).elementType=v,e.lanes=a,e;case T:return(e=Bi(13,n,t,r)).elementType=T,e.lanes=a,e;case _:return(e=Bi(19,n,t,r)).elementType=_,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case x:s=10;break e;case b:s=9;break e;case w:s=11;break e;case S:s=14;break e;case M:s=16,i=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Bi(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function ji(e,t,n,i){return(e=Bi(7,e,i,t)).lanes=n,e}function zi(e,t,n){return(e=Bi(6,e,null,t)).lanes=n,e}function qi(e,t,n){return(t=Bi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gi=[],Hi=0,Wi=null,Qi=0,Yi=[],Xi=0,Ki=null,Zi=1,Ji="";function $i(e,t){Gi[Hi++]=Qi,Gi[Hi++]=Wi,Wi=e,Qi=t}function er(e,t,n){Yi[Xi++]=Zi,Yi[Xi++]=Ji,Yi[Xi++]=Ki,Ki=e;var i=Zi;e=Ji;var r=32-pe(i)-1;i&=~(1<<r),n+=1;var a=32-pe(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Zi=1<<32-pe(t)+r|n<<r|i,Ji=a+e}else Zi=1<<a|n<<r|i,Ji=e}function tr(e){null!==e.return&&($i(e,1),er(e,1,0))}function nr(e){for(;e===Wi;)Wi=Gi[--Hi],Gi[Hi]=null,Qi=Gi[--Hi],Gi[Hi]=null;for(;e===Ki;)Ki=Yi[--Xi],Yi[Xi]=null,Ji=Yi[--Xi],Yi[Xi]=null,Zi=Yi[--Xi],Yi[Xi]=null}var ir=null,rr=null,ar=!1,or=null,sr=!1,lr=Error(o(519));function cr(e){throw fr(_i(Error(o(418,"")),e)),lr}function ur(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[De]=e,t[Ie]=i,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Fu(Lu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),gt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),xt(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Ku(t.textContent,n)?(null!=i.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=i.onScroll&&Fu("scroll",t),null!=i.onScrollEnd&&Fu("scrollend",t),null!=i.onClick&&(t.onclick=Zu),t=!0):t=!1,t||cr(e)}function dr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(sr=!1);case 27:case 3:return void(sr=!0);default:ir=ir.return}}function hr(e){if(e!==ir)return!1;if(!ar)return dr(e),ar=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),dr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,pd(e.type)?(e=vd,vd=null,rr=e):rr=n):rr=ir?gd(e.stateNode.nextSibling):null;return!0}function pr(){rr=ir=null,ar=!1}function mr(){var e=or;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),or=null),e}function fr(e){null===or?or=[e]:or.push(e)}var Ar=U(null),gr=null,vr=null;function yr(e,t,n){j(Ar,t._currentValue),t._currentValue=n}function br(e){e._currentValue=Ar.current,V(Ar)}function xr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var s=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xr(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),xr(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function Tr(e,t,n,i){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=r.type;Xn(r.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(r===H.current){if(null===(s=r.alternate))throw Error(o(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}r=r.return}null!==e&&wr(t,e,n,i),t.flags|=262144}function _r(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){gr=e,vr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mr(e){return Cr(gr,e)}function Er(e,t){return null===gr&&Sr(e),Cr(e,t)}function Cr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vr){if(null===e)throw Error(o(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return n}var Pr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Nr=i.unstable_scheduleCallback,Rr=i.unstable_NormalPriority,Dr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ir(){return{controller:new Pr,data:new Map,refCount:0}}function Lr(e){e.refCount--,0===e.refCount&&Nr(Rr,function(){e.controller.abort()})}var kr=null,Br=0,Fr=0,Or=null;function Ur(){if(0===--Br&&null!==kr){null!==Or&&(Or.status="fulfilled");var e=kr;kr=null,Fr=0,Or=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=L.S;L.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===kr){var n=kr=[];Br=0,Fr=Pu(),Or={status:"pending",value:void 0,then:function(e){n.push(e)}}}Br++,t.then(Ur,Ur)}(0,t),null!==Vr&&Vr(e,t)};var jr=U(null);function zr(){var e=jr.current;return null!==e?e:ic.pooledCache}function qr(e,t){j(jr,null===t?jr.current:t.pool)}function Gr(){var e=zr();return null===e?null:{parent:Dr._currentValue,pool:e}}var Hr=Error(o(460)),Wr=Error(o(474)),Qr=Error(o(542)),Yr={then:function(){}};function Xr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Kr(){}function Zr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Kr,Kr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Kr,Kr);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Jr=t,Hr}}var Jr=null;function $r(){if(null===Jr)throw Error(o(459));var e=Jr;return Jr=null,e}function ea(e){if(e===Hr||e===Qr)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Ii(e),Di(e,null,n),t}return Pi(e,i,t,n),Ii(e)}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function sa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Or)throw Or}}function ua(e,t,n,i){la=!1;var r=e.updateQueue;ta=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,u=c=l=null,s=a;;){var p=-536870913&s.lane,m=p!==s.lane;if(m?(ac&p)===p:(i&p)===p){0!==p&&p===Fr&&(la=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,A=s;p=t;var g=n;switch(A.tag){case 1:if("function"===typeof(f=A.payload)){d=f.call(g,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=A.payload)?f.call(g,d,p):f)||void 0===p)break e;d=h({},d,p);break e;case 2:ta=!0}}null!==(p=s.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,o|=p;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(m=s).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var pa=U(null),ma=U(0);function fa(e,t){j(ma,e=dc),j(pa,t),dc=e|t.baseLanes}function Aa(){j(ma,dc),j(pa,pa.current)}function ga(){dc=ma.current,V(pa),V(ma)}var va=0,ya=null,ba=null,xa=null,wa=!1,Ta=!1,_a=!1,Sa=0,Ma=0,Ea=null,Ca=0;function Pa(){throw Error(o(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Ra(e,t,n,i,r,a){return va=a,ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Wo:Qo,_a=!1,a=n(i,r),_a=!1,Ta&&(a=Ia(t,n,i,r)),Da(e),a}function Da(e){L.H=Ho;var t=null!==ba&&null!==ba.next;if(va=0,xa=ba=ya=null,wa=!1,Ma=0,Ea=null,t)throw Error(o(300));null===e||Es||null!==(e=e.dependencies)&&_r(e)&&(Es=!0)}function Ia(e,t,n,i){ya=e;var r=0;do{if(Ta&&(Ea=null),Ma=0,Ta=!1,25<=r)throw Error(o(301));if(r+=1,xa=ba=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}L.H=Yo,a=t(n,i)}while(Ta);return a}function La(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?Va(t):t,e=e.useState()[0],(null!==ba?ba.memoizedState:null)!==e&&(ya.flags|=1024),t}function ka(){var e=0!==Sa;return Sa=0,e}function Ba(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(wa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wa=!1}va=0,xa=ba=ya=null,Ta=!1,Ma=Sa=0,Ea=null}function Oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ya.memoizedState=xa=e:xa=xa.next=e,xa}function Ua(){if(null===ba){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=ba.next;var t=null===xa?ya.memoizedState:xa.next;if(null!==t)xa=t,ba=e;else{if(null===e){if(null===ya.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(ba=e).memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},null===xa?ya.memoizedState=xa=e:xa=xa.next=e}return xa}function Va(e){var t=Ma;return Ma+=1,null===Ea&&(Ea=[]),e=Zr(Ea,e,t),t=ya,null===(null===xa?t.memoizedState:xa.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Wo:Qo),e}function ja(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Va(e);if(e.$$typeof===x)return Mr(e)}throw Error(o(438,String(e)))}function za(e){var t=null,n=ya.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=ya.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ya.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=C;return t.index++,n}function qa(e,t){return"function"===typeof t?t(e):t}function Ga(e){return Ha(Ua(),ba,e)}function Ha(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=s=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(va&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fr&&(d=!0);else{if((va&p)===p){u=u.next,p===Fr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,ya.lanes|=p,pc|=p}h=u.action,_a&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,ya.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Xn(a,e.memoizedState)&&(Es=!0,d&&null!==(n=Or)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Wa(e){var t=Ua(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Xn(a,t.memoizedState)||(Es=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Qa(e,t,n){var i=ya,r=Ua(),a=ar;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((ba||r).memoizedState,n);if(s&&(r.memoizedState=n,Es=!0),r=r.queue,go(2048,8,Ka.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==xa&&1&xa.memoizedState.tag){if(i.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Xa.bind(null,i,r,n,t),null),null===ic)throw Error(o(349));a||0!==(124&va)||Ya(i,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ya.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ya.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,i){t.value=n,t.getSnapshot=i,Za(t)&&Ja(e)}function Ka(e,t,n){return n(function(){Za(t)&&Ja(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(i){return!0}}function Ja(e){var t=Ri(e,2);null!==t&&Bc(t,e,2)}function $a(e){var t=Oa();if("function"===typeof e){var n=e;if(e=n(),_a){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function eo(e,t,n,i){return e.baseState=n,Ha(e,ba,"function"===typeof i?i:qa)}function to(e,t,n,i,r){if(zo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==L.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,no(t,a)):(a.next=n.next,t.pending=n.next=a)}}function no(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=L.T,o={};L.T=o;try{var s=n(r,i),l=L.S;null!==l&&l(o,s),io(e,t,s)}catch(c){ao(e,t,c)}finally{L.T=a}}else try{io(e,t,a=n(r,i))}catch(u){ao(e,t,u)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ro(e,t,n)},function(n){return ao(e,t,n)}):ro(e,t,n)}function ro(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ao(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==i)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ar){var n=ic.formState;if(null!==n){e:{var i=ya;if(ar){if(rr){t:{for(var r=rr,a=sr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=gd(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){rr=gd(r.nextSibling),i="F!"===r.data;break e}}cr(i)}i=!1}i&&(t=n[0])}}return(n=Oa()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=i,n=Uo.bind(null,ya,i),i.dispatch=n,i=$a(!1),a=jo.bind(null,ya,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=Oa()).queue=r,n=to.bind(null,ya,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function co(e){return uo(Ua(),ba,e)}function uo(e,t,n){if(t=Ha(e,t,so)[0],e=Ga(qa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Va(t)}catch(o){if(o===Hr)throw Qr;throw o}else i=t;var r=(t=Ua()).queue,a=r.dispatch;return n!==t.memoizedState&&(ya.flags|=2048,mo(9,{destroy:void 0,resource:void 0},ho.bind(null,r,n),null)),[i,a,e]}function ho(e,t){e.action=t}function po(e){var t=Ua(),n=ba;if(null!==n)return uo(t,n,e);Ua(),t=t.memoizedState;var i=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function mo(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=ya.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ya.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function fo(){return Ua().memoizedState}function Ao(e,t,n,i){var r=Oa();i=void 0===i?null:i,ya.flags|=e,r.memoizedState=mo(1|t,{destroy:void 0,resource:void 0},n,i)}function go(e,t,n,i){var r=Ua();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==ba&&null!==i&&Na(i,ba.memoizedState.deps)?r.memoizedState=mo(t,a,n,i):(ya.flags|=e,r.memoizedState=mo(1|t,a,n,i))}function vo(e,t){Ao(8390656,8,e,t)}function yo(e,t){go(2048,8,e,t)}function bo(e,t){return go(4,2,e,t)}function xo(e,t){return go(4,4,e,t)}function wo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function To(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4,4,wo.bind(null,t,e),n)}function _o(){}function So(e,t){var n=Ua();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Na(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Mo(e,t){var n=Ua();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Na(t,i[1]))return i[0];if(i=e(),_a){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i}function Eo(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=kc(),ya.lanes|=e,pc|=e,n)}function Co(e,t,n,i){return Xn(n,t)?n:null!==pa.current?(e=Eo(e,n,i),Xn(e,t)||(Es=!0),e):0===(42&va)?(Es=!0,e.memoizedState=n):(e=kc(),ya.lanes|=e,pc|=e,t)}function Po(e,t,n,i,r){var a=k.p;k.p=0!==a&&8>a?a:8;var o=L.T,s={};L.T=s,jo(e,!1,t,n);try{var l=r(),c=L.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Vo(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Lc());else Vo(e,t,i,Lc())}catch(u){Vo(e,t,{then:function(){},status:"rejected",reason:u},Lc())}finally{k.p=a,L.T=o}}function No(){}function Ro(e,t,n,i){if(5!==e.tag)throw Error(o(476));var r=Do(e).queue;Po(e,r,t,B,null===n?No:function(){return Io(e),n(i)})}function Do(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Io(e){Vo(e,Do(e).next.queue,{},Lc())}function Lo(){return Mr(Yd)}function ko(){return Ua().memoizedState}function Bo(){return Ua().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),i=aa(t,e=ra(n),n);return null!==i&&(Bc(i,t,n),oa(i,t,n)),t={cache:Ir()},void(e.payload=t)}t=t.return}}function Oo(e,t,n){var i=Lc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zo(e)?qo(t,n):null!==(n=Ni(e,t,n,i))&&(Bc(n,e,i),Go(n,t,i))}function Uo(e,t,n){Vo(e,t,n,Lc())}function Vo(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zo(e))qo(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,Xn(s,o))return Pi(e,t,r,0),null===ic&&Ci(),!1}catch(l){}if(null!==(n=Ni(e,t,r,i)))return Bc(n,e,i),Go(n,t,i),!0}return!1}function jo(e,t,n,i){if(i={lane:2,revertLane:Pu(),action:i,hasEagerState:!1,eagerState:null,next:null},zo(e)){if(t)throw Error(o(479))}else null!==(t=Ni(e,n,i,2))&&Bc(t,e,2)}function zo(e){var t=e.alternate;return e===ya||null!==t&&t===ya}function qo(e,t){Ta=wa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Go(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Ho={readContext:Mr,use:ja,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useLayoutEffect:Pa,useInsertionEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useSyncExternalStore:Pa,useId:Pa,useHostTransitionStatus:Pa,useFormState:Pa,useActionState:Pa,useOptimistic:Pa,useMemoCache:Pa,useCacheRefresh:Pa},Wo={readContext:Mr,use:ja,useCallback:function(e,t){return Oa().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4194308,4,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){Ao(4,2,e,t)},useMemo:function(e,t){var n=Oa();t=void 0===t?null:t;var i=e();if(_a){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Oa();if(void 0!==n){var r=n(t);if(_a){he(!0);try{n(t)}finally{he(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Oo.bind(null,ya,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Oa().memoizedState=e},useState:function(e){var t=(e=$a(e)).queue,n=Uo.bind(null,ya,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_o,useDeferredValue:function(e,t){return Eo(Oa(),e,t)},useTransition:function(){var e=$a(!1);return e=Po.bind(null,ya,e.queue,!0,!1),Oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ya,r=Oa();if(ar){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ic)throw Error(o(349));0!==(124&ac)||Ya(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,vo(Ka.bind(null,i,a,e),[e]),i.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Xa.bind(null,i,a,n,t),null),n},useId:function(){var e=Oa(),t=ic.identifierPrefix;if(ar){var n=Ji;t="\xab"+t+"R"+(n=(Zi&~(1<<32-pe(Zi)-1)).toString(32)+n),0<(n=Sa++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ca++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Oa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=jo.bind(null,ya,!0,n),n.dispatch=t,[e,t]},useMemoCache:za,useCacheRefresh:function(){return Oa().memoizedState=Fo.bind(null,ya)}},Qo={readContext:Mr,use:ja,useCallback:So,useContext:Mr,useEffect:yo,useImperativeHandle:To,useInsertionEffect:bo,useLayoutEffect:xo,useMemo:Mo,useReducer:Ga,useRef:fo,useState:function(){return Ga(qa)},useDebugValue:_o,useDeferredValue:function(e,t){return Co(Ua(),ba.memoizedState,e,t)},useTransition:function(){var e=Ga(qa)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Qa,useId:ko,useHostTransitionStatus:Lo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Ua(),0,e,t)},useMemoCache:za,useCacheRefresh:Bo},Yo={readContext:Mr,use:ja,useCallback:So,useContext:Mr,useEffect:yo,useImperativeHandle:To,useInsertionEffect:bo,useLayoutEffect:xo,useMemo:Mo,useReducer:Wa,useRef:fo,useState:function(){return Wa(qa)},useDebugValue:_o,useDeferredValue:function(e,t){var n=Ua();return null===ba?Eo(n,e,t):Co(n,ba.memoizedState,e,t)},useTransition:function(){var e=Wa(qa)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Qa,useId:ko,useHostTransitionStatus:Lo,useFormState:po,useActionState:po,useOptimistic:function(e,t){var n=Ua();return null!==ba?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:za,useCacheRefresh:Bo},Xo=null,Ko=0;function Zo(e){var t=Ko;return Ko+=1,null===Xo&&(Xo=[]),Zr(Xo,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $o(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Oi(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===A?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&es(a)===t.type)?(Jo(t=r(t,n.props),n),t.return=e,t):(Jo(t=Vi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=ji(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Jo(n=Vi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=qi(t,e.mode,n)).return=e,t;case M:return h(e,t=(0,t._init)(t._payload),n)}if(I(t)||N(t))return(t=ji(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Zo(t),n);if(t.$$typeof===x)return h(e,Er(e,t),n);$o(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?c(e,t,n,i):null;case f:return n.key===r?u(e,t,n,i):null;case M:return p(e,t,n=(r=n._init)(n._payload),i)}if(I(n)||N(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,Zo(n),i);if(n.$$typeof===x)return p(e,t,Er(e,n),i);$o(e,n)}return null}function g(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case m:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case f:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return g(e,t,n,i=(0,i._init)(i._payload),r)}if(I(i)||N(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return g(e,t,n,Zo(i),r);if(i.$$typeof===x)return g(e,t,n,Er(t,i),r);$o(t,i)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===A&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===A){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===M&&es(y)===c.type){n(l,c.sibling),Jo(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===A?((d=ji(u.props.children,l.mode,d,u.key)).return=l,l=d):(Jo(d=Vi(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case f:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qi(u,l.mode,d)).return=l,l=d}return s(l);case M:return v(l,c,u=(y=u._init)(u._payload),d)}if(I(u))return function(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,f=null;null!==d&&m<s.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var A=p(r,d,s[m],l);if(null===A){null===d&&(d=f);break}e&&d&&null===A.alternate&&t(r,d),o=a(A,o,m),null===u?c=A:u.sibling=A,u=A,d=f}if(m===s.length)return n(r,d),ar&&$i(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return ar&&$i(r,m),c}for(d=i(d);m<s.length;m++)null!==(f=g(d,r,m,s[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),o=a(f,o,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),ar&&$i(r,m),c}(l,c,u,d);if(N(u)){if("function"!==typeof(y=N(u)))throw Error(o(150));return function(r,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,m=s,f=s=0,A=null,v=l.next();null!==m&&!v.done;f++,v=l.next()){m.index>f?(A=m,m=null):A=m.sibling;var y=p(r,m,v.value,c);if(null===y){null===m&&(m=A);break}e&&m&&null===y.alternate&&t(r,m),s=a(y,s,f),null===d?u=y:d.sibling=y,d=y,m=A}if(v.done)return n(r,m),ar&&$i(r,f),u;if(null===m){for(;!v.done;f++,v=l.next())null!==(v=h(r,v.value,c))&&(s=a(v,s,f),null===d?u=v:d.sibling=v,d=v);return ar&&$i(r,f),u}for(m=i(m);!v.done;f++,v=l.next())null!==(v=g(m,r,f,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),s=a(v,s,f),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(r,e)}),ar&&$i(r,f),u}(l,c,u=y.call(u),d)}if("function"===typeof u.then)return v(l,c,Zo(u),d);if(u.$$typeof===x)return v(l,c,Er(l,u),d);$o(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=zi(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,i){try{Ko=0;var r=v(e,t,n,i);return Xo=null,r}catch(o){if(o===Hr||o===Qr)throw o;var a=Bi(29,o,null,e.mode);return a.lanes=i,a.return=e,a}}}var ns=ts(!0),is=ts(!1),rs=U(null),as=null;function os(e){var t=e.alternate;j(us,1&us.current),j(rs,e),null===as&&(null===t||null!==pa.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(j(us,us.current),j(rs,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){j(us,us.current),j(rs,rs.current)}function cs(e){V(rs),as===e&&(as=null),V(us)}var us=U(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||Ad(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Lc(),r=ra(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=aa(e,r,i))&&(Bc(t,e,i),oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Lc(),r=ra(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=aa(e,r,i))&&(Bc(t,e,i),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),i=ra(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=aa(e,i,n))&&(Bc(t,e,n),oa(t,e,n))}};function ms(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,i)||!Kn(r,a))}function fs(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function As(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=h({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var gs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){gs(e)}function ys(e){console.error(e)}function bs(e){gs(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ws(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ts(e,t,n){return(n=ra(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function _s(e){return(e=ra(e)).tag=3,e}function Ss(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){ws(t,n,i)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ws(t,n,i),"function"!==typeof r&&(null===_c?_c=new Set([this]):_c.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ms=Error(o(461)),Es=!1;function Cs(e,t,n,i){t.child=null===e?is(t,null,n,i):ns(t,e.child,n,i)}function Ps(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var o={};for(var s in i)"ref"!==s&&(o[s]=i[s])}else o=i;return Sr(t),i=Ra(e,t,n,o,a,r),s=ka(),null===e||Es?(ar&&s&&tr(t),t.flags|=1,Cs(e,t,i,r),t.child):(Ba(e,t,r),Xs(e,t,r))}function Ns(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Fi(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Rs(e,t,a,i,r))}if(a=e.child,!Ks(e,r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(o,i)&&e.ref===t.ref)return Xs(e,t,r)}return t.flags|=1,(e=Oi(a,i)).ref=t.ref,e.return=t,t.child=e}function Rs(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(Kn(a,i)&&e.ref===t.ref){if(Es=!1,t.pendingProps=i=a,!Ks(e,r))return t.lanes=e.lanes,Xs(e,t,r);0!==(131072&e.flags)&&(Es=!0)}}return ks(e,t,n,i,r)}function Ds(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Is(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Is(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qr(0,null!==a?a.cachePool:null),null!==a?fa(t,a):Aa(),ss(t)}else null!==a?(qr(0,a.cachePool),fa(t,a),ls(),t.memoizedState=null):(null!==e&&qr(0,null),Aa(),ls());return Cs(e,t,r,n),t.child}function Is(e,t,n,i){var r=zr();return r=null===r?null:{parent:Dr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&qr(0,null),Aa(),ss(t),null!==e&&Tr(e,t,i,!0),null}function Ls(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function ks(e,t,n,i,r){return Sr(t),n=Ra(e,t,n,i,void 0,r),i=ka(),null===e||Es?(ar&&i&&tr(t),t.flags|=1,Cs(e,t,n,r),t.child):(Ba(e,t,r),Xs(e,t,r))}function Bs(e,t,n,i,r,a){return Sr(t),t.updateQueue=null,n=Ia(t,i,n,r),Da(e),i=ka(),null===e||Es?(ar&&i&&tr(t),t.flags|=1,Cs(e,t,n,a),t.child):(Ba(e,t,a),Xs(e,t,a))}function Fs(e,t,n,i,r){if(Sr(t),null===t.stateNode){var a=Li,o=n.contextType;"object"===typeof o&&null!==o&&(a=Mr(o)),a=new n(i,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ps,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},na(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Mr(o):Li,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(hs(t,n,o,i),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ps.enqueueReplaceState(a,a.state,null),ua(t,i,a,r),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=As(n,s);a.props=l;var c=a.context,u=n.contextType;o=Li,"object"===typeof u&&null!==u&&(o=Mr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&fs(t,a,i,o),ta=!1;var h=t.memoizedState;a.state=h,ua(t,i,a,r),ca(),c=t.memoizedState,s||h!==c||ta?("function"===typeof d&&(hs(t,n,d,i),c=t.memoizedState),(l=ta||ms(t,n,l,i,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=o,i=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ia(e,t),u=As(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Li,"object"===typeof c&&null!==c&&(l=Mr(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&fs(t,a,i,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,i,a,r),ca();var p=t.memoizedState;o!==d||h!==p||ta||null!==e&&null!==e.dependencies&&_r(e.dependencies)?("function"===typeof s&&(hs(t,n,s,i),p=t.memoizedState),(u=ta||ms(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&_r(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Ls(e,t),i=0!==(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)):Cs(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Xs(e,t,r),e}function Os(e,t,n,i){return pr(),t.flags|=256,Cs(e,t,n,i),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vs(e){return{baseLanes:e,cachePool:Gr()}}function js(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function zs(e,t,n){var i,r=t.pendingProps,a=!1,s=0!==(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),i&&(a=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(ar){if(a?os(t):ls(),ar){var l,c=rr;if(l=c){e:{for(l=c,c=sr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=gd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ki?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Bi(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return Ad(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=r.children,r=r.fallback,a?(ls(),c=Gs({mode:"hidden",children:c},a=t.mode),r=ji(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(a=t.child).memoizedState=Vs(n),a.childLanes=js(e,i,n),t.memoizedState=Us,r):(os(t),qs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Hs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=r.fallback,c=t.mode,r=Gs({mode:"visible",children:r.children},c),(a=ji(a,c,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ns(t,e.child,null,n),(r=t.child).memoizedState=Vs(n),r.childLanes=js(e,i,n),t.memoizedState=Us,t=a);else if(os(t),Ad(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(o(419))).stack="",r.digest=i,fr({value:r,source:null,stack:null}),t=Hs(e,t,n)}else if(Es||Tr(e,t,n,!1),i=0!==(n&e.childLanes),Es||i){if(null!==(i=ic)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ce(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ri(e,r),Bc(i,e,r),Ms;"$?"===c.data||Qc(),t=Hs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=gd(c.nextSibling),ir=t,ar=!0,or=null,sr=!1,null!==e&&(Yi[Xi++]=Zi,Yi[Xi++]=Ji,Yi[Xi++]=Ki,Zi=e.id,Ji=e.overflow,Ki=t),(t=qs(t,r.children)).flags|=4096);return t}return a?(ls(),a=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Oi(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Oi(u,a):(a=ji(a,c,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,null===(c=e.child.memoizedState)?c=Vs(n):(null!==(l=c.cachePool)?(u=Dr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Gr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=js(e,i,n),t.memoizedState=Us,r):(os(t),e=(n=e.child).sibling,(n=Oi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function qs(e,t){return(t=Gs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Gs(e,t){return(e=Bi(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,n){return ns(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),xr(e.return,t,n)}function Qs(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Ys(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Cs(e,t,i.children,n),0!==(2&(i=us.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(j(us,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Qs(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ds(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Qs(t,!0,n,null,a);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Tr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_r(e))}function Zs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Es=!0;else{if(!Ks(e,n)&&0===(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),yr(0,Dr,e.memoizedState.cache),pr();break;case 27:case 5:Y(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:yr(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(os(t),null!==(e=Xs(e,t,n))?e.sibling:null);os(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Tr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return Ys(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),j(us,us.current),i)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n);case 24:yr(0,Dr,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Es=0!==(131072&e.flags)}else Es=!1,ar&&0!==(1048576&t.flags)&&er(t,Qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===w){t.tag=11,t=Ps(null,t,i,e,n);break e}if(r===S){t.tag=14,t=Ns(null,t,i,e,n);break e}}throw t=D(i)||i,Error(o(306,t,""))}Fi(i)?(e=As(i,e),t.tag=1,t=Fs(null,t,i,e,n)):(t.tag=0,t=ks(null,t,i,e,n))}return t;case 0:return ks(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,i=t.type,r=As(i,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,ia(e,t),ua(t,i,null,n);var s=t.memoizedState;if(i=s.cache,yr(0,Dr,i),i!==a.cache&&wr(t,[Dr],n,!0),ca(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,i,n);break e}if(i!==r){fr(r=_i(Error(o(424)),t)),t=Os(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=gd(e.firstChild),ir=t,ar=!0,or=null,sr=!0,n=is(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),i===r){t=Xs(e,t,n);break e}Cs(e,t,i,n)}t=t.child}return t;case 26:return Ls(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ar||(n=t.type,e=t.pendingProps,(i=id(G.current).createElement(n))[De]=t,i[Ie]=e,ed(i,n,e),He(i),t.stateNode=i):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ar&&(i=t.stateNode=bd(t.type,t.pendingProps,G.current),ir=t,sr=!0,r=rr,pd(t.type)?(vd=r,rr=gd(i.firstChild)):rr=r),Cs(e,t,t.pendingProps.children,n),Ls(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ar&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=gd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,sr))?(t.stateNode=i,ir=t,rr=gd(i.firstChild),sr=!1,r=!0):r=!1),r||cr(t)),Y(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,od(r,a)?i=null:null!==s&&od(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=Ra(e,t,La,null,null,n),Yd._currentValue=r),Ls(e,t),Cs(e,t,i,n),t.child;case 6:return null===e&&ar&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,sr))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return zs(e,t,n);case 4:return W(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ns(t,null,i,n):Cs(e,t,i,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,yr(0,t.type,i.value),Cs(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Sr(t),i=i(r=Mr(r)),t.flags|=1,Cs(e,t,i,n),t.child;case 14:return Ns(e,t,t.type,t.pendingProps,n);case 15:return Rs(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Gs(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Oi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ds(e,t,n);case 24:return Sr(t),i=Mr(Dr),null===e?(null===(r=zr())&&(r=ic,a=Ir(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},na(t),yr(0,Dr,r)):(0!==(e.lanes&n)&&(ia(e,t),ua(t,null,null,n),ca()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),yr(0,Dr,i)):(i=a.cache,yr(0,Dr,i),i!==r.cache&&wr(t,[Dr],n,!0))),Cs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function $s(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!jd(t)){if(null!==(t=rs.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Jr=Yr,Wr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,gc|=t)}function tl(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),br(Dr),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),$s(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),$s(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Js(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=G.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Js(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=z.current,hr(t)?ur(t):(e=bd(r,i,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Js(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=z.current,hr(t))ur(t);else{switch(r=id(G.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[De]=t,e[Ie]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Js(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=G.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Ku(e.nodeValue,n)))||cr(t)}else(e=id(e).createTextNode(i))[De]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[De]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=mr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return Q(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return br(t.type),nl(t),null;case 19:if(V(us),null===(r=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)tl(r,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(r,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ui(n,e),n=n.sibling;return j(us,1&us.current|2),t.child}e=e.sibling}null!==r.tail&&te()>wc&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ds(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ar)return nl(t),null}else 2*te()-r.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=us.current,j(us,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),ga(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&V(jr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),br(Dr),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Dr),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(us),null;case 4:return Q(),null;case 10:return br(t.type),null;case 22:case 23:return cs(t),ga(),null!==e&&V(jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Dr),null;default:return null}}function al(e,t){switch(nr(t),t.tag){case 3:br(Dr),Q();break;case 26:case 27:case 5:X(t);break;case 4:Q();break;case 13:cs(t);break;case 19:V(us);break;case 10:br(t.type);break;case 22:case 23:cs(t),ga(),null!==e&&V(jr);break;case 24:br(Dr)}}function ol(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,o=n.inst;i=a(),o.destroy=i}n=n.next}while(n!==r)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var o=i.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,r=t;var l=n,c=s;try{c()}catch(u){uu(r,l,u)}}}i=i.next}while(i!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(i){uu(e,e.return,i)}}}function cl(e,t,n){n.props=As(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){uu(e,t,i)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){uu(e,t,r)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||Ju(e,t,m,null,i,h)}}for(var p in i){var m=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":a=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:m!==h&&Ju(e,t,p,m,i,h)}}return void At(e,s,l,c,u,d,a,r);case"select":for(a in m=s=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(a)||Ju(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Ju(e,t,r,a,i,c)}return t=l,n=s,i=m,void(null!=p?yt(e,!!n,p,!1):!!i!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=r||null!=a))switch(s){case"value":p=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==a&&Ju(e,t,s,r,i,a)}return void bt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Ju(e,t,f,null,i,p);for(c in i)if(p=i[c],m=n[c],i.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ju(e,t,c,p,i,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)p=n[A],n.hasOwnProperty(A)&&null!=p&&!i.hasOwnProperty(A)&&Ju(e,t,A,null,i,p);for(u in i)if(p=i[u],m=n[u],i.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:Ju(e,t,u,p,i,m)}return;default:if(Mt(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!i.hasOwnProperty(g)&&$u(e,t,g,void 0,i,p);for(d in i)p=i[d],m=n[d],!i.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||$u(e,t,d,p,i,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&Ju(e,t,v,null,i,p);for(h in i)p=i[h],m=n[h],!i.hasOwnProperty(h)||p===m||null==p&&null==m||Ju(e,t,h,p,i,m)}(i,e.type,n,t),i[Ie]=t}catch(r){uu(e,e.return,r)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Al(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zu));else if(4!==i&&(27===i&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,i,n),t[De]=e,t[Ie]=n}catch(a){uu(e,e.return,a)}}var yl=!1,bl=!1,xl=!1,wl="function"===typeof WeakSet?WeakSet:Set,Tl=null;function _l(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&i&&ol(5,n);break;case 1:if(Fl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var r=As(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&i&&ll(n),512&i&&ul(n,n.return);break;case 3:if(Fl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&i&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&i&&hl(n),512&i&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&i&&Nl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=mu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||bl,r=yl;var a=bl;yl=i,(bl=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),yl=r,bl=a}break;case 30:break;default:Fl(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,El=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:bl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var i=Ml,r=El;pd(n.type)&&(Ml=n.stateNode,El=!1),Cl(e,t,n),xd(n.stateNode),Ml=i,El=r;break;case 5:bl||dl(n,t);case 6:if(i=Ml,r=El,Ml=null,Cl(e,t,n),El=r,null!==(Ml=i))if(El)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Ml.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Ml&&(El?(md(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):md(Ml,n.stateNode));break;case 4:i=Ml,r=El,Ml=n.stateNode.containerInfo,El=!0,Cl(e,t,n),Ml=i,El=r;break;case 0:case 11:case 14:case 15:bl||sl(2,n,t),bl||sl(4,n,t),Cl(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,t,i)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:bl=(i=bl)||null!==n.memoizedState,Cl(e,t,n),bl=i;break;default:Cl(e,t,n)}}function Nl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var i=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Ml=l.stateNode,El=!1;break e}break;case 5:Ml=l.stateNode,El=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Ml)throw Error(o(160));Pl(a,s,r),Ml=null,El=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Il=null;function Ll(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),kl(e),4&i&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Dl(t,e),kl(e),512&i&&(bl||null===n||dl(n,n.return)),64&i&&yl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Il;if(Dl(t,e),kl(e),512&i&&(bl||null===n||dl(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Ue]||a[De]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ed(a,i,n),a[De]=e,He(a),i=a;break e;case"link":var s=Ud("link","href",r).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(s=Ud("meta","content",r).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(o(468,i))}a[De]=e,He(a),i=a}e.stateNode=i}else Vd(r,e.type,e.stateNode);else e.stateNode=Ld(r,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?Vd(r,e.type,e.stateNode):Ld(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),kl(e),512&i&&(bl||null===n||dl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),kl(e),512&i&&(bl||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{wt(r,"")}catch(m){uu(e,e.return,m)}}4&i&&null!=e.stateNode&&pl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(xl=!0);break;case 6:if(Dl(t,e),kl(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){uu(e,e.return,m)}}break;case 3:if(Od=null,r=Il,Il=_d(t.containerInfo),Dl(t,e),Il=r,kl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){uu(e,e.return,m)}xl&&(xl=!1,Bl(e));break;case 4:i=Il,Il=_d(e.stateNode.containerInfo),Dl(t,e),kl(e),Il=i;break;case 12:default:Dl(t,e),kl(e);break;case 13:Dl(t,e),kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Rl(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=yl,d=bl;if(yl=u||r,bl=d||c,Dl(t,e),bl=d,yl=u,kl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||yl||bl||Ol(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,r)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Rl(e,n))));break;case 19:Dl(t,e),kl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Rl(e,i)));case 30:case 21:}}function kl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(ml(i)){n=i;break}i=i.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode;gl(e,fl(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(wt(a,""),n.flags&=-33),gl(e,fl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Al(e,fl(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Bl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Ol(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ol(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ol(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Ol(t);break;case 22:null===t.memoizedState&&Ol(t);break;default:Ol(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(r,a,n),ol(4,a);break;case 1:if(Ul(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var s=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)da(l[r],s)}catch(c){uu(i,i.return,c)}}n&&64&o&&ll(a),ul(a,a.return);break;case 27:vl(a);case 26:case 5:Ul(r,a,n),n&&null===i&&4&o&&hl(a),ul(a,a.return);break;case 12:Ul(r,a,n);break;case 13:Ul(r,a,n),n&&4&o&&Nl(r,a);break;case 22:null===a.memoizedState&&Ul(r,a,n),ul(a,a.return);break;case 30:break;default:Ul(r,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Lr(n))}function jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lr(e))}function zl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,i),t=t.sibling}function ql(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:zl(e,t,n,i),2048&r&&ol(9,t);break;case 1:case 13:default:zl(e,t,n,i);break;case 3:zl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lr(e)));break;case 12:if(2048&r){zl(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else zl(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?zl(e,t,n,i):Hl(e,t):2&a._visibility?zl(e,t,n,i):(a._visibility|=2,Gl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Vl(o,t);break;case 24:zl(e,t,n,i),2048&r&&jl(t.alternate,t)}}function Gl(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:Gl(a,o,s,l,r),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Gl(a,o,s,l,r):Hl(a,o):(u._visibility|=2,Gl(a,o,s,l,r)),r&&2048&c&&Vl(o.alternate,o);break;case 24:Gl(a,o,s,l,r),r&&2048&c&&jl(o.alternate,o);break;default:Gl(a,o,s,l,r)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Hl(n,i),2048&r&&Vl(i.alternate,i);break;case 24:Hl(n,i),2048&r&&jl(i.alternate,i);break;default:Hl(n,i)}t=t.sibling}}var Wl=8192;function Ql(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Ql(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===zd)throw Error(o(475));var i=zd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Pd(n.href),a=e.querySelector(Nd(r));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Gd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void He(a);a=e.ownerDocument||e,n=Rd(n),(r=wd.get(r))&&Bd(n,r),He(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Gd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Il,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Il;Il=_d(e.stateNode.containerInfo),Ql(e),Il=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Ql(e),Wl=t):Ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Kl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Tl=i,$l(i,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Kl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Kl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Kl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Tl=i,$l(i,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function $l(e,t){for(;null!==Tl;){var n=Tl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Lr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Tl=i;else e:for(n=e;null!==Tl;){var r=(i=Tl).sibling,a=i.return;if(Sl(i),i===n){Tl=null;break e}if(null!==r){r.return=a,Tl=r;break e}Tl=a}}}var ec={getCacheForType:function(e){var t=Mr(Dr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,rc=null,ac=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,mc=0,fc=0,Ac=0,gc=0,vc=null,yc=null,bc=!1,xc=0,wc=1/0,Tc=null,_c=null,Sc=0,Mc=null,Ec=null,Cc=0,Pc=0,Nc=null,Rc=null,Dc=0,Ic=null;function Lc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==L.T){return 0!==Fr?Fr:Pu()}return Ne()}function kc(){0===Ac&&(Ac=0===(536870912&ac)||ar?we():536870912);var e=rs.current;return null!==e&&(e.flags|=32),Ac}function Bc(e,t,n){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,ac,Ac,!1)),Se(e,n),0!==(2&nc)&&e===ic||(e===ic&&(0===(2&nc)&&(mc|=n),4===hc&&Vc(e,ac,Ac,!1)),wu(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),r=i?function(e,t){var n=nc;nc|=2;var i=Hc(),r=Wc();ic!==e||ac!==t?(Tc=null,wc=te()+500,qc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==oc&&null!==rc){t=rc;var a=sc;t:switch(oc){case 1:oc=0,sc=null,$c(e,t,a,1);break;case 2:case 9:if(Xr(a)){oc=0,sc=null,Jc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),wu(e)},a.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Xr(a)?(oc=0,sc=null,Jc(t)):(oc=0,sc=null,$c(e,t,a,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var l=rc;if(!s||jd(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,eu(u)):rc=null}break t}}oc=0,sc=null,$c(e,t,a,5);break;case 6:oc=0,sc=null,$c(e,t,a,6);break;case 8:zc(),hc=6;break e;default:throw Error(o(462))}}Kc();break}catch(d){Gc(e,d)}return vr=gr=null,L.H=i,L.A=r,nc=n,null!==rc?0:(ic=null,ac=0,Ci(),hc)}(e,t):Yc(e,t,!0),a=i;;){if(0===r){cc&&!i&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||Uc(n)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;r=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,r=4;break e}a=yc,yc=r,null!==a&&(null===yc?yc=a:yc.push.apply(yc,a))}r=s}if(a=!1,2!==r)continue}}if(1===r){qc(e,0),Vc(e,t,0,!0);break}e:{switch(i=e,a=r){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Vc(i,t,Ac,!lc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(r=xc+300-te())){if(Vc(i,t,Ac,!lc),0!==ye(i,0,!0))break e;i.timeoutHandle=ld(Oc.bind(null,i,n,yc,Tc,bc,t,Ac,mc,gc,lc,a,2,-0,0),r)}else Oc(i,n,yc,Tc,bc,t,Ac,mc,gc,lc,a,0,-0,0)}break}r=Yc(e,t,!1),a=!1}wu(e)}function Oc(e,t,n,i,r,a,s,l,c,u,d,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(zd={stylesheets:null,count:0,unsuspend:qd},Yl(t),null!==(h=function(){if(null===zd)throw Error(o(475));var e=zd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,i,r,s,l,c,d,1,p,m)),void Vc(e,a,s,!u);nu(e,t,a,n,i,r,s,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Xn(a(),r))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,i){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-pe(r),o=1<<a;i[a]=-1,r&=~o}0!==n&&Me(e,n,t)}function jc(){return 0!==(6&nc)||(Tu(0,!1),!1)}function zc(){if(null!==rc){if(0===oc)var e=rc.return;else vr=gr=null,Fa(e=rc),Xo=null,Ko=0,e=rc;for(;null!==e;)al(e.alternate,e),e=e.return;rc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),ic=e,rc=n=Oi(e.current,null),ac=t,oc=0,sc=null,lc=!1,cc=be(e,t),uc=!1,gc=Ac=fc=mc=pc=hc=0,yc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-pe(i),a=1<<r;t|=e[r],i&=~a}return dc=t,Ci(),n}function Gc(e,t){ya=null,L.H=Ho,t===Hr||t===Qr?(t=$r(),oc=3):t===Wr?(t=$r(),oc=4):oc=t===Ms?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===rc&&(hc=1,xs(e,_i(t,e.current)))}function Hc(){var e=L.H;return L.H=Ho,null===e?Ho:e}function Wc(){var e=L.A;return L.A=ec,e}function Qc(){hc=4,lc||(4194048&ac)!==ac&&null!==rs.current||(cc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||Vc(ic,ac,Ac,!1)}function Yc(e,t,n){var i=nc;nc|=2;var r=Hc(),a=Wc();ic===e&&ac===t||(Tc=null,qc(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==rc){var s=rc,l=sc;switch(oc){case 8:zc(),o=6;break e;case 3:case 2:case 9:case 6:null===rs.current&&(t=!0);var c=oc;if(oc=0,sc=null,$c(e,s,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,$c(e,s,l,c)}}Xc(),o=hc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,vr=gr=null,nc=i,L.H=r,L.A=a,null===rc&&(ic=null,ac=0,Ci()),o}function Xc(){for(;null!==rc;)Zc(rc)}function Kc(){for(;null!==rc&&!$();)Zc(rc)}function Zc(e){var t=Zs(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bs(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Bs(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Fa(t);default:al(n,t),t=Zs(n,t=rc=Ui(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function $c(e,t,n,i){vr=gr=null,Fa(t),Xo=null,Ko=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Tr(t,n,r,!0),null!==(n=rs.current)){switch(n.tag){case 13:return null===as?Qc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Yr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),du(e,i,r)),!1;case 22:return n.flags|=65536,i===Yr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),du(e,i,r)),!1}throw Error(o(435,n.tag))}return du(e,i,r),Qc(),!1}if(ar)return null!==(t=rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&fr(_i(e=Error(o(422),{cause:i}),n))):(i!==lr&&fr(_i(t=Error(o(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=_i(i,n),sa(e,r=Ts(e.stateNode,i,r)),4!==hc&&(hc=2)),!1;var a=Error(o(520),{cause:i});if(a=_i(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;i=_i(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,sa(n,e=Ts(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===_c||!_c.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Ss(r=_s(r),e,n,i),sa(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ac))return hc=1,xs(e,_i(n,e.current)),void(rc=null)}catch(a){if(null!==r)throw rc=r,a;return hc=1,xs(e,_i(n,e.current)),void(rc=null)}32768&t.flags?(ar||1===i?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=rs.current)&&13===i.tag&&(i.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);hc=6,rc=null}function nu(e,t,n,i,r,a,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Sc);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,i,r,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-pe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&Me(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Ei,s,l,c),e===ic&&(rc=ic=null,ac=0),Ec=t,Mc=e,Cc=n,Pc=a,Nc=r,Rc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=L.T,L.T=null,r=k.p,k.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(A){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==a||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===a&&++d===i&&(c=s),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Tl=t;null!==Tl;)if(e=(t=Tl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Tl=e;else for(;null!==Tl;){switch(a=(t=Tl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var f=As(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(f,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(g){uu(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Tl=e;break}Tl=t.return}}(e,t)}finally{nc=s,k.p=r,L.T=i}}Sc=1,iu(),ru(),au()}}function iu(){if(1===Sc){Sc=0;var e=Mc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var i=k.p;k.p=2;var r=nc;nc|=4;try{Ll(t,e);var a=nd,o=ei(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&$n(s.ownerDocument.documentElement,s)){if(null!==l&&ti(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=s.textContent.length,f=Math.min(l.start,m),A=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>A&&(o=A,A=f,f=o);var g=Jn(s,f),v=Jn(s,A);if(g&&v&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(g.node,g.offset),p.removeAllRanges(),f>A?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=r,k.p=i,L.T=n}}e.current=t,Sc=2}}function ru(){if(2===Sc){Sc=0;var e=Mc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var i=k.p;k.p=2;var r=nc;nc|=4;try{_l(e,t.alternate,t)}finally{nc=r,k.p=i,L.T=n}}Sc=3}}function au(){if(4===Sc||3===Sc){Sc=0,ee();var e=Mc,t=Ec,n=Cc,i=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Mc=null,ou(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(_c=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=L.T,r=k.p,k.p=2,L.T=null;try{for(var a=e.onRecoverableError,o=0;o<i.length;o++){var s=i[o];a(s.value,{componentStack:s.stack})}}finally{L.T=t,k.p=r}}0!==(3&Cc)&&su(),wu(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Ic?Dc++:(Dc=0,Ic=e):Dc=0,Tu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Lr(t)))}function su(e){return iu(),ru(),au(),lu()}function lu(){if(5!==Sc)return!1;var e=Mc,t=Pc;Pc=0;var n=Pe(Cc),i=L.T,r=k.p;try{k.p=32>n?32:n,L.T=null,n=Nc,Nc=null;var a=Mc,s=Cc;if(Sc=0,Ec=Mc=null,Cc=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,Zl(a.current),ql(a,a.current,s,n),nc=l,Tu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{k.p=r,L.T=i,ou(e,t)}}function cu(e,t,n){t=_i(n,t),null!==(e=aa(e,t=Ts(e.stateNode,t,2),2))&&(Se(e,2),wu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===_c||!_c.has(i))){e=_i(n,e),null!==(i=aa(t,n=_s(2),2))&&(Ss(n,i,t,e),Se(i,2),wu(i));break}}t=t.return}}function du(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(uc=!0,r.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-xc?0===(2&nc)&&qc(e,0):fc|=n,gc===ac&&(gc=0)),wu(e)}function pu(e,t){0===t&&(t=Te()),null!==(e=Ri(e,t))&&(Se(e,t),wu(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),pu(e,n)}var Au=null,gu=null,vu=!1,yu=!1,bu=!1,xu=0;function wu(e){e!==gu&&null===e.next&&(null===gu?Au=gu=e:gu=gu.next=e),yu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?Z(ie,_u):Su()}))}function Tu(e,t){if(!bu&&yu){bu=!0;do{for(var n=!1,i=Au;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var o=i.suspendedLanes,s=i.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=r&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cu(i,a))}else a=ac,0===(3&(a=ye(i,i===ic?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,a)||(n=!0,Cu(i,a));i=i.next}}while(n);bu=!1}}function _u(){Su()}function Su(){yu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,i=Au;null!==i;){var r=i.next,a=Mu(i,t);0===a?(i.next=null,null===n?Au=r:n.next=r,null===r&&(gu=n)):(n=i,(0!==e||0!==(3&a))&&(yu=!0)),i=r}Tu(e,!1)}function Mu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-pe(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=xe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ac,n=ye(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&J(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&J(i),Pe(n)){case 2:case 8:n=re;break;case 32:default:n=ae;break;case 268435456:n=se}return i=Eu.bind(null,e),n=Z(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&J(i),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var i=ac;return 0===(i=ye(e,e===ic?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,i,t),Mu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Cu(e,t){if(su())return null;Fc(e,t,!0)}function Pu(){return 0===xu&&(xu=we()),xu}function Nu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<xi.length;Du++){var Iu=xi[Du];wi(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}wi(pi,"onAnimationEnd"),wi(mi,"onAnimationIteration"),wi(fi,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Ai,"onTransitionRun"),wi(gi,"onTransitionStart"),wi(vi,"onTransitionCancel"),wi(yi,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Bu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){gs(u)}r.currentTarget=null,a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){gs(u)}r.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[ke];void 0===n&&(n=t[ke]=new Set);var i=e+"__bubble";n.has(i)||(ju(t,e,2,!1),n.add(i))}function Ou(e,t,n){var i=0;t&&(i|=4),ju(n,e,i,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,We.forEach(function(t){"selectionchange"!==t&&(ku.has(t)||Ou(t,!1,e),Ou(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Ou("selectionchange",!1,t))}}function ju(e,t,n,i){switch(ch(t)){case 2:var r=ih;break;case 8:r=rh;break;default:r=ah}n=r.bind(null,t,n,e),r=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zu(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==s;){if(null===(o=je(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=a=o;continue e}s=s.parentNode}}i=i.return}Bt(function(){var i=a,r=Rt(n),o=[];e:{var s=bi.get(e);if(void 0!==s){var c=$t,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case pi:case mi:case fi:c=sn;break;case yi:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var m,f=i;null!==f;){var A=f;if(m=A.stateNode,5!==(A=A.tag)&&26!==A&&27!==A||null===m||null===p||null!=(A=Ft(f,p))&&d.push(qu(f,A,m)),h)break;f=f.return}0<d.length&&(s=new c(s,u,null,n,r),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!je(u)&&!u[Le])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=rn,A="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,A="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?s:qe(c),m=null==u?s:qe(u),(s=new d(A,f+"leave",c,n,r)).target=h,s.relatedTarget=m,A=null,je(r)===i&&((d=new d(p,f+"enter",u,n,r)).target=m,d.relatedTarget=h,A=d),h=A,c&&u)e:{for(p=u,f=0,m=d=c;m;m=Hu(m))f++;for(m=0,A=p;A;A=Hu(A))m++;for(;0<f-m;)d=Hu(d),f--;for(;0<m-f;)p=Hu(p),m--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hu(d),p=Hu(p)}d=null}else d=null;null!==c&&Wu(o,s,c,d,!1),null!==u&&null!==h&&Wu(o,h,u,d,!0)}if("select"===(c=(s=i?qe(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=On;else if(Dn(s))if(Un)g=Yn;else{g=Wn;var v=Hn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?i&&Mt(i.elementType)&&(g=On):g=Qn;switch(g&&(g=g(e,i))?In(o,g,n,r):(v&&v(e,s,i),"focusout"===e&&i&&"number"===s.type&&null!=i.memoizedProps.value&&vt(s,"number",s.value)),v=i?qe(i):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(ii=v,ri=i,ai=null);break;case"focusout":ai=ri=ii=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,si(o,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":si(o,n,r)}var y;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nn?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Nn&&(y=Gt()):(zt="value"in(jt=r)?jt.value:jt.textContent,Nn=!0)),0<(v=Gu(i,b)).length&&(b=new cn(b,e,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Pn(n))&&(b.data=y))),(y=_n?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(En=!0,Mn);case"textInput":return(e=t.data)===Mn&&En?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!wn&&Cn(e,t)?(e=Gt(),qt=zt=jt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Gu(i,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,r),o.push({event:v,listeners:b}),v.data=y)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var a=Nu((r[Ie]||null).action),o=i.submitter;o&&null!==(t=(t=o[Ie]||null)?Nu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new $t("action","action",null,i,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==xu){var e=o?Ru(r,o):new FormData(r);Ro(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Ru(r,o):new FormData(r),Ro(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(o,e,i,n,r)}Bu(o,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Ft(e,n))&&i.unshift(qu(e,r,a)),null!=(r=Ft(e,t))&&i.push(qu(e,r,a))),3===e.tag)return i;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===i)break;5!==s&&26!==s&&27!==s||null===c||(l=c,r?null!=(c=Ft(n,a))&&o.unshift(qu(n,c,l)):r||null!=(c=Ft(n,a))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function Ku(e,t){return t=Xu(t),Xu(e)===t}function Zu(){}function Ju(e,t,n,i,r,a){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||wt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&wt(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":St(e,i,a);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Ju(e,t,"name",r.name,r,null),Ju(e,t,"formEncType",r.formEncType,r,null),Ju(e,t,"formMethod",r.formMethod,r,null),Ju(e,t,"formTarget",r.formTarget,r,null)):(Ju(e,t,"encType",r.encType,r,null),Ju(e,t,"method",r.method,r,null),Ju(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Zu);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Pt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,i)}}function $u(e,t,n,i,r,a){switch(n){case"style":St(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof i?wt(e,i):("number"===typeof i||"bigint"===typeof i)&&wt(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ie]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,i,s,n,null)}}return a&&Ju(e,t,"srcSet",n.srcSet,n,null),void(r&&Ju(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,r,d,n,null)}}return gt(e,i,l,c,u,s,a,!1),void dt(e);case"select":for(a in Fu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:Ju(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=n&&yt(e,!!r,n,!0));case"textarea":for(s in Fu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Ju(e,t,s,l,n,null)}return xt(e,r,a,i),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Ju(e,t,c,r,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(r=0;r<Lu.length;r++)Fu(Lu[r],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,r,n,null)}return;default:if(Mt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&$u(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Ju(e,t,l,r,n,null))}var td=null,nd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function md(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<i&&8>i){n=i;var o=e.ownerDocument;if(1&n&&xd(o.documentElement),2&n&&xd(o.body),4&n)for(xd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===r)return e.removeChild(a),void Eh(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);Eh(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var wd=new Map,Td=new Set;function _d(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=k.d;k.d={f:function(){var e=Sd.f(),t=jc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Io(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var i=Md;if(i&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ft(n.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var a=r;switch(t){case"style":a=Pd(e);break;case"script":a=Dd(e)}wd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wd.set(a,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Nd(a))||"script"===t&&i.querySelector(Id(a))||(ed(t=i.createElement("link"),"link",e),He(t),i.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Md;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dd(e)}if(!wd.has(a)&&(e=h({rel:"modulepreload",href:e},t),wd.set(a,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Id(a)))return}ed(i=n.createElement("link"),"link",e),He(i),n.head.appendChild(i)}}},X:function(e,t){Sd.X(e,t);var n=Md;if(n&&e){var i=Ge(n).hoistableScripts,r=Dd(e),a=i.get(r);a||((a=n.querySelector(Id(r)))||(e=h({src:e,async:!0},t),(t=wd.get(r))&&Fd(e,t),He(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(e,t,n){Sd.S(e,t,n);var i=Md;if(i&&e){var r=Ge(i).hoistableStyles,a=Pd(e);t=t||"default";var o=r.get(a);if(!o){var s={loading:0,preload:null};if(o=i.querySelector(Nd(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wd.get(a))&&Bd(e,n);var l=o=i.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,kd(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:s},r.set(a,o)}}},M:function(e,t){Sd.M(e,t);var n=Md;if(n&&e){var i=Ge(n).hoistableScripts,r=Dd(e),a=i.get(r);a||((a=n.querySelector(Id(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=wd.get(r))&&Fd(e,t),He(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var Md="undefined"===typeof document?null:document;function Ed(e,t,n){var i=Md;if(i&&"string"===typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Td.has(r)||(Td.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(ed(t=i.createElement("link"),"link",e),He(t),i.head.appendChild(t)))}}function Cd(e,t,n,i){var r,a,s,l,c=(c=G.current)?_d(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(i=(n=Ge(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=Ge(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Nd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wd.set(e,n),u||(r=c,a=e,s=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",s),He(a),r.head.appendChild(a))))),t&&null===i)throw Error(o(528,""));return d}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Dd(n),(i=(n=Ge(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Pd(e){return'href="'+ft(e)+'"'}function Nd(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+ft(e)+'"]'}function Id(e){return"script[async]"+e}function Ld(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,He(i),i;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(i=(e.ownerDocument||e).createElement("style")),ed(i,"style",r),kd(i,n.precedence,e),t.instance=i;case"stylesheet":r=Pd(n.href);var a=e.querySelector(Nd(r));if(a)return t.state.loading|=4,t.instance=a,He(a),a;i=Rd(n),(r=wd.get(r))&&Bd(i,r),He(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",i),t.state.loading|=4,kd(a,n.precedence,e),t.instance=a;case"script":return a=Dd(n.src),(r=e.querySelector(Id(a)))?(t.instance=r,He(r),r):(i=n,(r=wd.get(a))&&Fd(i=h({},n),r),He(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,kd(i,n.precedence,e));return t.instance}function kd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,o=0;o<i.length;o++){var s=i[o];if(s.dataset.precedence===t)a=s;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Od=null;function Ud(e,t,n){if(null===Od){var i=new Map,r=Od=new Map;r.set(n,i)}else(i=(r=Od).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Ue]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=i.get(o);s?s.push(a):i.set(o,[a])}}return i}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zd=null;function qd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Qd,e),Hd=null,Gd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var i=n.get(null);else{n=new Map,Hd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var o=r[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(r=t.instance).getAttribute("data-precedence"),(a=n.get(o)||i)===i&&n.set(null,r),n.set(o,r),this.count++,i=Gd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:x,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Xd(e,t,n,i,r,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Kd(e,t,n,i,r,a,o,s,l,c,u,d){return e=new Xd(e,t,n,o,s,l,c,d),t=1,!0===a&&(t|=24),a=Bi(3,null,null,t),e.current=a,a.stateNode=e,(t=Ir()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},na(a),e}function Zd(e){return e?e=Li:Li}function Jd(e,t,n,i,r,a){r=Zd(r),null===i.context?i.context=r:i.pendingContext=r,(i=ra(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=aa(e,i,t))&&(Bc(n,0,t),oa(n,e,t))}function $d(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function th(e){if(13===e.tag){var t=Ri(e,67108864);null!==t&&Bc(t,0,67108864),eh(e,67108864)}}var nh=!0;function ih(e,t,n,i){var r=L.T;L.T=null;var a=k.p;try{k.p=2,ah(e,t,n,i)}finally{k.p=a,L.T=r}}function rh(e,t,n,i){var r=L.T;L.T=null;var a=k.p;try{k.p=8,ah(e,t,n,i)}finally{k.p=a,L.T=r}}function ah(e,t,n,i){if(nh){var r=oh(i);if(null===r)zu(e,t,i,sh,n),vh(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return dh=yh(dh,e,t,n,i,r),!0;case"dragenter":return hh=yh(hh,e,t,n,i,r),!0;case"mouseover":return ph=yh(ph,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return mh.set(a,yh(mh.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,fh.set(a,yh(fh.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(vh(e,i),4&t&&-1<gh.indexOf(e)){for(;null!==r;){var a=ze(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ve(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-pe(o);s.entanglements[1]|=l,o&=~l}wu(a),0===(6&nc)&&(wc=te()+500,Tu(0,!1))}}break;case 13:null!==(s=Ri(a,2))&&Bc(s,0,2),jc(),eh(a,2)}if(null===(a=oh(i))&&zu(e,t,i,sh,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else zu(e,t,i,null,n)}}function oh(e){return lh(e=Rt(e))}var sh=null;function lh(e){if(sh=null,null!==(e=je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,mh=new Map,fh=new Map,Ah=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function yh(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=ze(t))&&th(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bh(e){var t=je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=k.p;try{return k.p=e,t()}finally{k.p=n}}(e.priority,function(){if(13===n.tag){var e=Lc();e=Ce(e);var t=Ri(n,e);null!==t&&Bc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&th(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Nt=i,n.target.dispatchEvent(i),Nt=null,t.shift()}return!0}function wh(e,t,n){xh(e)&&n.delete(t)}function Th(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==ph&&xh(ph)&&(ph=null),mh.forEach(wh),fh.forEach(wh)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Th)))}var Sh=null;function Mh(e){Sh!==e&&(Sh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===lh(i||n))continue;break}var a=ze(n);null!==a&&(e.splice(t,3),t-=3,Ro(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Eh(e){function t(t){return _h(t,e)}null!==dh&&_h(dh,e),null!==hh&&_h(hh,e),null!==ph&&_h(ph,e),mh.forEach(t),fh.forEach(t);for(var n=0;n<Ah.length;n++){var i=Ah[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ah.length&&null===(n=Ah[0]).blockedOn;)bh(n),null===n.blockedOn&&Ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],o=r[Ie]||null;if("function"===typeof a)o||Mh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(r=a,o=a[Ie]||null)s=o.formAction;else if(null!==lh(r))continue}else s=o.action;"function"===typeof s?n[i+1]=s:(n.splice(i,3),i-=3),Mh(n)}}}function Ch(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Lc(),e,t,null,null)},Ph.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),jc(),t[Le]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ah.length&&0!==t&&t<Ah[n].priority;n++);Ah.splice(n,0,e),0===n&&bh(e)}};var Nh=r.version;if("19.1.0"!==Nh)throw Error(o(527,Nh,"19.1.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return u(r),e;if(a===i)return u(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=a;break}if(c===i){s=!0,i=r,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,i=r;break}if(c===i){s=!0,i=a,n=r;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{ue=Dh.inject(Rh),de=Dh}catch(Lh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,i="",r=vs,a=ys,l=bs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Kd(e,1,!1,null,0,n,i,r,a,l,0,null),e[Le]=t.current,Vu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var i=!1,r="",a=vs,l=ys,c=bs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Kd(e,1,!0,t,0,i,r,a,l,c,0,u)).context=Zd(null),n=t.current,(r=ra(i=Ce(i=Lc()))).callback=null,aa(n,r,i),n=i,t.current.lanes=n,Se(t,n),wu(t),e[Le]=t.current,Vu(e),new Ph(t)},t.version="19.1.0"},7115:function(e){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=(i(n(1)),n(6)),o=i(a),s=i(n(7)),l=i(n(8)),c=i(n(9)),u=i(n(10)),d=i(n(11)),h=i(n(14)),p=[],m=!1,f={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},A=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(m=!0),m)return p=(0,d.default)(p,f),(0,u.default)(p,f.once),p},g=function(){p=(0,h.default)(),A()},v=function(){p.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})},y=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},b=function(e){f=r(f,e),p=(0,h.default)();var t=document.all&&!window.atob;return y(f.disable)||t?v():(f.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),f.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",f.easing),document.querySelector("body").setAttribute("data-aos-duration",f.duration),document.querySelector("body").setAttribute("data-aos-delay",f.delay),"DOMContentLoaded"===f.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?A(!0):"load"===f.startEvent?window.addEventListener(f.startEvent,function(){A(!0)}):document.addEventListener(f.startEvent,function(){A(!0)}),window.addEventListener("resize",(0,s.default)(A,f.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(A,f.debounceDelay,!0)),window.addEventListener("scroll",(0,o.default)(function(){(0,u.default)(p,f.once)},f.throttleDelay)),f.disableMutationObserver||l.default.ready("[data-aos]",g),p)};e.exports={init:b,refresh:A,refreshHard:g}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=f,i=A;return f=A=void 0,_=t,v=e.apply(i,n)}function a(e){return _=e,y=setTimeout(u,t),S?i(e):v}function o(e){var n=t-(e-b);return M?w(n,g-(e-_)):n}function l(e){var n=e-b;return void 0===b||n>=t||n<0||M&&e-_>=g}function u(){var e=T();return l(e)?d(e):void(y=setTimeout(u,o(e)))}function d(e){return y=void 0,E&&f?i(e):(f=A=void 0,v)}function h(){void 0!==y&&clearTimeout(y),_=0,f=b=A=y=void 0}function p(){return void 0===y?v:d(T())}function m(){var e=T(),n=l(e);if(f=arguments,A=this,b=e,n){if(void 0===y)return a(b);if(M)return y=setTimeout(u,t),i(b)}return void 0===y&&(y=setTimeout(u,t)),v}var f,A,g,v,y,b,_=0,S=!1,M=!1,E=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,r(n)&&(S=!!n.leading,g=(M="maxWait"in n)?x(s(n.maxWait)||0,t):g,E="trailing"in n?!!n.trailing:E),m.cancel=h,m.flush=p,m}function i(e,t,i){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError(c);return r(i)&&(a="leading"in i?!!i.leading:a,o="trailing"in i?!!i.trailing:o),n(e,t,{leading:a,maxWait:t,trailing:o})}function r(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function o(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||a(e)&&b.call(e)==d}function s(e){if("number"==typeof e)return e;if(o(e))return u;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=m.test(e);return n||f.test(e)?A(e.slice(2),n?2:8):p.test(e)?u:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",u=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,f=/^0o[0-7]+$/i,A=parseInt,g="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,v="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),b=Object.prototype.toString,x=Math.max,w=Math.min,T=function(){return y.Date.now()};e.exports=i}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=f,i=A;return f=A=void 0,_=t,v=e.apply(i,n)}function a(e){return _=e,y=setTimeout(u,t),S?r(e):v}function s(e){var n=t-(e-T);return M?x(n,g-(e-_)):n}function c(e){var n=e-T;return void 0===T||n>=t||n<0||M&&e-_>=g}function u(){var e=w();return c(e)?d(e):void(y=setTimeout(u,s(e)))}function d(e){return y=void 0,E&&f?r(e):(f=A=void 0,v)}function h(){void 0!==y&&clearTimeout(y),_=0,f=T=A=y=void 0}function p(){return void 0===y?v:d(w())}function m(){var e=w(),n=c(e);if(f=arguments,A=this,T=e,n){if(void 0===y)return a(T);if(M)return y=setTimeout(u,t),r(T)}return void 0===y&&(y=setTimeout(u,t)),v}var f,A,g,v,y,T,_=0,S=!1,M=!1,E=!0;if("function"!=typeof e)throw new TypeError(l);return t=o(t)||0,i(n)&&(S=!!n.leading,g=(M="maxWait"in n)?b(o(n.maxWait)||0,t):g,E="trailing"in n?!!n.trailing:E),m.cancel=h,m.flush=p,m}function i(e){var t="undefined"==typeof e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==("undefined"==typeof e?"undefined":s(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":s(e))||r(e)&&y.call(e)==u}function o(e){if("number"==typeof e)return e;if(a(e))return c;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=p.test(e);return n||m.test(e)?f(e.slice(2),n?2:8):h.test(e)?c:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,f=parseInt,A="object"==("undefined"==typeof t?"undefined":s(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,v=A||g||Function("return this")(),y=Object.prototype.toString,b=Math.max,x=Math.min,w=function(){return v.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,i=void 0;for(t=0;t<e.length;t+=1){if((i=e[t]).dataset&&i.dataset.aos)return!0;if(i.children&&n(i.children))return!0}return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!i()}function a(e,t){var n=window.document,r=new(i())(o);s=t,r.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function o(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),i=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(i)))return s()})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:r,ready:a}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return r(e,[{key:"phone",value:function(){var e=i();return!(!a.test(e)&&!o.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=i();return!(!s.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var i=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof i&&("false"===i||!n&&"true"!==i)&&e.node.classList.remove("aos-animate")},i=function(e,t){var i=window.pageYOffset,r=window.innerHeight;e.forEach(function(e,a){n(e,r+i,t)})};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(12)),a=function(e,t){return e.forEach(function(e,n){e.node.classList.add("aos-init"),e.position=(0,r.default)(e.node,t.offset)}),e};t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(13)),a=function(e,t){var n=0,i=0,a=window.innerHeight,o={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(o.offset&&!isNaN(o.offset)&&(i=parseInt(o.offset)),o.anchor&&document.querySelectorAll(o.anchor)&&(e=document.querySelectorAll(o.anchor)[0]),n=(0,r.default)(e).top,o.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=a/2;break;case"bottom-center":n+=a/2+e.offsetHeight;break;case"center-center":n+=a/2+e.offsetHeight/2;break;case"top-top":n+=a;break;case"bottom-top":n+=e.offsetHeight+a;break;case"center-top":n+=e.offsetHeight/2+a}return o.anchorPlacement||o.offset||isNaN(t)||(i=t),n+i};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})};t.default=n}])},7205:(e,t,n)=>{"use strict";e.exports=n(5252)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8513:(e,t,n)=>{"use strict";e.exports=n(9388)},8784:(e,t,n)=>{"use strict";e.exports=n(3179)},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9388:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,A=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(A=!1,b(e),!f)if(null!==i(c))f=!0,R();else{var t=i(u);null!==t&&D(x,t.startTime-e)}}var w,T=!1,_=-1,S=5,M=-1;function E(){return!(t.unstable_now()-M<S)}function C(){if(T){var e=t.unstable_now();M=e;var n=!0;try{e:{f=!1,A&&(A=!1,v(_),_=-1),m=!0;var a=p;try{t:{for(b(e),h=i(c);null!==h&&!(h.expirationTime>e&&E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,b(e),n=!0;break t}h===i(c)&&r(c),b(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&D(x,l.startTime-e),n=!1}}break e}finally{h=null,p=a,m=!1}n=void 0}}finally{n?w():T=!1}}}if("function"===typeof y)w=function(){y(C)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=C,w=function(){N.postMessage(null)}}else w=function(){g(C,0)};function R(){T||(T=!0,w())}function D(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(A?(v(_),_=-1):A=!0,D(x,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,R())),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9717:(e,t,n)=>{"use strict";var i=n(5043),r=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,s=i.useRef,l=i.useEffect,c=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=i(e),void 0!==r&&h.hasValue){var t=h.value;if(r(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=i(e);return void 0!==r&&r(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,i,r]);var p=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>i[e]);return o.default=()=>i,n.d(a,o),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".1dfa49b1.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dochak-website:";n.l=(i,r,a,o)=>{if(e[i])e[i].push(r);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=i),e[i]=[r];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/dochakWebsite/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((n,i)=>r=e[t]=[n,i]);i.push(r[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,a,o=i[0],s=i[1],l=i[2],c=0;if(o.some(t=>0!==e[t])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkdochak_website=self.webpackChunkdochak_website||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>sr,AddEquation:()=>Mi,AddOperation:()=>nr,AdditiveAnimationBlendMode:()=>qa,AdditiveBlending:()=>wi,AgXToneMapping:()=>cr,AlphaFormat:()=>Gr,AlwaysCompare:()=>Co,AlwaysDepth:()=>Qi,AlwaysStencilFunc:()=>bo,AmbientLight:()=>qm,AnimationAction:()=>Bf,AnimationClip:()=>hm,AnimationLoader:()=>xm,AnimationMixer:()=>Of,AnimationObjectGroup:()=>kf,AnimationUtils:()=>$p,ArcCurve:()=>Th,ArrayCamera:()=>df,ArrowHelper:()=>DA,AttachedBindMode:()=>dr,Audio:()=>bf,AudioAnalyser:()=>Mf,AudioContext:()=>af,AudioListener:()=>yf,AudioLoader:()=>of,AxesHelper:()=>IA,BackSide:()=>vi,BasicDepthPacking:()=>Qa,BasicShadowMap:()=>pi,BatchedMesh:()=>Ld,Bone:()=>Wu,BooleanKeyframeTrack:()=>am,Box2:()=>$f,Box3:()=>Os,Box3Helper:()=>EA,BoxGeometry:()=>Qc,BoxHelper:()=>MA,BufferAttribute:()=>Ac,BufferGeometry:()=>Ic,BufferGeometryLoader:()=>Km,ByteType:()=>Ir,Cache:()=>mm,Camera:()=>$c,CameraHelper:()=>TA,CanvasTexture:()=>lh,CapsuleGeometry:()=>uh,CatmullRomCurve3:()=>Ph,CineonToneMapping:()=>or,CircleGeometry:()=>dh,ClampToEdgeWrapping:()=>br,Clock:()=>hf,Color:()=>ic,ColorKeyframeTrack:()=>om,ColorManagement:()=>bs,CompressedArrayTexture:()=>oh,CompressedCubeTexture:()=>sh,CompressedTexture:()=>ah,CompressedTextureLoader:()=>wm,ConeGeometry:()=>ph,ConstantAlphaFactor:()=>Gi,ConstantColorFactor:()=>zi,Controls:()=>kA,CubeCamera:()=>au,CubeReflectionMapping:()=>mr,CubeRefractionMapping:()=>fr,CubeTexture:()=>ou,CubeTextureLoader:()=>_m,CubeUVReflectionMapping:()=>vr,CubicBezierCurve:()=>Ih,CubicBezierCurve3:()=>Lh,CubicInterpolant:()=>tm,CullFaceBack:()=>ui,CullFaceFront:()=>di,CullFaceFrontBack:()=>hi,CullFaceNone:()=>ci,Curve:()=>xh,CurvePath:()=>jh,CustomBlending:()=>Si,CustomToneMapping:()=>lr,CylinderGeometry:()=>hh,Cylindrical:()=>Kf,Data3DTexture:()=>Bs,DataArrayTexture:()=>Ls,DataTexture:()=>Qu,DataTextureLoader:()=>Sm,DataUtils:()=>hc,DecrementStencilOp:()=>lo,DecrementWrapStencilOp:()=>uo,DefaultLoadingManager:()=>Am,DepthFormat:()=>Qr,DepthStencilFormat:()=>Yr,DepthTexture:()=>ch,DetachedBindMode:()=>hr,DirectionalLight:()=>zm,DirectionalLightHelper:()=>bA,DiscreteInterpolant:()=>im,DodecahedronGeometry:()=>fh,DoubleSide:()=>yi,DstAlphaFactor:()=>Fi,DstColorFactor:()=>Ui,DynamicCopyUsage:()=>Bo,DynamicDrawUsage:()=>No,DynamicReadUsage:()=>Io,EdgesGeometry:()=>bh,EllipseCurve:()=>wh,EqualCompare:()=>To,EqualDepth:()=>Ki,EqualStencilFunc:()=>fo,EquirectangularReflectionMapping:()=>Ar,EquirectangularRefractionMapping:()=>gr,Euler:()=>xl,EventDispatcher:()=>Ho,ExtrudeGeometry:()=>bp,FileLoader:()=>bm,Float16BufferAttribute:()=>_c,Float32BufferAttribute:()=>Sc,FloatType:()=>Or,Fog:()=>hu,FogExp2:()=>du,FramebufferTexture:()=>rh,FrontSide:()=>gi,Frustum:()=>hd,FrustumArray:()=>fd,GLBufferAttribute:()=>Gf,GLSL1:()=>Oo,GLSL3:()=>Uo,GreaterCompare:()=>So,GreaterDepth:()=>Ji,GreaterEqualCompare:()=>Eo,GreaterEqualDepth:()=>Zi,GreaterEqualStencilFunc:()=>yo,GreaterStencilFunc:()=>go,GridHelper:()=>fA,Group:()=>lu,HalfFloatType:()=>Ur,HemisphereLight:()=>Cm,HemisphereLightHelper:()=>mA,IcosahedronGeometry:()=>wp,ImageBitmapLoader:()=>nf,ImageLoader:()=>Tm,ImageUtils:()=>_s,IncrementStencilOp:()=>so,IncrementWrapStencilOp:()=>co,InstancedBufferAttribute:()=>Zu,InstancedBufferGeometry:()=>Xm,InstancedInterleavedBuffer:()=>qf,InstancedMesh:()=>ad,Int16BufferAttribute:()=>bc,Int32BufferAttribute:()=>wc,Int8BufferAttribute:()=>gc,IntType:()=>Br,InterleavedBuffer:()=>mu,InterleavedBufferAttribute:()=>Au,Interpolant:()=>em,InterpolateDiscrete:()=>Ba,InterpolateLinear:()=>Fa,InterpolateSmooth:()=>Oa,InterpolationSamplingMode:()=>Go,InterpolationSamplingType:()=>qo,InvertStencilOp:()=>ho,KeepStencilOp:()=>ao,KeyframeTrack:()=>rm,LOD:()=>ku,LatheGeometry:()=>Tp,Layers:()=>wl,LessCompare:()=>wo,LessDepth:()=>Yi,LessEqualCompare:()=>_o,LessEqualDepth:()=>Xi,LessEqualStencilFunc:()=>Ao,LessStencilFunc:()=>mo,Light:()=>Em,LightProbe:()=>Wm,Line:()=>qd,Line3:()=>nA,LineBasicMaterial:()=>kd,LineCurve:()=>kh,LineCurve3:()=>Bh,LineDashedMaterial:()=>Qp,LineLoop:()=>Yd,LineSegments:()=>Qd,LinearFilter:()=>Er,LinearInterpolant:()=>nm,LinearMipMapLinearFilter:()=>Rr,LinearMipMapNearestFilter:()=>Pr,LinearMipmapLinearFilter:()=>Nr,LinearMipmapNearestFilter:()=>Cr,LinearSRGBColorSpace:()=>to,LinearToneMapping:()=>rr,LinearTransfer:()=>no,Loader:()=>gm,LoaderUtils:()=>Ym,LoadingManager:()=>fm,LoopOnce:()=>Ia,LoopPingPong:()=>ka,LoopRepeat:()=>La,MOUSE:()=>si,Material:()=>oc,MaterialLoader:()=>Qm,MathUtils:()=>ns,Matrix2:()=>Zf,Matrix3:()=>ls,Matrix4:()=>dl,MaxEquation:()=>Ni,Mesh:()=>Hc,MeshBasicMaterial:()=>sc,MeshDepthMaterial:()=>Gp,MeshDistanceMaterial:()=>Hp,MeshLambertMaterial:()=>qp,MeshMatcapMaterial:()=>Wp,MeshNormalMaterial:()=>zp,MeshPhongMaterial:()=>Vp,MeshPhysicalMaterial:()=>Up,MeshStandardMaterial:()=>Op,MeshToonMaterial:()=>jp,MinEquation:()=>Pi,MirroredRepeatWrapping:()=>xr,MixOperation:()=>tr,MultiplyBlending:()=>_i,MultiplyOperation:()=>er,NearestFilter:()=>wr,NearestMipMapLinearFilter:()=>Mr,NearestMipMapNearestFilter:()=>_r,NearestMipmapLinearFilter:()=>Sr,NearestMipmapNearestFilter:()=>Tr,NeutralToneMapping:()=>ur,NeverCompare:()=>xo,NeverDepth:()=>Wi,NeverStencilFunc:()=>po,NoBlending:()=>bi,NoColorSpace:()=>$a,NoToneMapping:()=>ir,NormalAnimationBlendMode:()=>za,NormalBlending:()=>xi,NotEqualCompare:()=>Mo,NotEqualDepth:()=>$i,NotEqualStencilFunc:()=>vo,NumberKeyframeTrack:()=>sm,Object3D:()=>Ol,ObjectLoader:()=>Zm,ObjectSpaceNormalMap:()=>Ja,OctahedronGeometry:()=>_p,OneFactor:()=>Di,OneMinusConstantAlphaFactor:()=>Hi,OneMinusConstantColorFactor:()=>qi,OneMinusDstAlphaFactor:()=>Oi,OneMinusDstColorFactor:()=>Vi,OneMinusSrcAlphaFactor:()=>Bi,OneMinusSrcColorFactor:()=>Li,OrthographicCamera:()=>Vm,PCFShadowMap:()=>mi,PCFSoftShadowMap:()=>fi,PMREMGenerator:()=>ug,Path:()=>zh,PerspectiveCamera:()=>iu,Plane:()=>cd,PlaneGeometry:()=>Sp,PlaneHelper:()=>CA,PointLight:()=>Um,PointLightHelper:()=>uA,Points:()=>eh,PointsMaterial:()=>Xd,PolarGridHelper:()=>AA,PolyhedronGeometry:()=>mh,PositionalAudio:()=>Sf,PropertyBinding:()=>Lf,PropertyMixer:()=>Ef,QuadraticBezierCurve:()=>Fh,QuadraticBezierCurve3:()=>Oh,Quaternion:()=>rs,QuaternionKeyframeTrack:()=>cm,QuaternionLinearInterpolant:()=>lm,RED_GREEN_RGTC2_Format:()=>Ra,RED_RGTC1_Format:()=>Pa,REVISION:()=>oi,RGBADepthPacking:()=>Ya,RGBAFormat:()=>Wr,RGBAIntegerFormat:()=>ea,RGBA_ASTC_10x10_Format:()=>Ta,RGBA_ASTC_10x5_Format:()=>ba,RGBA_ASTC_10x6_Format:()=>xa,RGBA_ASTC_10x8_Format:()=>wa,RGBA_ASTC_12x10_Format:()=>_a,RGBA_ASTC_12x12_Format:()=>Sa,RGBA_ASTC_4x4_Format:()=>ha,RGBA_ASTC_5x4_Format:()=>pa,RGBA_ASTC_5x5_Format:()=>ma,RGBA_ASTC_6x5_Format:()=>fa,RGBA_ASTC_6x6_Format:()=>Aa,RGBA_ASTC_8x5_Format:()=>ga,RGBA_ASTC_8x6_Format:()=>va,RGBA_ASTC_8x8_Format:()=>ya,RGBA_BPTC_Format:()=>Ma,RGBA_ETC2_EAC_Format:()=>da,RGBA_PVRTC_2BPPV1_Format:()=>la,RGBA_PVRTC_4BPPV1_Format:()=>sa,RGBA_S3TC_DXT1_Format:()=>na,RGBA_S3TC_DXT3_Format:()=>ia,RGBA_S3TC_DXT5_Format:()=>ra,RGBDepthPacking:()=>Xa,RGBFormat:()=>Hr,RGBIntegerFormat:()=>$r,RGB_BPTC_SIGNED_Format:()=>Ea,RGB_BPTC_UNSIGNED_Format:()=>Ca,RGB_ETC1_Format:()=>ca,RGB_ETC2_Format:()=>ua,RGB_PVRTC_2BPPV1_Format:()=>oa,RGB_PVRTC_4BPPV1_Format:()=>aa,RGB_S3TC_DXT1_Format:()=>ta,RGDepthPacking:()=>Ka,RGFormat:()=>Zr,RGIntegerFormat:()=>Jr,RawShaderMaterial:()=>Fp,Ray:()=>ul,Raycaster:()=>Wf,RectAreaLight:()=>Gm,RedFormat:()=>Xr,RedIntegerFormat:()=>Kr,ReinhardToneMapping:()=>ar,RenderTarget:()=>Ds,RenderTarget3D:()=>Uf,RepeatWrapping:()=>yr,ReplaceStencilOp:()=>oo,ReverseSubtractEquation:()=>Ci,RingGeometry:()=>Mp,SIGNED_RED_GREEN_RGTC2_Format:()=>Da,SIGNED_RED_RGTC1_Format:()=>Na,SRGBColorSpace:()=>eo,SRGBTransfer:()=>io,Scene:()=>pu,ShaderChunk:()=>VA,ShaderLib:()=>zA,ShaderMaterial:()=>Jc,ShadowMaterial:()=>Bp,Shape:()=>qh,ShapeGeometry:()=>Ep,ShapePath:()=>LA,ShapeUtils:()=>gp,ShortType:()=>Lr,Skeleton:()=>Ku,SkeletonHelper:()=>lA,SkinnedMesh:()=>Hu,Source:()=>Ms,Sphere:()=>nl,SphereGeometry:()=>Cp,Spherical:()=>Xf,SphericalHarmonics3:()=>Hm,SplineCurve:()=>Uh,SpotLight:()=>Lm,SpotLightHelper:()=>rA,Sprite:()=>Ru,SpriteMaterial:()=>gu,SrcAlphaFactor:()=>ki,SrcAlphaSaturateFactor:()=>ji,SrcColorFactor:()=>Ii,StaticCopyUsage:()=>ko,StaticDrawUsage:()=>Po,StaticReadUsage:()=>Do,StereoCamera:()=>uf,StreamCopyUsage:()=>Fo,StreamDrawUsage:()=>Ro,StreamReadUsage:()=>Lo,StringKeyframeTrack:()=>um,SubtractEquation:()=>Ei,SubtractiveBlending:()=>Ti,TOUCH:()=>li,TangentSpaceNormalMap:()=>Za,TetrahedronGeometry:()=>Pp,Texture:()=>Ns,TextureLoader:()=>Mm,TextureUtils:()=>FA,TimestampQuery:()=>zo,TorusGeometry:()=>Np,TorusKnotGeometry:()=>Rp,Triangle:()=>Jl,TriangleFanDrawMode:()=>Wa,TriangleStripDrawMode:()=>Ha,TrianglesDrawMode:()=>Ga,TubeGeometry:()=>Dp,UVMapping:()=>pr,Uint16BufferAttribute:()=>xc,Uint32BufferAttribute:()=>Tc,Uint8BufferAttribute:()=>vc,Uint8ClampedBufferAttribute:()=>yc,Uniform:()=>Vf,UniformsGroup:()=>zf,UniformsLib:()=>jA,UniformsUtils:()=>Zc,UnsignedByteType:()=>Dr,UnsignedInt248Type:()=>zr,UnsignedInt5999Type:()=>qr,UnsignedIntType:()=>Fr,UnsignedShort4444Type:()=>Vr,UnsignedShort5551Type:()=>jr,UnsignedShortType:()=>kr,VSMShadowMap:()=>Ai,Vector2:()=>is,Vector3:()=>as,Vector4:()=>Rs,VectorKeyframeTrack:()=>dm,VideoFrameTexture:()=>ih,VideoTexture:()=>nh,WebGL3DRenderTarget:()=>Fs,WebGLArrayRenderTarget:()=>ks,WebGLCoordinateSystem:()=>Vo,WebGLCubeRenderTarget:()=>su,WebGLRenderTarget:()=>Is,WebGLRenderer:()=>yy,WebGLUtils:()=>hy,WebGPUCoordinateSystem:()=>jo,WebXRController:()=>uu,WireframeGeometry:()=>Ip,WrapAroundEnding:()=>ja,ZeroCurvatureEnding:()=>Ua,ZeroFactor:()=>Ri,ZeroSlopeEnding:()=>Va,ZeroStencilOp:()=>ro,createCanvasElement:()=>ms});var t={};n.r(t),n.d(t,{computeMikkTSpaceTangents:()=>LL,computeMorphedAttributes:()=>GL,deepCloneAttribute:()=>FL,deinterleaveAttribute:()=>UL,deinterleaveGeometry:()=>VL,estimateBytesUsed:()=>jL,interleaveAttributes:()=>OL,mergeAttributes:()=>BL,mergeGeometries:()=>kL,mergeGroups:()=>HL,mergeVertices:()=>zL,toCreasedNormals:()=>WL,toTrianglesDrawMode:()=>qL});var i=n(5043),r=n.t(i,2),a=n(4391);const o=n.p+"static/media/blue_logo.dd1df13575eea3b52876.png";function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(4358);const p=["sri"],m=["page"],f=["page","matches"],A=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y,b=e=>{throw TypeError(e)},x=(e,t,n)=>(((e,t,n)=>{t.has(e)||b("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e)),w="popstate";function T(){return N(function(e,t){let{pathname:n,search:i,hash:r}=e.location;return E("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:C(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function _(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function M(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?P(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function C(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function P(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function N(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function p(e){return R(e)}null==c&&(c=0,o.replaceState(h(h({},o.state),{},{idx:c}),""));let m={get action(){return s},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(w,d),l=e,()=>{r.removeEventListener(w,d),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let i=E(m.location,e,t);n&&n(i,e),c=u()+1;let d=M(i,c),h=m.createHref(i);try{o.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(h)}a&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let i=E(m.location,e,t);n&&n(i,e),c=u();let r=M(i,c),d=m.createHref(i);o.replaceState(r,"",d),a&&l&&l({action:s,location:m.location,delta:0})},go:e=>o.go(e)};return m}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),_(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:C(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var D=class{constructor(e){if(((e,t,n)=>{t.has(e)?b("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n)})(this,y,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(x(this,y).has(e))return x(this,y).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){x(this,y).set(e,t)}};y=new WeakMap;var I=new Set(["lazy","caseSensitive","path","id","index","children"]);var L=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function k(e){return L.has(e)}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map((e,r)=>{let a=[...n,String(r)],o="string"===typeof e.id?e.id:a.join("-");if(_(!0!==e.index||!e.children,"Cannot specify children on an index route"),_(!i[o],'Found a route id collision on id "'.concat(o,"\".  Route id's must be globally unique within Data Router usages")),function(e){return!0===e.index}(e)){let n=h(h(h({},e),t(e)),{},{id:o});return i[o]=n,n}{let n=h(h(h({},e),t(e)),{},{id:o,children:void 0});return i[o]=n,e.children&&(n.children=B(e.children,t,a,i)),n}})}function F(e,t){return O(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function O(e,t,n,i){let r=ee(("string"===typeof t?P(t):t).pathname||"/",n);if(null==r)return null;let a=V(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=$(r);o=K(a[s],e,i)}return o}function U(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(e,r,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(_(o.relativePath.startsWith(i),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(i.length));let s=ae([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),V(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:X(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of j(e.path))r(e,t,i);else r(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let o=j(i.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),r&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var z=/^:[\w-]+$/,q=3,G=2,H=1,W=10,Q=-2,Y=e=>"*"===e;function X(e,t){let n=e.split("/"),i=n.length;return n.some(Y)&&(i+=Q),t&&(i+=G),n.filter(e=>!Y(e)).reduce((e,t)=>e+(z.test(t)?q:""===t?H:W),i)}function K(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,r={},a="/",o=[];for(let s=0;s<i.length;++s){let e=i[s],l=s===i.length-1,c="/"===a?t:t.slice(a.length)||"/",u=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:ae([a,u.pathname]),pathnameBase:oe(ae([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=ae([a,u.pathnameBase]))}return o}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=J(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1),l=i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function $(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return S(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function te(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function ne(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function ie(e){let t=ne(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function re(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=P(e):(i=h({},e),_(!i.pathname||!i.pathname.includes("?"),te("?","pathname","search",i)),_(!i.pathname||!i.pathname.includes("#"),te("#","pathname","hash",i)),_(!i.search||!i.search.includes("#"),te("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof e?P(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:se(i),hash:le(r)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var ae=e=>e.join("/").replace(/\/\/+/g,"/"),oe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),se=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",le=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ce=class{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var de=["POST","PUT","PATCH","DELETE"],he=new Set(de),pe=["GET",...de],me=new Set(pe),fe=new Set([301,302,303,307,308]),Ae=new Set([307,308]),ge={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ve={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ye={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),we="remix-router-transitions",Te=Symbol("ResetLoaderData");function _e(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;_(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i,r,a,o=e.hydrationRouteProperties||[],s=e.mapRouteProperties||xe,l={},c=B(e.routes,s,void 0,l),u=e.basename||"/",d=e.dataStrategy||Be,p=h({unstable_middleware:!1},e.future),m=null,f=new Set,A=null,g=null,v=null,y=null!=e.hydrationData,b=F(c,e.history.location,u),x=!1,w=null;if(null!=b||e.patchRoutesOnNavigation){if(b&&!e.hydrationData){ke(b,c,e.history.location.pathname).active&&(b=null)}if(b)if(b.some(e=>e.route.lazy))r=!1;else if(b.some(e=>e.route.loader)){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=b.findIndex(e=>void 0!==n[e.route.id]);r=b.slice(0,e+1).every(e=>!Ce(e.route,t,n))}else r=b.every(e=>!Ce(e.route,t,n))}else r=!0;else{r=!1,b=[];let t=ke(null,c,e.history.location.pathname);t.active&&t.matches&&(x=!0,b=t.matches)}}else{let t=tt(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=et(c);r=!0,b=n,w={[i.id]:t}}let T,M,C={historyAction:e.history.action,location:e.history.location,matches:b,initialized:r,navigation:ge,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},P="POP",N=!1,I=!1,L=new Map,k=null,V=!1,j=!1,z=new Set,q=new Map,G=0,H=-1,W=new Map,Q=new Set,Y=new Map,X=new Map,K=new Set,Z=new Map,J=null;function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C=h(h({},C),e);let n=[],i=[];C.fetchers.forEach((e,t)=>{"idle"===e.state&&(K.has(t)?n.push(t):i.push(t))}),K.forEach(e=>{C.fetchers.has(e)||q.has(e)||n.push(e)}),[...f].forEach(e=>e(C,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),n.forEach(e=>he(e)),i.forEach(e=>C.fetchers.delete(e))}function te(t,n){var r,a,o;let s,{flushSync:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=null!=C.actionData&&null!=C.navigation.formMethod&&ut(C.navigation.formMethod)&&"loading"===C.navigation.state&&!0!==(null===(r=t.state)||void 0===r?void 0:r._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?C.actionData:null;let d=n.loaderData?Ze(C.loaderData,n.loaderData,n.matches||[],n.errors):C.loaderData,p=C.blockers;p.size>0&&(p=new Map(p),p.forEach((e,t)=>p.set(t,ye)));let m,f=!0===N||null!=C.navigation.formMethod&&ut(C.navigation.formMethod)&&!0!==(null===(a=t.state)||void 0===a?void 0:a._isRedirect);if(i&&(c=i,i=void 0),V||"POP"===P||("PUSH"===P?e.history.push(t,t.state):"REPLACE"===P&&e.history.replace(t,t.state)),"POP"===P){let e=L.get(C.location.pathname);e&&e.has(t.pathname)?m={currentLocation:C.location,nextLocation:t}:L.has(t.pathname)&&(m={currentLocation:t,nextLocation:C.location})}else if(I){let e=L.get(C.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(C.location.pathname,e)),m={currentLocation:C.location,nextLocation:t}}$(h(h({},n),{},{actionData:s,loaderData:d,historyAction:P,location:t,initialized:!0,navigation:ge,revalidation:"idle",restoreScrollPosition:Le(t,n.matches||C.matches),preventScrollReset:f,blockers:p}),{viewTransitionOpts:m,flushSync:!0===l}),P="POP",N=!1,I=!1,V=!1,j=!1,null===(o=J)||void 0===o||o.resolve(),J=null}async function ne(t,n,r){T&&T.abort(),T=null,P=t,V=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(A&&v){let n=Ie(e,t);A[n]=v()}}(C.location,C.matches),N=!0===(r&&r.preventScrollReset),I=!0===(r&&r.enableViewTransition);let a=i||c,d=r&&r.overrideNavigation,p=null!==r&&void 0!==r&&r.initialHydration&&C.matches&&C.matches.length>0&&!x?C.matches:F(a,n,u),m=!0===(r&&r.flushSync);if(p&&C.initialized&&!j&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(C.location,n)&&!(r&&r.submission&&ut(r.submission.formMethod)))return void te(n,{matches:p},{flushSync:m});let f=ke(p,a,n.pathname);if(f.active&&f.matches&&(p=f.matches),!p){let{error:e,notFoundMatches:t,route:i}=De(n.pathname);return void te(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:m})}T=new AbortController;let g,y=We(e.history,n,T.signal,r&&r.submission),b=new D(e.unstable_getContext?await e.unstable_getContext():void 0);if(r&&r.pendingError)g=[$e(p).route.id,{type:"error",error:r.pendingError}];else if(r&&r.submission&&ut(r.submission.formMethod)){let t=await async function(e,t,n,i,r,a,c){let d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};se();let h,p=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if($({navigation:p},{flushSync:!0===d.flushSync}),a){let n=await Fe(i,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=$e(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:i}=De(t.pathname);return{matches:e,pendingActionResult:[i.id,{type:"error",error:n}]}}i=n.matches}let m=ht(i,t);if(m.route.action||m.route.lazy){let t=je(s,l,e,i,m,c?[]:o,r),n=await ae(e,t,r,null);if(h=n[m.route.id],!h)for(let e of i)if(n[e.route.id]){h=n[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else h={type:"error",error:tt(405,{method:e.method,pathname:t.pathname,routeId:m.route.id})};if(ot(h)){let t;if(d&&null!=d.replace)t=d.replace;else{t=He(h.response.headers.get("Location"),new URL(e.url),u)===C.location.pathname+C.location.search}return await re(e,h,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(at(h)){let e=$e(i,m.route.id);return!0!==(d&&d.replace)&&(P="PUSH"),{matches:i,pendingActionResult:[e.route.id,h,m.route.id]}}return{matches:i,pendingActionResult:[m.route.id,h]}}(y,n,r.submission,p,b,f.active,r&&!0===r.initialHydration,{replace:r.replace,flushSync:m});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,i]=t.pendingActionResult;if(at(i)&&ue(i.error)&&404===i.error.status)return T=null,void te(n,{matches:t.matches,loaderData:{},errors:{[e]:i.error}})}p=t.matches||p,g=t.pendingActionResult,d=mt(n,r.submission),m=!1,f.active=!1,y=We(e.history,y.url,y.signal)}let{shortCircuited:w,matches:_,loaderData:S,errors:M}=await async function(t,n,r,a,d,p,m,f,A,g,v,y){let b=p||mt(n,m),x=m||f||pt(b),w=!V&&!g;if(d){if(w){let e=ie(y);$(h({navigation:b},void 0!==e?{actionData:e}:{}),{flushSync:v})}let e=await Fe(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=$e(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:i}=De(n.pathname);return{matches:t,loaderData:{},errors:{[i.id]:e}}}r=e.matches}let _=i||c,{dsMatches:S,revalidatingFetchers:M}=Ee(t,a,s,l,e.history,C,r,x,n,g?[]:o,!0===g,j,z,K,Y,Q,_,u,null!=e.patchRoutesOnNavigation,y);if(H=++G,!e.dataStrategy&&!S.some(e=>e.shouldLoad)&&0===M.length){let e=fe();return te(n,h(h({matches:r,loaderData:{},errors:y&&at(y[1])?{[y[0]]:y[1].error}:null},Je(y)),e?{fetchers:new Map(C.fetchers)}:{}),{flushSync:v}),{shortCircuited:!0}}if(w){let e={};if(!d){e.navigation=b;let t=ie(y);void 0!==t&&(e.actionData=t)}M.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=C.fetchers.get(e.key),n=ft(void 0,t?t.data:void 0);C.fetchers.set(e.key,n)}),new Map(C.fetchers)}(M)),$(e,{flushSync:v})}M.forEach(e=>{pe(e.key),e.controller&&q.set(e.key,e.controller)});let E=()=>M.forEach(e=>pe(e.key));T&&T.signal.addEventListener("abort",E);let{loaderResults:P,fetcherResults:N}=await oe(S,M,t,a);if(t.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",E);M.forEach(e=>q.delete(e.key));let R=nt(P);if(R)return await re(t,R.result,!0,{replace:A}),{shortCircuited:!0};if(R=nt(N),R)return Q.add(R.key),await re(t,R.result,!0,{replace:A}),{shortCircuited:!0};let{loaderData:D,errors:I}=Ke(C,r,P,y,M,N);g&&C.errors&&(I=h(h({},C.errors),I));let L=fe(),k=Te(H),B=L||k||M.length>0;return h({matches:r,loaderData:D,errors:I},B?{fetchers:new Map(C.fetchers)}:{})}(y,n,p,b,f.active,d,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,m,g);w||(T=null,te(n,h(h({matches:_||p},Je(g)),{},{loaderData:S,errors:M})))}function ie(e){return e&&!at(e[1])?{[e[0]]:e[1].data}:C.actionData?0===Object.keys(C.actionData).length?null:C.actionData:void 0}async function re(e,i,r){let{submission:a,fetcherSubmission:o,preventScrollReset:s,replace:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.response.headers.has("X-Remix-Revalidate")&&(j=!0);let c=i.response.headers.get("Location");_(c,"Expected a Location header on the redirect Response"),c=He(c,new URL(e.url),u);let d=E(C.location,c,{_isRedirect:!0});if(n){let e=!1;if(i.response.headers.has("X-Remix-Reload-Document"))e=!0;else if(be.test(c)){const n=R(c,!0);e=n.origin!==t.location.origin||null==ee(n.pathname,u)}if(e)return void(l?t.location.replace(c):t.location.assign(c))}T=null;let p=!0===l||i.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:m,formAction:f,formEncType:A}=C.navigation;!a&&!o&&m&&f&&A&&(a=pt(C.navigation));let g=a||o;if(Ae.has(i.response.status)&&g&&ut(g.formMethod))await ne(p,d,{submission:h(h({},g),{},{formAction:c}),preventScrollReset:s||N,enableViewTransition:r?I:void 0});else{let e=mt(d,a);await ne(p,d,{overrideNavigation:e,fetcherSubmission:o,preventScrollReset:s||N,enableViewTransition:r?I:void 0})}}async function ae(e,t,n,i){let r,a={};try{r=await ze(d,e,t,i,n,!1)}catch(o){return t.filter(e=>e.shouldLoad).forEach(e=>{a[e.route.id]={type:"error",error:o}}),a}if(e.signal.aborted)return a;for(let[s,l]of Object.entries(r))if(rt(l)){let n=l.result;a[s]={type:"redirect",response:Ge(n,e,s,t,u)}}else a[s]=await qe(l);return a}async function oe(e,t,n,i){let r=ae(n,e,i,null),a=Promise.all(t.map(async e=>{if(e.matches&&e.match&&e.request&&e.controller){let t=(await ae(e.request,e.matches,i,e.key))[e.match.route.id];return{[e.key]:t}}return Promise.resolve({[e.key]:{type:"error",error:tt(404,{pathname:e.path})}})})),o=await r,s=(await a).reduce((e,t)=>Object.assign(e,t),{});return{loaderResults:o,fetcherResults:s}}function se(){j=!0,Y.forEach((e,t)=>{q.has(t)&&z.add(t),pe(t)})}function le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C.fetchers.set(e,t),$({fetchers:new Map(C.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ce(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=$e(C.matches,t);he(e),$({errors:{[r.route.id]:n},fetchers:new Map(C.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function de(e){return X.set(e,(X.get(e)||0)+1),K.has(e)&&K.delete(e),C.fetchers.get(e)||ve}function he(e){let t=C.fetchers.get(e);!q.has(e)||t&&"loading"===t.state&&W.has(e)||pe(e),Y.delete(e),W.delete(e),Q.delete(e),K.delete(e),z.delete(e),C.fetchers.delete(e)}function pe(e){let t=q.get(e);t&&(t.abort(),q.delete(e))}function me(e){for(let t of e){let e=At(de(t).data);C.fetchers.set(t,e)}}function fe(){let e=[],t=!1;for(let n of Q){let i=C.fetchers.get(n);_(i,"Expected fetcher: ".concat(n)),"loading"===i.state&&(Q.delete(n),e.push(n),t=!0)}return me(e),t}function Te(e){let t=[];for(let[n,i]of W)if(i<e){let e=C.fetchers.get(n);_(e,"Expected fetcher: ".concat(n)),"loading"===e.state&&(pe(n),W.delete(n),t.push(n))}return me(t),t.length>0}function _e(e){C.blockers.delete(e),Z.delete(e)}function Pe(e,t){let n=C.blockers.get(e)||ye;_("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: ".concat(n.state," -> ").concat(t.state));let i=new Map(C.blockers);i.set(e,t),$({blockers:i})}function Re(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===Z.size)return;Z.size>1&&S(!1,"A router only supports one blocker at a time");let r=Array.from(Z.entries()),[a,o]=r[r.length-1],s=C.blockers.get(a);return s&&"proceeding"===s.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:i})?a:void 0}function De(e){let t=tt(404,{pathname:e}),n=i||c,{matches:r,route:a}=et(n);return{notFoundMatches:r,route:a,error:t}}function Ie(e,t){if(g){let n=g(e,t.map(e=>U(e,C.loaderData)));return n||e.key}return e.key}function Le(e,t){if(A){let n=Ie(e,t),i=A[n];if("number"===typeof i)return i}return null}function ke(t,n,i){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:O(n,i,u,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:O(n,i,u,!0)}}}return{active:!1,matches:null}}async function Fe(t,n,r,a){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let o=t;for(;;){let t=null==i,h=i||c,p=l;try{await e.patchRoutesOnNavigation({signal:r,path:n,matches:o,fetcherKey:a,patch:(e,t)=>{r.aborted||Ne(e,t,h,p,s)}})}catch(d){return{type:"error",error:d,partialMatches:o}}finally{t&&!r.aborted&&(c=[...c])}if(r.aborted)return{type:"aborted"};let m=F(h,n,u);if(m)return{type:"success",matches:m};let f=O(h,n,u,!0);if(!f||o.length===f.length&&o.every((e,t)=>e.route.id===f[t].route.id))return{type:"success",matches:null};o=f}}return a={get basename(){return u},get future(){return p},get state(){return C},get routes(){return c},get window(){return t},initialize:function(){if(m=e.history.listen(t=>{let{action:n,location:i,delta:r}=t;if(M)return M(),void(M=void 0);S(0===Z.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=Re({currentLocation:C.location,nextLocation:i,historyAction:n});if(a&&null!=r){let t=new Promise(e=>{M=e});return e.history.go(-1*r),void Pe(a,{state:"blocked",location:i,proceed(){Pe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),t.then(()=>e.history.go(r))},reset(){let e=new Map(C.blockers);e.set(a,ye),$({blockers:e})}})}return ne(n,i)}),n){!function(e,t){try{let n=e.sessionStorage.getItem(we);if(n){let e=JSON.parse(n);for(let[n,i]of Object.entries(e||{}))i&&Array.isArray(i)&&t.set(n,new Set(i||[]))}}catch(n){}}(t,L);let e=()=>function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(we,JSON.stringify(i))}catch(n){S(!1,"Failed to save applied view transitions in sessionStorage (".concat(n,")."))}}}(t,L);t.addEventListener("pagehide",e),k=()=>t.removeEventListener("pagehide",e)}return C.initialized||ne("POP",C.location,{initialHydration:!0}),a},subscribe:function(e){return f.add(e),()=>f.delete(e)},enableScrollRestoration:function(e,t,n){if(A=e,v=t,g=n||null,!y&&C.navigation===ge){y=!0;let e=Le(C.location,C.matches);null!=e&&$({restoreScrollPosition:e})}return()=>{A=null,v=null,g=null}},navigate:async function t(n,i){if("number"===typeof n)return void e.history.go(n);let r=Se(C.location,C.matches,u,n,null===i||void 0===i?void 0:i.fromRouteId,null===i||void 0===i?void 0:i.relative),{path:a,submission:o,error:s}=Me(!1,r,i),l=C.location,c=E(C.location,a,i&&i.state);c=h(h({},c),e.history.encodeLocation(c));let d=i&&null!=i.replace?i.replace:void 0,p="PUSH";!0===d?p="REPLACE":!1===d||null!=o&&ut(o.formMethod)&&o.formAction===C.location.pathname+C.location.search&&(p="REPLACE");let m=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,f=!0===(i&&i.flushSync),A=Re({currentLocation:l,nextLocation:c,historyAction:p});A?Pe(A,{state:"blocked",location:c,proceed(){Pe(A,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,i)},reset(){let e=new Map(C.blockers);e.set(A,ye),$({blockers:e})}}):await ne(p,c,{submission:o,pendingError:s,preventScrollReset:m,replace:i&&i.replace,enableViewTransition:i&&i.viewTransition,flushSync:f})},fetch:async function(t,n,r,a){pe(t);let d=!0===(a&&a.flushSync),h=i||c,p=Se(C.location,C.matches,u,r,n,null===a||void 0===a?void 0:a.relative),m=F(h,p,u),f=ke(m,h,p);if(f.active&&f.matches&&(m=f.matches),!m)return void ce(t,n,tt(404,{pathname:p}),{flushSync:d});let{path:A,submission:g,error:v}=Me(!0,p,a);if(v)return void ce(t,n,v,{flushSync:d});let y=ht(m,A),b=new D(e.unstable_getContext?await e.unstable_getContext():void 0),x=!0===(a&&a.preventScrollReset);g&&ut(g.formMethod)?await async function(t,n,r,a,d,h,p,m,f,A){function g(e){if(!e.route.action&&!e.route.lazy){let e=tt(405,{method:A.formMethod,pathname:r,routeId:n});return ce(t,n,e,{flushSync:m}),!0}return!1}if(se(),Y.delete(t),!p&&g(a))return;let v=C.fetchers.get(t);le(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(A,v),{flushSync:m});let y=new AbortController,b=We(e.history,r,y.signal,A);if(p){let e=await Fe(d,r,b.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ce(t,n,e.error,{flushSync:m});if(!e.matches)return void ce(t,n,tt(404,{pathname:r}),{flushSync:m});if(g(a=ht(d=e.matches,r)))return}q.set(t,y);let x=G,w=je(s,l,b,d,a,o,h),S=await ae(b,w,h,t),M=S[a.route.id];if(b.signal.aborted)return void(q.get(t)===y&&q.delete(t));if(K.has(t)){if(ot(M)||at(M))return void le(t,At(void 0))}else{if(ot(M))return q.delete(t),H>x?void le(t,At(void 0)):(Q.add(t),le(t,ft(A)),re(b,M,!1,{fetcherSubmission:A,preventScrollReset:f}));if(at(M))return void ce(t,n,M.error)}let E=C.navigation.location||C.location,N=We(e.history,E,y.signal),R=i||c,D="idle"!==C.navigation.state?F(R,C.navigation.location,u):C.matches;_(D,"Didn't find any matches after fetcher action");let I=++G;W.set(t,I);let L=ft(A,M.data);C.fetchers.set(t,L);let{dsMatches:k,revalidatingFetchers:B}=Ee(N,h,s,l,e.history,C,D,A,E,o,!1,j,z,K,Y,Q,R,u,null!=e.patchRoutesOnNavigation,[a.route.id,M]);B.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=C.fetchers.get(t),i=ft(void 0,n?n.data:void 0);C.fetchers.set(t,i),pe(t),e.controller&&q.set(t,e.controller)}),$({fetchers:new Map(C.fetchers)});let O=()=>B.forEach(e=>pe(e.key));y.signal.addEventListener("abort",O);let{loaderResults:U,fetcherResults:V}=await oe(k,B,N,h);if(y.signal.aborted)return;if(y.signal.removeEventListener("abort",O),W.delete(t),q.delete(t),B.forEach(e=>q.delete(e.key)),C.fetchers.has(t)){let e=At(M.data);C.fetchers.set(t,e)}let X=nt(U);if(X)return re(N,X.result,!1,{preventScrollReset:f});if(X=nt(V),X)return Q.add(X.key),re(N,X.result,!1,{preventScrollReset:f});let{loaderData:Z,errors:J}=Ke(C,D,U,void 0,B,V);Te(I),"loading"===C.navigation.state&&I>H?(_(P,"Expected pending action"),T&&T.abort(),te(C.navigation.location,{matches:D,loaderData:Z,errors:J,fetchers:new Map(C.fetchers)})):($({errors:J,loaderData:Ze(C.loaderData,Z,D,J),fetchers:new Map(C.fetchers)}),j=!1)}(t,n,A,y,m,b,f.active,d,x,g):(Y.set(t,{routeId:n,path:A}),await async function(t,n,i,r,a,c,u,d,h,p){let m=C.fetchers.get(t);le(t,ft(p,m?m.data:void 0),{flushSync:d});let f=new AbortController,A=We(e.history,i,f.signal);if(u){let e=await Fe(a,i,A.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ce(t,n,e.error,{flushSync:d});if(!e.matches)return void ce(t,n,tt(404,{pathname:i}),{flushSync:d});r=ht(a=e.matches,i)}q.set(t,f);let g=G,v=je(s,l,A,a,r,o,c),y=await ae(A,v,c,t),b=y[r.route.id];q.get(t)===f&&q.delete(t);if(A.signal.aborted)return;if(K.has(t))return void le(t,At(void 0));if(ot(b))return H>g?void le(t,At(void 0)):(Q.add(t),void await re(A,b,!1,{preventScrollReset:h}));if(at(b))return void ce(t,n,b.error);le(t,At(b.data))}(t,n,A,y,m,b,f.active,d,x,g))},revalidate:function(){J||(J=function(){let e,t,n=new Promise((i,r)=>{e=async e=>{i(e);try{await n}catch(t){}},t=async e=>{r(e);try{await n}catch(t){}}});return{promise:n,resolve:e,reject:t}}()),se(),$({revalidation:"loading"});let e=J.promise;return"submitting"===C.navigation.state?e:"idle"===C.navigation.state?(ne(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),e):(ne(P||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:!0===I}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:de,deleteFetcher:function(e){let t=(X.get(e)||0)-1;t<=0?(X.delete(e),K.add(e)):X.set(e,t),$({fetchers:new Map(C.fetchers)})},dispose:function(){m&&m(),k&&k(),f.clear(),T&&T.abort(),C.fetchers.forEach((e,t)=>he(t)),C.blockers.forEach((e,t)=>_e(t))},getBlocker:function(e,t){let n=C.blockers.get(e)||ye;return Z.get(e)!==t&&Z.set(e,t),n},deleteBlocker:_e,patchRoutes:function(e,t){let n=null==i;Ne(e,t,i||c,l,s),n&&(c=[...c],$({}))},_internalFetchControllers:q,_internalSetRoutes:function(e){l={},i=B(e,s,void 0,l)}},a}function Se(e,t,n,i,r,a){let o,s;if(r){o=[];for(let e of t)if(o.push(e),e.route.id===r){s=e;break}}else o=t,s=t[t.length-1];let l=re(i||".",ie(o),ee(e.pathname,n)||e.pathname,"path"===a);if(null==i&&(l.search=e.search,l.hash=e.hash),(null==i||""===i||"."===i)&&s){let e=dt(l.search);if(s.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();l.search=n?"?".concat(n):""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:ae([n,l.pathname])),C(l)}function Me(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!ct(n.formMethod))return{path:t,error:tt(405,{method:n.formMethod})};let i,r,a=()=>({path:t,error:tt(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),s=it(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!ut(o))return a();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,"\n")},""):String(n.body);return{path:t,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!ut(o))return a();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(u){return a()}}}if(_("function"===typeof FormData,"FormData is not available in this environment"),n.formData)i=Qe(n.formData),r=n.formData;else if(n.body instanceof FormData)i=Qe(n.body),r=n.body;else if(n.body instanceof URLSearchParams)i=n.body,r=Ye(i);else if(null==n.body)i=new URLSearchParams,r=new FormData;else try{i=new URLSearchParams(n.body),r=Ye(i)}catch(u){return a()}let l={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:r,json:void 0,text:void 0};if(ut(l.formMethod))return{path:t,submission:l};let c=P(t);return e&&c.search&&dt(c.search)&&i.append("index",""),c.search="?".concat(i),{path:C(c),submission:l}}function Ee(e,t,n,i,r,a,o,s,l,c,u,d,p,m,f,A,g,v,y,b){var x;let w,T=b?at(b[1])?b[1].error:b[1].data:void 0,_=r.createURL(a.location),S=r.createURL(l);if(u&&a.errors){let e=Object.keys(a.errors)[0];w=o.findIndex(t=>t.route.id===e)}else if(b&&at(b[1])){let e=b[0];w=o.findIndex(t=>t.route.id===e)-1}let M=b?b[1].statusCode:void 0,E=M&&M>=400,C=h(h({currentUrl:_,currentParams:(null===(x=a.matches[0])||void 0===x?void 0:x.params)||{},nextUrl:S,nextParams:o[0].params},s),{},{actionResult:T,actionStatus:M}),P=o.map((r,o)=>{let{route:s}=r,l=null;if(null!=w&&o>w?l=!1:s.lazy?l=!0:null==s.loader?l=!1:u?l=Ce(s,a.loaderData,a.errors):function(e,t,n){let i=!t||n.route.id!==t.route.id,r=!e.hasOwnProperty(n.route.id);return i||r}(a.loaderData,a.matches[o],r)&&(l=!0),null!==l)return Ve(n,i,e,r,c,t,l);let p=!E&&(d||_.pathname+_.search===S.pathname+S.search||_.search!==S.search||function(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}(a.matches[o],r)),m=h(h({},C),{},{defaultShouldRevalidate:p}),f=Pe(r,m);return Ve(n,i,e,r,c,t,f,m)}),N=[];return f.forEach((e,s)=>{if(u||!o.some(t=>t.route.id===e.routeId)||m.has(s))return;let l=a.fetchers.get(s),f=l&&"idle"!==l.state&&void 0===l.data,b=F(g,e.path,v);if(!b){if(y&&f)return;return void N.push({key:s,routeId:e.routeId,path:e.path,matches:null,match:null,request:null,controller:null})}if(A.has(s))return;let x=ht(b,e.path),w=new AbortController,T=We(r,e.path,w.signal),_=null;if(p.has(s))p.delete(s),_=je(n,i,T,b,x,c,t);else if(f)d&&(_=je(n,i,T,b,x,c,t));else{let e=h(h({},C),{},{defaultShouldRevalidate:!E&&d});Pe(x,e)&&(_=je(n,i,T,b,x,c,t,e))}_&&N.push({key:s,routeId:e.routeId,path:e.path,matches:_,match:x,request:T,controller:w})}),{dsMatches:P,revalidatingFetchers:N}}function Ce(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=null!=t&&e.id in t,r=null!=n&&void 0!==n[e.id];return!(!i&&r)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!i&&!r)}function Pe(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Ne(e,t,n,i,r){var a;let o;if(e){let t=i[e];_(t,"No route found to patch children into: routeId = ".concat(e)),t.children||(t.children=[]),o=t.children}else o=n;let s=B(t.filter(e=>!o.some(t=>Re(e,t))),r,[e||"_","patch",String((null===(a=o)||void 0===a?void 0:a.length)||"0")],i);o.push(...s)}function Re(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,n)=>{var i;return null===(i=t.children)||void 0===i?void 0:i.some(t=>Re(e,t))}))}var De=new WeakMap,Ie=e=>{let{key:t,route:n,manifest:i,mapRouteProperties:r}=e,a=i[n.id];if(_(a,"No route found in manifest"),!a.lazy||"object"!==typeof a.lazy)return;let o=a.lazy[t];if(!o)return;let s=De.get(a);s||(s={},De.set(a,s));let l=s[t];if(l)return l;let c=(async()=>{let e=function(e){return I.has(e)}(t),n=void 0!==a[t]&&"hasErrorBoundary"!==t;if(e)S(!e,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(n)S(!1,'Route "'.concat(a.id,'" has a static property "').concat(t,'" defined. The lazy property will be ignored.'));else{let e=await o();null!=e&&(Object.assign(a,{[t]:e}),Object.assign(a,r(a)))}"object"===typeof a.lazy&&(a.lazy[t]=void 0,Object.values(a.lazy).every(e=>void 0===e)&&(a.lazy=void 0))})();return s[t]=c,c},Le=new WeakMap;async function ke(e){let t=e.matches.filter(e=>e.shouldLoad),n={},i=await Promise.all(t.map(e=>e.resolve()));return i.forEach((e,i)=>{n[t[i].route.id]=e}),n}async function Be(e){return e.matches.some(e=>e.route.unstable_middleware)?Fe(e,!1,()=>ke(e),(e,t)=>({[t]:{type:"error",result:e}})):ke(e)}async function Fe(e,t,n,i){let{matches:r,request:a,params:o,context:s}=e,l={handlerResult:void 0};try{let e=r.flatMap(e=>e.route.unstable_middleware?e.route.unstable_middleware.map(t=>[e.route.id,t]):[]),i=await Oe({request:a,params:o,context:s},e,t,l,n);return t?i:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let e=await i(l.middlewareError.error,l.middlewareError.routeId);return t||!l.handlerResult?e:Object.assign(l.handlerResult,e)}}async function Oe(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,{request:o}=e;if(o.signal.aborted){if(o.signal.reason)throw o.signal.reason;throw new Error("Request aborted without an `AbortSignal.reason`: ".concat(o.method," ").concat(o.url))}let s=t[a];if(!s)return i.handlerResult=await r(),i.handlerResult;let l,[c,u]=s,d=!1,h=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0;let o=await Oe(e,t,n,i,r,a+1);if(n)return l=o,l};try{let t=await u({request:e.request,params:e.params,context:e.context},h);return d?void 0===t?l:t:h()}catch(p){throw i.middlewareError?i.middlewareError.error!==p&&(i.middlewareError={routeId:c,error:p}):i.middlewareError={routeId:c,error:p},p}}function Ue(e,t,n,i,r){let a=Ie({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:e}),o=function(e,t,n,i,r){var a;let o=n[e.id];if(_(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if("function"===typeof e.lazy){let t=Le.get(o);if(t)return{lazyRoutePromise:t,lazyHandlerPromise:t};let n=(async()=>{_("function"===typeof e.lazy,"No lazy route function found");let t=await e.lazy(),n={};for(let e in t){let i=t[e];if(void 0===i)continue;let r=k(e),a=void 0!==o[e]&&"hasErrorBoundary"!==e;r?S(!r,"Route property "+e+" is not a supported property to be returned from a lazy route function. This property will be ignored."):a?S(!a,'Route "'.concat(o.id,'" has a static property "').concat(e,'" defined but its lazy function is also returning a value for this property. The lazy route property "').concat(e,'" will be ignored.')):n[e]=i}Object.assign(o,n),Object.assign(o,h(h({},i(o)),{},{lazy:void 0}))})();return Le.set(o,n),n.catch(()=>{}),{lazyRoutePromise:n,lazyHandlerPromise:n}}let s,l=Object.keys(e.lazy),c=[];for(let d of l){if(r&&r.includes(d))continue;let a=Ie({key:d,route:e,manifest:n,mapRouteProperties:i});a&&(c.push(a),d===t&&(s=a))}let u=c.length>0?Promise.all(c).then(()=>{}):void 0;return null===u||void 0===u||u.catch(()=>{}),null===(a=s)||void 0===a||a.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:s}}(i.route,ut(n.method)?"action":"loader",t,e,r);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Ve(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=!1,c=Ue(e,t,n,i,r);return h(h({},i),{},{_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:e=>(l=!0,s?Pe(i,"boolean"===typeof e?h(h({},s),{},{defaultShouldRevalidate:e}):s):o),resolve:e=>l||o||e&&"GET"===n.method&&(i.route.lazy||i.route.loader)?async function(e){let t,n,{request:i,match:r,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:s,scopedContext:l}=e,c=ut(i.method),u=c?"action":"loader",d=e=>{let t,a=new Promise((e,n)=>t=n);n=()=>t(),i.signal.addEventListener("abort",n);let o=t=>"function"!==typeof e?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'.concat(u,'" [routeId: ').concat(r.route.id,"]"))):e({request:i,params:r.params,context:l},...void 0!==t?[t]:[]),c=(async()=>{try{return{type:"data",result:await(s?s(e=>o(e)):o())}}catch(e){return{type:"error",result:e}}})();return Promise.race([c,a])};try{let e=c?r.route.action:r.route.loader;if(a||o)if(e){let n,[i]=await Promise.all([d(e).catch(e=>{n=e}),a,o]);if(void 0!==n)throw n;t=i}else{await a;let e=c?r.route.action:r.route.loader;if(!e){if("action"===u){let e=new URL(i.url),t=e.pathname+e.search;throw tt(405,{method:i.method,pathname:t,routeId:r.route.id})}return{type:"data",result:void 0}}[t]=await Promise.all([d(e),o])}else{if(!e){let e=new URL(i.url);throw tt(404,{pathname:e.pathname+e.search})}t=await d(e)}}catch(h){return{type:"error",result:h}}finally{n&&i.signal.removeEventListener("abort",n)}return t}({request:n,match:i,lazyHandlerPromise:null===c||void 0===c?void 0:c.handler,lazyRoutePromise:null===c||void 0===c?void 0:c.route,handlerOverride:e,scopedContext:a}):Promise.resolve({type:"data",result:void 0})})}function je(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return i.map(i=>i.route.id!==r.route.id?h(h({},i),{},{shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ue(e,t,n,i,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Ve(e,t,n,i,a,o,!0,s))}async function ze(e,t,n,i,r,a){n.some(e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware})&&await Promise.all(n.map(e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware}));let o={request:t,params:n[0].params,context:r,matches:n},s=a?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:e=>{let t=o;return Fe(t,!1,()=>e(h(h({},t),{},{fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(e,t)=>({[t]:{type:"error",result:e}}))},l=await e(h(h({},o),{},{fetcherKey:i,unstable_runClientMiddleware:s}));try{await Promise.all(n.flatMap(e=>{var t,n;return[null===(t=e._lazyPromises)||void 0===t?void 0:t.handler,null===(n=e._lazyPromises)||void 0===n?void 0:n.route]}))}catch(c){}return l}async function qe(e){let{result:t,type:n}=e;if(lt(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(c){return{type:"error",error:c}}return"error"===n?{type:"error",error:new ce(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}var i,r,a,o,s,l;return"error"===n?st(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:null===(a=t.init)||void 0===a?void 0:a.status,headers:null!==(o=t.init)&&void 0!==o&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new ce((null===(i=t.init)||void 0===i?void 0:i.status)||500,void 0,t.data),statusCode:ue(t)?t.status:void 0,headers:null!==(r=t.init)&&void 0!==r&&r.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ue(t)?t.status:void 0}:st(t)?{type:"data",data:t.data,statusCode:null===(s=t.init)||void 0===s?void 0:s.status,headers:null!==(l=t.init)&&void 0!==l&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Ge(e,t,n,i,r){let a=e.headers.get("Location");if(_(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!be.test(a)){let o=i.slice(0,i.findIndex(e=>e.route.id===n)+1);a=Se(new URL(t.url),o,r,a),e.headers.set("Location",a)}return e}function He(e,t,n){if(be.test(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),a=null!=ee(r.pathname,n);if(r.origin===t.origin&&a)return r.pathname+r.search+r.hash}return e}function We(e,t,n,i){let r=e.createURL(it(t)).toString(),a={signal:n};if(i&&ut(i.formMethod)){let{formMethod:e,formEncType:t}=i;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(i.json)):"text/plain"===t?a.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?a.body=Qe(i.formData):a.body=i.formData}return new Request(r,a)}function Qe(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"===typeof i?i:i.name);return t}function Ye(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function Xe(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={},s=null,l=!1,c={},u=n&&at(n[1])?n[1].error:void 0;return e.forEach(n=>{if(!(n.route.id in t))return;let d=n.route.id,h=t[d];if(_(!ot(h),"Cannot handle redirect results in processLoaderData"),at(h)){let t=h.error;if(void 0!==u&&(t=u,u=void 0),s=s||{},a)s[d]=t;else{let n=$e(e,d);null==s[n.route.id]&&(s[n.route.id]=t)}r||(o[d]=Te),l||(l=!0,i=ue(h.error)?h.error.status:500),h.headers&&(c[d]=h.headers)}else o[d]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(i=h.statusCode),h.headers&&(c[d]=h.headers)}),void 0!==u&&n&&(s={[n[0]]:u},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:s,statusCode:i||200,loaderHeaders:c}}function Ke(e,t,n,i,r,a){let{loaderData:o,errors:s}=Xe(t,n,i);return r.filter(e=>!e.matches||e.matches.some(e=>e.shouldLoad)).forEach(t=>{let{key:n,match:i,controller:r}=t,o=a[n];if(_(o,"Did not find corresponding fetcher result"),!r||!r.signal.aborted)if(at(o)){let t=$e(e.matches,null===i||void 0===i?void 0:i.route.id);s&&s[t.route.id]||(s=h(h({},s),{},{[t.route.id]:o.error})),e.fetchers.delete(n)}else if(ot(o))_(!1,"Unhandled fetcher revalidation redirect");else{let t=At(o.data);e.fetchers.set(n,t)}}),{loaderData:o,errors:s}}function Ze(e,t,n,i){let r=Object.entries(t).filter(e=>{let[,t]=e;return t!==Te}).reduce((e,t)=>{let[n,i]=t;return e[n]=i,e},{});for(let a of n){let n=a.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&a.route.loader&&(r[n]=e[n]),i&&i.hasOwnProperty(n))break}return r}function Je(e){return e?at(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function $e(e,t){let n=t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e];return n.reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function et(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function tt(e){let{pathname:t,routeId:n,method:i,type:r,message:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(o="Bad Request",i&&t&&n?s="You made a ".concat(i,' request to "').concat(t,'" but did not provide a `loader` for route "').concat(n,'", so there is no way to handle the request.'):"invalid-body"===r&&(s="Unable to encode submission body")):403===e?(o="Forbidden",s='Route "'.concat(n,'" does not match URL "').concat(t,'"')):404===e?(o="Not Found",s='No route matches URL "'.concat(t,'"')):405===e&&(o="Method Not Allowed",i&&t&&n?s="You made a ".concat(i.toUpperCase(),' request to "').concat(t,'" but did not provide an `action` for route "').concat(n,'", so there is no way to handle the request.'):i&&(s='Invalid request method "'.concat(i.toUpperCase(),'"'))),new ce(e||500,o,new Error(s),!0)}function nt(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,i]=t[n];if(ot(i))return{key:e,result:i}}}function it(e){return C(h(h({},"string"===typeof e?P(e):e),{},{hash:""}))}function rt(e){return lt(e.result)&&fe.has(e.result.status)}function at(e){return"error"===e.type}function ot(e){return"redirect"===(e&&e.type)}function st(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function lt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function ct(e){return me.has(e.toUpperCase())}function ut(e){return he.has(e.toUpperCase())}function dt(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function ht(e,t){let n="string"===typeof t?P(t).search:t.search;if(e[e.length-1].route.index&&dt(n||""))return e[e.length-1];let i=ne(e);return i[i.length-1]}function pt(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:a,json:o}=e;if(t&&n&&i)return null!=r?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r}:null!=a?{formMethod:t,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}:void 0}function mt(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ft(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function At(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var gt=i.createContext(null);gt.displayName="DataRouter";var vt=i.createContext(null);vt.displayName="DataRouterState";var yt=i.createContext({isTransitioning:!1});yt.displayName="ViewTransition";var bt=i.createContext(new Map);bt.displayName="Fetchers";var xt=i.createContext(null);xt.displayName="Await";var wt=i.createContext(null);wt.displayName="Navigation";var Tt=i.createContext(null);Tt.displayName="Location";var _t=i.createContext({outlet:null,matches:[],isDataRoute:!1});_t.displayName="Route";var St=i.createContext(null);St.displayName="RouteError";function Mt(){return null!=i.useContext(Tt)}function Et(){return _(Mt(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(Tt).location}var Ct="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pt(e){i.useContext(wt).static||i.useLayoutEffect(e)}function Nt(){let{isDataRoute:e}=i.useContext(_t);return e?function(){let{router:e}=jt("useNavigate"),t=qt("useNavigate"),n=i.useRef(!1);Pt(()=>{n.current=!0});let r=i.useCallback(async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(n.current,Ct),n.current&&("number"===typeof i?e.navigate(i):await e.navigate(i,h({fromRouteId:t},r)))},[e,t]);return r}():function(){_(Mt(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(gt),{basename:t,navigator:n}=i.useContext(wt),{matches:r}=i.useContext(_t),{pathname:a}=Et(),o=JSON.stringify(ie(r)),s=i.useRef(!1);Pt(()=>{s.current=!0});let l=i.useCallback(function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(s.current,Ct),!s.current)return;if("number"===typeof i)return void n.go(i);let l=re(i,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ae([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,o,a,e]);return l}()}var Rt=i.createContext(null);function Dt(){let{matches:e}=i.useContext(_t),t=e[e.length-1];return t?t.params:{}}function It(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(_t),{pathname:r}=Et(),a=JSON.stringify(ie(n));return i.useMemo(()=>re(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function Lt(e,t,n,r){_(Mt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=i.useContext(wt),{matches:o}=i.useContext(_t),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";Wt(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=Et();if(t){var f;let e="string"===typeof t?P(t):t;_("/"===u||(null===(f=e.pathname)||void 0===f?void 0:f.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let A=p.pathname||"/",g=A;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+A.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=F(e,{pathname:g});S(d||null!=v,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),S(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let y=Ut(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ae([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ae([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&y?i.createElement(Tt.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},y):y}function kt(){let e=Gt(),t=ue(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,s)}var Bt=i.createElement(kt,null),Ft=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(_t.Provider,{value:this.props.routeContext},i.createElement(St.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ot(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(gt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(_t.Provider,{value:t},r)}function Ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=r.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));_(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let o=!1,s=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=i),e.route.id){let{loaderData:t,errors:i}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||a){o=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight((e,l,c)=>{let u,d=!1,h=null,p=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||Bt,o&&(s<0&&0===c?(Wt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):s===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(r.slice(0,c+1)),f=()=>{let t;return t=u?h:d?p:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(Ot,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(Ft,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}function Vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function jt(e){let t=i.useContext(gt);return _(t,Vt(e)),t}function zt(e){let t=i.useContext(vt);return _(t,Vt(e)),t}function qt(e){let t=function(e){let t=i.useContext(_t);return _(t,Vt(e)),t}(e),n=t.matches[t.matches.length-1];return _(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Gt(){var e;let t=i.useContext(St),n=zt("useRouteError"),r=qt("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ht={};function Wt(e,t,n){t||Ht[e]||(Ht[e]=!0,S(!1,n))}var Qt={};function Yt(e,t){e||Qt[t]||(Qt[t]=!0,console.warn(t))}function Xt(e){let t={hasErrorBoundary:e.hasErrorBoundary||null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(e.element&&S(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:i.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&S(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:i.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&S(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Kt=["HydrateFallback","hydrateFallbackElement"];var Zt=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}};function Jt(e){let{router:t,flushSync:n}=e,[r,a]=i.useState(t.state),[o,s]=i.useState(),[l,c]=i.useState({isTransitioning:!1}),[u,d]=i.useState(),[h,p]=i.useState(),[m,f]=i.useState(),A=i.useRef(new Map),g=i.useCallback((e,r)=>{let{deletedFetchers:o,flushSync:l,viewTransitionOpts:m}=r;e.fetchers.forEach((e,t)=>{void 0!==e.data&&A.current.set(t,e.data)}),o.forEach(e=>A.current.delete(e)),Yt(!1===l||null!=n,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let g=null!=t.window&&null!=t.window.document&&"function"===typeof t.window.document.startViewTransition;if(Yt(null==m||g,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),m&&g){if(n&&l){n(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:m.currentLocation,nextLocation:m.nextLocation})});let i=t.window.document.startViewTransition(()=>{n(()=>a(e))});return i.finished.finally(()=>{n(()=>{d(void 0),p(void 0),s(void 0),c({isTransitioning:!1})})}),void n(()=>p(i))}h?(u&&u.resolve(),h.skipTransition(),f({state:e,currentLocation:m.currentLocation,nextLocation:m.nextLocation})):(s(e),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}))}else n&&l?n(()=>a(e)):i.startTransition(()=>a(e))},[t.window,n,h,u]);i.useLayoutEffect(()=>t.subscribe(g),[t,g]),i.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Zt)},[l]),i.useEffect(()=>{if(u&&o&&t.window){let e=o,n=u.promise,r=t.window.document.startViewTransition(async()=>{i.startTransition(()=>a(e)),await n});r.finished.finally(()=>{d(void 0),p(void 0),s(void 0),c({isTransitioning:!1})}),p(r)}},[o,u,t.window]),i.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,h,r.location,o]),i.useEffect(()=>{!l.isTransitioning&&m&&(s(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),f(void 0))},[l.isTransitioning,m]);let v=i.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:e=>t.navigate(e),push:(e,n,i)=>t.navigate(e,{state:n,preventScrollReset:null===i||void 0===i?void 0:i.preventScrollReset}),replace:(e,n,i)=>t.navigate(e,{replace:!0,state:n,preventScrollReset:null===i||void 0===i?void 0:i.preventScrollReset})}),[t]),y=t.basename||"/",b=i.useMemo(()=>({router:t,navigator:v,static:!1,basename:y}),[t,v,y]);return i.createElement(i.Fragment,null,i.createElement(gt.Provider,{value:b},i.createElement(vt.Provider,{value:r},i.createElement(bt.Provider,{value:A.current},i.createElement(yt.Provider,{value:l},i.createElement(tn,{basename:y,location:r.location,navigationType:r.historyAction,navigator:v},i.createElement($t,{routes:t.routes,future:t.future,state:r})))))),null)}var $t=i.memo(function(e){let{routes:t,future:n,state:i}=e;return Lt(t,void 0,i,n)});function en(e){return function(e){let t=i.useContext(_t).outlet;return t?i.createElement(Rt.Provider,{value:e},t):t}(e.context)}function tn(e){let{basename:t="/",children:n=null,location:r,navigationType:a="POP",navigator:o,static:s=!1}=e;_(!Mt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:o,static:s,future:{}}),[l,o,s]);"string"===typeof r&&(r=P(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,f=i.useMemo(()=>{let e=ee(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:a}},[l,u,d,h,p,m,a]);return S(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:i.createElement(wt.Provider,{value:c},i.createElement(Tt.Provider,{children:n,value:f}))}i.Component;var nn="get",rn="application/x-www-form-urlencoded";function an(e){return null!=e&&"string"===typeof e.tagName}var on=null;var sn=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ln(e){return null==e||sn.has(e)?e:(S(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(rn,'"')),null)}function cn(e,t){let n,i,r,a,o;if(function(e){return an(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");i=o?ee(o,t):null,n=e.getAttribute("method")||nn,r=ln(e.getAttribute("enctype"))||rn,a=new FormData(e)}else if(function(e){return an(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return an(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(i=s?ee(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||nn,r=ln(e.getAttribute("formenctype"))||ln(o.getAttribute("enctype"))||rn,a=new FormData(o,e),!function(){if(null===on)try{new FormData(document.createElement("form"),0),on=!1}catch(e){on=!0}return on}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,i)}}else{if(an(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nn,i=null,r=rn,o=e}return a&&"text/plain"===r&&(o=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:o}}function un(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function dn(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hn(e){return null!=e&&"string"===typeof e.page}function pn(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function mn(e,t,n,i,r,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function fn(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1),[...new Set(i)];var i}function An(e,t){let n=new Set,i=new Set(t);return e.reduce((e,r)=>{if(t&&!hn(r)&&"script"===r.as&&r.href&&i.has(r.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(r));return n.has(a)||(n.add(a),e.push({key:a,link:r})),e},[])}function gn(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var vn=new Set([100,101,204,205]);function yn(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===ee(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}i.Component;function bn(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,a=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ue(t))return i.createElement(xn,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return i.createElement(xn,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function xn(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:a,children:o}=e,{routeModules:s}=Mn();return null!==s.root&&void 0!==t&&t.Layout&&!a?o:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?i.createElement(In,null):null)))}function wn(e,t){return"lazy"===e.mode&&!0===t}function Tn(){let e=i.useContext(gt);return un(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _n(){let e=i.useContext(vt);return un(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sn=i.createContext(void 0);function Mn(){let e=i.useContext(Sn);return un(e,"You must render this element inside a <HydratedRouter> element"),e}function En(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Cn(e,t,n){if(n&&!Dn)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function Pn(e){let{page:t}=e,n=s(e,m),{router:r}=Tn(),a=i.useMemo(()=>F(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?i.createElement(Rn,h({page:t,matches:a},n)):null}function Nn(e){let{manifest:t,routeModules:n}=Mn(),[r,a]=i.useState([]);return i.useEffect(()=>{let i=!1;return async function(e,t,n){let i=await Promise.all(e.map(async e=>{let i=t.routes[e.route.id];if(i){let e=await dn(i,n);return e.links?e.links():[]}return[]}));return An(i.flat(1).filter(pn).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{i||a(e)}),()=>{i=!0}},[e,t,n]),r}function Rn(e){let{page:t,matches:n}=e,r=s(e,f),a=Et(),{manifest:o,routeModules:l}=Mn(),{basename:c}=Tn(),{loaderData:u,matches:d}=_n(),p=i.useMemo(()=>mn(t,n,d,o,a,"data"),[t,n,d,o,a]),m=i.useMemo(()=>mn(t,n,d,o,a,"assets"),[t,n,d,o,a]),A=i.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,i=!1;if(n.forEach(t=>{var n;let r=o.routes[t.route.id];r&&r.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?i=!0:e.add(t.route.id))}),0===e.size)return[];let r=yn(t,c);return i&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[c,u,a,o,p,n,t,l]),g=i.useMemo(()=>fn(m,o),[m,o]),v=Nn(m);return i.createElement(i.Fragment,null,A.map(e=>i.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},r))),g.map(e=>i.createElement("link",h({key:e,rel:"modulepreload",href:e},r))),v.map(e=>{let{key:t,link:n}=e;return i.createElement("link",h({key:t},n))}))}Sn.displayName="FrameworkContext";var Dn=!1;function In(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:a,routeDiscovery:o,ssr:l}=Mn(),{router:c,static:u,staticContext:d}=Tn(),{matches:m}=_n(),f=wn(o,l);a&&(a.didRenderScripts=!0);let A=Cn(m,null,r);i.useEffect(()=>{0},[]);let g=i.useMemo(()=>{var r;let a=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==t.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(A.map((e,n)=>{let i="route".concat(n),r=t.routes[e.route.id];un(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=r,u=[...a?[{module:a,varName:"".concat(i,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(i,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(i," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=s(e,p),r=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach(e=>{let n=F(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let l=[...r].reduce((e,t)=>Object.assign(e,{[t]:i.routes[t]}),{});return h(h({},i),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(A.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:gn(a),type:void 0})),i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:gn(o),type:"module",async:!0})))},[]),v=Dn?[]:function(e){return[...new Set(e)]}(t.entry.imports.concat(fn(A,t,{includeHydrateFallback:!0}))),y="object"===typeof t.sri?t.sri:{};return Dn?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,f?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0})),g)}function Ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var kn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{kn&&(window.__reactRouterVersion="7.6.3")}catch(ice){}function Bn(){var e;let t=null===(e=window)||void 0===e?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=h(h({},t),{},{errors:Fn(t.errors)})),t}function Fn(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[i]=new ce(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let e=window[r.__subType];if("function"===typeof e)try{let t=new e(r.message);t.stack="",n[i]=t}catch(ice){}}if(null==n[i]){let e=new Error(r.message);e.stack="",n[i]=e}}else n[i]=r;return n}var On=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=i.forwardRef(function(e,t){let n,{onClick:r,discover:a="render",prefetch:o="none",relative:l,reloadDocument:c,replace:u,state:d,target:p,to:m,preventScrollReset:f,viewTransition:g}=e,v=s(e,A),{basename:y}=i.useContext(wt),b="string"===typeof m&&On.test(m),x=!1;if("string"===typeof m&&b&&(n=m,kn))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=ee(t.pathname,y);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(ice){S(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(Mt(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(wt),{hash:a,pathname:o,search:s}=It(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:ae([n,o])),r.createHref({pathname:l,search:s,hash:a})}(m,{relative:l}),[T,M,E]=function(e,t){let n=i.useContext(Sn),[r,a]=i.useState(!1),[o,s]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=i.useRef(null);i.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let m=()=>{a(!0)},f=()=>{a(!1),s(!1)};return n?"intent"!==e?[o,p,{}]:[o,p,{onFocus:En(l,m),onBlur:En(c,f),onMouseEnter:En(u,m),onMouseLeave:En(d,f),onTouchStart:En(h,m)}]:[!1,p,{}]}(o,v),P=function(e){let{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Nt(),c=Et(),u=It(e,{relative:o});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:C(c)===C(u);l(e,{replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,n,r,t,e,a,o,s])}(m,{replace:u,state:d,target:p,preventScrollReset:f,relative:l,viewTransition:g});let N=i.createElement("a",h(h(h({},v),E),{},{href:n||w,onClick:x||c?r:function(e){r&&r(e),e.defaultPrevented||P(e)},ref:Ln(t,M),target:p,"data-discover":b||"render"!==a?void 0:"true"}));return T&&!b?i.createElement(i.Fragment,null,N,i.createElement(Pn,{page:w})):N});Un.displayName="Link",i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,p=s(e,g),m=It(c,{relative:p.relative}),f=Et(),A=i.useContext(vt),{navigator:v,basename:y}=i.useContext(wt),b=null!=A&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(yt);_(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zn("useViewTransitionState"),a=It(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ee(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ee(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Z(a.pathname,s)||null!=Z(a.pathname,o)}(m)&&!0===u,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,w=f.pathname,T=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(w=w.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&y&&(T=ee(T,y)||T);const S="/"!==x&&x.endsWith("/")?x.length-1:x.length;let M,E=w===x||!o&&w.startsWith(x)&&"/"===w.charAt(S),C=null!=T&&(T===x||!o&&T.startsWith(x)&&"/"===T.charAt(x.length)),P={isActive:E,isPending:C,isTransitioning:b},N=E?n:void 0;M="function"===typeof a?a(P):[a,E?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(P):l;return i.createElement(Un,h(h({},p),{},{"aria-current":N,className:M,ref:t,style:R,to:c,viewTransition:u}),"function"===typeof d?d(P):d)}).displayName="NavLink";var Vn=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:a,reloadDocument:o,replace:l,state:c,method:u=nn,action:d,onSubmit:p,relative:m,preventScrollReset:f,viewTransition:A}=e,g=s(e,v),y=Hn(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(wt),r=i.useContext(_t);_(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o=h({},It(e||".",{relative:t})),s=Et();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:ae([n,o.pathname]));return C(o)}(d,{relative:m}),x="get"===u.toLowerCase()?"get":"post",w="string"===typeof d&&On.test(d);return i.createElement("form",h(h({ref:t,method:x,action:b,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;y(t||e.currentTarget,{fetcherKey:r,method:n,navigate:a,replace:l,state:c,relative:m,preventScrollReset:f,viewTransition:A})}},g),{},{"data-discover":w||"render"!==n?void 0:"true"}))});function jn(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function zn(e){let t=i.useContext(gt);return _(t,jn(e)),t}Vn.displayName="Form";var qn=0,Gn=()=>"__".concat(String(++qn),"__");function Hn(){let{router:e}=zn("useSubmit"),{basename:t}=i.useContext(wt),n=qt("useRouteId");return i.useCallback(async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:s,formData:l,body:c}=cn(i,t);if(!1===r.navigate){let t=r.fetcherKey||Gn();await e.fetch(t,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||s,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||s,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}const Wn=JSON.parse('{"nav":{"about":"About","technologies":"Technologies","solutions":"Solutions","projects":"Projects","team":"Team","news":"News","training":"Training","disclosure":"Research","publications":"Publications","patents":"Patents","getInTouch":"Get In Touch","disclosureAriaLabel":"Disclosure menu - research achievements","publicationsAriaLabel":"View academic publications and research papers","patentsAriaLabel":"View patents and intellectual property","dropdownExpanded":"(expanded)","dropdownCollapsed":"(collapsed)","openMobileMenu":"Open navigation menu","closeMobileMenu":"Close navigation menu","menuOpen":"Menu is open","menuClosed":"Menu is closed","mobileMenuAriaLabel":"Mobile navigation menu","aboutAriaLabel":"About us page","technologiesAriaLabel":"Technologies page","solutionsAriaLabel":"Solutions page","projectsAriaLabel":"Projects page","teamAriaLabel":"Team page","newsAriaLabel":"Company news page","trainingAriaLabel":"Training courses page","getInTouchAriaLabel":"Contact us page","disclosureSubmenuLabel":"Disclosure submenu"},"hero":{"title":"DRIVING THE FUTURE MOBILITY","subtitle":"Innovating the future of mobility \u2014 one solution at a time.","flipWords":["SMARTER","SAFER","SEAMLESS"]},"about":{"heroTitle":"About Us","heroSubtitle":"Learn more about our mission, values, and journey in shaping the future of mobility.","missionTitle":"[dochak] is","missionIntro":"A <strong>KAIST based startup</strong>, a key innovator in developing <em>virtual environments</em> for the mobility industry, was established in <strong>December 2024</strong>. Our expertise lies in creating precise, <em>high-fidelity virtual simulations</em> that maximize the <strong>safety and efficiency</strong> of autonomous systems.","missionText":"A <strong>KAIST based startup</strong>, a key innovator in developing <em>virtual environments</em> for the mobility industry, was established in <strong>December 2024</strong>. Our expertise lies in creating precise, <em>high-fidelity virtual simulations</em> that maximize the <strong>safety and efficiency</strong> of autonomous systems. Our core technology allows us to accurately replicate <strong>complex real-world scenarios</strong>, including roads, traffic conditions, and various environmental variables. This capability helps overcome the significant time and cost constraints typically associated with <em>physical testing</em>. As a result, we can quickly and safely validate and improve the performance of <strong>next-generation mobility systems</strong>, such as autonomous vehicles, drones, and UAM solutions. Developed by <strong>KAIST researchers</strong>, our proprietary technology is accelerating the progress of <em>future mobility solutions</em>.","solutionsText":"Explore our <strong>innovative solutions</strong> designed to transform <em>urban mobility</em> through <strong>cutting-edge simulation</strong> and digital twin.","projectsText":"Discover our <strong>impactful projects</strong> shaping the future of <em>smart cities</em> with <strong>advanced AI</strong> and simulation technologies.","teamText":"Meet the <strong>talented researchers</strong>, engineers, and experts driving <em>mobility innovation</em> with <strong>decades of combined experience</strong>.","missionCTA1":"Explore Solutions","missionCTA2":"View Projects","missionCTA3":"Meet the Team","valuesTitle":"Core Values","values":{"automation":{"title":"Automation","desc":"Build <strong>independent systems</strong> reducing <em>human intervention</em> and maximizing efficiency."},"integration":{"title":"Integration","desc":"Seamlessly connect <strong>diverse technologies</strong> and platforms to create a <em>unified mobility solutions</em>."},"excellence":{"title":"Excellence","desc":"Pursue the <strong>highest quality</strong> in every detail, ensuring <em>reliable and precise</em> products and services."},"innovation":{"title":"Innovation","desc":"Continuously develop <strong>new technologies</strong> to stay ahead in shaping the <em>future of mobility</em>."}},"marketTitle":"Target Market","marketText":"Across the <strong>Middle East</strong>, <strong>Southeast Asia</strong>, and <strong>Australia</strong> to deploy <em>advanced AI-driven</em> mobility solutions.","storyTitle":"Our Story"},"technologies":{"heroTitle":"Technologies","heroSubtitle":"Discover the innovative technologies powering the future of mobility.","items":{"visum":{"title":"Mesoscopic Model\u200b","subtitle":"A mesoscopic traffic demand prediction and operation evaluation model","howItWorks":"How it works","whatItCanDo":"What it can do","whereItCanBeUsed":"Where it can be used","features":{"howItWorks":["Uses SBA (Simulation Based Assignment) with dynamic traffic assignment.","Considers time-varying traffic volume and road capacity for precise forecasting.","Connects with Vissim micro-simulation for detailed scenario evaluations."],"whatItCanDo":["Predicts traffic demand and congestion for large developments and major events (e.g., Olympics, Expos).","Supports optimal traffic signal plans under different development conditions.","Enables efficient, scalable traffic operation analysis for new projects."],"whereItCanBeUsed":["Large-scale development projects.","Major event traffic management.","Traffic operation centers and government agencies.","Consulting projects in Korea, Saudi Arabia, UAE, Southeast Asia."]}},"vissim":{"title":"Microscopic Model\u200b","subtitle":"A detailed micro-simulation tool for replicating vehicle interactions","features":{"howItWorks":["Connects with Visum meso-model outputs for micro-level traffic operation analysis.","Uses vehicle trajectory data for scenario evaluations.","Supports high-resolution simulation and validation of traffic control strategies."],"whatItCanDo":["Analyze intersection performance and optimize traffic signals.","Evaluate traffic impacts from new transport policies and infrastructure.","Generate life-saving robot simulations and driving simulator inputs for immersive scenario testing."],"whereItCanBeUsed":["Traffic signal optimization.","Intersection analysis and refinement.","Traffic impact assessments for new developments.","Life-saving robot visualizations for public agencies and emergency response strategy."]}},"mesh":{"title":"3D Mesh Model and Visualisation","subtitle":"High-quality 3D mesh models of roads and urban infrastructure for advanced visualization.","features":{"howItWorks":["Uses LX data, OSM, LiDAR, and photogrammetry for 3D mesh creation.","Integrates with macro and micro simulation data in Unity for seamless visual outputs.","Allows manual mesh refinement for accurate elevation and asset placement."],"whatItCanDo":["Create high-quality visual materials for transport policy and project communication.","Support driving simulators and life-saving robot environments for safety and operational evaluation.","Enable clear scenario comparison and visualization for non-expert stakeholders."],"whereItCanBeUsed":["Urban planning and policy presentations.","Government agency and stakeholder briefings.","Life-saving robot-based public engagement and training.","Projects in Saudi, UAE, and Southeast Asia markets."]}},"digitalTwin":{"title":"Digital Twin Model","subtitle":"A real-time digital replica of traffic networks integrated with 3D visual environments.","features":{"howItWorks":["Combines macro, meso, micro-simulations, and 3D models.","Updates dynamically with scenario changes and planned infrastructure.","Connects to ITS systems for real-time traffic visualization and scenario playback."],"whatItCanDo":["Visualize future traffic impacts of developments and events.","Optimize signal timing and traffic management strategies.","Enhance stakeholder understanding through immersive scenario demonstrations."],"whereItCanBeUsed":["Smart city traffic management centers.","Large-scale event traffic control (Olympics, Expos).","Government policy testing and scenario analysis.","Public communication and life-saving robot scenario demonstrations."]}}}},"solutions":{"heroTitle":"Our Solutions","heroSubtitle":"Innovative solutions transforming urban mobility and smart cities.","learnMore":"Learn More","overviewTitle":"Transforming Urban Mobility","overviewText":"Explore our comprehensive suite of mobility solutions designed to transform urban transportation and smart city operations. Each solution represents cutting-edge technology and innovative approaches to modern mobility challenges.","solutionsTitle":"Our Solution Portfolio","items":{"trafficAnalysis":{"title":"Traffic Impact Analysis","desc":["Analyze <strong>traffic conditions</strong> and scenario-based response strategies.","Analyze <strong>policies and traffic response strategies</strong>; optimize traffic flow.","Dashboard-type interface enhances <strong>user accessibility</strong> and analytical comprehension."]},"drivingSimulator":{"title":"Driving Simulator","desc":["Test drive <strong>actual or planned roads</strong> in virtual environments to identify issues.","Verify and refine <strong>road design functionalities</strong>.","Can be used as part of educational programs for <strong>safe driving and design validation</strong>."]},"lifeSavingRobot":{"title":"Life Saving Robot","desc":["The <strong>Life-Saving Robot</strong> is designed to assist in emergency and disaster situations by <strong>guiding and protecting people</strong> in danger.","Simulate <strong>emergency response scenarios</strong> and environmental hazard navigation.","Verify safety aspects like <strong>visibility and sight distance</strong> under various conditions."]},"visualisation":{"title":"Visualisation","desc":["Create <strong>high-definition videos</strong> based on digital twin environments.","Reflect <strong>realistic traffic behaviors</strong> for lifelike presentations.","Use in public hearings, <strong>policy promotions</strong>, and presentations.","Considered a <strong>required deliverable</strong> for major city projects globally."]},"multimodal":{"title":"Multimodal Simulator","desc":["<strong>Integrated multimodal simulation tool</strong> reflecting interaction between various transportation modes.","Connect with <strong>simulator hardware</strong> to test diverse scenarios in virtual environments.","Build foundational datasets for <strong>autonomous vehicle development</strong>."]},"teleDriving":{"title":"Tele-driving","desc":["<strong>Remote driving support</strong> for autonomous vehicles during exceptional circumstances.","Allows <strong>human intervention</strong> when autonomous driving faces limitations (heavy snow, construction zones).","Applicable in mobility services, <strong>logistics</strong>, and military operations."]},"digitalTwin":{"title":"Digital Twin","desc":["<strong>Real-time digital replica</strong> of traffic networks integrated with 3D visual environments.","<strong>Unity-based rendering system</strong> reduces <em>production time by 70%</em>.","Enables <strong>real-time urban operations</strong>, accident response, and <strong>policy analysis</strong>."]}},"remoteDriving":{"hero":{"title":"Tele-driving","subtitle":"Advanced remote control handoff system for autonomous vehicles during system malfunctions and exceptional circumstances."},"overview":{"title":"Overview","shortDemo":"Prototype Tele-Driving between Deajeon and Jeju","shortDemoDesc":"Demonstration of <strong>rapid remote control handoff</strong> during autonomous system failures, showcasing <em>response times</em> and <strong>safety protocols</strong>.","longDemo":"Comprehensive System Demo","longDemoDesc":"In-depth showcase of <strong>remote driving capabilities</strong>, including <em>adverse weather operations</em>, <strong>restricted zone navigation</strong>, and <em>seamless integration</em> with autonomous vehicle systems.","RD-1":"Remote Driving in KAIST Campus","RD-1Desc":"Showcasing <strong>remote driving technology</strong> in a controlled campus environment for the first time between indoor and outdoor.","playVideo":"Play Video"},"technical":{"title":"Technical Details","specsTitle":"Specifications & Technology","spec1":"<strong>Remote control handoff system</strong> during AV malfunction","spec2":"Works in adverse weather and <em>restricted zones</em>","spec3":"Integrated with AV stack via <strong>tele-driving module</strong>","spec4":"<strong>Real-time video streaming</strong> with low latency communication","spec5":"Advanced safety protocols with <strong>emergency stop capabilities</strong>","researchTitle":"Research & Patents","patentTitle":"Related Patents","patentName":"Remote Driving Control System","applicationDate":"Application Date","patentNumber":"Patent Number","academicTitle":"Academic Links","academicInfo":"TRB 2024/25 conference papers on disengagements and human fallback systems","disclosureButton":"View Research Publications"},"useCases":{"title":"Use Cases","industriesTitle":"Target Industries","industry1":"Autonomous Vehicle Companies","industry2":"Military & Defense","industry3":"Logistics & Transportation","outcomeTitle":"Expected Outcomes","outcomeDesc":"<strong>Remote intervention</strong> ensures AV safety and enhances <strong>urban traffic reliability</strong>","scenarioTitle":"Application Scenario","scenarioStep1":"<strong>Autonomous vehicle</strong> detects obstacle before tunnel entrance","scenarioStep2":"<strong>Remote driver</strong> immediately takes control","scenarioStep3":"Safe navigation to secure location through <strong>evasive driving</strong>"},"cta":{"title":"Ready to Transform Your Mobility Solutions?","description":"Contact us to learn more about how our remote driving technology can enhance the safety and reliability of your autonomous vehicle systems.","button":"Get In Touch"}},"digitalTwinSolution":{"hero":{"title":"Digital Twin","subtitle":"Real-time digital replica of traffic networks integrated with 3D visual environments for comprehensive urban mobility management."},"overview":{"title":"Overview","demo":"Naepo Mobility Digital Twin","demoDesc":"Experience our <strong>Unity-based real-time rendering system</strong> that integrates high-fidelity traffic simulations and <strong>urban environment visualization</strong>.","dt-1":"Daejeon Articulated Bus DT","dt-1Desc":"Daejeon is planning to introduce a <strong>three-car bus system</strong>. Before implementing this new form of transportation, it\'s crucial to conduct a traffic impact analysis to develop a <strong>more efficient transportation system</strong>. The simulation results have been made more visually understandable through data visualization.","dt-2":"KAIST Campus DT","dt-2Desc":"KAIST researchers have developed the <strong>KAIST Munji DT</strong> for the first time. It renders images and cloud points to create videos that are very similar to real life","playVideo":"Play Video"},"technical":{"title":"Technical Details","specsTitle":"Specifications & Technology","spec1":"<strong>Real-time data integration</strong> (ITS, CCTV)","spec2":"Automated environmental element updates","spec3":"Integration with Driving Simulator","spec4":"<strong>Unity-based 3D rendering</strong> with <em>70% faster production</em>","spec5":"Dynamic scenario updates and <em>infrastructure planning</em>","researchTitle":"Research & Patents","patentTitle":"Related Patents","patentName":"Vissim-based Model-Reality Comparison Automation Tool","applicationDate":"Application Date","patentNumber":"Patent Number","academicTitle":"Academic Links","academicInfo":"Multiple conference papers on life-saving robot and emergency response applications","disclosureButton":"View Research Publications"},"useCases":{"title":"Use Cases","industriesTitle":"Target Industries","industry1":"Urban Planning","industry2":"Road Construction","industry3":"Autonomous Vehicle Testbeds","outcomeTitle":"Expected Outcomes","outcomeDesc":"<strong>Real-time urban operations</strong>, accident response, and <strong>policy analysis capabilities</strong>","scenarioTitle":"Application Scenario","scenarioStep1":"<strong>Traffic congestion prediction simulation</strong> in Naepo New City","scenarioStep2":"System automatically analyzes <strong>traffic patterns</strong> and bottlenecks","scenarioStep3":"<strong>Automatic proposal</strong> of detour strategies during accidents"},"cta":{"title":"Ready to Transform Your Urban Planning?","description":"Contact us to learn more about how our Digital Twin technology can enhance your city\'s traffic management and urban planning capabilities.","button":"Get In Touch"}},"multimodalSimulatorSolution":{"hero":{"title":"Multimodal Simulator","subtitle":"Advanced multimodal transportation simulation system with OBD & GPS integration for comprehensive traffic scenario testing."},"overview":{"title":"Overview","demo":"OBD & GPS-based Simulation Demo","demoDesc":"Experience our <strong>advanced simulation system</strong> featuring <em>OBD & GPS integration</em> with <strong>realistic NPC interactions</strong> for comprehensive multimodal transportation testing.","MO-1":"E-scooter & Autonomous Vehicle Interaction Simulation","MO-1Desc":"<strong>Comprehensive multimodal testing environment</strong> that models and simulates complex interactions between <strong>e-scooters and autonomous vehicles</strong> in urban traffic scenarios to enhance transportation safety.","MO-2":"Mobility Operating System","MO-2Desc":"An <strong>infrastructure with many sensors</strong> ensures safe driving for autonomous vehicles by <strong>orchestrating them</strong> when they are in blind spots. Virtual agents are injected to influence real vehicles, enabling them to learn and drive safely in complex urban environments.","playVideo":"Play Video"},"technical":{"title":"Technical Details","specsTitle":"Specifications & Technology","spec1":"<strong>GUI-based scenario generation</strong>","spec2":"Real-time animation with <strong>headlights and engine sounds</strong>","spec3":"<strong>Co-simulation</strong> with SUMO/VISSIM","spec4":"<strong>OBD & GPS data integration</strong>","spec5":"Advanced NPC interaction modeling","researchTitle":"Research & Patents","patentTitle":"Related Patents","patentName":"Autonomous Vehicle-Pedestrian Collision Prediction System","applicationDate":"Application Date","patentNumber":"Patent Number","academicTitle":"Academic Support","academicInfo":"Micro-mobility safety research papers (TRB, ICTCT)","disclosureButton":"View Research Publications"},"useCases":{"title":"Use Cases","industriesTitle":"Target Industries","industry1":"Autonomous Vehicle Developers","industry2":"Police Departments","industry3":"Smart City Projects","outcomeTitle":"Expected Outcomes","outcomeDesc":"<strong>Multimodal accident prediction</strong> and scenario training capabilities","scenarioTitle":"Application Scenario","scenarioStep1":"<strong>Autonomous vehicle and e-scooter</strong> intersection collision scenario","scenarioStep2":"<strong>GUI-based experimental condition</strong> setup","scenarioStep3":"Collision risk analysis and <strong>improvement strategy presentation</strong>"},"cta":{"title":"Ready to Enhance Your Transportation Safety?","description":"Contact us to learn more about how our Multimodal Simulator can improve your transportation safety testing and scenario validation.","button":"Get In Touch"}},"trafficAnalysisToolsSolution":{"hero":{"title":"Traffic Impact Analysis","subtitle":"Comprehensive traffic analysis platform with one-click automation and multi-scale simulation capabilities for policy evaluation and traffic optimization"},"overview":{"title":"Overview","demo":"Macro scopic simulation - Shared bikes","demoDesc":"A <strong>large scale network analysis</strong> for comprehensive traffic evaluation. This is particularly how the <strong>shared bike system</strong> is operated in Daejeon","TA-1":"Co-simulation","TA-1Desc":"<strong>Co-simulation between VISSIM and Unity</strong> is a powerful technique for creating highly realistic and interactive virtual environments for traffic and transportation research. It combines the strengths of both platforms: <strong>VISSIM</strong> for its robust, validated, and detailed microscopic traffic simulation, and <strong>Unity</strong> for its advanced 3D rendering, physics, and a wide range of <strong>life-saving robot simulation</strong> and human-in-the-loop capabilities","TA-2":"Co-simulation with Dynanometer","TA-2Desc":"A <strong>specialized and powerful form</strong> of Hardware-in-the-Loop (HIL) simulation. It combines a <strong>real, physical piece of hardware</strong>\u2014the dynamometer\u2014with one or more virtual simulation models. This approach is widely used in the <strong>automotive and aerospace industries</strong> for testing and developing powertrains and control systems","TA-3":"Micro simulation - EV autonomous charging station","TA-3Desc":"An <strong>autonomous EV charging station</strong> is a system that can charge an electric vehicle without any human intervention. Using <strong>microsimulation</strong>, this technology is being developed to address some of the key challenges of the growing EV market","TA-4":"Activity Based Model for Hwaseung City in Korea","TA-4Desc":"This model focuses on understanding and simulating the <strong>autonomous vehicle level 4+</strong> that will occur within Hwaseung City in 2027, providing insights into <strong>traffic patterns</strong> and urban mobility.","TA-5":"LLM-based Microscopic Traffic Analysis Tool is released NOW","TA-5Desc":"A <strong>Large Language Model (LLM)-based traffic analysis tool</strong> developed by <strong>Dr. Bo Wang</strong>(dochack\'s technical advisor) is an advanced software application that leverages the capabilities of large language models, such as GPT-4, to analyze and interpret traffic data. This tool can process vast amounts of traffic-related information, including historical data, real-time sensor inputs, and textual reports, to provide insights and predictions about traffic patterns, congestion, and incidents.","playVideo":"Play Video"},"technical":{"title":"Technical Details","specsTitle":"Specifications & Technology","spec1":"<strong>Macro:</strong> Policy evaluation capabilities","spec2":"<strong>Meso:</strong> Large-scale event and disaster response","spec3":"<strong>Micro:</strong> Signal optimization and emergency response integration","spec4":"<strong>Visum-Vissim automated integration</strong>","spec5":"Short-term traffic prediction algorithms","researchTitle":"Research & Patents","patentTitle":"Related Patents","patentName":"Multiple Visum/Vissim Validation Automation Tools","applicationDate":"Application Date","patentNumber":"Patent Number","academicTitle":"Research Foundation","academicInfo":"Bo Wang et al. short-term traffic prediction research (Nov 2023)","disclosureButton":"View Research Publications"},"useCases":{"title":"Use Cases","industriesTitle":"Target Industries","industry1":"Road Construction Companies","industry2":"Ministry of Land","industry3":"Academic Institutions","outcomeTitle":"Expected Outcomes","outcomeDesc":"<strong>Accurate traffic flow analysis</strong> and policy impact prediction","scenarioTitle":"Application Scenario","scenarioStep1":"<strong>Seoul disaster scenario</strong> assumption","scenarioStep2":"<strong>Micro+Meso integrated modeling</strong>","scenarioStep3":"Rapid reallocation and <strong>evacuation route analysis</strong>"},"cta":{"title":"Ready to Optimize Your Traffic Systems?","description":"Contact us to learn more about how our Traffic Impact Analysis tools can enhance your traffic management and policy evaluation capabilities.","button":"Get In Touch"}},"visualisationSolution":{"hero":{"title":"Visualisation","subtitle":"High-definition video production based on digital twin environments with realistic traffic behaviors for compelling presentations and public communications."},"overview":{"title":"Overview","demo":"Enhanced traffic monitoring visualization","demoDesc":"<strong>Data visualization</strong> has been important in democratizing data and analytics and making <strong>data-driven insights</strong> available to workers throughout an organization. Data visualization also plays an important role in big data and <strong>advanced analytics projects</strong>.","playVideo":"Play Video"},"technical":{"title":"Technical Details","specsTitle":"Specifications & Technology","spec1":"<strong>High-definition video creation</strong> from digital twin environments","spec2":"<strong>Realistic traffic behavior modeling</strong> and animation","spec3":"Professional-grade rendering for <strong>presentations</strong>","spec4":"<strong>Integration</strong> with policy promotion materials","spec5":"Public hearing and <strong>stakeholder communication tools</strong>","researchTitle":"Research & Applications","patentTitle":"Related Technologies","patentName":"Digital Twin Visualization and Rendering System","applicationDate":"Application Date","patentNumber":"Patent Number","academicTitle":"Global Applications","academicInfo":"Considered a required deliverable for major city projects globally","disclosureButton":"View Research Publications"},"useCases":{"title":"Use Cases","industriesTitle":"Target Industries","industry1":"Urban Planning Departments","industry2":"Government Agencies","industry3":"Public Communication","outcomeTitle":"Expected Outcomes","outcomeDesc":"<strong>Enhanced stakeholder understanding</strong> and improved public engagement through <strong>immersive visualizations</strong>","scenarioTitle":"Application Scenario","scenarioStep1":"<strong>Major urban development project</strong> planning phase","scenarioStep2":"Create <strong>high-definition visualization</strong> from digital twin data","scenarioStep3":"Present <em>compelling visual evidence</em> in <strong>public hearings</strong> and policy meetings"},"cta":{"title":"Ready to Enhance Your Visual Communications?","description":"Contact us to learn more about how our Visualisation solutions can improve your public presentations and stakeholder engagement.","button":"Get In Touch"}},"lifeSavingRobotSolution":{"hero":{"title":"Life Saving Robot ","subtitle":"Equipped with sensors, AI, and real-time communication capabilities, it can navigate complex environments, identify hazards, and support evacuation efforts."},"overview":{"title":"Overview","demo":"Life Saving Robot","demoDesc":"<strong>Life-saving robot</strong> is designed to assist in dangerous situations where human intervention would be too risky or difficult. They are a <strong>critical tool for first responders</strong>, helping to save lives and <strong>protect rescuers</strong> during disasters, accidents, and other emergencies.","LSR-1":"Robot simulation","LSR-1Desc":"The robot can <strong>navigate complex environments</strong>, identify hazards, and <strong>support evacuation efforts</strong>. Whether by directing crowd flow, <strong>delivering essential supplies</strong>, or providing situational awareness to first responders, this robot plays a crucial role in <strong>reducing risk and saving lives</strong> during critical moments.","playVideo":"Play Video"},"technical":{"title":"Technical Details","specsTitle":"Specifications & Technology","spec1":"<strong>Sensing and Environmental Awareness</strong>","spec2":"Navigation and Control","spec3":"<strong>Propulsion and Chassis</strong>","spec4":"Artificial Intelligence (AI) and Robotics","spec5":"<strong>Communication</strong>","researchTitle":"Research & Development","patentTitle":"Related Patents","patentName":"Evacuation robot guidance","applicationDate":"Application Date","patentNumber":"Patent Number","academicTitle":"Educational Applications","academicInfo":"Used in educational programs for safe design validation","disclosureButton":"View Research Publications"},"useCases":{"title":"Use Cases","industriesTitle":"Target Industries","industry1":"Building Design Companies","industry2":"Transportation Engineering","industry3":"Educational Institutions","outcomeTitle":"Expected Outcomes","outcomeDesc":"<strong>Improved design accuracy</strong> and safety validation before construction, reducing <strong>costly revisions</strong>","scenarioTitle":"Application Scenario","scenarioStep1":"<strong>Complex building design project</strong>","scenarioStep2":"Import <strong>BIM</strong> into 3D environment","scenarioStep3":"Validate safety aspects and <strong>emergency response effectiveness</strong> through robot simulation"},"cta":{"title":"Ready to Revolutionize Your Building Design Process?","description":"Contact us to learn more about how our life saving robot solutions can enhance your design validation and safety verification processes.","button":"Get In Touch"}}},"projects":{"heroTitle":"Our Projects","heroSubtitle":"Explore our portfolio of innovative mobility and smart city projects.","status":{"ongoing":"Ongoing"},"items":{"naepo":{"title":"Naepo New City Digital Twin","date":"2025-Present","explanation":"Dochak will position itself as a <strong>regional mobility innovation leader</strong> in Chungnam by using <em>digital twins and simulation</em> for traffic solutions.","detailedDescription":"Developing <strong>Korea\'s first traffic-focused digital twin</strong> for Naepo New City to support <em>advanced mobility planning and operations</em>. The system integrates <strong>real-time data collection</strong>, <em>AI-based predictive modeling</em>, and <strong>3D visualization</strong> to help city planners and operators make better decisions. This project plays a key role in <em>sustainable urban development</em> and building a <strong>smart mobility ecosystem</strong>.","keyFeatures":["<strong>Real-time</strong> traffic data analysis","<em>AI-based</em> traffic flow prediction","<strong>3D digital twin</strong> visualization","Integrated <em>traffic management system</em>","<strong>Smart traffic signal</strong> optimization","Public transit <em>route optimization</em>"],"impact":"This project is expected to improve <strong>traffic efficiency by 30%</strong>, reduce <em>carbon emissions by 25%</em>, and reduce <strong>citizens\' travel time by an average of 20%</strong>. It will also contribute to <em>local economic revitalization</em> and <strong>job creation</strong>.","impactStats":[{"number":"6.7%","text":"Improvement of <strong>driving speed</strong> for overlapping routes <em>(114 and 115)</em>"},{"number":"4.5%","text":"Reduction of <strong>average travel time</strong> after the introduction of <em>articulated buses</em>"}],"videoTitle":"Naepo New City Digital Twin Demo","videoDescription":"Demonstration video of <strong>real-time traffic monitoring</strong> and <em>prediction system</em> using <strong>digital twin technology</strong>."},"teleDriving":{"title":"Daejeon-Jeju Tele-driving","date":"2025-Present","explanation":"Provides <strong>remote driver intervention</strong> when autonomous vehicles encounter issues, addressing <em>limitations of autonomous systems</em>.","detailedDescription":"Developing <strong>tele-driving technology</strong> for autonomous vehicles over a <em>500km distance</em> between Daejeon and Jeju. Using <strong>ultra-low-latency communication</strong> via <em>5G networks</em>, remote drivers can control vehicles in <strong>real-time</strong>, providing <em>safe intervention</em> when autonomous systems cannot handle situations. This technology can be widely applied in <strong>mobility services</strong>, <em>logistics</em>, and <strong>defense sectors</strong>.","keyFeatures":["<strong>5G-based</strong> ultra-low-latency remote control","<em>Real-time</em> video streaming","Safe <strong>remote intervention system</strong>","Multi-sensor <em>data integration</em>","<strong>Emergency response</strong> algorithms","Cross-platform <em>compatibility</em>"],"impact":"<strong>Tele-driving technology</strong> will significantly improve <em>autonomous vehicle safety</em>, solve <strong>driver shortage issues</strong>, and create <em>new mobility service models</em>. It will bring innovation especially to <strong>long-distance transportation</strong> and driving in <em>special environments</em>.","impactStats":[{"number":"30%","text":"Enhanced <strong>safety protocols</strong> and <em>risk management systems</em>"},{"number":"25%","text":"Reduced <strong>operational costs</strong> through <em>remote vehicle control</em>"},{"number":"20%","text":"Improved <strong>response times</strong> in <em>emergency situations</em>"}],"videoTitle":"Tele-driving Technology Demo","videoDescription":"Actual operation demonstration video of the <strong>Daejeon-Jeju tele-driving system</strong>."},"publicTransport":{"title":"Daejeon 3-Car Public Transportation","date":"2025-Present","explanation":"Innovating <strong>Daejeon\'s public transportation system</strong> to maximize <em>traffic efficiency</em> through <strong>3-car connected electric train operation</strong>.","detailedDescription":"Innovating <strong>Daejeon\'s existing public transportation system</strong> by building a <em>3-car connected electric train operation system</em>. This system greatly improves the <strong>efficiency and convenience</strong> of public transportation through <em>flexible vehicle deployment</em> based on passenger demand, <strong>real-time passenger information</strong>, and integration with <em>smart signal systems</em>. It also implements an <strong>environmentally friendly transportation system</strong> through <em>energy-efficient operation</em>.","keyFeatures":["<strong>3-car connected</strong> electric train operation","<em>Real-time</em> passenger information system","<strong>Smart signal</strong> integration","Energy-efficient <em>operation</em>","<strong>Passenger demand-based</strong> vehicle deployment","Mobile app <em>integration service</em>"],"impact":"The <strong>3-car public transportation system</strong> is expected to improve <em>public transportation usage by 40%</em>, reduce <strong>waiting time by 50%</strong>, and decrease <em>traffic congestion by 30%</em>. It also contributes to <strong>environmental protection</strong> through <em>reduced carbon emissions</em>.","impactStats":[{"number":"6.7%","text":"Improvement in <strong>travel speed</strong> for overlapping routes <em>(No. 114, 115)</em>"},{"number":"4.5%","text":"Reduction in <strong>travel time</strong> after the introduction of <em>articulated buses</em>."}],"videoTitle":"3-Car Public Transportation Demo","videoDescription":"Actual operation video of <strong>Daejeon\'s 3-car connected electric train system</strong>."},"airportParking":{"title":"Incheon Airport Parking Improvement","date":"2025-Present","explanation":"Improving <strong>Incheon Airport\'s parking system</strong> with <em>smart technology</em> to maximize <strong>user convenience</strong>.","detailedDescription":"Improving <strong>Incheon Airport\'s parking system</strong> by integrating <em>IoT sensors</em>, <strong>AI-based prediction</strong>, and <em>mobile apps</em> into a <strong>smart parking solution</strong>. <em>Real-time parking space guidance</em>, <strong>reservation systems</strong>, and <em>automatic payment functions</em> revolutionize the parking experience for users. It also increases <strong>parking lot operational efficiency</strong> and reduces <em>management costs</em>.","keyFeatures":["<strong>Real-time</strong> parking space guidance","<em>Smart reservation</em> system","<strong>Automatic payment</strong> and settlement","IoT sensor-based <em>monitoring</em>","<strong>AI-based parking demand</strong> prediction","Mobile app <em>integration service</em>"],"impact":"The <strong>smart parking system</strong> will improve <em>parking lot utilization by 60%</em>, reduce <strong>parking time by an average of 70%</strong>, and greatly improve <em>user satisfaction</em>. It is also expected to reduce <strong>parking lot operational costs by 40%</strong>.","impactStats":[{"number":"60%","text":"Faster <strong>parking spot allocation</strong> through <em>smart sensor technology</em>"},{"number":"70%","text":"Improved <strong>user convenience</strong> with <em>real-time availability updates</em>"},{"number":"40%","text":"Reduction in <strong>traffic congestion</strong> around <em>airport facilities</em>"}],"videoTitle":"Smart Parking System Demo","videoDescription":"Actual operation demonstration video of <strong>Incheon Airport\'s smart parking system</strong>."}},"media":{"videoTitle":"Project Video","galleryTitle":"Project Gallery"},"content":{"overviewTitle":"Project Overview","featuresTitle":"Key Features","impactTitle":"Expected Impact","technologiesTitle":"Technologies Used","getInTouchTitle":"Learn More","getInTouchDescription":"Interested in learning more about this project or exploring partnership opportunities? We\'d love to hear from you.","contactUs":"Contact Us"},"carousel":{"prevImage":"Previous image","nextImage":"Next image"},"navigation":{"tabsLabel":"Project navigation tabs","scrollHint":"Scroll to see more tabs"}},"team":{"heroTitle":"Meet Our Team","heroSubtitle":"Talented researchers and engineers working together to revolutionize transportation technology","sectionTitle":"Our Team Members","sort":{"byTitle":"By Title","byName":"By Name"},"ceo":{"name":"Inhi Kim","title":"CEO & Founder","bio":"Leading research in transportation systems and urban mobility with over 15 years of experience in AI and autonomous systems."},"members":{"tkkim":{"name":"TK Kim","title":"Executive Technical Advisor","bio":"Multimodal simulation modeling, Transport planning & network assessment, Signal optimization","email":"tkkim.aus@kaist.ac.kr"},"bowang":{"name":"Dr. Bo Wang","title":"Technical Advisor","bio":"Technical advisor specializing in advanced traffic analysis and AI-driven mobility solutions.","email":"resulycheng@gmail.com","image":"BoWang.png"},"reuben":{"name":"Dr. Reuben Tamakloe","title":"Principal Researcher","bio":"Manages overall operations, ensuring project and research execution align with goals."},"gyounghoon":{"name":"Dr. Gyounghoon Chun","title":"Principal Researcher","bio":"Manages microsimulation and mos projects and research execution align with goals."},"taeho":{"name":"Dr.Taeho Oh","title":"Principal Researcher","bio":"Manages digital twin projects and virtual environment simulations."},"tengfeng":{"name":"Tengfeng Lin","title":"Researcher","bio":"Leads image processing tasks."},"younghi":{"name":"Younghi Liu","title":"Researcher","bio":"Leads data science initiatives."},"kaihan":{"name":"Kaihan Zhang","title":"Researcher","bio":"Leads urban mobility research."},"mahdi":{"name":"Mahdi Khosravi","title":"Researcher","bio":"Leads 3D virtual environment development."},"hui":{"name":"Ng Hui Zhi","title":"Researcher","bio":"Leads EV operation in the large scale network."},"kervin":{"name":"Kervin Lucas","title":"Researcher","bio":"Leads macro scopic simulation including Visum, Emme, and Cube."},"hyuncheol":{"name":"Hyuncheol Park","title":"Researcher","bio":"multimodal driving simulators."},"jaehyuk":{"name":"Jaehyuk Lim","title":"Researcher","bio":"Designs experimental scenarios for practical simulation-based validation."},"heeyeon":{"name":"Heeyeon Kang","title":"Researcher","bio":"Supports project collaboration and research development through teamwork."}}},"getInTouch":{"badge":"Connect With Us","heroTitle":"Get In Touch","heroSubtitle":"Ready to transform your mobility solutions? We\'d love to hear from you. Whether you have questions, partnership ideas, or need expert consultation, our team is here to help.","contactInfo":{"title":"Let\'s Start a Conversation","location":{"title":"Visit Our Office","address":"KAIST, 291 Daehak-ro, Daejeon, Korea"},"email":{"title":"Send Us an Email","address":"info@dochak.com"},"phone":{"title":"Give Us a Call","number":"+82-42-350-1234"}},"social":{"title":"Follow Us"},"form":{"title":"Send Us a Message","subtitle":"Fill out the form below and we\'ll get back to you within 24 hours.","name":"Full Name","namePlaceholder":"Enter your full name","email":"Email Address","emailPlaceholder":"Enter your email address","company":"Company (Optional)","companyPlaceholder":"Enter your company name","message":"Message","messagePlaceholder":"Tell us about your project or ask us anything","submit":"Send Message","success":"Message Sent Successfully!","successTitle":"Thank You!","successMessage":"We\'ve received your message and will get back to you within 24 hours. Our team is excited to learn more about your project."},"faq":{"title":"Frequently Asked Questions","subtitle":"Find answers to common questions about our solutions and services.","item1":{"question":"What types of mobility solutions do you offer?","answer":"We provide comprehensive mobility solutions including traffic analysis tools, digital twin technology, autonomous vehicle simulation, multimodal transportation systems, and smart city infrastructure planning."},"item2":{"question":"How long does it take to implement your solutions?","answer":"Implementation timelines vary depending on project scope and complexity. Typically, our solutions can be deployed within 3-6 months, with ongoing support and optimization services available."},"item3":{"question":"Do you provide training and support?","answer":"Yes, we offer comprehensive training programs for your team and provide ongoing technical support. Our experts ensure smooth integration and optimal utilization of our mobility solutions."}}},"footer":{"privacyPolicy":"Privacy Policy","terms":"Terms","contact":"Contact","copyright":"All rights reserved."},"timeline":{"stabilization":{"title":"Expension the business","content1":"Operated stably while expanding B2B and public agency partnerships, and started continuous technology development.","revenueTarget2026":" ","revenueAmount2026":" ","revenueTarget2027":" ","revenueAmount2027":" "},"expansion":{"title":"The 1st DT integrated simulation development","content1":"Focused on maturing projects and product advancements to a scalable, stable pipeline.","revenueTarget":" ","revenueAmount":" "},"growth":{"title":"Promoting dochak","content1":"Improved the Dochak website to showcase partner and client models based on real-time models.","content2":"Promoted the company via LinkedIn and targeted SNS channels.","content3":"Participated in domestic academic mobility exhibitions for company promotion.","content4":"Built early customer pipeline using existing networks and expanded partnership channels."},"startup":{"title":"dochak born","content1":"Completed foundational R&D for simulator digital twin and automated systems with core element technology acquisition.","content2":"Built cooperation system with ITS companies and 3D model environment companies to enhance product accuracy and quality.","content3":"Developing a metropolitan city-centered micro mobility model for June 2025 completion."}},"sections":{"overview":"Overview"},"bento":{"about":{"title":"About Dochak","description":"Learn about our mission to drive safer, smarter, and seamless urban mobility."},"technologies":{"title":"Core Technologies","description":"Explore our cutting-edge mesoscopic, microscopic, and 3D mesh model simulation technologies and digital twin technologies powering smart mobility."},"solutions":{"title":"Our Solutions","description":"Discover our comprehensive suite of solutions including driving simulators, traffic analysis tools, multimodal simulation, traffic visualization, life-saving robots, and tele-driving."},"projects":{"title":"Projects & Impact","description":"See how Dochak transforms cities with impactful smart mobility projects."}},"disclosure":{"title":"Research and Patent","subtitle":"Explore our academic publications and patent portfolio","loading":"Loading...","tabs":{"publications":"Publications","patents":"Patents"},"searchPlaceholder":{"publications":"Search publications by title, author, or journal...","patents":"Search patents by name or country..."},"filters":{"year":"Filter by year","allYears":"All years"},"results":{"publications":"Publications","patents":"Patents"},"noResults":{"title":"No results found","withFilters":"Try adjusting your search terms or filters.","noData":"No data available at the moment.","clearFilters":"Clear all filters"},"allYears":"All Years","allTypes":"All Types","searchAriaLabel":"Search through publications and patents","searchLabel":"Search publications and patents","searchDescription":"Search by title, author, journal, or patent name","clearSearch":"Clear search","yearFilterLabel":"Filter by publication year","yearFilterAriaLabel":"Filter by year","yearFilterDescription":"Filter results by publication year","activeFilters":"Active filters:","activeFiltersRegion":"Active filters","searchFilter":"Search","yearFilter":"Year","removeSearchFilter":"Remove search filter","removeYearFilter":"Remove year filter","clearAllFilters":"Clear all filters","clearAll":"Clear All","searchSectionLabel":"Search and filter options","tabsNavLabel":"Disclosure navigation","tabsAriaLabel":"Disclosure sections","publicationsTabDescription":"View academic publications and research papers","patentsTabDescription":"View patents and intellectual property","resultsCount":"Showing","loadingAriaLabel":"Loading research achievements data","retryDescription":"This will attempt to reload the research achievements data","clearFiltersDescription":"This will remove all active search and filter criteria","openPaper":"Open paper","openDoi":"Open DOI","error":{"title":"Error Loading Data","message":"We encountered an error while loading the research achievements. Please try again later.","retry":"Retry"},"publication":{"authors":"Authors","journal":"Journal","year":"Year","readMore":"Read More","viewPublication":"View Publication"},"patent":{"inventors":"Inventors","country":"Country","status":"Status","registrationNumber":"Registration Number","registrationDate":"Registration Date","managementNumber":"Management Number","registered":"Registered","pending":"Published","viewDetails":"View Details"},"patentStatus":{"registered":"Registered","pending":"Published"},"registrationDate":"Registration Date","applicationDate":"Application Date","registrationNumber":"Registration Number","managementNumber":"Management Number","countries":{"KR":"South Korea","US":"United States","CN":"China","JP":"Japan","DE":"Germany","GB":"United Kingdom","FR":"France","CA":"Canada","AU":"Australia","IN":"India","EU":"European Union"},"patentNames":{"\uad50\ud1b5\uc2e0\ud638\uae30 \uc81c\uc5b4\uc7a5\uce58":"Traffic Signal Control Device","\ud655\ub960 \uada4\uc801 \uc608\uce21\uc744 \uae30\ubc18\uc73c\ub85c \ube44\uc2e0\ud638 \uad50\ucc28\ub85c\uc5d0\uc11c \ubcf4\ud589\uc790\uc758 \ubbf8\ub798 \ucda9\ub3cc\uc744 \ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"Method and System for Evaluating Future Pedestrian Collisions at Unsignalized Intersections Based on Probabilistic Trajectory Prediction","\ud658\uacbd\uc601\ud5a5\uc744 \uace0\ub824\ud55c \uac15\ud654\ud559\uc2b5 \uae30\ubc18\uc758 \uc2e0\ud638\uc81c\uc5b4\ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"Reinforcement Learning-Based Signal Control Method and System Considering Environmental Impact","\uc2a4\ud2b8\ub9ac\ud2b8 \ubdf0 \uc774\ubbf8\uc9c0\ub97c \uc774\uc6a9\ud558\uc5ec \uc804\ub3d9 \ubaa8\ube4c\ub9ac\ud2f0\uc758 \uacbd\ub85c\uc120\ud0dd\uc744 \ubd84\uc11d\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"Method and System for Analyzing Route Selection of Electric Mobility Using Street View Images","\uacbd\ub85c \ub9ac\ud50c\ub808\uc774\uc5d0 \uae30\ubc18\ud55c \uc2dc\uac01 \uc804\ud669\uc744 \ud65c\uc6a9\ud558\uc5ec \uc6b4\uc804\ud589\ud0dc\ub97c \uc790\uae30\ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"Method and System for Self-Evaluating Driving Behavior Using Visual Context Based on Route Replay","\ubcf4\ud589\uc790 \uaddc\ubaa8 \uc815\ubcf4\uc5d0 \uae30\ubc18\ud55c \uc2e4\uc2dc\uac04 \uc6b4\uc804\uc790 \uacbd\uace0 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"Real-Time Driver Warning Method and System Based on Pedestrian Scale Information","\uad50\ud1b5\ub7c9 \uc81c\uc5b4 \uacc4\ud68d\uc744 \uc774\uc6a9\ud55c \uad50\ud1b5\uc2e0\ud638 \uacc4\ud68d \uc0dd\uc131 \uc7a5\uce58 \ubc0f \ubc29\ubc95":"Traffic Signal Plan Generation Device and Method Using Traffic Volume Control Plan","\uc870\uac74\ubd80 \uc801\ub300\uc801 \uc0dd\uc131 \ubaa8\ub378 \uae30\ubc18 \uad50\ud1b5\uc218\uc694 \ubd84\uc11d\uc758 \ub9de\ucda4\ud615 \ud569\uc131\uc778\uad6c \uc0dd\uc131 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"Method and System for Generating Customized Synthetic Population for Traffic Demand Analysis Based on Conditional Adversarial Generative Model"},"publicationType":{"journal":"Journal","conference":"Conference"}},"news":{"heroTitle":"Company News","heroSubtitle":"Stay updated with the latest developments, achievements, and milestones from our journey in transforming mobility.","readMore":"Read More","searchPlaceholder":"Search news...","searchResults":"Found {{count}} results for \\"{{term}}\\"","sort":{"newest":"Newest First","oldest":"Oldest First","category":"By Category"},"pagination":{"previous":"Previous","next":"Next"},"noResults":{"title":"No News Found","message":"Try adjusting your search terms or browse all news by clearing the search."},"newsletter":{"title":"Stay Updated","description":"Subscribe to our newsletter to receive the latest news and updates directly in your inbox.","placeholder":"Enter your email address","button":"Subscribe"},"items":{"llmTrafficAnalysis":{"title":"LLM-based Microscopic Traffic Analysis Tool v1.0 Released","date":"September 12, 2025","category":"Business","excerpt":"Revolutionary AI-powered traffic analysis tool combining Large Language Models with microscopic simulation for unprecedented analytical capabilities."},"ptvCertified":{"title":"PTV Certified Trainer","date":"August 25, 2025","category":"Business","excerpt":"Three PTV Certified Trainers have been produced at KAIST."},"kaistMobilityTech2025":{"title":"KAIST Showcases Future Mobility Technologies","date":"September 23, 2025","category":"Technology","excerpt":"KAIST Mobility Research Institute demonstrated 6 core technologies including remote driving valet parking and autonomous logistics robots at the \'2025 Technology Demo Conference\'."},"ptvApacUgm2025":{"title":"TK Kim Presents at PTV ASIA PACIFIC User Group Meeting 2025","date":"September 24, 2025","category":"Conference","excerpt":"KAIST\'s TK Kim delivered an invited presentation on Naepo Mobility Digital Twin Model integrated with PTV software at the PTV APAC UGM 2025 in Singapore."},"changhuiKimInternship":{"title":"Changhui Kim Successfully Completes KAIST-PTV Joint Internship Program","date":"August 29, 2025","category":"Internship","excerpt":"Changhui Kim, a 4th-year Computer Science student at KAIST, successfully completed the KAIST-PTV Group Summer Internship and was invited to visit Singapore for the PTV APAC User Group Meeting."}},"articles":{"llmTrafficAnalysis":{"title":"LLM-based Microscopic Traffic Analysis Tool v1.0 Released","date":"September 12, 2025","category":"Business","author":"DOCHAK TEAM","readTime":"4 min read","contentIntro":"<p>We\'re excited to announce the release of our groundbreaking <strong>LLM-based Microscopic Traffic Analysis Tool v1.0</strong> \u2014 a revolutionary disruptive technology that transforms how we understand and analyze traffic behavior.</p>","contentMain":"<h2>Revolutionary AI-Powered Analysis</h2><p>This cutting-edge tool represents a significant breakthrough in traffic analysis, combining the power of <strong>Large Language Models (LLMs)</strong> with advanced microscopic simulation capabilities. Our proprietary technology enables unprecedented insights into traffic patterns, driver behavior, and system optimization opportunities.</p><blockquote>This tool marks a new era in traffic engineering, where complex analytical tasks that previously required hours of expert analysis can now be completed in minutes with AI assistance.</blockquote><p>Version 1.0 is now available and represents just the beginning of our AI-powered traffic analysis suite. Watch the demo below to see it in action!</p>","ctaButton":"Explore Traffic Analysis Solutions"},"ptvCertified":{"title":"PTV Certified Trainer","date":"August 25, 2025","author":"INHI KIM","readTime":"3 min read","content":"<p>Three PTV Certified Trainers have been produced at KAIST.</p><h2>A Historic First for Korea</h2><p>For the first time in Korea, researchers from KAIST (Professor Inhi Kim, Dr. Tae-ho Oh, and researcher Tae-kyun Kim) have become <strong>Certified Trainers</strong>.</p><p>In the future, those who receive PTV software training at KAIST will be provided with an <em>official PTV certificate</em>.</p><div class=\\"training-programs-section\\"><div class=\\"training-content\\"><h3>Training Programs Available</h3><p>You can participate in training for a total of <strong>five software programs</strong>:</p><ul><li>Visum</li><li>Vissim</li><li>VisWalk</li><li>VisVap</li><li>Vistro</li></ul></div><div class=\\"training-image\\"><img src=\\"TRAINING_FACILITIES_IMAGE\\" alt=\\"Training facilities equipped with PTV software\\" class=\\"inline-training-image\\" /></div></div><blockquote>This certification represents a significant milestone in strengthening Korea\'s capabilities in transportation modeling and simulation.</blockquote><p>This achievement positions KAIST as a leading institution for PTV software education in the region, providing students and professionals with access to world-class training and official certification.</p>","imageCaption1":"PTV Certified Trainers at KAIST showing their official certificates","imageCaption2":"Training facilities equipped with PTV software for comprehensive education programs"},"kaistMobilityTech2025":{"title":"KAIST Showcases Future Mobility Technologies","date":"September 23, 2025","category":"Technology","author":"Bonhyuk Koo, Herald Economy","readTime":"5 min read","source":"https://biz.heraldcorp.com/article/10581881?ref=naver","content":"<p><strong>Original Source:</strong> <a href=\\"https://biz.heraldcorp.com/article/10581881?ref=naver\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" style=\\"color: #60A5FA; font-style: italic;\\">View Herald Economy Article</a></p><p>KAIST held the <strong>\'2025 Technology Demo Conference\'</strong> at Chungnam Naepo Knowledge Industry Center on the 23rd, showcasing commercialization cases of future mobility and AI technologies.</p><h2>KAIST Mobility Research Institute Innovation</h2><p>The KAIST Mobility Research Institute conducts industry-academia collaborative research in various technology fields including autonomous driving, urban air mobility (UAM/UAV), eco-friendly transportation technologies, artificial intelligence (AI), and energy, with the goal of solving our society\'s mobility challenges. This demonstration represents results from KAIST research linked with Chungcheongnam-do\'s commissioned projects, showing how research outcomes connect to regional industries.</p><h2>6 Core Technologies Announced</h2><p>The demonstration featured commercialization-ready achievements developed in collaboration with faculty startup companies including <strong>Future EV Co. (CEO: Kim Kyung-soo)</strong>, <strong>DOCHAK Co. (CEO: Kim In-hee)</strong>, and alumni startup NOTA Co. (CEO: Chae Myung-soo), along with partner companies.</p><div class=\\"key-technologies\\"><h3>6 Core Technologies Unveiled</h3><ul><li><strong>Mobile Energy Storage System (ESS)</strong> Power Platform</li><li><strong>Naepo Digital Twin</strong></li><li><strong>SME-Specialized Autonomous Robots</strong></li><li><strong>Remote Driving Valet Parking</strong></li><li><strong>Autonomous Driving Testbed</strong></li><li><strong>AI Computing Center</strong></li></ul></div><h3>Technology Details</h3><p>The <strong>\'Mobile Energy Storage System (ESS) Power Platform\'</strong>, primarily developed by Professor Lee Yun-gu, is a solution that can build stable power grids even in areas where power supply is difficult, such as disaster sites or remote islands, proving the commercialization potential in the eco-friendly power sector.</p><p>The <strong>\'Naepo Digital Twin\'</strong> was commercialized through collaboration between Senior Researcher Kim Tae-kyun\'s research team and DOCHAK Co. It implements real cities and traffic situations in 3D virtual environments for traffic monitoring, situation prediction, disaster response, and policy verification, gaining attention as core technology for smart city construction.</p><p>The <strong>\'SME-Specialized Autonomous Robot\'</strong>, developed by Professor Kim Kyung-soo and Professor Choi Geun-ha\'s research team, is an autonomous logistics robot optimized for SME logistics environments. The demonstration showed precise movement and loading of factory logistics stations, confirming the innovation potential for small and medium manufacturing industries.</p><blockquote>The remote driving valet parking technology demonstrated a remotely controlled vehicle traveling from Daejeon to the Naepo Research Institute and completing destination parking, proving the stability and effectiveness of remote autonomous driving.</blockquote><p>The <strong>\'Remote Driving Valet Parking Technology\'</strong> is being commercialized through collaboration between Professor Kim In-hee and DOCHAK Co., Toronto Systems Co., E-Motion Co., and the national science and technology research network KREONET (operated by Korea Institute of Science and Technology Information).</p><p>The <strong>\'Autonomous Driving Testbed\'</strong> is a platform built by Professors Ahn Hee-jin and Noh Min-kyun, expanding scaled-car-based autonomous driving research results into educational and industrial demonstration platforms. The KAIST Mobility Research Institute plans to host the <strong>\'2025 KAIST Mobility Challenge Competition\'</strong> next year based on this platform, simultaneously promoting next-generation talent development and technology commercialization.</p><p>The <strong>\'AI Computing Center\'</strong> was unveiled by NOTA Co., which is preparing for KOSDAQ listing soon. The company introduced RE100-based power systems and AI optimization technologies, presenting collaboration visions with tenant companies and announcing goals to contribute to AI ecosystem expansion.</p><h2>Leadership Comments</h2><blockquote>KAIST Mobility Research Institute Director Jang Ki-tae stated, \\"This demonstration showed the concrete process of KAIST research outcomes spreading to industrial sites,\\" adding, \\"We will continue to closely cooperate with local governments and companies to lead the commercialization of future mobility and AI technologies and regional industrial development.\\"</blockquote><blockquote>KAIST President Lee Kwang-hyung emphasized, \\"KAIST\'s mission is to contribute to the nation and local communities through technological innovation. We find it meaningful to see research outcomes creating practical changes in industrial sites, and will continue to lead global mobility innovation and new value creation through cooperation with companies and local governments.\\"</blockquote>"},"ptvApacUgm2025":{"title":"TK Kim Presents at PTV ASIA PACIFIC User Group Meeting 2025","date":"September 24, 2025","category":"Conference","author":"DOCHAK TEAM","readTime":"4 min read","content":"<p><strong>Event Source:</strong> <a href=\\"https://www.ptvgroup.com/en-us/node/2201\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" style=\\"color: #60A5FA; font-style: italic;\\">PTV APAC UGM 2025 Official Page</a></p><p>The <strong>PTV ASIA PACIFIC User Group Meeting 2025</strong> was successfully held on Wednesday, September 24th, 2025 in Singapore. This year\'s theme, <em>Smart Mobility, Real Impact</em>, brought together transport professionals from across the APAC region to showcase innovative applications of PTV software.</p><h2>KAIST\'s Presentation: Naepo Mobility Digital Twin</h2><p>KAIST\'s Executive Technical Advisor <strong>TK Kim</strong> was invited as a keynote speaker and delivered a presentation titled <strong>\\"Naepo Mobility Digital Twin Model Integrated with PTV Software\\"</strong> at 10:35-10:55 AM.</p><figure class=\\"article-figure\\"><img src=\\"IMAGE_TKKIM_PHOTO\\" alt=\\"TK Kim presenting at PTV APAC User Group Meeting 2025\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">TK Kim presenting at PTV APAC User Group Meeting 2025 in Singapore</figcaption></figure><p>The presentation showcased how KAIST\'s research team developed an advanced <strong>traffic digital twin platform</strong> by integrating PTV software (Visum and Vissim) with digital twin technology. This platform enables real-time traffic monitoring, simulation, and prediction for smart city applications.</p><figure class=\\"article-figure\\"><img src=\\"IMAGE_TKKIM_PRESENTATION2\\" alt=\\"Presentation slides\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">Presentation on Naepo Mobility Digital Twin Model integrated with PTV software</figcaption></figure><h2>About the PTV APAC UGM 2025</h2><p>The PTV APAC User Group Meeting is the region\'s annual gathering for transport professionals using PTV software to drive smarter, more sustainable mobility. The event featured presentations from leading experts across APAC, demonstrating real-world solutions in:</p><ul><li>Public transport planning</li><li>Traffic simulation and optimization</li><li>Digital twin applications</li><li>Smart city development</li><li>Flood impact assessment on mobility</li><li>AI-driven traffic management</li></ul><blockquote>This year\'s UGM highlighted how PTV users across APAC are turning data into action through AI, digital twins, and inclusive planning approaches.</blockquote><h3>Event Details</h3><p><strong>Date:</strong> Wednesday, 24th September 2025<br/><strong>Time:</strong> 10AM \u2013 5PM, followed by networking drinks<br/><strong>Location:</strong> Overlap @ The Working Capitol, 1 Keong Saik Road, Singapore S089109<br/><strong>Format:</strong> Hybrid (in-person and online via Zoom)</p><h2>Key Highlights</h2><p>TK Kim\'s presentation demonstrated the successful integration of PTV Visum and Vissim software with KAIST\'s proprietary digital twin technology, creating a comprehensive platform for:</p><ul><li>Real-time traffic monitoring and visualization</li><li>Scenario simulation and prediction</li><li>Traffic optimization strategies</li><li>Data-driven policy decision support</li></ul><figure class=\\"article-figure\\"><img src=\\"IMAGE_TKKIM_CERTIFICATE\\" alt=\\"PTV Certified Trainer certificate\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">PTV Certified Trainer certificate awarded to TK Kim</figcaption></figure><p>This innovative approach positions KAIST and DOCHAK as leaders in transportation digital twin development, combining world-class simulation tools with cutting-edge AI and visualization technologies.</p>"},"changhuiKimInternship":{"title":"Changhui Kim Successfully Completes KAIST-PTV Joint Internship Program","date":"August 29, 2025","category":"Internship","author":"DOCHAK TEAM","readTime":"3 min read","content":"<p><strong>Changhui Kim</strong>, a 4th-year Computer Science student at KAIST, has successfully completed the <strong>KAIST-PTV Group Summer Internship</strong> on August 29th, 2025.</p><h2>Internship Research Topic</h2><div class=\\"content-with-image-section\\"><div class=\\"content-text\\"><p>Changhui\'s internship research focused on <strong>\\"A Visum-Based Validation Framework for AI-Driven Synthetic Population and Activity Generation\\"</strong>, emphasizing <strong>Agent-Based Modeling (ABM)</strong>, synthetic population generation, and real-world validation.</p><p>The research made extensive use of <strong>PTV Visum</strong> software, contributing valuable insights into data-driven modeling and validation frameworks within mobility research. The project successfully demonstrated the integration of AI-driven approaches with transportation planning tools.</p></div><div class=\\"content-image\\"><img src=\\"IMAGE_CHANGHUI_CERTIFICATE\\" alt=\\"KAIST-PTV Group Summer Internship Certificate\\" class=\\"inline-content-image\\" /><p style=\\"font-size: 0.9rem; color: #64748b; font-style: italic; margin-top: 0.5rem;\\">Changhui Kim\'s KAIST-PTV Group Summer Internship Certificate</p></div></div><blockquote>The internship project made extensive use of PTV Visum, contributing valuable insights into data-driven modeling and validation frameworks within mobility research.</blockquote><h2>Invitation to PTV APAC User Group Meeting in Singapore</h2><p>As a result of his outstanding internship performance, Changhui was invited to attend the <strong>PTV ASIA PACIFIC User Group Meeting</strong> hosted by PTV Group in Singapore. This prestigious international event brought together transportation professionals from across the APAC region to share innovative applications of PTV software.</p><figure class=\\"article-figure\\"><img src=\\"IMAGE_CHANGHUI_SINGAPORE\\" alt=\\"PTV APAC User Group Meeting in Singapore\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">Changhui Kim attending the PTV APAC User Group Meeting in Singapore</figcaption></figure><p>The official certificate awarded by Ryan Wong, Managing Director APAC of PTV Group, recognizes Changhui\'s dedication and excellent performance during the internship period.</p><h2>Looking Forward</h2><blockquote>We look forward to seeing more great achievements from Changhui in his future research and academic endeavors.</blockquote><p>This internship represents a successful example of industry-academia collaboration between KAIST and PTV Group, providing students with practical experience and international networking opportunities through this important program.</p>"}},"article":{"backToNews":"Back to News","notFound":{"title":"Article Not Found","message":"The article you\'re looking for doesn\'t exist or may have been moved."}}},"training":{"heroTitle":"Our Training Courses","heroSubtitle":"This course is a collaborative program between the KAIST Mobility Research Institute and dochak. Specifically, the PTV Software Training Course is the first in Korea to be officially taught by Korean speaking PTV-certified trainers. Students who successfully complete the training will be awarded an official PTV certificate.","filters":{"allProducts":"All products","allLevels":"All levels","searchPlaceholder":"Search courses...","productFilterLabel":"Filter by product","levelFilterLabel":"Filter by level","searchLabel":"Search courses"},"results":{"coursesFound":"courses","noCourses":"No courses found","noCoursesMessage":"Try adjusting your filters or search terms to find courses."},"courseCard":{"viewDetails":"View Details","viewDetailsAriaLabel":"View Details"},"levels":{"Basic":"Basic","Intermediate":"Intermediate","Advanced":"Advanced","Individual":"Individual"},"course":{"backToTraining":"Back to Training","overview":"Course Overview","duration":"Duration","level":"Level","product":"Product","code":"Course Code","targetGroup":"Target Group","prerequisites":"Prerequisites","contents":"Course Contents","pricing":"Pricing & Registration","advantages":"Advantages","description":"Description","courseInformation":"Course Information","pricingRegistration":"Pricing & Registration","getStarted":"Get Started","readyToEnhance":"Ready to enhance your skills with this course?","contactUs":"Contact Us","notFound":{"title":"Course Not Found","message":"The course you\'re looking for doesn\'t exist or may have been moved."}}}}'),Qn=JSON.parse('{"nav":{"about":"\uc18c\uac1c","technologies":"\uae30\uc220","solutions":"\uc194\ub8e8\uc158","projects":"\ud504\ub85c\uc81d\ud2b8","team":"\ud300","news":"\uc18c\uc2dd","training":"\uad50\uc721","disclosure":"\uc5f0\uad6c\uc131\uacfc","publications":"\ub17c\ubb38","patents":"\ud2b9\ud5c8","getInTouch":"\uc5f0\ub77d\ud558\uae30","disclosureAriaLabel":"\uc5f0\uad6c\uc131\uacfc \uba54\ub274 - \uc5f0\uad6c \uc5c5\uc801","publicationsAriaLabel":"\ud559\uc220 \ub17c\ubb38 \ubc0f \uc5f0\uad6c \ub17c\ubb38 \ubcf4\uae30","patentsAriaLabel":"\ud2b9\ud5c8 \ubc0f \uc9c0\uc801 \uc7ac\uc0b0\uad8c \ubcf4\uae30","dropdownExpanded":"(\ud655\uc7a5\ub428)","dropdownCollapsed":"(\ucd95\uc18c\ub428)","openMobileMenu":"\ub124\ube44\uac8c\uc774\uc158 \uba54\ub274 \uc5f4\uae30","closeMobileMenu":"\ub124\ube44\uac8c\uc774\uc158 \uba54\ub274 \ub2eb\uae30","menuOpen":"\uba54\ub274\uac00 \uc5f4\ub824\uc788\uc74c","menuClosed":"\uba54\ub274\uac00 \ub2eb\ud600\uc788\uc74c","mobileMenuAriaLabel":"\ubaa8\ubc14\uc77c \ub124\ube44\uac8c\uc774\uc158 \uba54\ub274","aboutAriaLabel":"\ud68c\uc0ac \uc18c\uac1c \ud398\uc774\uc9c0","technologiesAriaLabel":"\uae30\uc220 \ud398\uc774\uc9c0","solutionsAriaLabel":"\uc194\ub8e8\uc158 \ud398\uc774\uc9c0","projectsAriaLabel":"\ud504\ub85c\uc81d\ud2b8 \ud398\uc774\uc9c0","teamAriaLabel":"\ud300 \ud398\uc774\uc9c0","newsAriaLabel":"\ud68c\uc0ac \uc18c\uc2dd \ud398\uc774\uc9c0","trainingAriaLabel":"\uad50\uc721 \uacfc\uc815 \ud398\uc774\uc9c0","getInTouchAriaLabel":"\uc5f0\ub77d\ucc98 \ud398\uc774\uc9c0","disclosureSubmenuLabel":"\uc5f0\uad6c\uc131\uacfc \ud558\uc704\uba54\ub274"},"hero":{"title":"\ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0\ub97c \uc774\ub04c\uc5b4\uac00\ub2e4","subtitle":"\ud55c \ubc88\uc5d0 \ud558\ub098\uc529 \ubaa8\ube4c\ub9ac\ud2f0\uc758 \ubbf8\ub798\ub97c \ud601\uc2e0\ud569\ub2c8\ub2e4.","flipWords":["\ub354 \uc2a4\ub9c8\ud2b8\ud558\uac8c","\ub354 \uc548\uc804\ud558\uac8c","\ub354 \ub9e4\ub044\ub7fd\uac8c"]},"about":{"heroTitle":"\ud68c\uc0ac \uc18c\uac1c","heroSubtitle":"\ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0\ub97c \ub9cc\ub4e4\uc5b4\uac00\ub294 \uc6b0\ub9ac\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\uc138\uc694.","missionTitle":"[dochak]","missionIntro":"<strong>2024\ub144 12\uc6d4</strong>\uc5d0 \uc124\ub9bd\ub41c <strong>KAIST \uae30\ubc18 \uc2a4\ud0c0\ud2b8\uc5c5</strong>\uc73c\ub85c, \ubaa8\ube4c\ub9ac\ud2f0 \uc0b0\uc5c5\uc744 \uc704\ud55c <em>\uac00\uc0c1 \ud658\uacbd \uac1c\ubc1c</em>\uc758 \ud575\uc2ec \ud601\uc2e0 \uae30\uc5c5\uc785\ub2c8\ub2e4. \uc790\uc728 \uc2dc\uc2a4\ud15c\uc758 <strong>\uc548\uc804\uc131\uacfc \ud6a8\uc728\uc131</strong>\uc744 \uadf9\ub300\ud654\ud558\ub294 \uc815\ubc00\ud558\uace0 <em>\uace0\uc2e0\ub8b0\ub3c4 \uac00\uc0c1 \uc2dc\ubbac\ub808\uc774\uc158</em> \ucc3d\uc870\uc5d0 \uc804\ubb38\uc131\uc744 \uac16\ucd94\uace0 \uc788\uc2b5\ub2c8\ub2e4.","missionText":"<strong>\ucd5c\ucca8\ub2e8 AI \uae30\ubc18</strong> \uc790\uc728\uc8fc\ud589, <em>\uc9c0\ub2a5\ud615 \uad50\ud1b5 \uc6b4\uc601</em>, \ud601\uc2e0\uc801\uc778 \uad00\ub9ac \uc194\ub8e8\uc158\uc744 \ud1b5\ud574 \ub354 \uc548\uc804\ud558\uace0 \uc2a4\ub9c8\ud2b8\ud558\uba70 \ud6a8\uc728\uc801\uc778 \ub3c4\uc2dc\ub97c \uc704\ud55c <strong>\ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0 \ud601\uc2e0</strong>\uc744 \uc774\ub04c\uc5b4\uac11\ub2c8\ub2e4.","solutionsText":"<strong>\ucd5c\ucca8\ub2e8 \uc2dc\ubbac\ub808\uc774\uc158</strong>\uacfc <em>\ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220</em>\ub85c <strong>\ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0</strong>\ub97c \ud601\uc2e0\ud558\ub294 \uc194\ub8e8\uc158\uc744 \uc0b4\ud3b4\ubcf4\uc138\uc694.","projectsText":"<strong>\uace0\uae09 AI</strong>\uc640 \uc2dc\ubbac\ub808\uc774\uc158 \uae30\uc220\ub85c <em>\uc2a4\ub9c8\ud2b8 \uc2dc\ud2f0</em>\uc758 \ubbf8\ub798\ub97c \ub9cc\ub4e4\uc5b4\uac00\ub294 <strong>\uc601\ud5a5\ub825 \uc788\ub294 \ud504\ub85c\uc81d\ud2b8</strong>\ub97c \ub9cc\ub098\ubcf4\uc138\uc694.","teamText":"<strong>\uc218\uc2ed \ub144\uac04\uc758 \uacbd\ud5d8</strong>\uc744 \ubc14\ud0d5\uc73c\ub85c <em>\ubaa8\ube4c\ub9ac\ud2f0 \ud601\uc2e0</em>\uc744 \uc774\ub044\ub294 <strong>\uc7ac\ub2a5 \uc788\ub294 \uc5f0\uad6c\uc9c4</strong>\uacfc \uc804\ubb38\uac00\ub4e4\uc744 \ub9cc\ub098\ubcf4\uc138\uc694.","missionCTA1":"\uc194\ub8e8\uc158 \uc0b4\ud3b4\ubcf4\uae30","missionCTA2":"\ud504\ub85c\uc81d\ud2b8 \ubcf4\uae30","missionCTA3":"\ud300 \ub9cc\ub098\ubcf4\uae30","valuesTitle":"\ud575\uc2ec \uac00\uce58","values":{"automation":{"title":"\uc790\ub3d9\ud654","desc":"<em>\uc778\uac04\uc758 \uac1c\uc785</em>\uc744 \uc904\uc774\uace0 \ud6a8\uc728\uc131\uc744 \uadf9\ub300\ud654\ud558\ub294 <strong>\uc9c0\ub2a5\ud615 \ub3c5\ub9bd\uc801\uc778 \uc2dc\uc2a4\ud15c</strong>\uc744 \uc548\uc815\uc801\uc73c\ub85c \uad6c\ucd95\ud569\ub2c8\ub2e4."},"integration":{"title":"\ud1b5\ud569","desc":"<strong>\ub2e4\uc591\ud55c \uae30\uc220\uacfc \ud50c\ub7ab\ud3fc</strong>\uc744 \uc6d0\ud65c\ud558\uac8c \uc5f0\uacb0\ud558\uc5ec <em>\ud558\ub098\uc758 \ud1b5\ud569\ub41c \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158</em>\uc744 \ub9cc\ub4ed\ub2c8\ub2e4."},"excellence":{"title":"\uc6b0\uc218\uc131","desc":"\ubaa8\ub4e0 \uc138\ubd80\uc0ac\ud56d\uc5d0\uc11c <strong>\ucd5c\uace0\uc758 \ud488\uc9c8</strong>\uc744 \ucd94\uad6c\ud558\uc5ec <em>\uc2e0\ub8b0\ud560 \uc218 \uc788\uace0 \uc815\ud655\ud55c</em> \uc81c\ud488\uacfc \uc11c\ube44\uc2a4\ub97c \ubcf4\uc7a5\ud569\ub2c8\ub2e4."},"innovation":{"title":"\ud601\uc2e0","desc":"<em>\ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0\uc758 \ubbf8\ub798</em>\ub97c \uc120\ub3c4\ud558\uae30 \uc704\ud574 \uc9c0\uc18d\uc801\uc73c\ub85c <strong>\uc0c8\ub85c\uc6b4 \uae30\uc220</strong>\uc744 \ucc3d\uc870\uc801\uc73c\ub85c \uac1c\ubc1c\ud569\ub2c8\ub2e4."}},"marketTitle":"\ubaa9\ud45c \uc2dc\uc7a5","marketText":"<strong>\uc911\ub3d9</strong>, <strong>\ub3d9\ub0a8\uc544\uc2dc\uc544</strong>, <strong>\ud638\uc8fc</strong> \uc804\uc5ed\uc5d0 <em>\ucca8\ub2e8 AI \uae30\ubc18</em> \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc744 \ubc30\ud3ec\ud569\ub2c8\ub2e4.","storyTitle":"\uc6b0\ub9ac\uc758 \uc774\uc57c\uae30"},"technologies":{"heroTitle":"\uae30\uc220","heroSubtitle":"\ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0\ub97c \uc774\ub044\ub294 \ud601\uc2e0\uc801\uc778 \uae30\uc220\ub4e4\uc744 \ub9cc\ub098\ubcf4\uc138\uc694","items":{"visum":{"title":"Visum \uc911\uc2dc\uc801 \ubaa8\ub378","subtitle":"\uc911\uc2dc\uc801 \uad50\ud1b5 \uc218\uc694 \uc608\uce21 \ubc0f \uc6b4\uc601 \ud3c9\uac00 \ubaa8\ub378","howItWorks":"\uc791\ub3d9 \uc6d0\ub9ac","whatItCanDo":"\ud560 \uc218 \uc788\ub294 \uc77c","whereItCanBeUsed":"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uacf3","features":{"howItWorks":["\ub3d9\uc801 \uad50\ud1b5 \ubc30\uc815\uacfc \ud568\uaed8 SBA(\uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ubc30\uc815)\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.","\uc815\ud655\ud55c \uc608\uce21\uc744 \uc704\ud574 \uc2dc\uac04\uc5d0 \ub530\ub77c \ubcc0\ud558\ub294 \uad50\ud1b5\ub7c9\uacfc \ub3c4\ub85c \uc6a9\ub7c9\uc744 \uace0\ub824\ud569\ub2c8\ub2e4.","\uc0c1\uc138\ud55c \uc2dc\ub098\ub9ac\uc624 \ud3c9\uac00\ub97c \uc704\ud574 Vissim \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158\uacfc \uc5f0\uacb0\ub429\ub2c8\ub2e4."],"whatItCanDo":["\ub300\uaddc\ubaa8 \uac1c\ubc1c \ubc0f \uc8fc\uc694 \uc774\ubca4\ud2b8(\uc608: \uc62c\ub9bc\ud53d, \uc5d1\uc2a4\ud3ec)\uc5d0 \ub300\ud55c \uad50\ud1b5 \uc218\uc694\uc640 \ud63c\uc7a1\uc744 \uc608\uce21\ud569\ub2c8\ub2e4.","\ub2e4\uc591\ud55c \uac1c\ubc1c \uc870\uac74\uc5d0\uc11c \ucd5c\uc801\uc758 \uad50\ud1b5 \uc2e0\ud638 \uacc4\ud68d\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.","\uc0c8\ub85c\uc6b4 \ud504\ub85c\uc81d\ud2b8\ub97c \uc704\ud55c \ud6a8\uc728\uc801\uc774\uace0 \ud655\uc7a5 \uac00\ub2a5\ud55c \uad50\ud1b5 \uc6b4\uc601 \ubd84\uc11d\uc744 \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4."],"whereItCanBeUsed":["\ub300\uaddc\ubaa8 \uac1c\ubc1c \ud504\ub85c\uc81d\ud2b8","\uc8fc\uc694 \uc774\ubca4\ud2b8 \uad50\ud1b5 \uad00\ub9ac","\uad50\ud1b5 \uc6b4\uc601 \uc13c\ud130 \ubc0f \uc815\ubd80 \uae30\uad00","\ud55c\uad6d, \uc0ac\uc6b0\ub514\uc544\ub77c\ube44\uc544, UAE, \ub3d9\ub0a8\uc544\uc2dc\uc544\uc758 \ucee8\uc124\ud305 \ud504\ub85c\uc81d\ud2b8"]}},"vissim":{"title":"Vissim \ubbf8\uc2dc\uc801 \ubaa8\ub378","subtitle":"\ucc28\ub7c9 \uc0c1\ud638\uc791\uc6a9\uc744 \uc7ac\ud604\ud558\ub294 \uc0c1\uc138\ud55c \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158 \ub3c4\uad6c","features":{"howItWorks":["\ubbf8\uc2dc \uc218\uc900 \uad50\ud1b5 \uc6b4\uc601 \ubd84\uc11d\uc744 \uc704\ud574 Visum \uc911\uc2dc \ubaa8\ub378 \ucd9c\ub825\uacfc \uc5f0\uacb0\ub429\ub2c8\ub2e4.","\uc2dc\ub098\ub9ac\uc624 \ud3c9\uac00\ub97c \uc704\ud574 \ucc28\ub7c9 \uada4\uc801 \ub370\uc774\ud130\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.","\uace0\ud574\uc0c1\ub3c4 \uc2dc\ubbac\ub808\uc774\uc158\uacfc \uad50\ud1b5 \uc81c\uc5b4 \uc804\ub7b5 \uac80\uc99d\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4."],"whatItCanDo":["\uad50\ucc28\ub85c \uc131\ub2a5\uc744 \ubd84\uc11d\ud558\uace0 \uad50\ud1b5 \uc2e0\ud638\ub97c \ucd5c\uc801\ud654\ud569\ub2c8\ub2e4.","\uc0c8\ub85c\uc6b4 \uad50\ud1b5 \uc815\ucc45\uacfc \uc778\ud504\ub77c\uc758 \uad50\ud1b5 \uc601\ud5a5\uc744 \ud3c9\uac00\ud569\ub2c8\ub2e4.","\ubab0\uc785\ud615 \uc2dc\ub098\ub9ac\uc624 \ud14c\uc2a4\ud2b8\ub97c \uc704\ud55c \uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \ubc0f \uc6b4\uc804 \uc2dc\ubbac\ub808\uc774\ud130 \uc785\ub825\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."],"whereItCanBeUsed":["\uad50\ud1b5 \uc2e0\ud638 \ucd5c\uc801\ud654","\uad50\ucc28\ub85c \ubd84\uc11d \ubc0f \uac1c\uc120","\uc0c8\ub85c\uc6b4 \uac1c\ubc1c\uc5d0 \ub300\ud55c \uad50\ud1b5 \uc601\ud5a5 \ud3c9\uac00","\uacf5\uacf5 \uae30\uad00 \ubc0f \uc751\uae09 \ub300\uc751 \uc804\ub7b5\uc744 \uc704\ud55c \uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \uc2dc\uac01\ud654"]}},"mesh":{"title":"3D \uba54\uc2dc \ubaa8\ub378 \ubc0f \uc2dc\uac01\ud654","subtitle":"\uace0\uae09 \uc2dc\uac01\ud654\ub97c \uc704\ud55c \ub3c4\ub85c \ubc0f \ub3c4\uc2dc \uc778\ud504\ub77c\uc758 \uace0\ud488\uc9c8 3D \uba54\uc2dc \ubaa8\ub378","features":{"howItWorks":["3D \uba54\uc2dc \uc0dd\uc131\uc744 \uc704\ud574 LX \ub370\uc774\ud130, OSM, LiDAR, \uc0ac\uc9c4\uce21\ub7c9\ubc95\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.","\uc6d0\ud65c\ud55c \uc2dc\uac01\uc801 \ucd9c\ub825\uc744 \uc704\ud574 Unity\uc5d0\uc11c Visum \ubc0f Vissim \uc2dc\ubbac\ub808\uc774\uc158 \ub370\uc774\ud130\uc640 \ud1b5\ud569\ub429\ub2c8\ub2e4.","\uc815\ud655\ud55c \uace0\ub3c4 \ubc0f \uc790\uc0b0 \ubc30\uce58\ub97c \uc704\ud55c \uc218\ub3d9 \uba54\uc2dc \uac1c\uc120\uc744 \ud5c8\uc6a9\ud569\ub2c8\ub2e4."],"whatItCanDo":["\uad50\ud1b5 \uc815\ucc45 \ubc0f \ud504\ub85c\uc81d\ud2b8 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158\uc744 \uc704\ud55c \uace0\ud488\uc9c8 \uc2dc\uac01 \uc790\ub8cc\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.","\uc548\uc804 \ubc0f \uc6b4\uc601 \ud3c9\uac00\ub97c \uc704\ud55c \uc6b4\uc804 \uc2dc\ubbac\ub808\uc774\ud130 \ubc0f \uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \ud658\uacbd\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.","\ube44\uc804\ubb38\uac00 \uc774\ud574\uad00\uacc4\uc790\ub97c \uc704\ud55c \uba85\ud655\ud55c \uc2dc\ub098\ub9ac\uc624 \ube44\uad50 \ubc0f \uc2dc\uac01\ud654\ub97c \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4."],"whereItCanBeUsed":["\ub3c4\uc2dc \uacc4\ud68d \ubc0f \uc815\ucc45 \ubc1c\ud45c","\uc815\ubd80 \uae30\uad00 \ubc0f \uc774\ud574\uad00\uacc4\uc790 \ube0c\ub9ac\ud551","\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \uae30\ubc18 \uacf5\uacf5 \ucc38\uc5ec \ubc0f \uad50\uc721","\uc0ac\uc6b0\ub514, UAE, \ub3d9\ub0a8\uc544\uc2dc\uc544 \uc2dc\uc7a5\uc758 \ud504\ub85c\uc81d\ud2b8"]}},"digitalTwin":{"title":"\ub514\uc9c0\ud138 \ud2b8\uc708 \ubaa8\ub378","subtitle":"3D \uc2dc\uac01\uc801 \ud658\uacbd\uacfc \ud1b5\ud569\ub41c \uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c\uc758 \uc2e4\uc2dc\uac04 \ub514\uc9c0\ud138 \ubcf5\uc81c\ubcf8","features":{"howItWorks":["Visum \uc911\uc2dc, Vissim \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158 \ubc0f 3D \ubaa8\ub378\uc744 \uacb0\ud569\ud569\ub2c8\ub2e4.","\uc2dc\ub098\ub9ac\uc624 \ubcc0\uacbd \ubc0f \uacc4\ud68d\ub41c \uc778\ud504\ub77c\uc640 \ud568\uaed8 \ub3d9\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.","\uc2e4\uc2dc\uac04 \uad50\ud1b5 \uc2dc\uac01\ud654 \ubc0f \uc2dc\ub098\ub9ac\uc624 \uc7ac\uc0dd\uc744 \uc704\ud574 ITS \uc2dc\uc2a4\ud15c\uc5d0 \uc5f0\uacb0\ub429\ub2c8\ub2e4."],"whatItCanDo":["\uac1c\ubc1c \ubc0f \uc774\ubca4\ud2b8\uc758 \ubbf8\ub798 \uad50\ud1b5 \uc601\ud5a5\uc744 \uc2dc\uac01\ud654\ud569\ub2c8\ub2e4.","\uc2e0\ud638 \ud0c0\uc774\ubc0d \ubc0f \uad50\ud1b5 \uad00\ub9ac \uc804\ub7b5\uc744 \ucd5c\uc801\ud654\ud569\ub2c8\ub2e4.","\ubab0\uc785\ud615 \uc2dc\ub098\ub9ac\uc624 \uc2dc\uc5f0\uc744 \ud1b5\ud574 \uc774\ud574\uad00\uacc4\uc790\uc758 \uc774\ud574\ub97c \ud5a5\uc0c1\uc2dc\ud0b5\ub2c8\ub2e4."],"whereItCanBeUsed":["\uc2a4\ub9c8\ud2b8 \uc2dc\ud2f0 \uad50\ud1b5 \uad00\ub9ac \uc13c\ud130","\ub300\uaddc\ubaa8 \uc774\ubca4\ud2b8 \uad50\ud1b5 \uc81c\uc5b4(\uc62c\ub9bc\ud53d, \uc5d1\uc2a4\ud3ec)","\uc815\ubd80 \uc815\ucc45 \ud14c\uc2a4\ud2b8 \ubc0f \uc2dc\ub098\ub9ac\uc624 \ubd84\uc11d","\uacf5\uacf5 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158 \ubc0f \uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \uc2dc\ub098\ub9ac\uc624 \uc2dc\uc5f0"]}}}},"solutions":{"heroTitle":"\uc6b0\ub9ac\uc758 \uc194\ub8e8\uc158","heroSubtitle":"\ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0\uc640 \uc2a4\ub9c8\ud2b8 \uc2dc\ud2f0\ub97c \ubcc0\ud654\uc2dc\ud0a4\ub294 \ud601\uc2e0 \uc194\ub8e8\uc158.","learnMore":"\uc790\uc138\ud788 \ubcf4\uae30","overviewTitle":"\ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0\uc758 \ubcc0\ud654","overviewText":"\ub3c4\uc2dc \uad50\ud1b5\uacfc \uc2a4\ub9c8\ud2b8 \uc2dc\ud2f0 \uc6b4\uc601\uc744 \ubcc0\ud654\uc2dc\ud0a4\ub3c4\ub85d \uc124\uacc4\ub41c \ud3ec\uad04\uc801\uc778 \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158 \uc81c\ud488\uad70\uc744 \uc0b4\ud3b4\ubcf4\uc138\uc694. \uac01 \uc194\ub8e8\uc158\uc740 \ucd5c\ucca8\ub2e8 \uae30\uc220\uacfc \ud604\ub300 \ubaa8\ube4c\ub9ac\ud2f0 \uacfc\uc81c\uc5d0 \ub300\ud55c \ud601\uc2e0\uc801\uc778 \uc811\uadfc \ubc29\uc2dd\uc744 \ub300\ud45c\ud569\ub2c8\ub2e4.","solutionsTitle":"\uc6b0\ub9ac\uc758 \uc194\ub8e8\uc158 \ud3ec\ud2b8\ud3f4\ub9ac\uc624","items":{"trafficAnalysis":{"title":"\uad50\ud1b5\uc601\ud5a5\ubd84\uc11d","desc":["<strong>\uad50\ud1b5 \uc0c1\ud669</strong>\uacfc \uc2dc\ub098\ub9ac\uc624 \uae30\ubc18 \ub300\uc751 \uc804\ub7b5\uc744 \ubd84\uc11d\ud569\ub2c8\ub2e4.","<strong>\uc815\ucc45\uacfc \uad50\ud1b5 \ub300\uc751 \uc804\ub7b5</strong>\uc744 \ubd84\uc11d\ud558\uace0 \uad50\ud1b5 \ud750\ub984\uc744 \ucd5c\uc801\ud654\ud569\ub2c8\ub2e4.","\ub300\uc2dc\ubcf4\ub4dc\ud615 \uc778\ud130\ud398\uc774\uc2a4\ub85c <strong>\uc0ac\uc6a9\uc790 \uc811\uadfc\uc131</strong>\uacfc \ubd84\uc11d\uc801 \uc774\ud574\ub97c \ud5a5\uc0c1\uc2dc\ud0b5\ub2c8\ub2e4."]},"drivingSimulator":{"title":"\uc6b4\uc804 \uc2dc\ubbac\ub808\uc774\ud130","desc":["\uac00\uc0c1 \ud658\uacbd\uc5d0\uc11c <strong>\uc2e4\uc81c \ub610\ub294 \uacc4\ud68d\ub41c \ub3c4\ub85c</strong>\ub97c \uc2dc\ud5d8 \uc6b4\uc804\ud558\uc5ec \ubb38\uc81c\ub97c \uc2dd\ubcc4\ud569\ub2c8\ub2e4.","\ub3c4\ub85c \uc124\uacc4 \uae30\ub2a5\uc744 \uac80\uc99d\ud558\uace0 \uac1c\uc120\ud569\ub2c8\ub2e4.","<strong>\uc548\uc804 \uc6b4\uc804 \ubc0f \uc124\uacc4 \uac80\uc99d</strong>\uc744 \uc704\ud55c \uad50\uc721 \ud504\ub85c\uadf8\ub7a8\uc758 \uc77c\ubd80\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]},"lifeSavingRobot":{"title":"\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07","desc":["<strong>\ubab0\uc785\ud615 \uac00\uc0c1 \ud658\uacbd</strong>\uc73c\ub85c \uae30\uc874\uc758 2D \ub3c4\ub85c \uc124\uacc4\ub97c \ub118\uc5b4\uc12d\ub2c8\ub2e4.","<strong>\uc751\uae09 \uc0c1\ud669</strong>\uc5d0\uc11c \uc548\uc804\ud55c \ub300\ud53c\uc640 \uad6c\uc870 \uc791\uc5c5\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.","\ub2e4\uc591\ud55c \uc870\uac74\uc5d0\uc11c <strong>\uac00\uc2dc\uc131 \ubc0f \uc2dc\uac70</strong>\uc640 \uac19\uc740 \uc548\uc804 \uce21\uba74\uc744 \uac80\uc99d\ud569\ub2c8\ub2e4."]},"visualisation":{"title":"\uc2dc\uac01\ud654","desc":["\ub514\uc9c0\ud138 \ud2b8\uc708 \ud658\uacbd\uc744 \uae30\ubc18\uc73c\ub85c <strong>\uace0\ud654\uc9c8 \ube44\ub514\uc624</strong>\ub97c \uc81c\uc791\ud569\ub2c8\ub2e4.","\uc0dd\uc0dd\ud55c \ud504\ub808\uc820\ud14c\uc774\uc158\uc744 \uc704\ud574 <strong>\ud604\uc2e4\uc801\uc778 \uad50\ud1b5 \ud589\ub3d9</strong>\uc744 \ubc18\uc601\ud569\ub2c8\ub2e4.","\uacf5\uccad\ud68c, <strong>\uc815\ucc45 \ud64d\ubcf4</strong> \ubc0f \ud504\ub808\uc820\ud14c\uc774\uc158\uc5d0 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.","\uc804 \uc138\uacc4 \uc8fc\uc694 \ub3c4\uc2dc \ud504\ub85c\uc81d\ud2b8\uc758 <strong>\ud544\uc218 \uacb0\uacfc\ubb3c</strong>\ub85c \uac04\uc8fc\ub429\ub2c8\ub2e4."]},"multimodal":{"title":"\ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\ubbac\ub808\uc774\uc158","desc":["\ub2e4\uc591\ud55c \uad50\ud1b5\uc218\ub2e8 \uac04\uc758 \uc0c1\ud638\uc791\uc6a9\uc744 \ubc18\uc601\ud558\ub294 <strong>\ud1b5\ud569 \ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\ubbac\ub808\uc774\uc158 \ub3c4\uad6c</strong>\uc785\ub2c8\ub2e4.","<strong>\uc2dc\ubbac\ub808\uc774\ud130 \ud558\ub4dc\uc6e8\uc5b4</strong>\uc640 \uc5f0\uacb0\ud558\uc5ec \uac00\uc0c1 \ud658\uacbd\uc5d0\uc11c \ub2e4\uc591\ud55c \uc2dc\ub098\ub9ac\uc624\ub97c \ud14c\uc2a4\ud2b8\ud569\ub2c8\ub2e4.","<strong>\uc790\uc728\uc8fc\ud589\ucc28 \uac1c\ubc1c</strong>\uc744 \uc704\ud55c \uae30\ucd08 \ub370\uc774\ud130\uc14b\uc744 \uad6c\ucd95\ud569\ub2c8\ub2e4."]},"teleDriving":{"title":"\uc6d0\uaca9 \uc6b4\uc804","desc":["\uc608\uc678\uc801\uc778 \uc0c1\ud669\uc5d0\uc11c \uc790\uc728\uc8fc\ud589\ucc28\uc5d0 \ub300\ud55c <strong>\uc6d0\uaca9 \uc6b4\uc804 \uc9c0\uc6d0</strong>\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.","\uc790\uc728\uc8fc\ud589\uc774 \ud55c\uacc4\uc5d0 \uc9c1\uba74\ud588\uc744 \ub54c(\ud3ed\uc124, \uacf5\uc0ac \uad6c\uc5ed) <strong>\uc778\uac04\uc758 \uac1c\uc785</strong>\uc744 \ud5c8\uc6a9\ud569\ub2c8\ub2e4.","\ubaa8\ube4c\ub9ac\ud2f0 \uc11c\ube44\uc2a4, <strong>\ubb3c\ub958</strong> \ubc0f \uad70\uc0ac \uc791\uc804\uc5d0 \uc801\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4."]},"digitalTwin":{"title":"\ub514\uc9c0\ud138 \ud2b8\uc708","desc":["3D \uc2dc\uac01\uc801 \ud658\uacbd\uacfc \ud1b5\ud569\ub41c \uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c\uc758 <strong>\uc2e4\uc2dc\uac04 \ub514\uc9c0\ud138 \ubcf5\uc81c\ubcf8</strong>\uc785\ub2c8\ub2e4.","<strong>Unity \uae30\ubc18 \ub80c\ub354\ub9c1 \uc2dc\uc2a4\ud15c</strong>\uc73c\ub85c \uc81c\uc791 \uc2dc\uac04\uc744 <em>70% \ub2e8\ucd95</em>\ud569\ub2c8\ub2e4.","<strong>\uc2e4\uc2dc\uac04 \ub3c4\uc2dc \uc6b4\uc601</strong>, \uc0ac\uace0 \ub300\uc751, <strong>\uc815\ucc45 \ubd84\uc11d</strong>\uc744 \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4."]}},"remoteDriving":{"hero":{"title":"\uc6d0\uaca9\uc8fc\ud589","subtitle":"\uc790\uc728\uc8fc\ud589\ucc28 \uc2dc\uc2a4\ud15c \uc624\uc791\ub3d9 \ubc0f \uc608\uc678\uc801 \uc0c1\ud669\uc5d0\uc11c\uc758 \uace0\uae09 \uc6d0\uaca9 \uc81c\uc5b4 \ud578\ub4dc\uc624\ud504 \uc2dc\uc2a4\ud15c"},"overview":{"title":"\uac1c\uc694","shortDemo":"\uc2e0\uc18d \ub300\uc751 \ub370\ubaa8","shortDemoDesc":"\uc790\uc728\uc8fc\ud589 \uc2dc\uc2a4\ud15c \uc7a5\uc560 \ubc1c\uc0dd \uc2dc <strong>\uc2e0\uc18d\ud55c \uc6d0\uaca9 \uc81c\uc5b4 \ud578\ub4dc\uc624\ud504</strong>\ub97c \uc2dc\uc5f0\ud558\uba70, \uc751\ub2f5 \uc2dc\uac04\uacfc <em>\uc548\uc804 \ud504\ub85c\ud1a0\ucf5c</em>\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.","longDemo":"\uc885\ud569 \uc2dc\uc2a4\ud15c \ub370\ubaa8","longDemoDesc":"<strong>\uc545\ucc9c\ud6c4 \uc6b4\ud589</strong>, \uc81c\ud55c \uad6c\uc5ed \ub0b4\ube44\uac8c\uc774\uc158, \uc790\uc728\uc8fc\ud589\ucc28 \uc2dc\uc2a4\ud15c\uacfc\uc758 \uc6d0\ud65c\ud55c \ud1b5\ud569\uc744 \ud3ec\ud568\ud55c <em>\uc6d0\uaca9 \uc8fc\ud589 \uae30\ub2a5</em>\uc758 \uc2ec\uce35\uc801\uc778 \uc1fc\ucf00\uc774\uc2a4\uc785\ub2c8\ub2e4.","RD-1":"KAIST \ucea0\ud37c\uc2a4 \ub0b4 \uc6d0\uaca9 \uc8fc\ud589","RD-1Desc":"\uc2e4\ub0b4\uc678 \ud658\uacbd\uc5d0\uc11c \ud1b5\uc81c\ub41c \ucea0\ud37c\uc2a4 \ud658\uacbd\uc5d0\uc11c <strong>\uc6d0\uaca9 \uc8fc\ud589 \uae30\uc220</strong>\uc744 \ucd5c\ucd08\ub85c \uc2dc\uc5f0\ud569\ub2c8\ub2e4.","playVideo":"\ub3d9\uc601\uc0c1 \uc7ac\uc0dd"},"technical":{"title":"\uae30\uc220\uc801 \uc138\ubd80\uc0ac\ud56d","specsTitle":"\uc0ac\uc591 \ubc0f \uae30\uc220","spec1":"<strong>\uc790\uc728\uc8fc\ud589\ucc28 \uc624\uc791\ub3d9</strong> \uc2dc \uc6d0\uaca9 \uc81c\uc5b4 \ud578\ub4dc\uc624\ud504 \uc2dc\uc2a4\ud15c","spec2":"\uc545\ucc9c\ud6c4 \ubc0f <em>\uc81c\ud55c \uad6c\uc5ed</em>\uc5d0\uc11c\ub3c4 \uc791\ub3d9","spec3":"<strong>\uc6d0\uaca9\uc8fc\ud589 \ubaa8\ub4c8</strong>\uc744 \ud1b5\ud574 \uc790\uc728\uc8fc\ud589 \uc2a4\ud0dd\uacfc \ud1b5\ud569","spec4":"\uc800\uc9c0\uc5f0 \ud1b5\uc2e0\uc744 \ud1b5\ud55c <strong>\uc2e4\uc2dc\uac04 \ube44\ub514\uc624 \uc2a4\ud2b8\ub9ac\ubc0d</strong>","spec5":"<strong>\ube44\uc0c1 \uc815\uc9c0 \uae30\ub2a5</strong>\uc744 \uac16\ucd98 \uace0\uae09 \uc548\uc804 \ud504\ub85c\ud1a0\ucf5c","researchTitle":"\uc5f0\uad6c \ubc0f \ud2b9\ud5c8","patentTitle":"\uad00\ub828 \ud2b9\ud5c8","patentName":"\uc6d0\uaca9\uc8fc\ud589 \uc81c\uc5b4 \uc2dc\uc2a4\ud15c","applicationDate":"\ucd9c\uc6d0\uc77c","patentNumber":"\ud2b9\ud5c8\ubc88\ud638","academicTitle":"\ud559\uc220 \ub9c1\ud06c","academicInfo":"TRB 2024/25 \ucee8\ud37c\ub7f0\uc2a4\uc5d0\uc11c \uc6b4\uc804 \uac1c\uc785 \ud574\uc81c \ubc0f \uc778\uac04 \ub300\uccb4 \uc2dc\uc2a4\ud15c\uc5d0 \uad00\ud55c \ub17c\ubb38","disclosureButton":"\uc5f0\uad6c \ubc1c\ud45c \uc790\ub8cc \ubcf4\uae30"},"useCases":{"title":"\uc0ac\uc6a9 \uc0ac\ub840","industriesTitle":"\ub300\uc0c1 \uc0b0\uc5c5","industry1":"\uc790\uc728\uc8fc\ud589 \uae30\uc5c5","industry2":"\uad70\uc0ac","industry3":"\ubb3c\ub958","outcomeTitle":"\uae30\ub300 \ud6a8\uacfc","outcomeDesc":"<strong>\uc6d0\uaca9 \uac1c\uc785</strong>\uc73c\ub85c \uc790\uc728\uc8fc\ud589\ucc28 \uc548\uc804 \ud655\ubcf4, <strong>\ub3c4\uc2ec \uad50\ud1b5\uc758 \uc2e0\ub8b0\uc131</strong> \uac15\ud654","scenarioTitle":"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624","scenarioStep1":"<strong>\uc790\uc728\uc8fc\ud589 \ucc28\ub7c9</strong>\uc774 \ud130\ub110 \uc9c4\uc785 \uc804 \uc608\uc0c1\uce58 \ubabb\ud55c \uc7a5\uc560\ubb3c\uc744 \uac10\uc9c0\ud558\uc5ec \uc2dc\uc2a4\ud15c \ud55c\uacc4 \ubc1c\uc0dd","scenarioStep2":"<strong>\uc6d0\uaca9 \uc8fc\ud589\uc790</strong>\uac00 \uc989\uc2dc \ucc28\ub7c9 \uc81c\uc5b4\uad8c\uc744 \uc778\uc218\ud558\uc5ec \uc548\uc804\ud55c \uc6d0\uaca9 \uc870\uc791 \uc2dc\uc791","scenarioStep3":"\uc219\ub828\ub41c \uc6d0\uaca9 \uc8fc\ud589\uc744 \ud1b5\ud574 \uc7a5\uc560\ubb3c\uc744 \ud68c\ud53c\ud558\uace0 <strong>\uc548\uc804\ud55c \uc9c0\uc810\uae4c\uc9c0 \ucc28\ub7c9 \uc774\ub3d9</strong> \uc644\ub8cc"},"cta":{"title":"\ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc744 \ud601\uc2e0\ud560 \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","description":"\uc800\ud76c\uc758 \uc6d0\uaca9 \uc8fc\ud589 \uae30\uc220\uc774 \uc5b4\ub5bb\uac8c \uc790\uc728\uc8fc\ud589\ucc28 \uc2dc\uc2a4\ud15c\uc758 \uc548\uc804\uc131\uacfc \uc2e0\ub8b0\uc131\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub294\uc9c0 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\ub824\uba74 \ubb38\uc758\ud558\uc138\uc694.","button":"\ubb38\uc758\ud558\uae30"}},"digitalTwinSolution":{"hero":{"title":"\ub514\uc9c0\ud138 \ud2b8\uc708","subtitle":"\ud3ec\uad04\uc801\uc778 \ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0 \uad00\ub9ac\ub97c \uc704\ud55c 3D \uc2dc\uac01\uc801 \ud658\uacbd\uacfc \ud1b5\ud569\ub41c \uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c\uc758 \uc2e4\uc2dc\uac04 \ub514\uc9c0\ud138 \ubcf5\uc81c\ubcf8"},"overview":{"title":"\uac1c\uc694","demo":"Unity \uae30\ubc18 \uc2e4\uc2dc\uac04 \ub80c\ub354\ub9c1 \ub370\ubaa8","demoDesc":"\uc81c\uc791 \uc2dc\uac04\uc744 <em>70% \ub2e8\ucd95</em>\ud558\uba74\uc11c \uace0\ud488\uc9c8 \uad50\ud1b5 \uc2dc\ubbac\ub808\uc774\uc158\uacfc <strong>\ub3c4\uc2dc \ud658\uacbd \uc2dc\uac01\ud654</strong>\ub97c \uc81c\uacf5\ud558\ub294 <strong>Unity \uae30\ubc18 \uc2e4\uc2dc\uac04 \ub80c\ub354\ub9c1 \uc2dc\uc2a4\ud15c</strong>\uc744 \uacbd\ud5d8\ud574\ubcf4\uc138\uc694.","dt-1":"\ub300\uc804 \uad74\uc808\ubc84\uc2a4 \ub514\uc9c0\ud138 \ud2b8\uc708","dt-1Desc":"\ub300\uc804\uc2dc\ub294 <strong>3\ub7c9 \uc5f0\uacb0 \ubc84\uc2a4 \uc2dc\uc2a4\ud15c</strong> \ub3c4\uc785\uc744 \uacc4\ud68d\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc0c8\ub85c\uc6b4 \ud615\ud0dc\uc758 \uad50\ud1b5\uc218\ub2e8 \uad6c\ud604 \uc804, \ubcf4\ub2e4 <strong>\ud6a8\uc728\uc801\uc778 \uad50\ud1b5 \uc2dc\uc2a4\ud15c</strong> \uad6c\ucd95\uc744 \uc704\ud574 \uad50\ud1b5 \uc601\ud5a5 \ubd84\uc11d\uc774 \ud544\uc218\uc785\ub2c8\ub2e4. \uc2dc\ubbac\ub808\uc774\uc158 \uacb0\uacfc\ub97c \ub370\uc774\ud130\ub97c \ud1b5\ud574 \uc2dc\uac01\uc801\uc73c\ub85c \uc774\ud574\ud558\uae30 \uc27d\uac8c \uc81c\uc791\ud588\uc2b5\ub2c8\ub2e4.","dt-2":"KAIST \ucea0\ud37c\uc2a4 \ub514\uc9c0\ud138 \ud2b8\uc708","dt-2Desc":"KAIST \uc5f0\uad6c\uc9c4\uc774 \ucd5c\ucd08\ub85c <strong>KAIST \ubb38\uc9c0 \ub514\uc9c0\ud138 \ud2b8\uc708</strong>\uc744 \uac1c\ubc1c\ud588\uc2b5\ub2c8\ub2e4. \uc774\ubbf8\uc9c0\uc640 \ud074\ub77c\uc6b0\ub4dc \ud3ec\uc778\ud2b8\ub97c \ub80c\ub354\ub9c1\ud558\uc5ec \uc2e4\uc81c\uc640 \ub9e4\uc6b0 \uc720\uc0ac\ud55c \uc601\uc0c1\uc744 \uc81c\uc791\ud569\ub2c8\ub2e4.","playVideo":"\ube44\ub514\uc624 \uc7ac\uc0dd"},"technical":{"title":"\uae30\uc220 \uc138\ubd80\uc0ac\ud56d","specsTitle":"\uc0ac\uc591 \ubc0f \uae30\uc220","spec1":"<strong>\uc2e4\uc2dc\uac04 \ub370\uc774\ud130 \ud1b5\ud569</strong> (ITS, CCTV)","spec2":"\uc790\ub3d9\ud654\ub41c \ud658\uacbd \uc694\uc18c \uc5c5\ub370\uc774\ud2b8","spec3":"\uc6b4\uc804 \uc2dc\ubbac\ub808\uc774\ud130\uc640 \uc5f0\ub3d9","spec4":"<em>70% \ube60\ub978 \uc81c\uc791</em>\uc774 \uac00\ub2a5\ud55c <strong>Unity \uae30\ubc18 3D \ub80c\ub354\ub9c1</strong>","spec5":"\ub3d9\uc801 \uc2dc\ub098\ub9ac\uc624 \uc5c5\ub370\uc774\ud2b8 \ubc0f <em>\uc778\ud504\ub77c \uacc4\ud68d</em>","researchTitle":"\uc5f0\uad6c \ubc0f \ud2b9\ud5c8","patentTitle":"\uad00\ub828 \ud2b9\ud5c8","patentName":"Vissim \uae30\ubc18 \ubaa8\ub378-\uc2e4\uce21 \ube44\uad50 \uc790\ub3d9\ud654 \ud234","applicationDate":"\ucd9c\uc6d0\uc77c","patentNumber":"\ud2b9\ud5c8\ubc88\ud638","academicTitle":"\ud559\uc220 \ub9c1\ud06c","academicInfo":"\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \ubc0f \uc751\uae09 \ub300\uc751 \ud65c\uc6a9 \ub17c\ubb38 \ub2e4\uc218","disclosureButton":"\uc5f0\uad6c \ubc1c\ud45c \ubcf4\uae30"},"useCases":{"title":"\uc0ac\uc6a9 \uc0ac\ub840","industriesTitle":"\ub300\uc0c1 \uc0b0\uc5c5","industry1":"\ub3c4\uc2dc\uacc4\ud68d","industry2":"\ub3c4\ub85c\uacf5\uc0ac","industry3":"\uc790\uc728\uc8fc\ud589 \ud14c\uc2a4\ud2b8\ubca0\ub4dc","outcomeTitle":"\uae30\ub300 \ud6a8\uacfc","outcomeDesc":"<strong>\uc2e4\uc2dc\uac04 \ub3c4\uc2dc \uc6b4\uc601</strong>, \uc0ac\uace0 \ub300\uc751, <strong>\uc815\ucc45 \ubd84\uc11d</strong> \uac00\ub2a5","scenarioTitle":"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624","scenarioStep1":"\ub0b4\ud3ec\uc2e0\ub3c4\uc2dc \ub0b4 <strong>\uad50\ud1b5\uccb4\uc99d \uc608\uce21 \uc2dc\ubbac\ub808\uc774\uc158</strong>","scenarioStep2":"\uc2dc\uc2a4\ud15c\uc774 \uc790\ub3d9\uc73c\ub85c <strong>\uad50\ud1b5 \ud328\ud134</strong>\uacfc \ubcd1\ubaa9 \uc9c0\uc810 \ubd84\uc11d","scenarioStep3":"\uc0ac\uace0 \uc2dc <strong>\uc6b0\ud68c \uc804\ub7b5</strong> \uc790\ub3d9 \uc81c\uc548"},"cta":{"title":"\ub3c4\uc2dc \uacc4\ud68d\uc744 \ud601\uc2e0\ud560 \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","description":"\ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220\uc774 \uc5b4\ub5bb\uac8c \ub3c4\uc2dc\uc758 \uad50\ud1b5 \uad00\ub9ac\uc640 \ub3c4\uc2dc \uacc4\ud68d \uc5ed\ub7c9\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub294\uc9c0 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\ub824\uba74 \ubb38\uc758\ud558\uc138\uc694.","button":"\ubb38\uc758\ud558\uae30"}},"multimodalSimulatorSolution":{"hero":{"title":"\ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\ubbac\ub808\uc774\ud130","subtitle":"\ud3ec\uad04\uc801\uc778 \uad50\ud1b5 \uc2dc\ub098\ub9ac\uc624 \ud14c\uc2a4\ud2b8\ub97c \uc704\ud55c OBD & GPS \ud1b5\ud569 \uace0\uae09 \ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\ubbac\ub808\uc774\uc158 \uc2dc\uc2a4\ud15c"},"overview":{"title":"\uac1c\uc694","demo":"OBD & GPS \uae30\ubc18 \uc2dc\ubbac\ub808\uc774\uc158 \ub370\ubaa8","demoDesc":"\ud3ec\uad04\uc801\uc778 \ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \ud14c\uc2a4\ud2b8\ub97c \uc704\ud55c <strong>\ud604\uc2e4\uc801\uc778 NPC \uc0c1\ud638\uc791\uc6a9</strong>\uacfc <em>OBD & GPS \ud1b5\ud569</em>\uc744 \ud2b9\uc9d5\uc73c\ub85c \ud558\ub294 <strong>\uace0\uae09 \uc2dc\ubbac\ub808\uc774\uc158 \uc2dc\uc2a4\ud15c</strong>\uc744 \uacbd\ud5d8\ud574\ubcf4\uc138\uc694.","MO-1":"\uc804\ub3d9 \uc2a4\ucfe0\ud130 \ubc0f \uc790\uc728\ucc28 \uc0c1\ud638\uc791\uc6a9 \uc2dc\ubbac\ub808\uc774\uc158","MO-1Desc":"\ub3c4\uc2ec \uad50\ud1b5 \ud658\uacbd\uc5d0\uc11c <strong>\uc804\ub3d9 \uc2a4\ucfe0\ud130\uc640 \uc790\uc728\uc8fc\ud589\ucc28</strong> \uac04\uc758 \ubcf5\uc7a1\ud55c \uc0c1\ud638\uc791\uc6a9\uc744 \ubaa8\ub378\ub9c1\ud558\uace0 \uc2dc\ubbac\ub808\uc774\uc158\ud558\uc5ec \uad50\ud1b5 \uc548\uc804\uc131\uc744 \ud5a5\uc0c1\uc2dc\ud0a4\ub294 <strong>\uc885\ud569\uc801\uc778 \ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \ud14c\uc2a4\ud2b8 \ud658\uacbd</strong>\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.","MO-2":"\ubaa8\ube4c\ub9ac\ud2f0 \uc6b4\uc601 \uc2dc\uc2a4\ud15c","MO-2Desc":"<strong>\ub2e4\uc218\uc758 \uc13c\uc11c\ub97c \uac16\ucd98 \uc778\ud504\ub77c</strong>\uac00 \uc790\uc728\uc8fc\ud589\ucc28\uac00 \uc0ac\uac01\uc9c0\ub300\uc5d0 \uc788\uc744 \ub54c \uc774\ub97c <strong>\uc870\uc728</strong>\ud558\uc5ec \uc548\uc804\ud55c \uc8fc\ud589\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4. \uac00\uc0c1 \uc5d0\uc774\uc804\ud2b8\ub97c \uc8fc\uc785\ud558\uc5ec \uc2e4\uc81c \ucc28\ub7c9\uc5d0 \uc601\ud5a5\uc744 \ubbf8\uce58\uace0, \ubcf5\uc7a1\ud55c \ub3c4\uc2ec \ud658\uacbd\uc5d0\uc11c \ud559\uc2b5\ud558\uace0 \uc548\uc804\ud558\uac8c \uc8fc\ud589\ud560 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4.","playVideo":"\ube44\ub514\uc624 \uc7ac\uc0dd"},"technical":{"title":"\uae30\uc220 \uc138\ubd80\uc0ac\ud56d","specsTitle":"\uc0ac\uc591 \ubc0f \uae30\uc220","spec1":"<strong>GUI \uae30\ubc18 \uc2dc\ub098\ub9ac\uc624 \uc0dd\uc131</strong>","spec2":"\uc804\uc870\ub4f1\uacfc \uc5d4\uc9c4\uc74c\uc744 \ud3ec\ud568\ud55c <strong>\uc2e4\uc2dc\uac04 \uc560\ub2c8\uba54\uc774\uc158</strong>","spec3":"<strong>SUMO/VISSIM\uacfc\uc758 \uacf5\ub3d9 \uc2dc\ubbac\ub808\uc774\uc158</strong>","spec4":"<strong>OBD & GPS \ub370\uc774\ud130 \ud1b5\ud569</strong>","spec5":"\uace0\uae09 NPC \uc0c1\ud638\uc791\uc6a9 \ubaa8\ub378\ub9c1","researchTitle":"\uc5f0\uad6c \ubc0f \ud2b9\ud5c8","patentTitle":"\uad00\ub828 \ud2b9\ud5c8","patentName":"\uc790\uc728\uc8fc\ud589\ucc28-\ubcf4\ud589\uc790 \ucda9\ub3cc \uc608\uce21 \uc2dc\uc2a4\ud15c","applicationDate":"\ucd9c\uc6d0\uc77c","patentNumber":"\ud2b9\ud5c8\ubc88\ud638","academicTitle":"\ud559\uc220 \uc9c0\uc6d0","academicInfo":"\ub9c8\uc774\ud06c\ub85c \ubaa8\ube4c\ub9ac\ud2f0 \uc548\uc804 \uc5f0\uad6c \ub17c\ubb38 (TRB, ICTCT)","disclosureButton":"\uc5f0\uad6c \ubc1c\ud45c \ubcf4\uae30"},"useCases":{"title":"\uc0ac\uc6a9 \uc0ac\ub840","industriesTitle":"\ub300\uc0c1 \uc0b0\uc5c5","industry1":"\uc790\uc728\uc8fc\ud589 \uac1c\ubc1c\uc0ac","industry2":"\uacbd\ucc30\uccad","industry3":"\uc2a4\ub9c8\ud2b8\uc2dc\ud2f0 \ud504\ub85c\uc81d\ud2b8","outcomeTitle":"\uae30\ub300 \ud6a8\uacfc","outcomeDesc":"<strong>\ub2e4\uc911\uc218\ub2e8 \uc0ac\uace0 \uc608\uce21</strong> \ubc0f \uc2dc\ub098\ub9ac\uc624 \ud6c8\ub828 \uac00\ub2a5","scenarioTitle":"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624","scenarioStep1":"<strong>\uc790\uc728\ucc28\uc640 \ud0a5\ubcf4\ub4dc</strong> \uad50\ucc28 \ucda9\ub3cc \uc2dc\ub098\ub9ac\uc624","scenarioStep2":"<strong>GUI\uc5d0\uc11c \uc2e4\ud5d8\uc870\uac74</strong> \uc124\uc815","scenarioStep3":"\ucda9\ub3cc \uc704\ud5d8 \ubd84\uc11d \ubc0f <strong>\uac1c\uc120 \uc804\ub7b5 \uc81c\uc2dc</strong>"},"cta":{"title":"\uad50\ud1b5 \uc548\uc804\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","description":"\ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\ubbac\ub808\uc774\ud130\uac00 \uc5b4\ub5bb\uac8c \uad50\ud1b5 \uc548\uc804 \ud14c\uc2a4\ud2b8\uc640 \uc2dc\ub098\ub9ac\uc624 \uac80\uc99d\uc744 \uac1c\uc120\ud560 \uc218 \uc788\ub294\uc9c0 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\ub824\uba74 \ubb38\uc758\ud558\uc138\uc694.","button":"\ubb38\uc758\ud558\uae30"}},"trafficAnalysisToolsSolution":{"hero":{"title":"\uad50\ud1b5\uc601\ud5a5\ubd84\uc11d","subtitle":"\uc815\ucc45 \ud3c9\uac00\uc640 \uad50\ud1b5 \ucd5c\uc801\ud654\ub97c \uc704\ud55c <strong>\uc6d0\ud074\ub9ad \uc790\ub3d9\ud654</strong> \ubc0f <em>\ub2e4\uc911 \uaddc\ubaa8 \uc2dc\ubbac\ub808\uc774\uc158</em> \uae30\ub2a5\uc744 \uac16\ucd98 <strong>\uc885\ud569 \uad50\ud1b5 \ubd84\uc11d \ud50c\ub7ab\ud3fc</strong>"},"overview":{"title":"\uac1c\uc694","demo":"\uc6d0\ud074\ub9ad \uad50\ud1b5 \ubd84\uc11d \ub370\ubaa8","demoDesc":"<em>\uc885\ud569\uc801\uc778 \uad50\ud1b5 \ud3c9\uac00</em>\ub97c \uc704\ud55c \uc790\ub3d9\ud654\ub41c DRT, <strong>\ub9c8\uc774\ud06c\ub85c, \ub9e4\ud06c\ub85c \uc2dc\ubbac\ub808\uc774\uc158</strong> \ube44\uad50\uac00 \ud3ec\ud568\ub41c Bo Wang\uc758 <strong>\uc6d0\ud074\ub9ad \uad50\ud1b5 \ubd84\uc11d \uc2dc\uc2a4\ud15c</strong>\uc744 \uacbd\ud5d8\ud574\ubcf4\uc138\uc694.","TA-1":"\ucf54\uc2dc\ubbac\ub808\uc774\uc158","TA-1Desc":"<strong>VISSIM\uacfc Unity \uac04\uc758 \ucf54\uc2dc\ubbac\ub808\uc774\uc158</strong>\uc740 \uad50\ud1b5 \ubc0f \uc6b4\uc1a1 \uc5f0\uad6c\ub97c \uc704\ud55c \ub9e4\uc6b0 \ud604\uc2e4\uc801\uc774\uace0 \uc0c1\ud638\uc791\uc6a9\uc801\uc778 \uac00\uc0c1 \ud658\uacbd\uc744 \ub9cc\ub4dc\ub294 \uac15\ub825\ud55c \uae30\uc220\uc785\ub2c8\ub2e4. \ub450 \ud50c\ub7ab\ud3fc\uc758 \uc7a5\uc810\uc744 \uacb0\ud569\ud569\ub2c8\ub2e4: <em>\uacac\uace0\ud558\uace0 \uac80\uc99d\ub41c \uc0c1\uc138\ud55c \ubbf8\uc2dc\uc801 \uad50\ud1b5 \uc2dc\ubbac\ub808\uc774\uc158</em>\uc744 \uc704\ud55c <strong>VISSIM</strong>\uacfc <em>\uace0\uae09 3D \ub80c\ub354\ub9c1</em>, \ubb3c\ub9ac\ud559, \uadf8\ub9ac\uace0 \ub2e4\uc591\ud55c <strong>\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \uc2dc\ubbac\ub808\uc774\uc158</strong> \ubc0f \uc778\uac04-\ub8e8\ud504 \uae30\ub2a5\uc744 \uc704\ud55c <strong>Unity</strong>","TA-2":"\ub2e4\uc774\ub098\ubaa8\ubbf8\ud130\ub97c \uc774\uc6a9\ud55c \ucf54\uc2dc\ubbac\ub808\uc774\uc158","TA-2Desc":"\ud558\ub4dc\uc6e8\uc5b4-\uc778-\ub354-\ub8e8\ud504(HIL) \uc2dc\ubbac\ub808\uc774\uc158\uc758 <strong>\uc804\ubb38\uc801\uc774\uace0 \uac15\ub825\ud55c \ud615\ud0dc</strong>\uc785\ub2c8\ub2e4. <strong>\uc2e4\uc81c \ubb3c\ub9ac\uc801 \ud558\ub4dc\uc6e8\uc5b4</strong>\uc778 \ub2e4\uc774\ub098\ubaa8\ubbf8\ud130\uc640 \ud558\ub098 \uc774\uc0c1\uc758 \uac00\uc0c1 \uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub378\uc744 \uacb0\ud569\ud569\ub2c8\ub2e4. \uc774 \uc811\uadfc\ubc95\uc740 <strong>\uc790\ub3d9\ucc28 \ubc0f \ud56d\uacf5\uc6b0\uc8fc \uc0b0\uc5c5</strong>\uc5d0\uc11c \ud30c\uc6cc\ud2b8\ub808\uc778 \ubc0f \uc81c\uc5b4 \uc2dc\uc2a4\ud15c \ud14c\uc2a4\ud2b8\uc640 \uac1c\ubc1c\uc5d0 \ub110\ub9ac \uc0ac\uc6a9\ub429\ub2c8\ub2e4","TA-3":"\ub9c8\uc774\ud06c\ub85c \uc2dc\ubbac\ub808\uc774\uc158 - EV \uc790\uc728 \ucda9\uc804\uc18c","TA-3Desc":"<strong>\uc790\uc728 EV \ucda9\uc804\uc18c</strong>\ub294 \uc778\uac04\uc758 \uac1c\uc785 \uc5c6\uc774 \uc804\uae30 \uc790\ub3d9\ucc28\ub97c \ucda9\uc804\ud560 \uc218 \uc788\ub294 \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4. <strong>\ub9c8\uc774\ud06c\ub85c\uc2dc\ubbac\ub808\uc774\uc158</strong>\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc774 \uae30\uc220\uc740 \uc131\uc7a5\ud558\ub294 EV \uc2dc\uc7a5\uc758 \uc8fc\uc694 \uacfc\uc81c \uc911 \uc77c\ubd80\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \uac1c\ubc1c\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4","TA-4":"\ud55c\uad6d \ud654\uc131\uc2dc \ud65c\ub3d9 \uae30\ubc18 \ubaa8\ub378","TA-4Desc":"\uc774 \ubaa8\ub378\uc740 2027\ub144 \ud654\uc131\uc2dc \ub0b4\uc5d0\uc11c \ubc1c\uc0dd\ud560 <strong>\uc790\uc728\uc8fc\ud589\ucc28 \ub808\ubca8 4+</strong>\ub97c \uc774\ud574\ud558\uace0 \uc2dc\ubbac\ub808\uc774\uc158\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub450\uba70, <strong>\uad50\ud1b5 \ud328\ud134</strong>\uacfc \ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0\uc5d0 \ub300\ud55c \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.","playVideo":"\ube44\ub514\uc624 \uc7ac\uc0dd"},"technical":{"title":"\uae30\uc220 \uc138\ubd80\uc0ac\ud56d","specsTitle":"\uc0ac\uc591 \ubc0f \uae30\uc220","spec1":"<strong>\ub9e4\ud06c\ub85c:</strong> <em>\uc815\ucc45 \ud3c9\uac00\uc6a9</em>","spec2":"<strong>\uba54\uc870:</strong> <em>\ub300\uaddc\ubaa8 \uc774\ubca4\ud2b8/\uc7ac\ub09c \ub300\uc751</em>","spec3":"<strong>\ub9c8\uc774\ud06c\ub85c:</strong> <em>\uc2e0\ud638 \ucd5c\uc801\ud654/\uc751\uae09 \ub300\uc751\uc6a9</em>","spec4":"<strong>Visum-Vissim \uc5f0\uacc4 \uc790\ub3d9\ud654</strong>","spec5":"<strong>\ub2e8\uae30 \uad50\ud1b5 \uc608\uce21 \uc54c\uace0\ub9ac\uc998</strong>","researchTitle":"\uc5f0\uad6c \ubc0f \ud2b9\ud5c8","patentTitle":"\uad00\ub828 \ud2b9\ud5c8","patentName":"\ub2e4\uc218\uc758 <strong>Visum/Vissim \uac80\uc99d \uc790\ub3d9\ud654 \ud234</strong>","applicationDate":"\ucd9c\uc6d0\uc77c","patentNumber":"\ud2b9\ud5c8\ubc88\ud638","academicTitle":"\uc5f0\uad6c \uae30\ubc18","academicInfo":"Bo Wang \ub4f1\uc758 <strong>\ub2e8\uae30 \uad50\ud1b5 \uc608\uce21 \uc5f0\uad6c</strong> (2023\ub144 11\uc6d4)","disclosureButton":"\uc5f0\uad6c \ubc1c\ud45c \ubcf4\uae30"},"useCases":{"title":"\uc0ac\uc6a9 \uc0ac\ub840","industriesTitle":"\ub300\uc0c1 \uc0b0\uc5c5","industry1":"\ub3c4\ub85c\uacf5\uc0ac","industry2":"\uad6d\ud1a0\ubd80","industry3":"\ud559\uc220\uae30\uad00","outcomeTitle":"\uae30\ub300 \ud6a8\uacfc","outcomeDesc":"<strong>\uc815\ud655\ud55c \uad50\ud1b5 \ud750\ub984 \ubd84\uc11d</strong> \ubc0f <em>\uc815\ucc45 \ud6a8\uacfc \uc608\uce21</em>","scenarioTitle":"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624","scenarioStep1":"<strong>\uc11c\uc6b8 \uc2dc\ub0b4 \uc7ac\ub09c \ubc1c\uc0dd</strong> \uac00\uc815","scenarioStep2":"<strong>\ub9c8\uc774\ud06c\ub85c+\uba54\uc870 \uc5f0\uacc4 \ubaa8\ub378\ub9c1</strong>","scenarioStep3":"<em>\uc2e0\uc18d\ud55c \uc7ac\ubc30\uce58</em> \ubc0f <strong>\ub300\ud53c\uacbd\ub85c \ubd84\uc11d</strong>"},"cta":{"title":"\uad50\ud1b5 \uc2dc\uc2a4\ud15c\uc744 \ucd5c\uc801\ud654\ud560 \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","description":"<strong>\uad50\ud1b5\uc601\ud5a5\ubd84\uc11d \ub3c4\uad6c</strong>\uac00 \uc5b4\ub5bb\uac8c <em>\uad50\ud1b5 \uad00\ub9ac\uc640 \uc815\ucc45 \ud3c9\uac00 \uc5ed\ub7c9</em>\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub294\uc9c0 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\ub824\uba74 \ubb38\uc758\ud558\uc138\uc694.","button":"\ubb38\uc758\ud558\uae30"}},"visualisationSolution":{"hero":{"title":"\uc2dc\uac01\ud654","subtitle":"<em>\uc124\ub4dd\ub825 \uc788\ub294 \ud504\ub808\uc820\ud14c\uc774\uc158</em>\uacfc <strong>\uacf5\uacf5 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158</strong>\uc744 \uc704\ud55c <em>\ud604\uc2e4\uc801\uc778 \uad50\ud1b5 \ud589\ub3d9</em>\uc774 \ubc18\uc601\ub41c <strong>\ub514\uc9c0\ud138 \ud2b8\uc708 \ud658\uacbd</strong> \uae30\ubc18 <strong>\uace0\ud654\uc9c8 \ube44\ub514\uc624 \uc81c\uc791</strong>"},"overview":{"title":"\uac1c\uc694","demo":"\ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\ubc18 HD \ube44\ub514\uc624 \uc81c\uc791","demoDesc":"<strong>\uacf5\uccad\ud68c\uc640 \uc815\ucc45 \ud64d\ubcf4</strong>\uc5d0\uc11c \uc0dd\uc0dd\ud55c \ud504\ub808\uc820\ud14c\uc774\uc158\uc744 \uc704\ud574 <em>\ud604\uc2e4\uc801\uc778 \uad50\ud1b5 \ud589\ub3d9</em>\uc744 \ubc18\uc601\ud558\uc5ec <strong>\ub514\uc9c0\ud138 \ud2b8\uc708 \ud658\uacbd</strong>\uc5d0\uc11c <strong>\uace0\ud654\uc9c8 \ube44\ub514\uc624\ub97c \uc81c\uc791</strong>\ud558\ub294 \uace0\uae09 \uc2dc\uac01\ud654 \uc2dc\uc2a4\ud15c\uc744 \uacbd\ud5d8\ud574\ubcf4\uc138\uc694.","playVideo":"\ube44\ub514\uc624 \uc7ac\uc0dd"},"technical":{"title":"\uae30\uc220 \uc138\ubd80\uc0ac\ud56d","specsTitle":"\uc0ac\uc591 \ubc0f \uae30\uc220","spec1":"<strong>\ub514\uc9c0\ud138 \ud2b8\uc708 \ud658\uacbd</strong>\uc5d0\uc11c <strong>\uace0\ud654\uc9c8 \ube44\ub514\uc624 \uc81c\uc791</strong>","spec2":"<strong>\ud604\uc2e4\uc801\uc778 \uad50\ud1b5 \ud589\ub3d9 \ubaa8\ub378\ub9c1</strong> \ubc0f \uc560\ub2c8\uba54\uc774\uc158","spec3":"\ud504\ub808\uc820\ud14c\uc774\uc158\uc6a9 <strong>\uc804\ubb38\uae09 \ub80c\ub354\ub9c1</strong>","spec4":"<strong>\uc815\ucc45 \ud64d\ubcf4 \uc790\ub8cc</strong>\uc640\uc758 \ud1b5\ud569","spec5":"\uacf5\uccad\ud68c \ubc0f <strong>\uc774\ud574\uad00\uacc4\uc790 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158 \ub3c4\uad6c</strong>","researchTitle":"\uc5f0\uad6c \ubc0f \uc751\uc6a9","patentTitle":"\uad00\ub828 \uae30\uc220","patentName":"<strong>\ub514\uc9c0\ud138 \ud2b8\uc708 \uc2dc\uac01\ud654 \ubc0f \ub80c\ub354\ub9c1 \uc2dc\uc2a4\ud15c</strong>","applicationDate":"\ucd9c\uc6d0\uc77c","patentNumber":"\ud2b9\ud5c8\ubc88\ud638","academicTitle":"\uae00\ub85c\ubc8c \uc751\uc6a9","academicInfo":"\uc804 \uc138\uacc4 <strong>\uc8fc\uc694 \ub3c4\uc2dc \ud504\ub85c\uc81d\ud2b8</strong>\uc758 <em>\ud544\uc218 \uacb0\uacfc\ubb3c</em>\ub85c \uac04\uc8fc","disclosureButton":"\uc5f0\uad6c \ubc1c\ud45c \ubcf4\uae30"},"useCases":{"title":"\uc0ac\uc6a9 \uc0ac\ub840","industriesTitle":"\ub300\uc0c1 \uc0b0\uc5c5","industry1":"\ub3c4\uc2dc\uacc4\ud68d\ubd80\uc11c","industry2":"\uc815\ubd80\uae30\uad00","industry3":"\uacf5\uacf5 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158","outcomeTitle":"\uae30\ub300 \ud6a8\uacfc","outcomeDesc":"<strong>\ubab0\uc785\ud615 \uc2dc\uac01\ud654</strong>\ub97c \ud1b5\ud55c <em>\uc774\ud574\uad00\uacc4\uc790 \uc774\ud574\ub3c4 \ud5a5\uc0c1</em> \ubc0f \uacf5\uacf5 \ucc38\uc5ec \uac1c\uc120","scenarioTitle":"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624","scenarioStep1":"<strong>\uc8fc\uc694 \ub3c4\uc2dc \uac1c\ubc1c \ud504\ub85c\uc81d\ud2b8</strong> \uacc4\ud68d \ub2e8\uacc4","scenarioStep2":"<strong>\ub514\uc9c0\ud138 \ud2b8\uc708 \ub370\uc774\ud130</strong>\uc5d0\uc11c <strong>\uace0\ud654\uc9c8 \uc2dc\uac01\ud654 \uc81c\uc791</strong>","scenarioStep3":"<strong>\uacf5\uccad\ud68c \ubc0f \uc815\ucc45 \ud68c\uc758</strong>\uc5d0\uc11c \uc124\ub4dd\ub825 \uc788\ub294 \uc2dc\uac01\uc801 \uc99d\uac70 \uc81c\uc2dc"},"cta":{"title":"\uc2dc\uac01\uc801 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","description":"<strong>\uc2dc\uac01\ud654 \uc194\ub8e8\uc158</strong>\uc774 \uc5b4\ub5bb\uac8c <em>\uacf5\uacf5 \ud504\ub808\uc820\ud14c\uc774\uc158\uacfc \uc774\ud574\uad00\uacc4\uc790 \ucc38\uc5ec</em>\ub97c \uac1c\uc120\ud560 \uc218 \uc788\ub294\uc9c0 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\ub824\uba74 \ubb38\uc758\ud558\uc138\uc694.","button":"\ubb38\uc758\ud558\uae30"}},"lifeSavingRobotSolution":{"hero":{"title":"\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07","subtitle":"<em>\uc13c\uc11c, AI, \uc2e4\uc2dc\uac04 \ud1b5\uc2e0</em> \uae30\ub2a5\uc744 \uac16\ucd98 \ub85c\ubd07\uc73c\ub85c <strong>\ubcf5\uc7a1\ud55c \ud658\uacbd\uc744 \ud0d0\uc0c9</strong>\ud558\uace0 <em>\uc704\ud5d8\uc744 \uc2dd\ubcc4</em>\ud558\uba70 <strong>\ub300\ud53c\ub97c \uc9c0\uc6d0</strong>\ud569\ub2c8\ub2e4."},"overview":{"title":"\uac1c\uc694","demo":"\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07","demoDesc":"<strong>\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07</strong>\uc740 \uc778\uac04\uc758 \uac1c\uc785\uc774 \ub108\ubb34 \uc704\ud5d8\ud558\uac70\ub098 \uc5b4\ub824\uc6b4 <em>\uc704\ud5d8\ud55c \uc0c1\ud669</em>\uc5d0\uc11c \ub3c4\uc6c0\uc744 \uc8fc\ub3c4\ub85d \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc7ac\ub09c, \uc0ac\uace0 \ubc0f \uae30\ud0c0 \uc751\uae09 \uc0c1\ud669\uc5d0\uc11c \uc0dd\uba85\uc744 \uad6c\ud558\uace0 \uad6c\uc870\ub300\ub97c \ubcf4\ud638\ud558\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub418\ub294 <strong>\uc751\uae09 \uad6c\uc870\ub300\uc758 \uc911\uc694\ud55c \ub3c4\uad6c</strong>\uc785\ub2c8\ub2e4.","LSR-1":"\ub85c\ubd07 \uc2dc\ubbac\ub808\uc774\uc158","LSR-1Desc":"\ub85c\ubd07\uc740 <strong>\ubcf5\uc7a1\ud55c \ud658\uacbd\uc744 \ud0d0\uc0c9</strong>\ud558\uace0 \uc704\ud5d8\uc744 \uc2dd\ubcc4\ud558\uba70 <strong>\ub300\ud53c \ud65c\ub3d9\uc744 \uc9c0\uc6d0</strong>\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uad70\uc911 \ud750\ub984\uc744 \uc720\ub3c4\ud558\uac70\ub098 <strong>\ud544\uc218 \ubb3c\ud488\uc744 \uc804\ub2ec</strong>\ud558\uac70\ub098 \uc751\uae09 \uad6c\uc870\ub300\uc5d0\uac8c \uc0c1\ud669 \uc778\uc2dd\uc744 \uc81c\uacf5\ud568\uc73c\ub85c\uc368 \uc774 \ub85c\ubd07\uc740 \uc911\uc694\ud55c \uc21c\uac04\uc5d0 <strong>\uc704\ud5d8\uc744 \uc904\uc774\uace0 \uc0dd\uba85\uc744 \uad6c\ud558\ub294</strong> \ub370 \uc911\uc694\ud55c \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4.","playVideo":"\ube44\ub514\uc624 \uc7ac\uc0dd"},"technical":{"title":"\uae30\uc220 \uc138\ubd80\uc0ac\ud56d","specsTitle":"\uc0ac\uc591 \ubc0f \uae30\uc220","spec1":"<strong>\uc13c\uc11c \ubc0f \ud658\uacbd \uc778\uc2dd</strong>","spec2":"<strong>\ud56d\ubc95 \ubc0f \uc81c\uc5b4</strong>","spec3":"<strong>\ucd94\uc9c4\ub825 \ubc0f \uc100\uc2dc</strong>","spec4":"<em>\uc778\uacf5\uc9c0\ub2a5(AI) \ubc0f \ub85c\ubd07\uacf5\ud559</em>","spec5":"<strong>\ud1b5\uc2e0</strong>","researchTitle":"\uc5f0\uad6c \ubc0f \uac1c\ubc1c","patentTitle":"\uad00\ub828 \ud2b9\ud5c8","patentName":"<strong>\ub300\ud53c \ub85c\ubd07 \uc548\ub0b4 \uc2dc\uc2a4\ud15c</strong>","applicationDate":"\ucd9c\uc6d0\uc77c","patentNumber":"\ud2b9\ud5c8\ubc88\ud638","academicTitle":"\uad50\uc721 \uc751\uc6a9","academicInfo":"<em>\uc548\uc804\ud55c \uc124\uacc4 \uac80\uc99d</em>\uc744 \uc704\ud55c \uad50\uc721 \ud504\ub85c\uadf8\ub7a8\uc5d0 \uc0ac\uc6a9","disclosureButton":"\uc5f0\uad6c \ubc1c\ud45c \ubcf4\uae30"},"useCases":{"title":"\uc0ac\uc6a9 \uc0ac\ub840","industriesTitle":"\ub300\uc0c1 \uc0b0\uc5c5","industry1":"\uac74\ubb3c \uc124\uacc4 \ud68c\uc0ac","industry2":"\uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1","industry3":"\uad50\uc721 \uae30\uad00","outcomeTitle":"\uae30\ub300 \ud6a8\uacfc","outcomeDesc":"\uac74\uc124 \uc804 <strong>\uc124\uacc4 \uc815\ud655\ub3c4 \ubc0f \uc548\uc804\uc131 \uac80\uc99d</strong> \ud5a5\uc0c1\uc73c\ub85c \ube44\uc6a9\uc774 \ub9ce\uc774 \ub4dc\ub294 \uc218\uc815 \uc791\uc5c5 \uac10\uc18c","scenarioTitle":"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624","scenarioStep1":"<strong>\ubcf5\uc7a1\ud55c \uac74\ubb3c \uc124\uacc4 \ud504\ub85c\uc81d\ud2b8</strong>","scenarioStep2":"<strong>BIM</strong>\uc744 <em>3D \ud658\uacbd</em>\uc73c\ub85c \uac00\uc838\uc624\uae30","scenarioStep3":"\ub85c\ubd07 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \ud1b5\ud55c <em>\uc548\uc804 \uce21\uba74</em> \ubc0f \uc0ac\uc6a9\uc790 \uacbd\ud5d8 \uac80\uc99d"},"cta":{"title":"\uac74\ubb3c \uc124\uacc4 \ud504\ub85c\uc138\uc2a4\ub97c \ud601\uc2e0\ud560 \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","description":"<strong>\uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07 \uc194\ub8e8\uc158</strong>\uc774 \uc5b4\ub5bb\uac8c <em>\uc124\uacc4 \uac80\uc99d\uacfc \uc548\uc804\uc131 \ud655\uc778 \ud504\ub85c\uc138\uc2a4</em>\ub97c \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub294\uc9c0 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\ub824\uba74 \ubb38\uc758\ud558\uc138\uc694.","button":"\ubb38\uc758\ud558\uae30"}}},"projects":{"heroTitle":"\uc6b0\ub9ac\uc758 \ud504\ub85c\uc81d\ud2b8","heroSubtitle":"\ud601\uc2e0\uc801\uc778 \ubaa8\ube4c\ub9ac\ud2f0 \ubc0f \uc2a4\ub9c8\ud2b8 \uc2dc\ud2f0 \ud504\ub85c\uc81d\ud2b8 \ud3ec\ud2b8\ud3f4\ub9ac\uc624\ub97c \uc0b4\ud3b4\ubcf4\uc138\uc694.","status":{"ongoing":"\uc9c4\ud589 \uc911"},"items":{"naepo":{"title":"\ub0b4\ud3ec\uc2e0\ub3c4\uc2dc \ub514\uc9c0\ud138 \ud2b8\uc708","date":"2025\ub144-\ud604\uc7ac","explanation":"\ub3c4\ucc29\uc740 <em>\ub514\uc9c0\ud138 \ud2b8\uc708\uacfc \uc2dc\ubbac\ub808\uc774\uc158</em>\uc744 \ud65c\uc6a9\ud55c \uad50\ud1b5 \uc194\ub8e8\uc158\uc73c\ub85c \ucda9\ub0a8\uc758 <strong>\uc9c0\uc5ed \ubaa8\ube4c\ub9ac\ud2f0 \ud601\uc2e0 \ub9ac\ub354</strong>\ub85c \uc790\ub9ac\ub9e4\uae40\ud560 \uac83\uc785\ub2c8\ub2e4.","detailedDescription":"\ub0b4\ud3ec\uc2e0\ub3c4\uc2dc\ub97c \uc704\ud55c <strong>\ud55c\uad6d \ucd5c\ucd08\uc758 \uad50\ud1b5 \uc911\uc2ec \ub514\uc9c0\ud138 \ud2b8\uc708</strong>\uc744 \uac1c\ubc1c\ud558\uc5ec <em>\ucca8\ub2e8 \ubaa8\ube4c\ub9ac\ud2f0 \uacc4\ud68d \ubc0f \uc6b4\uc601</em>\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4. <strong>\uc2e4\uc2dc\uac04 \ub370\uc774\ud130 \uc218\uc9d1</strong>, <em>AI \uae30\ubc18 \uc608\uce21 \ubaa8\ub378\ub9c1</em>, \uadf8\ub9ac\uace0 <strong>3D \uc2dc\uac01\ud654</strong>\ub97c \ud1b5\ud574 \ub3c4\uc2dc \uacc4\ud68d\uc790\uc640 \uc6b4\uc601\uc790\uac00 \ub354 \ub098\uc740 \uc758\uc0ac\uacb0\uc815\uc744 \ud560 \uc218 \uc788\ub3c4\ub85d \uc9c0\uc6d0\ud569\ub2c8\ub2e4. \uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ub3c4\uc2dc\uc758 <em>\uc9c0\uc18d\uac00\ub2a5\ud55c \ubc1c\uc804</em>\uacfc <strong>\uc2a4\ub9c8\ud2b8 \ubaa8\ube4c\ub9ac\ud2f0 \uc0dd\ud0dc\uacc4</strong> \uad6c\ucd95\uc758 \ud575\uc2ec \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4.","keyFeatures":["<strong>\uc2e4\uc2dc\uac04</strong> \uad50\ud1b5 \ub370\uc774\ud130 \ubd84\uc11d","<em>AI \uae30\ubc18</em> \uad50\ud1b5 \ud750\ub984 \uc608\uce21","<strong>3D \ub514\uc9c0\ud138 \ud2b8\uc708</strong> \uc2dc\uac01\ud654","\ud1b5\ud569 <em>\uad50\ud1b5 \uad00\ub9ac \uc2dc\uc2a4\ud15c</em>","<strong>\uc2a4\ub9c8\ud2b8 \uc2e0\ud638\ub4f1</strong> \ucd5c\uc801\ud654","\ub300\uc911\uad50\ud1b5 <em>\uacbd\ub85c \ucd5c\uc801\ud654</em>"],"impact":"\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ub0b4\ud3ec\uc2e0\ub3c4\uc2dc\uc758 <strong>\uad50\ud1b5 \ud6a8\uc728\uc131\uc744 30% \ud5a5\uc0c1</strong>\uc2dc\ud0a4\uace0, <em>\ud0c4\uc18c \ubc30\ucd9c\ub7c9\uc744 25% \uac10\uc18c</em>\uc2dc\ud0a4\uba70, <strong>\uc2dc\ubbfc\ub4e4\uc758 \uc774\ub3d9 \uc2dc\uac04\uc744 \ud3c9\uade0 20% \ub2e8\ucd95</strong>\uc2dc\ud0ac \uac83\uc73c\ub85c \uc608\uc0c1\ub429\ub2c8\ub2e4. \ub610\ud55c <em>\uc9c0\uc5ed \uacbd\uc81c \ud65c\uc131\ud654</em>\uc640 <strong>\uc77c\uc790\ub9ac \ucc3d\ucd9c</strong>\uc5d0\ub3c4 \uae30\uc5ec\ud560 \uac83\uc785\ub2c8\ub2e4.","impactStats":[{"number":"30%","text":"<strong>\uc9c0\ub2a5\ud615 \uc2a4\ub9c8\ud2b8 \uc2e0\ud638 \ucd5c\uc801\ud654 \uc2dc\uc2a4\ud15c</strong>\uc744 \ud1b5\ud55c \ub3c4\uc2dc <em>\uad50\ud1b5 \ud6a8\uc728\uc131 \ud68d\uae30\uc801 \uac1c\uc120</em>"},{"number":"25%","text":"<strong>\uce5c\ud658\uacbd \uad50\ud1b5 \uc2dc\uc2a4\ud15c</strong> \uad6c\ucd95\uc73c\ub85c \ucc28\ub7c9 <em>\ubc30\ucd9c\uac00\uc2a4 \ubc0f \ud658\uacbd \uc601\ud5a5 \ub300\ud3ed \uac10\uc18c</em>"},{"number":"20%","text":"<strong>\ucd5c\uc801\ud654\ub41c \uad50\ud1b5 \ud750\ub984</strong>\uc73c\ub85c \uc9c0\uc5ed \uc8fc\ubbfc\ub4e4\uc758 <em>\ud3c9\uade0 \uc77c\uc77c \ud1b5\uadfc \uc2dc\uac04 \ub300\ud3ed \ub2e8\ucd95</em>"}],"videoTitle":"\ub0b4\ud3ec\uc2e0\ub3c4\uc2dc \ub514\uc9c0\ud138 \ud2b8\uc708 \uc2dc\uc5f0","videoDescription":"<strong>\ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220</strong>\uc744 \ud65c\uc6a9\ud55c <em>\uc2e4\uc2dc\uac04 \uad50\ud1b5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc608\uce21 \uc2dc\uc2a4\ud15c</em>\uc758 \uc2dc\uc5f0 \uc601\uc0c1\uc785\ub2c8\ub2e4."},"teleDriving":{"title":"\ub300\uc804-\uc81c\uc8fc\uac04 \uc6d0\uaca9\uc8fc\ud589","date":"2025\ub144-\ud604\uc7ac","explanation":"\uc790\uc728\uc8fc\ud589\ucc28\uac00 \ubb38\uc81c\uc5d0 \uc9c1\uba74\ud588\uc744 \ub54c <strong>\uc6d0\uaca9 \uc6b4\uc804\uc790 \uac1c\uc785</strong>\uc744 \uc81c\uacf5\ud558\uc5ec <em>\uc790\uc728 \uc2dc\uc2a4\ud15c\uc758 \ud55c\uacc4</em>\ub97c \ud574\uacb0\ud569\ub2c8\ub2e4.","detailedDescription":"\ub300\uc804\uacfc \uc81c\uc8fc \uac04 <em>500km \uac70\ub9ac</em>\uc5d0\uc11c \uc790\uc728\uc8fc\ud589\ucc28\uc758 <strong>\uc6d0\uaca9 \uc6b4\uc804 \uae30\uc220</strong>\uc744 \uac1c\ubc1c\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. <em>5G \ub124\ud2b8\uc6cc\ud06c</em>\ub97c \ud65c\uc6a9\ud55c <strong>\ucd08\uc800\uc9c0\uc5f0 \ud1b5\uc2e0</strong>\uc73c\ub85c \uc6d0\uaca9 \uc6b4\uc804\uc790\uac00 <strong>\uc2e4\uc2dc\uac04</strong>\uc73c\ub85c \ucc28\ub7c9\uc744 \uc81c\uc5b4\ud560 \uc218 \uc788\uc73c\uba70, \uc790\uc728\uc8fc\ud589 \uc2dc\uc2a4\ud15c\uc774 \ucc98\ub9ac\ud560 \uc218 \uc5c6\ub294 \uc0c1\ud669\uc5d0\uc11c <em>\uc548\uc804\ud55c \uac1c\uc785</em>\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc774 \uae30\uc220\uc740 <strong>\ubaa8\ube4c\ub9ac\ud2f0 \uc11c\ube44\uc2a4</strong>, <em>\ubb3c\ub958</em>, <strong>\uad6d\ubc29 \ubd84\uc57c</strong>\uc5d0\uc11c \uad11\ubc94\uc704\ud558\uac8c \uc801\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","keyFeatures":["<strong>5G \uae30\ubc18</strong> \ucd08\uc800\uc9c0\uc5f0 \uc81c\uc5b4","<em>\uc2e4\uc2dc\uac04</em> \ube44\ub514\uc624 \uc2a4\ud2b8\ub9ac\ubc0d","\uc548\uc804\ud55c <strong>\uc6d0\uaca9 \uac1c\uc785 \uc2dc\uc2a4\ud15c</strong>","\ub2e4\uc911 <em>\uc13c\uc11c \ub370\uc774\ud130 \ud1b5\ud569</em>","<strong>\uae34\uae09 \uc0c1\ud669 \ub300\uc751</strong> \uc54c\uace0\ub9ac\uc998","\ud06c\ub85c\uc2a4 \ud50c\ub7ab\ud3fc <em>\ud638\ud658\uc131</em>"],"impact":"<strong>\uc6d0\uaca9\uc8fc\ud589 \uae30\uc220</strong>\uc740 \uc790\uc728\uc8fc\ud589\ucc28\uc758 <em>\uc548\uc804\uc131\uc744 \ud06c\uac8c \ud5a5\uc0c1</em>\uc2dc\ud0a4\uace0, <strong>\uc6b4\uc804\uc790 \ubd80\uc871 \ubb38\uc81c\ub97c \ud574\uacb0</strong>\ud558\uba70, <em>\uc0c8\ub85c\uc6b4 \ubaa8\ube4c\ub9ac\ud2f0 \uc11c\ube44\uc2a4 \ubaa8\ub378</em>\uc744 \ucc3d\ucd9c\ud560 \uac83\uc785\ub2c8\ub2e4. \ud2b9\ud788 <strong>\uc7a5\uac70\ub9ac \uc6b4\uc1a1</strong>\uacfc <em>\ud2b9\uc218 \ud658\uacbd\uc5d0\uc11c\uc758 \uc6b4\uc804</em>\uc5d0 \ud601\uc2e0\uc744 \uac00\uc838\uc62c \uac83\uc785\ub2c8\ub2e4.","impactStats":[{"number":"30%","text":"<strong>\ucca8\ub2e8 5G \uae30\uc220 \uae30\ubc18</strong> \ud5a5\uc0c1\ub41c <em>\uc548\uc804 \ud504\ub85c\ud1a0\ucf5c \ubc0f \uc885\ud569\uc801 \uc704\ud5d8 \uad00\ub9ac \uc2dc\uc2a4\ud15c</em> \uad6c\ucd95"},{"number":"25%","text":"<strong>\ucd08\uc815\ubc00 \uc6d0\uaca9 \ucc28\ub7c9 \uc81c\uc5b4 \uae30\uc220</strong>\uc744 \ud1b5\ud55c <em>\uc6b4\uc601 \ube44\uc6a9 \ubc0f \uc778\ub825 \uc808\uac10 \ud6a8\uacfc</em>"},{"number":"20%","text":"<strong>\uc2e4\uc2dc\uac04 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c</strong>\uc73c\ub85c \uae34\uae09 \uc0c1\ud669 \ubc1c\uc0dd \uc2dc <em>\uc2e0\uc18d\ud55c \ub300\uc751 \uc2dc\uac04 \ub2e8\ucd95</em>"}],"videoTitle":"\uc6d0\uaca9\uc8fc\ud589 \uae30\uc220 \uc2dc\uc5f0","videoDescription":"<strong>\ub300\uc804-\uc81c\uc8fc \uac04 \uc6d0\uaca9\uc8fc\ud589 \uc2dc\uc2a4\ud15c</strong>\uc758 \uc2e4\uc81c \uc6b4\uc601 \uc2dc\uc5f0 \uc601\uc0c1\uc785\ub2c8\ub2e4."},"publicTransport":{"title":"\ub300\uc804 3\ub7c9 \ub300\uc911\uad50\ud1b5 \uc6b4\uc601","date":"2025\ub144-\ud604\uc7ac","explanation":"<strong>\ub300\uc804\uc2dc\uc758 \ub300\uc911\uad50\ud1b5 \uc2dc\uc2a4\ud15c</strong>\uc744 \ud601\uc2e0\ud558\uc5ec <em>3\ub7c9 \uc5f0\uacb0 \uc804\ub3d9\ucc28 \uc6b4\uc601</em>\uc744 \ud1b5\ud574 <strong>\uad50\ud1b5 \ud6a8\uc728\uc131\uc744 \uadf9\ub300\ud654</strong>\ud569\ub2c8\ub2e4.","detailedDescription":"<strong>\ub300\uc804\uc2dc\uc758 \uae30\uc874 \ub300\uc911\uad50\ud1b5 \uc2dc\uc2a4\ud15c</strong>\uc744 \ud601\uc2e0\ud558\uc5ec <em>3\ub7c9 \uc5f0\uacb0 \uc804\ub3d9\ucc28 \uc6b4\uc601 \uc2dc\uc2a4\ud15c</em>\uc744 \uad6c\ucd95\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc2dc\uc2a4\ud15c\uc740 <strong>\uc2b9\uac1d \uc218\uc694\uc5d0 \ub530\ub978 \uc720\uc5f0\ud55c \ucc28\ub7c9 \ubc30\uce58</strong>, <em>\uc2e4\uc2dc\uac04 \uc2b9\uac1d \uc815\ubcf4 \uc81c\uacf5</em>, \uadf8\ub9ac\uace0 <strong>\uc2a4\ub9c8\ud2b8 \uc2e0\ud638 \uc2dc\uc2a4\ud15c\uacfc\uc758 \uc5f0\ub3d9</strong>\uc744 \ud1b5\ud574 \ub300\uc911\uad50\ud1b5\uc758 <em>\ud6a8\uc728\uc131\uacfc \ud3b8\uc758\uc131\uc744 \ud06c\uac8c \ud5a5\uc0c1</em>\uc2dc\ud0b5\ub2c8\ub2e4. \ub610\ud55c <strong>\uc5d0\ub108\uc9c0 \ud6a8\uc728\uc801\uc778 \uc6b4\uc601</strong>\uc73c\ub85c <em>\ud658\uacbd \uce5c\ud654\uc801\uc778 \uad50\ud1b5 \uc2dc\uc2a4\ud15c</em>\uc744 \uad6c\ud604\ud569\ub2c8\ub2e4.","keyFeatures":["<strong>3\ub7c9 \uc5f0\uacb0</strong> \uc804\ub3d9\ucc28 \uc6b4\uc601","<em>\uc2e4\uc2dc\uac04</em> \uc2b9\uac1d \uc815\ubcf4 \uc2dc\uc2a4\ud15c","<strong>\uc2a4\ub9c8\ud2b8 \uc2e0\ud638</strong> \uc5f0\ub3d9","\uc5d0\ub108\uc9c0 \ud6a8\uc728\uc801 <em>\uc6b4\uc601</em>","<strong>\uc2b9\uac1d \uc218\uc694 \uae30\ubc18</strong> \ucc28\ub7c9 \ubc30\uce58","\ubaa8\ubc14\uc77c \uc571 <em>\uc5f0\ub3d9 \uc11c\ube44\uc2a4</em>"],"impact":"<strong>3\ub7c9 \ub300\uc911\uad50\ud1b5 \uc2dc\uc2a4\ud15c</strong>\uc740 \ub300\uc804\uc2dc\uc758 <em>\ub300\uc911\uad50\ud1b5 \uc774\uc6a9\ub960\uc744 40% \ud5a5\uc0c1</em>\uc2dc\ud0a4\uace0, <strong>\ub300\uae30 \uc2dc\uac04\uc744 50% \ub2e8\ucd95</strong>\uc2dc\ud0a4\uba70, <em>\uad50\ud1b5 \ud63c\uc7a1\ub3c4\ub97c 30% \uac10\uc18c</em>\uc2dc\ud0ac \uac83\uc73c\ub85c \uc608\uc0c1\ub429\ub2c8\ub2e4. \ub610\ud55c <strong>\ud0c4\uc18c \ubc30\ucd9c\ub7c9 \uac10\uc18c</strong>\ub85c <em>\ud658\uacbd \ubcf4\ud638</em>\uc5d0\ub3c4 \uae30\uc5ec\ud569\ub2c8\ub2e4.","impactStats":[{"number":"40%","text":"<strong>AI \uae30\ubc18 \ubd84\uc11d</strong>\uc744 \ud1b5\ud55c <em>\ub300\uc911\uad50\ud1b5 \ub178\uc120 \ucd5c\uc801\ud654 \ubc0f \ud6a8\uc728\uc131 \ub300\ud3ed \ud5a5\uc0c1</em>"},{"number":"50%","text":"<strong>\uc2e4\uc2dc\uac04 \uc815\ubcf4 \uc2dc\uc2a4\ud15c</strong>\uc73c\ub85c <em>\uc2b9\uac1d \ub9cc\uc871\ub3c4 \ubc0f \uc11c\ube44\uc2a4 \uc2e0\ub8b0\uc131 \ud06c\uac8c \uc99d\ub300</em>"},{"number":"30%","text":"<strong>\uce5c\ud658\uacbd \uc804\uae30 3\ub7c9 \uc2dc\uc2a4\ud15c</strong>\uc744 \ud1b5\ud55c <em>\uc5f0\ub8cc \uc18c\ube44 \ubc0f \uc6b4\uc601 \ube44\uc6a9 \ub300\ud3ed \uc808\uac10</em>"}],"videoTitle":"3\ub7c9 \ub300\uc911\uad50\ud1b5 \uc6b4\uc601 \uc2dc\uc5f0","videoDescription":"<strong>\ub300\uc804\uc2dc 3\ub7c9 \uc5f0\uacb0 \uc804\ub3d9\ucc28 \uc6b4\uc601 \uc2dc\uc2a4\ud15c</strong>\uc758 \uc2e4\uc81c \uc6b4\ud589 \uc601\uc0c1\uc785\ub2c8\ub2e4."},"airportParking":{"title":"\uc778\ucc9c\uacf5\ud56d \uc8fc\ucc28\uc7a5 \uac1c\uc120","date":"2025\ub144-\ud604\uc7ac","explanation":"<strong>\uc778\ucc9c\uacf5\ud56d\uc758 \uc8fc\ucc28 \uc2dc\uc2a4\ud15c</strong>\uc744 <em>\uc2a4\ub9c8\ud2b8 \uae30\uc220</em>\ub85c \uac1c\uc120\ud558\uc5ec <strong>\uc774\uc6a9\uac1d\uc758 \ud3b8\uc758\uc131\uc744 \uadf9\ub300\ud654</strong>\ud569\ub2c8\ub2e4.","detailedDescription":"<strong>\uc778\ucc9c\uacf5\ud56d\uc758 \uc8fc\ucc28 \uc2dc\uc2a4\ud15c</strong>\uc744 <em>IoT \uc13c\uc11c</em>, <strong>AI \uae30\ubc18 \uc608\uce21</strong>, \uadf8\ub9ac\uace0 <em>\ubaa8\ubc14\uc77c \uc571</em>\uc744 \ud1b5\ud569\ud558\uc5ec <strong>\uc2a4\ub9c8\ud2b8 \uc8fc\ucc28 \uc194\ub8e8\uc158</strong>\uc73c\ub85c \uac1c\uc120\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. <em>\uc2e4\uc2dc\uac04 \uc8fc\ucc28 \uacf5\uac04 \uc548\ub0b4</em>, <strong>\uc608\uc57d \uc2dc\uc2a4\ud15c</strong>, <em>\uc790\ub3d9 \uacb0\uc81c \uae30\ub2a5</em>\uc744 \ud1b5\ud574 \uc774\uc6a9\uac1d\uc758 \uc8fc\ucc28 \uacbd\ud5d8\uc744 \ud601\uc2e0\uc801\uc73c\ub85c \uac1c\uc120\ud569\ub2c8\ub2e4. \ub610\ud55c <strong>\uc8fc\ucc28\uc7a5 \uc6b4\uc601 \ud6a8\uc728\uc131</strong>\uc744 \ub192\uc774\uace0 <em>\uad00\ub9ac \ube44\uc6a9</em>\uc744 \uc808\uac10\ud569\ub2c8\ub2e4.","keyFeatures":["<strong>\uc2e4\uc2dc\uac04</strong> \uc8fc\ucc28 \uacf5\uac04 \uc548\ub0b4","<em>\uc2a4\ub9c8\ud2b8 \uc608\uc57d</em> \uc2dc\uc2a4\ud15c","<strong>\uc790\ub3d9 \uacb0\uc81c</strong> \ubc0f \uc815\uc0b0","IoT \uc13c\uc11c \uae30\ubc18 <em>\ubaa8\ub2c8\ud130\ub9c1</em>","<strong>AI \uae30\ubc18 \uc8fc\ucc28 \uc218\uc694</strong> \uc608\uce21","\ubaa8\ubc14\uc77c \uc571 <em>\uc5f0\ub3d9 \uc11c\ube44\uc2a4</em>"],"impact":"<strong>\uc2a4\ub9c8\ud2b8 \uc8fc\ucc28 \uc2dc\uc2a4\ud15c</strong>\uc740 <em>\uc8fc\ucc28\uc7a5 \uc774\uc6a9\ub960\uc744 60% \ud5a5\uc0c1</em>\uc2dc\ud0a4\uace0, <strong>\uc8fc\ucc28 \uc2dc\uac04\uc744 \ud3c9\uade0 70% \ub2e8\ucd95</strong>\uc2dc\ud0a4\uba70, <em>\uc774\uc6a9\uac1d \ub9cc\uc871\ub3c4\ub97c \ud06c\uac8c \ud5a5\uc0c1</em>\uc2dc\ud0ac \uac83\uc785\ub2c8\ub2e4. \ub610\ud55c <strong>\uc8fc\ucc28\uc7a5 \uc6b4\uc601 \ube44\uc6a9\uc744 40% \uc808\uac10</strong>\ud560 \uac83\uc73c\ub85c \uc608\uc0c1\ub429\ub2c8\ub2e4.","impactStats":[{"number":"60%","text":"<strong>IoT \uc2a4\ub9c8\ud2b8 \uc13c\uc11c \uae30\uc220</strong>\uc744 \ud1b5\ud55c <em>\uc2e4\uc2dc\uac04 \uc8fc\ucc28 \uacf5\uac04 \ud30c\uc545 \ubc0f \ucd5c\uc801 \ubc30\uc815</em>"},{"number":"70%","text":"<strong>\ubaa8\ubc14\uc77c \uc571 \uc5f0\ub3d9 \uc2e4\uc2dc\uac04 \uc5c5\ub370\uc774\ud2b8</strong>\ub85c <em>\ud5a5\uc0c1\ub41c \uc0ac\uc6a9\uc790 \uacbd\ud5d8\uacfc \ud3b8\uc758\uc131</em>"},{"number":"40%","text":"<strong>\uc9c0\ub2a5\ud615 \uc8fc\ucc28 \uc2dc\uc2a4\ud15c</strong>\uc73c\ub85c <em>\uc778\ucc9c\uacf5\ud56d \uc2dc\uc124 \uc8fc\ubcc0 \uad50\ud1b5 \ud63c\uc7a1 \ub300\ud3ed \uac10\uc18c</em>"}],"videoTitle":"\uc2a4\ub9c8\ud2b8 \uc8fc\ucc28 \uc2dc\uc2a4\ud15c \uc2dc\uc5f0","videoDescription":"<strong>\uc778\ucc9c\uacf5\ud56d \uc2a4\ub9c8\ud2b8 \uc8fc\ucc28 \uc2dc\uc2a4\ud15c</strong>\uc758 \uc2e4\uc81c \uc6b4\uc601 \uc2dc\uc5f0 \uc601\uc0c1\uc785\ub2c8\ub2e4."}},"media":{"videoTitle":"\ud504\ub85c\uc81d\ud2b8 \uc601\uc0c1","galleryTitle":"\ud504\ub85c\uc81d\ud2b8 \uac24\ub7ec\ub9ac"},"content":{"overviewTitle":"\ud504\ub85c\uc81d\ud2b8 \uac1c\uc694","featuresTitle":"\uc8fc\uc694 \uae30\ub2a5","impactTitle":"\uae30\ub300 \ud6a8\uacfc","technologiesTitle":"\uc0ac\uc6a9 \uae30\uc220","getInTouchTitle":"\uc790\uc138\ud788 \uc54c\uc544\ubcf4\uae30","getInTouchDescription":"\uc774 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub300\ud574 \ub354 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\uac70\ub098 \ud30c\ud2b8\ub108\uc2ed \uae30\ud68c\ub97c \ubaa8\uc0c9\ud558\uace0 \uc2f6\uc73c\uc2dc\ub2e4\uba74 \uc5b8\uc81c\ub4e0 \uc5f0\ub77d\ud574 \uc8fc\uc138\uc694.","contactUs":"\ubb38\uc758\ud558\uae30"},"carousel":{"prevImage":"\uc774\uc804 \uc774\ubbf8\uc9c0","nextImage":"\ub2e4\uc74c \uc774\ubbf8\uc9c0"},"navigation":{"tabsLabel":"\ud504\ub85c\uc81d\ud2b8 \ud0ed \ub124\ube44\uac8c\uc774\uc158","scrollHint":"\ub354 \ub9ce\uc740 \ud0ed\uc744 \ubcf4\ub824\uba74 \uc2a4\ud06c\ub864\ud558\uc138\uc694"}},"team":{"heroTitle":"\uc6b0\ub9ac \ud300\uc744 \ub9cc\ub098\ubcf4\uc138\uc694","heroSubtitle":"\uad50\ud1b5 \uae30\uc220 \ud601\uc2e0\uc744 \uc704\ud574 \ud568\uaed8 \uc77c\ud558\ub294 \uc7ac\ub2a5 \uc788\ub294 \uc5f0\uad6c\uc6d0\uacfc \uc5d4\uc9c0\ub2c8\uc5b4\ub4e4","sectionTitle":"\ud300 \uad6c\uc131\uc6d0","sort":{"byTitle":"\uc9c1\ucc45\uc21c","byName":"\uc774\ub984\uc21c"},"ceo":{"name":"\uae40\uc778\ud76c","title":"\ub300\ud45c\uc774\uc0ac & \ucc3d\ub9bd\uc790","bio":"AI\uc640 \uc790\uc728 \uc2dc\uc2a4\ud15c \ubd84\uc57c\uc5d0\uc11c 15\ub144 \uc774\uc0c1\uc758 \uacbd\ud5d8\uc744 \ubc14\ud0d5\uc73c\ub85c \uad50\ud1b5 \uc2dc\uc2a4\ud15c\uacfc \ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\ub97c \uc774\ub04c\uace0 \uc788\uc2b5\ub2c8\ub2e4."},"members":{"tkkim":{"name":"\uae40\ud0dc\uade0","title":"\uc804\ubb34\uae30\uc220\uace0\ubb38","bio":"\uba40\ud2f0\ubaa8\ub2ec \uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub378\ub9c1, \uad50\ud1b5 \uacc4\ud68d, \uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c \ud3c9\uac00, \uc2e0\ud638 \ucd5c\uc801\ud654","email":"tkkim.aus@kaist.ac.kr"},"bowang":{"name":"\uc655\ubcf4 \ubc15\uc0ac","title":"\uae30\uc220\uace0\ubb38","bio":"\ucca8\ub2e8 \uad50\ud1b5 \ubd84\uc11d \ubc0f AI \uae30\ubc18 \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc744 \uc804\ubb38\uc73c\ub85c \ud558\ub294 \uae30\uc220\uace0\ubb38\uc785\ub2c8\ub2e4.","email":"resulycheng@gmail.com","image":"BoWang.png"},"reuben":{"name":"\ub974\uc6b0\ubca4 \ud0c0\ub9c8\ud074\ub85c\uc5d0 \ubc15\uc0ac","title":"\ucc45\uc784\uc5f0\uad6c\uc6d0","bio":"\uc804\ubc18\uc801\uc778 \uc6b4\uc601\uc744 \uad00\ub9ac\ud558\uc5ec \ud504\ub85c\uc81d\ud2b8\uc640 \uc5f0\uad6c \uc2e4\ud589\uc774 \ubaa9\ud45c\uc640 \uc77c\uce58\ud558\ub3c4\ub85d \ubcf4\uc7a5\ud569\ub2c8\ub2e4."},"gyounghoon":{"name":"\ucc9c\uacbd\ud6c8 \ubc15\uc0ac","title":"\ucc45\uc784\uc5f0\uad6c\uc6d0","bio":"\ub9c8\uc774\ud06c\ub85c\uc2dc\ubbac\ub808\uc774\uc158\uacfc mos \ud504\ub85c\uc81d\ud2b8\ub97c \uad00\ub9ac\ud558\uace0 \uc5f0\uad6c \uc2e4\ud589\uc774 \ubaa9\ud45c\uc640 \uc77c\uce58\ud558\ub3c4\ub85d \ubcf4\uc7a5\ud569\ub2c8\ub2e4."},"taeho":{"name":"\uc624\ud0dc\ud638 \ubc15\uc0ac","title":"\ucc45\uc784\uc5f0\uad6c\uc6d0","bio":"\ub514\uc9c0\ud138 \ud2b8\uc708 \ud504\ub85c\uc81d\ud2b8\uc640 \uac00\uc0c1 \ud658\uacbd \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uad00\ub9ac\ud569\ub2c8\ub2e4."},"tengfeng":{"name":"\ub9b0 \ud161\ud391","title":"\uc5f0\uad6c\uc6d0","bio":"\uc774\ubbf8\uc9c0 \ucc98\ub9ac \uc5c5\ubb34\ub97c \uc8fc\ub3c4\ud569\ub2c8\ub2e4."},"younghi":{"name":"\ub9ac\uc6b0 \uc601\ud76c","title":"\uc5f0\uad6c\uc6d0","bio":"\ub370\uc774\ud130 \uc0ac\uc774\uc5b8\uc2a4 \uc774\ub2c8\uc154\ud2f0\ube0c\ub97c \uc8fc\ub3c4\ud569\ub2c8\ub2e4."},"kaihan":{"name":"\uc7a5 \uce74\uc774\ud55c","title":"\uc5f0\uad6c\uc6d0","bio":"\ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\ub97c \uc8fc\ub3c4\ud569\ub2c8\ub2e4."},"mahdi":{"name":"\ub9c8\ud750\ub514 \ucf54\ub77c\uc0ac\ub2c8","title":"\uc5f0\uad6c\uc6d0","bio":"3D \uac00\uc0c1 \ud658\uacbd \uac1c\ubc1c\uc744 \uc8fc\ub3c4\ud569\ub2c8\ub2e4."},"hui":{"name":"\uc751 \ud6c4\uc774 \uc9c0","title":"\uc5f0\uad6c\uc6d0","bio":"\ub300\uaddc\ubaa8 \ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c\uc758 EV \uc6b4\uc601\uc744 \uc8fc\ub3c4\ud569\ub2c8\ub2e4."},"kervin":{"name":"\ucee4\ube48 \ub8e8\uce74\uc2a4","title":"\uc5f0\uad6c\uc6d0","bio":"Visum, Emme, Cube\ub97c \ud3ec\ud568\ud55c \uac70\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uc8fc\ub3c4\ud569\ub2c8\ub2e4."},"hyuncheol":{"name":"\ubc15\ud604\ucca0","title":"\uc5f0\uad6c\uc6d0","bio":"\uba40\ud2f0\ubaa8\ub2ec \ub4dc\ub77c\uc774\ube59 \uc2dc\ubbac\ub808\uc774\ud130."},"jaehyuk":{"name":"\uc784\uc7ac\ud601","title":"\uc5f0\uad6c\uc6d0","bio":"\uc2e4\uc6a9\uc801\uc778 \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \uac80\uc99d\uc744 \uc704\ud55c \uc2e4\ud5d8 \uc2dc\ub098\ub9ac\uc624\ub97c \uc124\uacc4\ud569\ub2c8\ub2e4."},"heeyeon":{"name":"\uac15\ud76c\uc5f0","title":"\uc5f0\uad6c\uc6d0","bio":"\ud300\uc6cc\ud06c\ub97c \ud1b5\ud574 \ud504\ub85c\uc81d\ud2b8 \ud611\uc5c5\uacfc \uc5f0\uad6c \uac1c\ubc1c\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4."}}},"getInTouch":{"badge":"\uc5f0\ub77d\ud558\uae30","heroTitle":"\uc5f0\ub77d\ud558\uae30","heroSubtitle":"\ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc744 \ud601\uc2e0\ud560 \uc900\ube44\uac00 \ub418\uc168\ub098\uc694? \uc5ec\ub7ec\ubd84\uc758 \uc758\uacac\uc744 \ub4e3\uace0 \uc2f6\uc2b5\ub2c8\ub2e4. \uc9c8\ubb38\uc774 \uc788\uc73c\uc2dc\uac70\ub098, \ud30c\ud2b8\ub108\uc2ed \uc544\uc774\ub514\uc5b4\ub97c \uac00\uc9c0\uace0 \uacc4\uc2dc\uac70\ub098, \uc804\ubb38\uac00 \uc0c1\ub2f4\uc774 \ud544\uc694\ud558\uc2dc\ub2e4\uba74, \uc800\ud76c \ud300\uc774 \ub3c4\uc640\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.","contactInfo":{"title":"\ub300\ud654\ub97c \uc2dc\uc791\ud574\ubcf4\uc138\uc694","location":{"title":"\uc0ac\ubb34\uc2e4 \ubc29\ubb38","address":"\ub300\ud55c\ubbfc\uad6d \ub300\uc804\uad11\uc5ed\uc2dc \uc720\uc131\uad6c \ub300\ud559\ub85c 291, KAIST"},"email":{"title":"\uc774\uba54\uc77c \ubcf4\ub0b4\uae30","address":"info@dochak.com"},"phone":{"title":"\uc804\ud654 \ubb38\uc758","number":"+82-42-350-1234"}},"social":{"title":"\ud314\ub85c\uc6b0\ud558\uae30"},"form":{"title":"\uba54\uc2dc\uc9c0 \ubcf4\ub0b4\uae30","subtitle":"\uc544\ub798 \uc591\uc2dd\uc744 \uc791\uc131\ud574 \uc8fc\uc2dc\uba74 24\uc2dc\uac04 \ub0b4\uc5d0 \ub2f5\ubcc0\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.","name":"\uc131\uba85","namePlaceholder":"\uc131\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694","email":"\uc774\uba54\uc77c \uc8fc\uc18c","emailPlaceholder":"\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694","company":"\ud68c\uc0ac\uba85 (\uc120\ud0dd\uc0ac\ud56d)","companyPlaceholder":"\ud68c\uc0ac\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694","message":"\uba54\uc2dc\uc9c0","messagePlaceholder":"\ud504\ub85c\uc81d\ud2b8\uc5d0 \ub300\ud574 \uc54c\ub824\uc8fc\uc2dc\uac70\ub098 \uad81\uae08\ud55c \uc810\uc744 \ubb38\uc758\ud574 \uc8fc\uc138\uc694","submit":"\uba54\uc2dc\uc9c0 \ubcf4\ub0b4\uae30","success":"\uba54\uc2dc\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4!","successTitle":"\uac10\uc0ac\ud569\ub2c8\ub2e4!","successMessage":"\uba54\uc2dc\uc9c0\ub97c \ubc1b\uc558\uc73c\uba70 24\uc2dc\uac04 \ub0b4\uc5d0 \ub2f5\ubcc0\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4. \uc800\ud76c \ud300\uc774 \uc5ec\ub7ec\ubd84\uc758 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub300\ud574 \ub354 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\uae30\ub97c \uae30\ub300\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."},"faq":{"title":"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38","subtitle":"\uc800\ud76c \uc194\ub8e8\uc158\uacfc \uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uc77c\ubc18\uc801\uc778 \uc9c8\ubb38\uc758 \ub2f5\ubcc0\uc744 \ucc3e\uc544\ubcf4\uc138\uc694.","item1":{"question":"\uc5b4\ub5a4 \uc885\ub958\uc758 \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc744 \uc81c\uacf5\ud558\ub098\uc694?","answer":"\uad50\ud1b5\uc601\ud5a5\ubd84\uc11d \ub3c4\uad6c, \ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220, \uc790\uc728\uc8fc\ud589\ucc28 \uc2dc\ubbac\ub808\uc774\uc158, \ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\uc2a4\ud15c, \uc2a4\ub9c8\ud2b8 \uc2dc\ud2f0 \uc778\ud504\ub77c \uacc4\ud68d\uc744 \ud3ec\ud568\ud55c \ud3ec\uad04\uc801\uc778 \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."},"item2":{"question":"\uc194\ub8e8\uc158 \uad6c\ud604\uc5d0\ub294 \uc5bc\ub9c8\ub098 \uac78\ub9ac\ub098\uc694?","answer":"\uad6c\ud604 \uc77c\uc815\uc740 \ud504\ub85c\uc81d\ud2b8 \ubc94\uc704\uc640 \ubcf5\uc7a1\uc131\uc5d0 \ub530\ub77c \ub2e4\ub985\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c \uc800\ud76c \uc194\ub8e8\uc158\uc740 3-6\uac1c\uc6d4 \ub0b4\uc5d0 \ubc30\ud3ec\ub420 \uc218 \uc788\uc73c\uba70, \uc9c0\uc18d\uc801\uc778 \uc9c0\uc6d0 \ubc0f \ucd5c\uc801\ud654 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},"item3":{"question":"\uad50\uc721\uacfc \uc9c0\uc6d0\uc744 \uc81c\uacf5\ud558\ub098\uc694?","answer":"\ub124, \uc800\ud76c\ub294 \uc5ec\ub7ec\ubd84 \ud300\uc744 \uc704\ud55c \ud3ec\uad04\uc801\uc778 \uad50\uc721 \ud504\ub85c\uadf8\ub7a8\uc744 \uc81c\uacf5\ud558\uace0 \uc9c0\uc18d\uc801\uc778 \uae30\uc220 \uc9c0\uc6d0\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc800\ud76c \uc804\ubb38\uac00\ub4e4\uc774 \uc6d0\ud65c\ud55c \ud1b5\ud569\uacfc \ubaa8\ube4c\ub9ac\ud2f0 \uc194\ub8e8\uc158\uc758 \ucd5c\uc801 \ud65c\uc6a9\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4."}}},"footer":{"privacyPolicy":"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68","terms":"\uc774\uc6a9\uc57d\uad00","contact":"\uc5f0\ub77d\ucc98","copyright":"\ubaa8\ub4e0 \uad8c\ub9ac \ubcf4\uc720."},"timeline":{"startup":{"title":"\ucc3d\uc5c5 \ub2e8\uacc4","content1":"\ud575\uc2ec \uc694\uc18c \uae30\uc220 \ud655\ubcf4\uc640 \ud568\uaed8 \uc2dc\ubbac\ub808\uc774\ud130 \ub514\uc9c0\ud138 \ud2b8\uc708 \ubc0f \uc790\ub3d9\ud654 \uc2dc\uc2a4\ud15c\uc5d0 \ub300\ud55c \uae30\ucd08 R&D\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4.","content2":"\uc81c\ud488 \uc815\ud655\uc131\uacfc \ud488\uc9c8 \ud5a5\uc0c1\uc744 \uc704\ud574 ITS \ud68c\uc0ac \ubc0f 3D \ubaa8\ub378 \ud658\uacbd \ud68c\uc0ac\uc640\uc758 \ud611\ub825 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud588\uc2b5\ub2c8\ub2e4.","content3":"2025\ub144 6\uc6d4 \uc644\ub8cc\ub97c \ubaa9\ud45c\ub85c \ub300\ub3c4\uc2dc \uc911\uc2ec\uc758 \ub9c8\uc774\ud06c\ub85c \ubaa8\ube4c\ub9ac\ud2f0 \ubaa8\ub378\uc744 \uac1c\ubc1c\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."},"growth":{"title":"\uc131\uc7a5 \ub2e8\uacc4","content1":"\uc2e4\uc2dc\uac04 \ubaa8\ub378\uc744 \uae30\ubc18\uc73c\ub85c \ud30c\ud2b8\ub108 \ubc0f \uace0\uac1d \ubaa8\ub378\uc744 \ubcf4\uc5ec\uc8fc\uae30 \uc704\ud574 \ub3c4\ucc29 \uc6f9\uc0ac\uc774\ud2b8\ub97c \uac1c\uc120\ud588\uc2b5\ub2c8\ub2e4.","content2":"LinkedIn \ubc0f \ud0c0\uac9f SNS \ucc44\ub110\uc744 \ud1b5\ud574 \ud68c\uc0ac\ub97c \ud64d\ubcf4\ud588\uc2b5\ub2c8\ub2e4.","content3":"\ud68c\uc0ac \ud64d\ubcf4\ub97c \uc704\ud574 \uad6d\ub0b4 \ud559\uc220 \ubaa8\ube4c\ub9ac\ud2f0 \uc804\uc2dc\ud68c\uc5d0 \ucc38\uac00\ud588\uc2b5\ub2c8\ub2e4.","content4":"\uae30\uc874 \ub124\ud2b8\uc6cc\ud06c\ub97c \ud65c\uc6a9\ud558\uc5ec \ucd08\uae30 \uace0\uac1d \ud30c\uc774\ud504\ub77c\uc778\uc744 \uad6c\ucd95\ud558\uace0 \ud30c\ud2b8\ub108\uc2ed \ucc44\ub110\uc744 \ud655\uc7a5\ud588\uc2b5\ub2c8\ub2e4."},"expansion":{"title":"\ud655\uc7a5 \ub2e8\uacc4","content1":"\ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \ud30c\uc774\ud504\ub77c\uc778\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8 \uc131\uc219\ud654\uc640 \uc81c\ud488 \ubc1c\uc804\uc5d0 \uc9d1\uc911\ud588\uc2b5\ub2c8\ub2e4.","revenueTarget":" ","revenueAmount":" "},"stabilization":{"title":"\uc548\uc815\ud654 \ubc0f \uc131\uc7a5 \ub2e8\uacc4","content1":"B2B \ubc0f \uacf5\uacf5\uae30\uad00 \ud30c\ud2b8\ub108\uc2ed\uc744 \ud655\uc7a5\ud558\uba74\uc11c \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601\ud558\uace0 \uc9c0\uc18d\uc801\uc778 \uae30\uc220 \uac1c\ubc1c\uc744 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.","revenueTarget2026":" ","revenueAmount2026":" ","revenueTarget2027":" ","revenueAmount2027":" "}},"sections":{"overview":"\uac1c\uc694"},"bento":{"about":{"title":"\ub3c4\ucc29 \uc18c\uac1c","description":"\ub354 \uc548\uc804\ud558\uace0 \uc2a4\ub9c8\ud2b8\ud558\uba70 \ub9e4\ub044\ub7ec\uc6b4 \ub3c4\uc2dc \ubaa8\ube4c\ub9ac\ud2f0\ub97c \uc774\ub04c\uc5b4\uac00\ub294 \uc6b0\ub9ac\uc758 \uc0ac\uba85\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\uc138\uc694."},"technologies":{"title":"\ud575\uc2ec \uae30\uc220","description":"\uc2a4\ub9c8\ud2b8 \ubaa8\ube4c\ub9ac\ud2f0\ub97c \uc774\ub044\ub294 \ucd5c\ucca8\ub2e8 \uc911\uc2dc\uc801, \ubbf8\uc2dc\uc801, 3D \uba54\uc2dc \ubaa8\ub378 \uc2dc\ubbac\ub808\uc774\uc158 \uae30\uc220\uacfc \ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220\uc744 \uc0b4\ud3b4\ubcf4\uc138\uc694."},"solutions":{"title":"\uc6b0\ub9ac\uc758 \uc194\ub8e8\uc158","description":"\uc6b4\uc804 \uc2dc\ubbac\ub808\uc774\ud130, \uad50\ud1b5\uc601\ud5a5\ubd84\uc11d, \ub2e4\uc911 \uad50\ud1b5\uc218\ub2e8 \uc2dc\ubbac\ub808\uc774\uc158, \uad50\ud1b5 \uc2dc\uac01\ud654, \uc0dd\uba85 \uad6c\uc870 \ub85c\ubd07, \uc6d0\uaca9 \uc6b4\uc804\uc744 \ud3ec\ud568\ud55c \ud3ec\uad04\uc801\uc778 \uc194\ub8e8\uc158 \uc81c\ud488\uad70\uc744 \ub9cc\ub098\ubcf4\uc138\uc694."},"projects":{"title":"\ud504\ub85c\uc81d\ud2b8 \ubc0f \uc601\ud5a5","description":"\uc601\ud5a5\ub825 \uc788\ub294 \uc2a4\ub9c8\ud2b8 \ubaa8\ube4c\ub9ac\ud2f0 \ud504\ub85c\uc81d\ud2b8\ub85c \ub3c4\uc2dc\ub97c \ubcc0\ud654\uc2dc\ud0a4\ub294 \ub3c4\ucc29\uc758 \ubaa8\uc2b5\uc744 \ud655\uc778\ud558\uc138\uc694."}},"disclosure":{"title":"\uc5f0\uad6c\uc131\uacfc","subtitle":"\uc6b0\ub9ac\uc758 \ud559\uc220 \ub17c\ubb38\uacfc \ud2b9\ud5c8 \ud3ec\ud2b8\ud3f4\ub9ac\uc624\ub97c \uc0b4\ud3b4\ubcf4\uc138\uc694","loading":"\ub85c\ub529 \uc911...","tabs":{"publications":"\ub17c\ubb38","patents":"\ud2b9\ud5c8"},"searchPlaceholder":{"publications":"\uc81c\ubaa9, \uc800\uc790, \uc800\ub110\ub85c \ub17c\ubb38 \uac80\uc0c9...","patents":"\uc774\ub984\uc774\ub098 \uad6d\uac00\ub85c \ud2b9\ud5c8 \uac80\uc0c9..."},"filters":{"year":"\uc5f0\ub3c4\ubcc4 \ud544\ud130","allYears":"\uc804\uccb4 \uc5f0\ub3c4"},"results":{"publications":"\ub17c\ubb38","patents":"\ud2b9\ud5c8"},"noResults":{"title":"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4","withFilters":"\uac80\uc0c9\uc5b4\ub098 \ud544\ud130\ub97c \uc870\uc815\ud574 \ubcf4\uc138\uc694.","noData":"\ud604\uc7ac \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","clearFilters":"\ubaa8\ub4e0 \ud544\ud130 \uc9c0\uc6b0\uae30"},"allYears":"\uc804\uccb4 \uc5f0\ub3c4","searchAriaLabel":"\ub17c\ubb38\uacfc \ud2b9\ud5c8 \uac80\uc0c9","searchLabel":"\ub17c\ubb38\uacfc \ud2b9\ud5c8 \uac80\uc0c9","searchDescription":"\uc81c\ubaa9, \uc800\uc790, \uc800\ub110 \ub610\ub294 \ud2b9\ud5c8\uba85\uc73c\ub85c \uac80\uc0c9","clearSearch":"\uac80\uc0c9 \uc9c0\uc6b0\uae30","yearFilterLabel":"\ubc1c\ud589 \uc5f0\ub3c4\ubcc4 \ud544\ud130","yearFilterAriaLabel":"\uc5f0\ub3c4\ubcc4 \ud544\ud130","yearFilterDescription":"\ubc1c\ud589 \uc5f0\ub3c4\ubcc4\ub85c \uacb0\uacfc \ud544\ud130\ub9c1","activeFilters":"\ud65c\uc131 \ud544\ud130:","activeFiltersRegion":"\ud65c\uc131 \ud544\ud130","searchFilter":"\uac80\uc0c9","yearFilter":"\uc5f0\ub3c4","removeSearchFilter":"\uac80\uc0c9 \ud544\ud130 \uc81c\uac70","removeYearFilter":"\uc5f0\ub3c4 \ud544\ud130 \uc81c\uac70","clearAllFilters":"\ubaa8\ub4e0 \ud544\ud130 \uc9c0\uc6b0\uae30","clearAll":"\ubaa8\ub450 \uc9c0\uc6b0\uae30","searchSectionLabel":"\uac80\uc0c9 \ubc0f \ud544\ud130 \uc635\uc158","tabsNavLabel":"\uc5f0\uad6c\uc131\uacfc \ub124\ube44\uac8c\uc774\uc158","tabsAriaLabel":"\uc5f0\uad6c\uc131\uacfc \uc139\uc158","publicationsTabDescription":"\ud559\uc220 \ub17c\ubb38 \ubc0f \uc5f0\uad6c \ub17c\ubb38 \ubcf4\uae30","patentsTabDescription":"\ud2b9\ud5c8 \ubc0f \uc9c0\uc801 \uc7ac\uc0b0\uad8c \ubcf4\uae30","resultsCount":"\ud45c\uc2dc \uc911","loadingAriaLabel":"\uc5f0\uad6c\uc131\uacfc \ub370\uc774\ud130 \ub85c\ub529 \uc911","retryDescription":"\uc5f0\uad6c\uc131\uacfc \ub370\uc774\ud130\ub97c \ub2e4\uc2dc \ub85c\ub4dc\ud569\ub2c8\ub2e4","clearFiltersDescription":"\ubaa8\ub4e0 \ud65c\uc131 \uac80\uc0c9 \ubc0f \ud544\ud130 \uc870\uac74\uc744 \uc81c\uac70\ud569\ub2c8\ub2e4","openPaper":"\ub17c\ubb38 \uc5f4\uae30","openDoi":"DOI \uc5f4\uae30","error":{"title":"\ub370\uc774\ud130 \ub85c\ub529 \uc624\ub958","message":"\uc5f0\uad6c\uc131\uacfc\ub97c \ub85c\ub529\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.","retry":"\ub2e4\uc2dc \uc2dc\ub3c4"},"publication":{"authors":"\uc800\uc790","journal":"\uc800\ub110","year":"\uc5f0\ub3c4","readMore":"\ub354 \ubcf4\uae30","viewPublication":"\ub17c\ubb38 \ubcf4\uae30"},"patent":{"inventors":"\ubc1c\uba85\uc790","country":"\uad6d\uac00","status":"\uc0c1\ud0dc","registrationNumber":"\ub4f1\ub85d\ubc88\ud638","registrationDate":"\ub4f1\ub85d\uc77c","managementNumber":"\uad00\ub9ac\ubc88\ud638","registered":"\ub4f1\ub85d","pending":"\ucd9c\uc6d0","viewDetails":"\uc0c1\uc138 \ubcf4\uae30"},"patentStatus":{"registered":"\ub4f1\ub85d","pending":"\ucd9c\uc6d0"},"registrationDate":"\ub4f1\ub85d\uc77c","applicationDate":"\ucd9c\uc6d0\uc77c","registrationNumber":"\ub4f1\ub85d\ubc88\ud638","managementNumber":"\uad00\ub9ac\ubc88\ud638","countries":{"KR":"\ub300\ud55c\ubbfc\uad6d","US":"\ubbf8\uad6d","CN":"\uc911\uad6d","JP":"\uc77c\ubcf8","DE":"\ub3c5\uc77c","GB":"\uc601\uad6d","FR":"\ud504\ub791\uc2a4","CA":"\uce90\ub098\ub2e4","AU":"\ud638\uc8fc","IN":"\uc778\ub3c4","EU":"\uc720\ub7fd\uc5f0\ud569"},"patentNames":{"\uad50\ud1b5\uc2e0\ud638\uae30 \uc81c\uc5b4\uc7a5\uce58":"\uad50\ud1b5\uc2e0\ud638\uae30 \uc81c\uc5b4\uc7a5\uce58","\ud655\ub960 \uada4\uc801 \uc608\uce21\uc744 \uae30\ubc18\uc73c\ub85c \ube44\uc2e0\ud638 \uad50\ucc28\ub85c\uc5d0\uc11c \ubcf4\ud589\uc790\uc758 \ubbf8\ub798 \ucda9\ub3cc\uc744 \ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"\ud655\ub960 \uada4\uc801 \uc608\uce21\uc744 \uae30\ubc18\uc73c\ub85c \ube44\uc2e0\ud638 \uad50\ucc28\ub85c\uc5d0\uc11c \ubcf4\ud589\uc790\uc758 \ubbf8\ub798 \ucda9\ub3cc\uc744 \ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c","\ud658\uacbd\uc601\ud5a5\uc744 \uace0\ub824\ud55c \uac15\ud654\ud559\uc2b5 \uae30\ubc18\uc758 \uc2e0\ud638\uc81c\uc5b4\ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"\ud658\uacbd\uc601\ud5a5\uc744 \uace0\ub824\ud55c \uac15\ud654\ud559\uc2b5 \uae30\ubc18\uc758 \uc2e0\ud638\uc81c\uc5b4\ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c","\uc2a4\ud2b8\ub9ac\ud2b8 \ubdf0 \uc774\ubbf8\uc9c0\ub97c \uc774\uc6a9\ud558\uc5ec \uc804\ub3d9 \ubaa8\ube4c\ub9ac\ud2f0\uc758 \uacbd\ub85c\uc120\ud0dd\uc744 \ubd84\uc11d\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"\uc2a4\ud2b8\ub9ac\ud2b8 \ubdf0 \uc774\ubbf8\uc9c0\ub97c \uc774\uc6a9\ud558\uc5ec \uc804\ub3d9 \ubaa8\ube4c\ub9ac\ud2f0\uc758 \uacbd\ub85c\uc120\ud0dd\uc744 \ubd84\uc11d\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c","\uacbd\ub85c \ub9ac\ud50c\ub808\uc774\uc5d0 \uae30\ubc18\ud55c \uc2dc\uac01 \uc804\ud669\uc744 \ud65c\uc6a9\ud558\uc5ec \uc6b4\uc804\ud589\ud0dc\ub97c \uc790\uae30\ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"\uacbd\ub85c \ub9ac\ud50c\ub808\uc774\uc5d0 \uae30\ubc18\ud55c \uc2dc\uac01 \uc804\ud669\uc744 \ud65c\uc6a9\ud558\uc5ec \uc6b4\uc804\ud589\ud0dc\ub97c \uc790\uae30\ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c","\ubcf4\ud589\uc790 \uaddc\ubaa8 \uc815\ubcf4\uc5d0 \uae30\ubc18\ud55c \uc2e4\uc2dc\uac04 \uc6b4\uc804\uc790 \uacbd\uace0 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"\ubcf4\ud589\uc790 \uaddc\ubaa8 \uc815\ubcf4\uc5d0 \uae30\ubc18\ud55c \uc2e4\uc2dc\uac04 \uc6b4\uc804\uc790 \uacbd\uace0 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c","\uad50\ud1b5\ub7c9 \uc81c\uc5b4 \uacc4\ud68d\uc744 \uc774\uc6a9\ud55c \uad50\ud1b5\uc2e0\ud638 \uacc4\ud68d \uc0dd\uc131 \uc7a5\uce58 \ubc0f \ubc29\ubc95":"\uad50\ud1b5\ub7c9 \uc81c\uc5b4 \uacc4\ud68d\uc744 \uc774\uc6a9\ud55c \uad50\ud1b5\uc2e0\ud638 \uacc4\ud68d \uc0dd\uc131 \uc7a5\uce58 \ubc0f \ubc29\ubc95","\uc870\uac74\ubd80 \uc801\ub300\uc801 \uc0dd\uc131 \ubaa8\ub378 \uae30\ubc18 \uad50\ud1b5\uc218\uc694 \ubd84\uc11d\uc758 \ub9de\ucda4\ud615 \ud569\uc131\uc778\uad6c \uc0dd\uc131 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c":"\uc870\uac74\ubd80 \uc801\ub300\uc801 \uc0dd\uc131 \ubaa8\ub378 \uae30\ubc18 \uad50\ud1b5\uc218\uc694 \ubd84\uc11d\uc758 \ub9de\ucda4\ud615 \ud569\uc131\uc778\uad6c \uc0dd\uc131 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c"},"publicationType":{"journal":"\uc800\ub110","conference":"\ud559\ud68c"}},"news":{"heroTitle":"\ud68c\uc0ac \uc18c\uc2dd","heroSubtitle":"\ubaa8\ube4c\ub9ac\ud2f0 \ud601\uc2e0\uc744 \uc704\ud55c \uc6b0\ub9ac\uc758 \uc5ec\uc815\uc5d0\uc11c \ucd5c\uc2e0 \uac1c\ubc1c \uc0ac\ud56d, \uc131\uacfc \ubc0f \uc774\uc815\ud45c\uc5d0 \ub300\ud55c \ucd5c\uc2e0 \uc815\ubcf4\ub97c \ud655\uc778\ud558\uc138\uc694.","readMore":"\uc790\uc138\ud788 \ubcf4\uae30","searchPlaceholder":"\uc18c\uc2dd \uac80\uc0c9...","searchResults":"\\"{{term}}\\"\uc5d0 \ub300\ud55c {{count}}\uac1c \uacb0\uacfc","sort":{"newest":"\ucd5c\uc2e0\uc21c","oldest":"\uc624\ub798\ub41c\uc21c","category":"\uce74\ud14c\uace0\ub9ac\uc21c"},"pagination":{"previous":"\uc774\uc804","next":"\ub2e4\uc74c"},"noResults":{"title":"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4","message":"\uac80\uc0c9\uc5b4\ub97c \uc870\uc815\ud558\uac70\ub098 \uac80\uc0c9\uc744 \uc9c0\uc6cc\uc11c \ubaa8\ub4e0 \uc18c\uc2dd\uc744 \ub458\ub7ec\ubcf4\uc138\uc694."},"newsletter":{"title":"\ucd5c\uc2e0 \uc18c\uc2dd \ubc1b\uae30","description":"\ub274\uc2a4\ub808\ud130\ub97c \uad6c\ub3c5\ud558\uc5ec \ucd5c\uc2e0 \ub274\uc2a4\uc640 \uc5c5\ub370\uc774\ud2b8\ub97c \uc774\uba54\uc77c\ub85c \uc9c1\uc811 \ubc1b\uc544\ubcf4\uc138\uc694.","placeholder":"\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694","button":"\uad6c\ub3c5\ud558\uae30"},"items":{"llmTrafficAnalysis":{"title":"LLM \uae30\ubc18 \ubbf8\uc2dc\uad50\ud1b5\ubd84\uc11d\ub3c4\uad6c v1.0 \ucd9c\uc2dc","date":"2025\ub144 9\uc6d4 12\uc77c","category":"\ube44\uc988\ub2c8\uc2a4","excerpt":"\ub300\ud615\uc5b8\uc5b4\ubaa8\ub378\uacfc \ubbf8\uc2dc\uad50\ud1b5\uc2dc\ubbac\ub808\uc774\uc158\uc744 \uacb0\ud569\ud55c \ud601\uc2e0\uc801\uc778 AI \uae30\ubc18 \uad50\ud1b5\ubd84\uc11d \ub3c4\uad6c\uac00 \uc804\ub840 \uc5c6\ub294 \ubd84\uc11d \uae30\ub2a5\uc73c\ub85c \ucd9c\uc2dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."},"ptvCertified":{"title":"PTV \uacf5\uc778 \uad50\uc721\uc790","date":"2025\ub144 8\uc6d4 25\uc77c","category":"\ube44\uc988\ub2c8\uc2a4","excerpt":"KAIST\uc5d0\uc11c PTV \uacf5\uc778 \uad50\uc721\uc790 3\uba85\uc774 \ubc30\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."},"kaistMobilityTech2025":{"title":"KAIST, \ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0 \uae30\uc220 \ucd1d\ucd9c\ub3d9","date":"2025\ub144 9\uc6d4 23\uc77c","category":"\uae30\uc220","excerpt":"KAIST \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\uc18c\uac00 \'2025 \uae30\uc220\uc2dc\uc5f0\ud68c\'\uc5d0\uc11c \uc6d0\uaca9\uc8fc\ud589 \ubc1c\ub808\ud30c\ud0b9, \ubb3c\ub958 \uc790\uc728\uc8fc\ud589 \ub85c\ubd07 \ub4f1 6\ub300 \ud575\uc2ec \uae30\uc220\uc744 \uc120\ubcf4\uc600\uc2b5\ub2c8\ub2e4."},"ptvApacUgm2025":{"title":"\uae40\ud0dc\uade0, PTV \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305 2025\uc5d0\uc11c \ubc1c\ud45c","date":"2025\ub144 9\uc6d4 24\uc77c","category":"\ud559\uc220\ub300\ud68c","excerpt":"KAIST\uc758 \uae40\ud0dc\uade0 \uc804\ubb34\uae30\uc220\uace0\ubb38\uc774 \uc2f1\uac00\ud3ec\ub974\uc5d0\uc11c \uc5f4\ub9b0 PTV APAC UGM 2025\uc5d0\uc11c PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc640 \ud1b5\ud569\ub41c \ub0b4\ud3ec \ubaa8\ube4c\ub9ac\ud2f0 \ub514\uc9c0\ud138 \ud2b8\uc708 \ubaa8\ub378\uc5d0 \ub300\ud574 \ucd08\uccad \ubc1c\ud45c\ub97c \uc9c4\ud589\ud588\uc2b5\ub2c8\ub2e4."},"changhuiKimInternship":{"title":"\uae40\ucc3d\ud76c \ud559\uc0dd, KAIST-PTV \uacf5\ub3d9 \uc778\ud134\uc2ed \ud504\ub85c\uadf8\ub7a8 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc","date":"2025\ub144 8\uc6d4 29\uc77c","category":"\uc778\ud134\uc2ed","excerpt":"KAIST \ucef4\ud4e8\ud130\uacf5\ud559\uacfc 4\ud559\ub144 \uae40\ucc3d\ud76c \ud559\uc0dd\uc774 KAIST-PTV Group \uc5ec\ub984 \uc778\ud134\uc2ed\uc744 \uc131\uacf5\uc801\uc73c\ub85c \ub9c8\uce58\uace0 PTV Group\uc774 \uc8fc\ucd5c\ud55c \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305\uc5d0 \ucd08\uccad\ubc1b\uc544 \uc2f1\uac00\ud3ec\ub974\ub97c \ubc29\ubb38\ud558\uc600\uc2b5\ub2c8\ub2e4."}},"articles":{"llmTrafficAnalysis":{"title":"LLM \uae30\ubc18 \ubbf8\uc2dc\uad50\ud1b5\ubd84\uc11d\ub3c4\uad6c v1.0 \ucd9c\uc2dc","date":"2025\ub144 9\uc6d4 12\uc77c","category":"\ube44\uc988\ub2c8\uc2a4","author":"\ub3c4\ucc29\ud300","readTime":"4\ubd84 \uc77d\uae30","contentIntro":"<p>\uad50\ud1b5 \ud589\ub3d9\uc744 \uc774\ud574\ud558\uace0 \ubd84\uc11d\ud558\ub294 \ubc29\uc2dd\uc744 \ud601\uc2e0\ud558\ub294 \ud601\uc2e0\uc801\uc778 <strong>LLM \uae30\ubc18 \ubbf8\uc2dc\uad50\ud1b5\ubd84\uc11d\ub3c4\uad6c v1.0</strong>\uc758 \ucd9c\uc2dc\ub97c \ubc1c\ud45c\ud558\uac8c \ub418\uc5b4 \uae30\uc069\ub2c8\ub2e4. \uc774\ub294 \uc9c4\uc815\ud55c \ud30c\uad34\uc801 \uae30\uc220\uc785\ub2c8\ub2e4.</p>","contentMain":"<h2>\ud601\uc2e0\uc801\uc778 AI \uae30\ubc18 \ubd84\uc11d</h2><p>\uc774 \ucd5c\ucca8\ub2e8 \ub3c4\uad6c\ub294 \uad50\ud1b5 \ubd84\uc11d \ubd84\uc57c\uc758 \uc911\uc694\ud55c \ub3cc\ud30c\uad6c\ub97c \ub098\ud0c0\ub0b4\uba70, <strong>\ub300\ud615\uc5b8\uc5b4\ubaa8\ub378(LLM)</strong>\uc758 \ud798\uacfc \uace0\uae09 \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ub2a5\uc744 \uacb0\ud569\ud569\ub2c8\ub2e4. \uc6b0\ub9ac\uc758 \ub3c5\uc810 \uae30\uc220\uc740 \uad50\ud1b5 \ud328\ud134, \uc6b4\uc804\uc790 \ud589\ub3d9, \uc2dc\uc2a4\ud15c \ucd5c\uc801\ud654 \uae30\ud68c\uc5d0 \ub300\ud55c \uc804\ub840 \uc5c6\ub294 \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p><blockquote>\uc774 \ub3c4\uad6c\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1\uc758 \uc0c8\ub85c\uc6b4 \uc2dc\ub300\ub97c \uc5f4\uba70, \uc774\uc804\uc5d0\ub294 \uc804\ubb38\uac00 \ubd84\uc11d\uc5d0 \uba87 \uc2dc\uac04\uc774 \ud544\uc694\ud588\ub358 \ubcf5\uc7a1\ud55c \ubd84\uc11d \uc791\uc5c5\uc744 AI \uc9c0\uc6d0\uc73c\ub85c \uba87 \ubd84 \ub9cc\uc5d0 \uc644\ub8cc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</blockquote><p>\ubc84\uc804 1.0\uc774 \ud604\uc7ac \ucd9c\uc2dc\ub418\uc5c8\uc73c\uba70, \uc774\ub294 \uc6b0\ub9ac AI \uae30\ubc18 \uad50\ud1b5 \ubd84\uc11d \uc81c\ud488\uad70\uc758 \uc2dc\uc791\uc5d0 \ubd88\uacfc\ud569\ub2c8\ub2e4. \uc544\ub798 \ub370\ubaa8\ub97c \ud1b5\ud574 \uc2e4\uc81c \uc791\ub3d9 \ubaa8\uc2b5\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694!</p>","ctaButton":"\uad50\ud1b5 \ubd84\uc11d \uc194\ub8e8\uc158 \uc0b4\ud3b4\ubcf4\uae30"},"ptvCertified":{"title":"PTV \uacf5\uc778 \uad50\uc721\uc790","date":"2025\ub144 8\uc6d4 25\uc77c","author":"\uae40\uc778\ud76c","readTime":"3\ubd84 \uc77d\uae30","content":"<p>KAIST\uc5d0\uc11c PTV \uacf5\uc778 \uad50\uc721\uc790 3\uba85\uc774 \ubc30\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p><h2>\ud55c\uad6d \ucd5c\ucd08\uc758 \uc5ed\uc0ac\uc801 \uc131\uacfc</h2><p>\ud55c\uad6d \ucd5c\ucd08\ub85c KAIST \uc5f0\uad6c\uc9c4(\uae40\uc778\ud76c \uad50\uc218, \uc624\ud0dc\ud638 \ubc15\uc0ac, \uae40\ud0dc\uade0 \uc5f0\uad6c\uc6d0)\uc774 <strong>\uacf5\uc778 \uad50\uc721\uc790</strong>\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p><p>\uc55e\uc73c\ub85c KAIST\uc5d0\uc11c PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uad50\uc721\uc744 \ubc1b\ub294 \ubd84\ub4e4\uc5d0\uac8c\ub294 <em>\uacf5\uc2dd PTV \uc778\uc99d\uc11c</em>\uac00 \uc81c\uacf5\ub429\ub2c8\ub2e4.</p><div class=\\"training-programs-section\\"><div class=\\"training-content\\"><h3>\uad50\uc721 \ud504\ub85c\uadf8\ub7a8</h3><p>\ucd1d <strong>5\uac1c \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ud504\ub85c\uadf8\ub7a8</strong> \uad50\uc721\uc5d0 \ucc38\uc5ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p><ul><li>Visum</li><li>Vissim</li><li>VisWalk</li><li>VisVap</li><li>Vistro</li></ul></div><div class=\\"training-image\\"><img src=\\"TRAINING_FACILITIES_IMAGE\\" alt=\\"PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uac00 \uad6c\ube44\ub41c \uad50\uc721 \uc2dc\uc124\\" class=\\"inline-training-image\\" /></div></div><blockquote>\uc774 \uc778\uc99d\uc740 \ud55c\uad6d\uc758 \uad50\ud1b5 \ubaa8\ub378\ub9c1 \ubc0f \uc2dc\ubbac\ub808\uc774\uc158 \uc5ed\ub7c9 \uac15\ud654\uc5d0 \uc911\uc694\ud55c \uc774\uc815\ud45c\uac00 \ub429\ub2c8\ub2e4.</blockquote><p>\uc774 \uc131\uacfc\ub294 KAIST\ub97c \uc9c0\uc5ed \ub0b4 PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uad50\uc721\uc758 \uc120\ub3c4 \uae30\uad00\uc73c\ub85c \uc790\ub9ac\ub9e4\uae40\uc2dc\ucf1c, \ud559\uc0dd\ub4e4\uacfc \uc804\ubb38\uac00\ub4e4\uc5d0\uac8c \uc138\uacc4 \uc218\uc900\uc758 \uad50\uc721\uacfc \uacf5\uc2dd \uc778\uc99d \uae30\ud68c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>","imageCaption1":"\uacf5\uc2dd \uc778\uc99d\uc11c\ub97c \ubcf4\uc5ec\uc8fc\ub294 KAIST PTV \uacf5\uc778 \uad50\uc721\uc790\ub4e4","imageCaption2":"\uc885\ud569\uc801\uc778 \uad50\uc721 \ud504\ub85c\uadf8\ub7a8\uc744 \uc704\ud55c PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uac00 \uad6c\ube44\ub41c \uad50\uc721 \uc2dc\uc124"},"kaistMobilityTech2025":{"title":"KAIST, \ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0 \uae30\uc220 \ucd1d\ucd9c\ub3d9","date":"2025\ub144 9\uc6d4 23\uc77c","category":"\uae30\uc220","author":"\uad6c\ubcf8\ud601 \uae30\uc790","readTime":"5\ubd84 \uc77d\uae30","source":"https://biz.heraldcorp.com/article/10581881?ref=naver","content":"<p><strong>\uc6d0\ubb38 \ucd9c\ucc98:</strong> <a href=\\"https://biz.heraldcorp.com/article/10581881?ref=naver\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" style=\\"color: #60A5FA; font-style: italic;\\">\ud5e4\ub7f4\ub4dc\uacbd\uc81c \uae30\uc0ac \ubcf4\uae30</a></p><p>KAIST\ub294 23\uc77c \ucda9\ub0a8 \ub0b4\ud3ec\uc9c0\uc2dd\uc0b0\uc5c5\uc13c\ud130\uc5d0\uc11c <strong>\'2025 \uae30\uc220\uc2dc\uc5f0\ud68c\'</strong>\ub97c \uc5f4\uace0 \ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0\xb7AI \uae30\uc220 \uc0c1\uc6a9\ud654 \uc0ac\ub840\ub97c \uc120\ubcf4\uc600\ub2e4.</p><h2>KAIST \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\uc18c\uc758 \ud601\uc2e0</h2><p>KAIST \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\uc18c\ub294 \uc6b0\ub9ac \uc0ac\ud68c\uc758 \uc774\ub3d9 \ubb38\uc81c \ud574\uacb0\uc744 \ubaa9\ud45c\ub85c, \uc790\uc728\uc8fc\ud589, \ub3c4\uc2ec\ud56d\uacf5\uad50\ud1b5(UAM/UAV), \uce5c\ud658\uacbd \uc774\ub3d9\uae30\uc220 \ubfd0 \uc544\ub2c8\ub77c \uc778\uacf5\uc9c0\ub2a5(AI)\uacfc \uc5d0\ub108\uc9c0 \ub4f1 \ub2e4\uc591\ud55c \uae30\uc220 \ubd84\uc57c\uc5d0\uc11c \uc0b0\ud559\ud611\ub825 \uc5f0\uad6c\ub97c \uc218\ud589\ud558\uace0 \uc788\ub2e4. \uc774\ubc88 \uc2dc\uc5f0\ud68c\ub294 KAIST \uc5f0\uad6c\ub97c \ucda9\uccad\ub0a8\ub3c4\uc758 \uc704\ud0c1 \uc0ac\uc5c5\uacfc \uc5f0\uacc4\ud574 \ucd94\uc9c4\ub41c \uacb0\uacfc\ubb3c\ub85c, \uc5f0\uad6c \uc131\uacfc\uac00 \uc9c0\uc5ed \uc0b0\uc5c5\uacfc \uc5f0\uacb0\ub418\ub294 \uc2e4\uc9c8\uc801\uc778 \ubaa8\uc2b5\uc744 \ubcf4\uc5ec\uc92c\ub2e4.</p><h2>6\ub300 \ud575\uc2ec \uae30\uc220 \ubc1c\ud45c</h2><p>\uc2dc\uc5f0\ud68c\uc5d0\uc11c\ub294 \uad50\uc6d0 \ucc3d\uc5c5\uae30\uc5c5\uc778 \u321c\ud4e8\ucc98\uc774\ube0c\uc774(\ub300\ud45c: \uae40\uacbd\uc218), <strong>\u321c\ub3c4\ucc29(\ub300\ud45c: \uae40\uc778\ud76c)</strong>\uacfc \ub3d9\ubb38 \ucc3d\uc5c5\uae30\uc5c5 \u321c\ub178\ud0c0(\ub300\ud45c: \ucc44\uba85\uc218)\ub97c \ube44\ub86f\ud55c \ud611\ub825 \uae30\uc5c5\uacfc \ud568\uaed8 \uc0c1\uc6a9\ud654 \ub2e8\uacc4\uc5d0 \uc9c4\uc785\ud55c \uc131\uacfc\uac00 \ubc1c\ud45c\ub410\ub2e4.</p><div class=\\"key-technologies\\"><h3>\uacf5\uac1c\ub41c 6\uac1c \ud575\uc2ec \uae30\uc220</h3><ul><li><strong>\uc774\ub3d9\ud615 \uc5d0\ub108\uc9c0 \uc800\uc7a5 \uc7a5\uce58(ESS)</strong> \uc804\ub825 \ud50c\ub7ab\ud3fc</li><li><strong>\ub0b4\ud3ec \ub514\uc9c0\ud138 \ud2b8\uc708</strong></li><li><strong>\uc911\uc18c\uae30\uc5c5 \ud2b9\ud654\ud615 \uc790\uc728\uc8fc\ud589\ub85c\ubd07</strong></li><li><strong>\uc6d0\uaca9\uc8fc\ud589 \ubc1c\ub808\ud30c\ud0b9</strong></li><li><strong>\uc790\uc728\uc8fc\ud589 \ud14c\uc2a4\ud2b8\ubca0\ub4dc</strong></li><li><strong>AI \ucef4\ud4e8\ud305\uc13c\ud130</strong></li></ul></div><h3>\uc8fc\uc694 \uae30\uc220\ubcc4 \uc138\ubd80 \ub0b4\uc6a9</h3><p><strong>\'\uc774\ub3d9\ud615 \uc5d0\ub108\uc9c0 \uc800\uc7a5 \uc7a5\uce58(ESS, Energy Storage System) \uc804\ub825 \ud50c\ub7ab\ud3fc\'</strong>\uc740 \uc774\uc724\uad6c \uad50\uc218\uac00 \uc8fc\uac1c\ubc1c\ud55c \uae30\uc220\ub85c, \uc7ac\ub09c \ud604\uc7a5\uc774\ub098 \ub3c4\uc11c \uc9c0\uc5ed \ub4f1 \uc804\ub825 \uacf5\uae09\uc774 \uc5b4\ub824\uc6b4 \uc9c0\uc5ed\uc5d0\uc11c\ub3c4 \uc548\uc815\uc801\uc778 \uc804\ub825\ub9dd\uc744 \uad6c\ucd95\ud560 \uc218 \uc788\ub294 \uc194\ub8e8\uc158\uc73c\ub85c \uce5c\ud658\uacbd \uc804\ub825 \ubd84\uc57c\uc758 \uc0ac\uc5c5\ud654 \uac00\ub2a5\uc131\uc744 \uc785\uc99d\ud588\ub2e4.</p><p><strong>\'\ub0b4\ud3ec \ub514\uc9c0\ud138 \ud2b8\uc708\'</strong>\uc740 \uae40\ud0dc\uade0 \ucc45\uc784\uc5f0\uad6c\uc6d0 \uc5f0\uad6c\ud300\uc774 \u321c\ub3c4\ucc29\uacfc \ud611\ub825\ud574 \uc0c1\uc6a9\ud654\ud588\uc73c\uba70, \uc2e4\uc81c \ub3c4\uc2dc\uc640 \uad50\ud1b5 \uc0c1\ud669\uc744 3D \uac00\uc0c1\ud658\uacbd\uc73c\ub85c \uad6c\ud604\ud574 \uad50\ud1b5 \ubaa8\ub2c8\ud130\ub9c1, \uc0c1\ud669 \uc608\uce21, \uc7ac\ub09c \ub300\uc751, \uc815\ucc45 \uac80\uc99d \ub4f1\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\uc73c\uba70, \uc2a4\ub9c8\ud2b8\uc2dc\ud2f0 \uad6c\ucd95\uc758 \ud575\uc2ec\uae30\uc220\ub85c \uc8fc\ubaa9\ubc1b\uace0 \uc788\ub2e4.</p><p><strong>\'\uc911\uc18c\uae30\uc5c5 \ud2b9\ud654\ud615 \uc790\uc728\uc8fc\ud589\ub85c\ubd07\'</strong>\uc740 \uae40\uacbd\uc218\xb7\ucd5c\uadfc\ud558 \uad50\uc218 \uc5f0\uad6c\ud300\uc774 \uac1c\ubc1c\ud55c \uc911\uc18c\uae30\uc5c5 \ubb3c\ub958 \ud658\uacbd\uc5d0 \ucd5c\uc801\ud654\ub41c \uc790\uc728\uc8fc\ud589 \ubb3c\ub958 \ub85c\ubd07\uc73c\ub85c \uc2dc\uc5f0 \ud604\uc7a5\uc5d0\uc11c \uacf5\uc7a5 \ub0b4 \ubb3c\ub958 \uc801\uce58\ub300\ub97c \uc815\ubc00\ud558\uac8c \uc774\ub3d9\xb7\uc801\uc7ac\ud558\ub294 \ubaa8\uc2b5\uc744 \ubcf4\uc5ec\uc8fc\uba70 \uc911\uc18c \uc81c\uc870\uc5c5 \ud601\uc2e0 \uac00\ub2a5\uc131\uc744 \ud655\uc778\uc2dc\ucf30\ub2e4.</p><blockquote>\uc6d0\uaca9\uc8fc\ud589 \ubc1c\ub808\ud30c\ud0b9 \uae30\uc220\uc740 \ub300\uc804\uc5d0\uc11c \uc6d0\uaca9 \uc81c\uc5b4\ub41c \ucc28\ub7c9\uc774 \ub0b4\ud3ec \uc5f0\uad6c\uc18c\uae4c\uc9c0 \uc774\ub3d9\ud574 \ubaa9\uc801\uc9c0 \uc8fc\ucc28\uae4c\uc9c0 \uc644\ub8cc\ud558\ub294 \ubaa8\uc2b5\uc744 \uc120\ubcf4\uc774\uba70, \uc6d0\uaca9 \uc790\uc728\uc8fc\ud589\uc758 \uc548\uc815\uc131\uacfc \uc2e4\ud6a8\uc131\uc744 \uc785\uc99d\ud588\ub2e4.</blockquote><p><strong>\'\uc6d0\uaca9\uc8fc\ud589 \ubc1c\ub808\ud30c\ud0b9 \uae30\uc220\'</strong>\uc740 \uae40\uc778\ud76c \uad50\uc218\uac00 \u321c\ub3c4\ucc29, \u321c\ud1a0\ub80c\ud1a0\uc2dc\uc2a4\ud15c\uc988, \u321c\uc774\ubaa8\uc158, \uad6d\uac00 \uacfc\ud559\uae30\uc220 \uc5f0\uad6c\ub9dd KREONET(\ud55c\uad6d\uacfc\ud559\uae30\uc220\uc815\ubcf4\uc5f0\uad6c\uc6d0 \uc6b4\uc601)\uacfc \ud611\ub825\ud574 \uc0c1\uc6a9\ud654\ub97c \ucd94\uc9c4 \uc911\uc774\ub2e4.</p><p><strong>\'\uc790\uc728\uc8fc\ud589 \ud14c\uc2a4\ud2b8\ubca0\ub4dc\'</strong>\ub294 \uc548\ud76c\uc9c4\xb7\ub178\ubbfc\uade0 \uad50\uc218\uac00 \uad6c\ucd95\ud55c \ud50c\ub7ab\ud3fc\uc73c\ub85c, \ucd95\uc18c\ucc28 \uae30\ubc18 \uc790\uc728\uc8fc\ud589 \uc5f0\uad6c\uc131\uacfc\ub97c \uad50\uc721\xb7\uc0b0\uc5c5 \uc2e4\uc99d \ud50c\ub7ab\ud3fc\uc73c\ub85c \ud655\uc7a5\ud55c \uc0ac\ub840\ub2e4. KAIST \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\uc18c\ub294 \uc774\ub97c \uae30\ubc18\uc73c\ub85c \ub0b4\ub144 <strong>\'2025 KAIST \ubaa8\ube4c\ub9ac\ud2f0 \ucc4c\ub9b0\uc9c0 \uacbd\uc9c4\ub300\ud68c\'</strong>\ub97c \uc5f4\uc5b4 \ucc28\uc138\ub300 \uc778\uc7ac\uc591\uc131\uacfc \uae30\uc220\uc0ac\uc5c5\ud654\ub97c \ub3d9\uc2dc\uc5d0 \ucd94\uc9c4\ud560 \uc608\uc815\uc774\ub2e4.</p><p><strong>\'AI \ucef4\ud4e8\ud305\uc13c\ud130\'</strong>\ub294 \uace7 \ucf54\uc2a4\ub2e5 \uc0c1\uc7a5\uc744 \uc55e\ub454 \u321c\ub178\ud0c0\uac00 \uacf5\uac1c\ud588\uc73c\uba70, RE100 \uae30\ubc18 \uc804\ub825 \uc2dc\uc2a4\ud15c\uacfc AI \ucd5c\uc801\ud654 \uae30\uc220\uc744 \uc18c\uac1c\ud558\uace0 \uc785\uc8fc\uae30\uc5c5\uacfc\uc758 \ud611\ub825 \ube44\uc804\uc744 \uc81c\uc2dc\ud558\uba70 AI \uc0dd\ud0dc\uacc4 \ud655\uc0b0\uc5d0 \uae30\uc5ec\ud558\uaca0\ub2e4\ub294 \ubaa9\ud45c\ub97c \ubc1d\ud614\ub2e4.</p><h2>\uc5f0\uad6c\uc18c\uc7a5 \ubc0f \ucd1d\uc7a5 \ucf54\uba58\ud2b8</h2><blockquote>\uc7a5\uae30\ud0dc KAIST \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\uc18c\uc7a5\uc740 \\"\uc774\ubc88 \uc2dc\uc5f0\ud68c\ub294 KAIST \uc5f0\uad6c\uc131\uacfc\uac00 \uc0b0\uc5c5 \ud604\uc7a5\uc73c\ub85c \ud655\uc0b0\ub418\ub294 \uad6c\uccb4\uc801\uc778 \uacfc\uc815\uc744 \ubcf4\uc5ec\uc900 \uc790\ub9ac\\"\ub77c\uba70 \\"\uc55e\uc73c\ub85c\ub3c4 \uc9c0\uc790\uccb4 \ubc0f \uae30\uc5c5\uacfc \uae34\ubc00\ud788 \ud611\ub825\ud574 \ubbf8\ub798 \ubaa8\ube4c\ub9ac\ud2f0\xb7AI \uae30\uc220\uc758 \uc0c1\uc6a9\ud654\uc640 \uc9c0\uc5ed \uc0b0\uc5c5 \ubc1c\uc804\uc744 \uc120\ub3c4\ud558\uaca0\ub2e4\\"\uace0 \ubc1d\ud614\ub2e4.</blockquote><blockquote>\uc774\uad11\ud615 KAIST \ucd1d\uc7a5\uc740 \\"KAIST\ub294 \uae30\uc220\ud601\uc2e0\uc73c\ub85c \uad6d\uac00\uc640 \uc9c0\uc5ed\uc0ac\ud68c\uc5d0 \uae30\uc5ec\ud558\ub294 \uac83\uc744 \uc0ac\uba85\uc73c\ub85c \uc0bc\uace0 \uc788\ub2e4. \uc5f0\uad6c\uc131\uacfc\uac00 \uc0b0\uc5c5 \ud604\uc7a5\uc5d0\uc11c \uc2e4\uc9c8\uc801\uc778 \ubcc0\ud654\ub97c \ub9cc\ub4dc\ub294 \ubaa8\uc2b5\uc744 \ub73b\uae4a\uac8c \uc0dd\uac01\ud558\uba70, \uc55e\uc73c\ub85c\ub3c4 \uae30\uc5c5\uacfc \uc9c0\uc790\uccb4\uc640\uc758 \ud611\ub825\uc744 \ud1b5\ud574 \uae00\ub85c\ubc8c \ubaa8\ube4c\ub9ac\ud2f0 \ud601\uc2e0\uacfc \uc0c8\ub85c\uc6b4 \uac00\uce58 \ucc3d\ucd9c\uc744 \uc120\ub3c4\ud558\uaca0\ub2e4\\"\uace0 \uac15\uc870\ud588\ub2e4.</blockquote>"},"ptvApacUgm2025":{"title":"\uae40\ud0dc\uade0, PTV \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305 2025\uc5d0\uc11c \ubc1c\ud45c","date":"2025\ub144 9\uc6d4 24\uc77c","category":"\ud559\uc220\ub300\ud68c","author":"\ub3c4\ucc29 \ud300","readTime":"4\ubd84 \uc77d\uae30","content":"<p><strong>\ud589\uc0ac \ucd9c\ucc98:</strong> <a href=\\"https://www.ptvgroup.com/en-us/node/2201\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" style=\\"color: #60A5FA; font-style: italic;\\">PTV APAC UGM 2025 \uacf5\uc2dd \ud398\uc774\uc9c0</a></p><p><strong>PTV \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305 2025</strong>\uac00 2025\ub144 9\uc6d4 24\uc77c \uc218\uc694\uc77c \uc2f1\uac00\ud3ec\ub974\uc5d0\uc11c \uc131\uacf5\uc801\uc73c\ub85c \uac1c\ucd5c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc62c\ud574\uc758 \uc8fc\uc81c\uc778 <em>\uc2a4\ub9c8\ud2b8 \ubaa8\ube4c\ub9ac\ud2f0, \uc2e4\uc9c8\uc801 \uc601\ud5a5(Smart Mobility, Real Impact)</em>\uc740 \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc9c0\uc5ed\uc758 \uad50\ud1b5 \uc804\ubb38\uac00\ub4e4\uc774 \ud55c\uc790\ub9ac\uc5d0 \ubaa8\uc5ec PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc758 \ud601\uc2e0\uc801\uc778 \uc751\uc6a9 \uc0ac\ub840\ub97c \uacf5\uc720\ud558\ub294 \uc790\ub9ac\uc600\uc2b5\ub2c8\ub2e4.</p><h2>KAIST\uc758 \ubc1c\ud45c: \ub0b4\ud3ec \ubaa8\ube4c\ub9ac\ud2f0 \ub514\uc9c0\ud138 \ud2b8\uc708</h2><p>KAIST\uc758 \uc804\ubb34\uae30\uc220\uace0\ubb38 <strong>\uae40\ud0dc\uade0</strong>\uc774 \uae30\uc870\uc5f0\uc0ac\ub85c \ucd08\uccad\ub418\uc5b4 \uc624\uc804 10:35-10:55\uc5d0 <strong>\\"PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc640 \ud1b5\ud569\ub41c \ub0b4\ud3ec \ubaa8\ube4c\ub9ac\ud2f0 \ub514\uc9c0\ud138 \ud2b8\uc708 \ubaa8\ub378\\"</strong>\uc774\ub77c\ub294 \uc8fc\uc81c\ub85c \ubc1c\ud45c\ub97c \uc9c4\ud589\ud588\uc2b5\ub2c8\ub2e4.</p><figure class=\\"article-figure\\"><img src=\\"IMAGE_TKKIM_PHOTO\\" alt=\\"PTV APAC \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305 2025\uc5d0\uc11c \ubc1c\ud45c\ud558\ub294 \uae40\ud0dc\uade0\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">\uc2f1\uac00\ud3ec\ub974\uc5d0\uc11c \uc5f4\ub9b0 PTV APAC \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305 2025\uc5d0\uc11c \ubc1c\ud45c\ud558\ub294 \uae40\ud0dc\uade0</figcaption></figure><p>\ubc1c\ud45c\uc5d0\uc11c\ub294 KAIST \uc5f0\uad6c\ud300\uc774 PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4(Visum\uacfc Vissim)\ub97c \ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220\uacfc \ud1b5\ud569\ud558\uc5ec \uac1c\ubc1c\ud55c \ucca8\ub2e8 <strong>\uad50\ud1b5 \ub514\uc9c0\ud138 \ud2b8\uc708 \ud50c\ub7ab\ud3fc</strong>\uc744 \uc120\ubcf4\uc600\uc2b5\ub2c8\ub2e4. \uc774 \ud50c\ub7ab\ud3fc\uc740 \uc2a4\ub9c8\ud2b8\uc2dc\ud2f0 \uc751\uc6a9\uc744 \uc704\ud55c \uc2e4\uc2dc\uac04 \uad50\ud1b5 \ubaa8\ub2c8\ud130\ub9c1, \uc2dc\ubbac\ub808\uc774\uc158 \ubc0f \uc608\uce21\uc744 \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4.</p><figure class=\\"article-figure\\"><img src=\\"IMAGE_TKKIM_PRESENTATION2\\" alt=\\"\ubc1c\ud45c \uc2ac\ub77c\uc774\ub4dc\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc640 \ud1b5\ud569\ub41c \ub0b4\ud3ec \ubaa8\ube4c\ub9ac\ud2f0 \ub514\uc9c0\ud138 \ud2b8\uc708 \ubaa8\ub378 \ubc1c\ud45c</figcaption></figure><h2>PTV APAC UGM 2025 \uc18c\uac1c</h2><p>PTV APAC \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305\uc740 PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub354 \uc2a4\ub9c8\ud2b8\ud558\uace0 \uc9c0\uc18d \uac00\ub2a5\ud55c \ubaa8\ube4c\ub9ac\ud2f0\ub97c \uad6c\ud604\ud558\ub294 \uad50\ud1b5 \uc804\ubb38\uac00\ub4e4\uc758 \uc5f0\ub840 \uc9c0\uc5ed \ubaa8\uc784\uc785\ub2c8\ub2e4. \uc774 \ud589\uc0ac\uc5d0\uc11c\ub294 \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc804\uc5ed\uc758 \uc120\ub3c4\uc801\uc778 \uc804\ubb38\uac00\ub4e4\uc758 \ubc1c\ud45c\ub97c \ud1b5\ud574 \ub2e4\uc74c\uacfc \uac19\uc740 \ubd84\uc57c\uc758 \uc2e4\uc81c \uc194\ub8e8\uc158\uc744 \uc120\ubcf4\uc600\uc2b5\ub2c8\ub2e4:</p><ul><li>\ub300\uc911\uad50\ud1b5 \uacc4\ud68d</li><li>\uad50\ud1b5 \uc2dc\ubbac\ub808\uc774\uc158 \ubc0f \ucd5c\uc801\ud654</li><li>\ub514\uc9c0\ud138 \ud2b8\uc708 \uc751\uc6a9</li><li>\uc2a4\ub9c8\ud2b8\uc2dc\ud2f0 \uac1c\ubc1c</li><li>\ubaa8\ube4c\ub9ac\ud2f0\uc5d0 \ub300\ud55c \ud64d\uc218 \uc601\ud5a5 \ud3c9\uac00</li><li>AI \uae30\ubc18 \uad50\ud1b5 \uad00\ub9ac</li></ul><blockquote>\uc62c\ud574 UGM\uc740 \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc9c0\uc5ed\uc758 PTV \uc0ac\uc6a9\uc790\ub4e4\uc774 AI, \ub514\uc9c0\ud138 \ud2b8\uc708, \ud3ec\uc6a9\uc801 \uacc4\ud68d \uc811\uadfc\ubc95\uc744 \ud1b5\ud574 \ub370\uc774\ud130\ub97c \uc2e4\ud589\uc73c\ub85c \uc804\ud658\ud558\ub294 \ubc29\ubc95\uc744 \uac15\uc870\ud588\uc2b5\ub2c8\ub2e4.</blockquote><h3>\ud589\uc0ac \uc138\ubd80\uc815\ubcf4</h3><p><strong>\ub0a0\uc9dc:</strong> 2025\ub144 9\uc6d4 24\uc77c \uc218\uc694\uc77c<br/><strong>\uc2dc\uac04:</strong> \uc624\uc804 10\uc2dc - \uc624\ud6c4 5\uc2dc, \ub124\ud2b8\uc6cc\ud0b9 \uc74c\ub8cc \ud589\uc0ac<br/><strong>\uc7a5\uc18c:</strong> Overlap @ The Working Capitol, 1 Keong Saik Road, Singapore S089109<br/><strong>\ud615\uc2dd:</strong> \ud558\uc774\ube0c\ub9ac\ub4dc (\ub300\uba74 \ubc0f Zoom \uc628\ub77c\uc778)</p><h2>\uc8fc\uc694 \ud558\uc774\ub77c\uc774\ud2b8</h2><p>\uae40\ud0dc\uade0\uc758 \ubc1c\ud45c\ub294 PTV Visum \ubc0f Vissim \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc640 KAIST\uc758 \ub3c5\uc790\uc801\uc778 \ub514\uc9c0\ud138 \ud2b8\uc708 \uae30\uc220\uc758 \uc131\uacf5\uc801\uc778 \ud1b5\ud569\uc744 \ubcf4\uc5ec\uc8fc\uc5c8\uc73c\uba70, \ub2e4\uc74c\uc744 \uc704\ud55c \uc885\ud569 \ud50c\ub7ab\ud3fc\uc744 \uad6c\ucd95\ud588\uc2b5\ub2c8\ub2e4:</p><ul><li>\uc2e4\uc2dc\uac04 \uad50\ud1b5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc2dc\uac01\ud654</li><li>\uc2dc\ub098\ub9ac\uc624 \uc2dc\ubbac\ub808\uc774\uc158 \ubc0f \uc608\uce21</li><li>\uad50\ud1b5 \ucd5c\uc801\ud654 \uc804\ub7b5</li><li>\ub370\uc774\ud130 \uae30\ubc18 \uc815\ucc45 \uc758\uc0ac\uacb0\uc815 \uc9c0\uc6d0</li></ul><figure class=\\"article-figure\\"><img src=\\"IMAGE_TKKIM_CERTIFICATE\\" alt=\\"PTV \uacf5\uc778 \uad50\uc721\uc790 \uc790\uaca9\uc99d\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">\uae40\ud0dc\uade0\uc5d0\uac8c \uc218\uc5ec\ub41c PTV \uacf5\uc778 \uad50\uc721\uc790 \uc790\uaca9\uc99d</figcaption></figure><p>\uc774\ub7ec\ud55c \ud601\uc2e0\uc801\uc778 \uc811\uadfc \ubc29\uc2dd\uc740 KAIST\uc640 \ub3c4\ucc29\uc744 \uad50\ud1b5 \ub514\uc9c0\ud138 \ud2b8\uc708 \uac1c\ubc1c\uc758 \uc120\ub450\uc8fc\uc790\ub85c \uc790\ub9ac\ub9e4\uae40\ud558\uac8c \ud558\uba70, \uc138\uacc4\uc801 \uc218\uc900\uc758 \uc2dc\ubbac\ub808\uc774\uc158 \ub3c4\uad6c\uc640 \ucd5c\ucca8\ub2e8 AI \ubc0f \uc2dc\uac01\ud654 \uae30\uc220\uc744 \uacb0\ud569\ud588\uc2b5\ub2c8\ub2e4.</p>"},"changhuiKimInternship":{"title":"\uae40\ucc3d\ud76c \ud559\uc0dd, KAIST-PTV \uacf5\ub3d9 \uc778\ud134\uc2ed \ud504\ub85c\uadf8\ub7a8 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc","date":"2025\ub144 8\uc6d4 29\uc77c","category":"\uc778\ud134\uc2ed","author":"\ub3c4\ucc29 \ud300","readTime":"3\ubd84 \uc77d\uae30","content":"<p>KAIST \ucef4\ud4e8\ud130\uacf5\ud559\uacfc 4\ud559\ub144 <strong>\uae40\ucc3d\ud76c</strong> \ud559\uc0dd\uc774 <strong>KAIST-PTV Group \uc5ec\ub984 \uc778\ud134\uc2ed \ud504\ub85c\uadf8\ub7a8</strong>\uc744 2025\ub144 8\uc6d4 29\uc77c \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ud558\uc600\uc2b5\ub2c8\ub2e4.</p><h2>\uc778\ud134\uc2ed \uc5f0\uad6c \uc8fc\uc81c</h2><div class=\\"content-with-image-section\\"><div class=\\"content-text\\"><p>\uae40\ucc3d\ud76c \ud559\uc0dd\uc758 \uc778\ud134\uc2ed \uc8fc\uc81c\ub294 <strong>\\"AI \uae30\ubc18 \ud569\uc131 \uc778\uad6c \ubc0f \ud65c\ub3d9 \uc0dd\uc131\uc744 \uc704\ud55c Visum \uae30\ubc18 \uac80\uc99d \ud504\ub808\uc784\uc6cc\ud06c (A Visum-Based Validation Framework for AI-Driven Synthetic Population and Activity Generation)\\"</strong>\uc600\uc2b5\ub2c8\ub2e4.</p><p>\uc774\ubc88 \uc5f0\uad6c\ub294 <strong>\uc5d0\uc774\uc804\ud2b8 \uae30\ubc18 \ubaa8\ub378\ub9c1(ABM, Agent-Based Modeling)</strong>, \ud569\uc131 \uc778\uad6c \uc0dd\uc131, \uadf8\ub9ac\uace0 \uc2e4\uc81c \ud658\uacbd \uac80\uc99d\uc5d0 \uc911\uc810\uc744 \ub450\uc5c8\uc73c\uba70, \uad50\ud1b5 \uc5f0\uad6c \ubd84\uc57c\uc5d0\uc11c <strong>PTV Visum</strong> \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uad11\ubc94\uc704\ud558\uac8c \ud65c\uc6a9\ud558\uc5ec \ub370\uc774\ud130 \uae30\ubc18 \ubaa8\ub378\ub9c1 \ubc0f \uac80\uc99d \ud504\ub808\uc784\uc6cc\ud06c\uc5d0 \ub300\ud55c \uadc0\uc911\ud55c \ud1b5\ucc30\uc744 \uc81c\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc778\ud134\uc2ed \ud504\ub85c\uc81d\ud2b8\ub294 AI \uae30\ubc18 \uc811\uadfc\ubc95\uacfc \uae30\uc874 \uad50\ud1b5 \uacc4\ud68d \ub3c4\uad6c\ub97c \ud1b5\ud569\ud558\uc5ec \uac15\ub825\ud55c \uac80\uc99d \ubc29\ubc95\ub860\uc744 \uad6c\ucd95\ud558\ub294 \ub370 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.</p></div><div class=\\"content-image\\"><img src=\\"IMAGE_CHANGHUI_CERTIFICATE\\" alt=\\"KAIST-PTV Group \uc5ec\ub984 \uc778\ud134\uc2ed \uc218\ub8cc\uc99d\\" class=\\"inline-content-image\\" /><p style=\\"font-size: 0.9rem; color: #64748b; font-style: italic; margin-top: 0.5rem;\\">\uae40\ucc3d\ud76c \ud559\uc0dd\uc758 KAIST-PTV Group \uc5ec\ub984 \uc778\ud134\uc2ed \uc218\ub8cc\uc99d</p></div></div><blockquote>\uc778\ud134\uc2ed \ud504\ub85c\uc81d\ud2b8\ub294 \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c \ub0b4\uc5d0\uc11c \ub370\uc774\ud130 \uae30\ubc18 \ubaa8\ub378\ub9c1\uacfc \uac80\uc99d \ud504\ub808\uc784\uc6cc\ud06c\uc5d0 \uadc0\uc911\ud55c \ud1b5\ucc30\uc744 \uc81c\uacf5\ud558\uba70, PTV Visum\uc744 \uad11\ubc94\uc704\ud558\uac8c \ud65c\uc6a9\ud558\uc600\uc2b5\ub2c8\ub2e4.</blockquote><h2>\uc2f1\uac00\ud3ec\ub974 PTV APAC \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305 \ucc38\uc11d</h2><p>\uc778\ud134\uc2ed\uc758 \uc131\uacfc\ub85c \uae40\ucc3d\ud76c \ud559\uc0dd\uc740 <strong>PTV Group\uc774 \uc8fc\ucd5c\ud55c \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305</strong>\uc5d0 \ucd08\uccad\ubc1b\uc544 \uc2f1\uac00\ud3ec\ub974\ub97c \ubc29\ubb38\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc774 \ud589\uc0ac\ub294 \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc9c0\uc5ed\uc758 \uad50\ud1b5 \uc804\ubb38\uac00\ub4e4\uc774 \ud55c\uc790\ub9ac\uc5d0 \ubaa8\uc5ec PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc758 \ud601\uc2e0\uc801\uc778 \uc751\uc6a9 \uc0ac\ub840\ub97c \uacf5\uc720\ud558\ub294 \uc911\uc694\ud55c \uad6d\uc81c \ud589\uc0ac\uc785\ub2c8\ub2e4.</p><figure class=\\"article-figure\\"><img src=\\"IMAGE_CHANGHUI_SINGAPORE\\" alt=\\"\uc2f1\uac00\ud3ec\ub974 PTV APAC \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305\\" class=\\"article-image\\" /><figcaption class=\\"article-image-caption\\">\uc2f1\uac00\ud3ec\ub974\uc5d0\uc11c \uc5f4\ub9b0 PTV APAC \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubbf8\ud305\uc5d0 \ucc38\uc11d\ud55c \uae40\ucc3d\ud76c \ud559\uc0dd</figcaption></figure><p>Ryan Wong PTV Group \uc544\uc2dc\uc544 \ud0dc\ud3c9\uc591 \uc9c0\uc5ed \ucd1d\uad04\uc774\uc0ac\ub85c\ubd80\ud130 \uc218\uc5ec\ub41c \uacf5\uc2dd \uc218\ub8cc\uc99d\uc740 \uae40\ucc3d\ud76c \ud559\uc0dd\uc758 \ud5cc\uc2e0\uacfc \uc778\ud134\uc2ed \uae30\uac04 \ub3d9\uc548\uc758 \uc6b0\uc218\ud55c \uc131\uacfc\ub97c \uc778\uc815\ud558\ub294 \uac83\uc785\ub2c8\ub2e4.</p><h2>\ud5a5\ud6c4 \uae30\ub300</h2><blockquote>\uc55e\uc73c\ub85c\ub3c4 \uae40\ucc3d\ud76c \ud559\uc0dd\uc758 \uc5f0\uad6c\uc640 \ud559\uc5c5\uc5d0\uc11c \uc88b\uc740 \uc131\uacfc\uac00 \uc788\uae30\ub97c \ubc14\ub78d\ub2c8\ub2e4.</blockquote><p>\uc774\ubc88 \uc778\ud134\uc2ed\uc740 KAIST\uc640 PTV Group\uc758 \uc131\uacf5\uc801\uc778 \uc0b0\ud559\ud611\ub825 \uc0ac\ub840\ub85c, \ud559\uc0dd\ub4e4\uc5d0\uac8c \uc2e4\ubb34 \uacbd\ud5d8\uacfc \uad6d\uc81c\uc801 \ub124\ud2b8\uc6cc\ud0b9 \uae30\ud68c\ub97c \uc81c\uacf5\ud558\ub294 \uc911\uc694\ud55c \ud504\ub85c\uadf8\ub7a8\uc785\ub2c8\ub2e4.</p>"}},"article":{"backToNews":"\ub274\uc2a4\ub85c \ub3cc\uc544\uac00\uae30","notFound":{"title":"\uae30\uc0ac\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","message":"\ucc3e\uace0 \uacc4\uc2e0 \uae30\uc0ac\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098 \uc774\ub3d9\ub418\uc5c8\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}}},"training":{"heroTitle":"\uad50\uc721 \uacfc\uc815","heroSubtitle":"\ubcf8 \uacfc\uc815\uc740 KAIST \ubaa8\ube4c\ub9ac\ud2f0 \uc5f0\uad6c\uc18c\uc640 \ub3c4\ucc29\uc758 \ud611\ub825 \ud504\ub85c\uadf8\ub7a8\uc785\ub2c8\ub2e4. \ud2b9\ud788, PTV \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uad50\uc721 \uacfc\uc815\uc740 \ud55c\uad6d \ucd5c\ucd08\ub85c \ud55c\uad6d\uc5b4\ub97c \uad6c\uc0ac\ud558\ub294 PTV \uacf5\uc778 \uad50\uc721\uc790\ub4e4\uc774 \uacf5\uc2dd\uc801\uc73c\ub85c \uc9c4\ud589\ud558\ub294 \uad50\uc721\uc785\ub2c8\ub2e4. \uad50\uc721\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uc774\uc218\ud55c \ud559\uc0dd\ub4e4\uc5d0\uac8c\ub294 \uacf5\uc2dd PTV \uc778\uc99d\uc11c\uac00 \uc218\uc5ec\ub429\ub2c8\ub2e4.","filters":{"allProducts":"\ubaa8\ub4e0 \uc81c\ud488","allLevels":"\ubaa8\ub4e0 \ub808\ubca8","searchPlaceholder":"\uad50\uc721 \uacfc\uc815 \uac80\uc0c9...","productFilterLabel":"\uc81c\ud488\ubcc4 \ud544\ud130","levelFilterLabel":"\ub808\ubca8\ubcc4 \ud544\ud130","searchLabel":"\uad50\uc721 \uacfc\uc815 \uac80\uc0c9"},"results":{"coursesFound":"\uac1c \uad50\uc721 \uacfc\uc815","noCourses":"\uad50\uc721 \uacfc\uc815\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","noCoursesMessage":"\ud544\ud130\ub098 \uac80\uc0c9\uc5b4\ub97c \uc870\uc815\ud558\uc5ec \uad50\uc721 \uacfc\uc815\uc744 \ucc3e\uc544\ubcf4\uc138\uc694."},"courseCard":{"viewDetails":"\uc790\uc138\ud788 \ubcf4\uae30","viewDetailsAriaLabel":"\uc790\uc138\ud788 \ubcf4\uae30"},"levels":{"Basic":"\uae30\ucd08","Intermediate":"\uc911\uae09","Advanced":"\uace0\uae09","Individual":"\uac1c\ubcc4"},"course":{"backToTraining":"\uad50\uc721 \uacfc\uc815 \ubaa9\ub85d\uc73c\ub85c \ub3cc\uc544\uac00\uae30","overview":"\uacfc\uc815 \uac1c\uc694","duration":"\uad50\uc721 \uae30\uac04","level":"\ub09c\uc774\ub3c4","product":"\uc81c\ud488","code":"\uacfc\uc815 \ucf54\ub4dc","targetGroup":"\ub300\uc0c1","prerequisites":"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d","contents":"\uad50\uc721 \ub0b4\uc6a9","pricing":"\uac00\uaca9 \uc815\ubcf4","advantages":"\uc7a5\uc810","description":"\uc124\uba85","courseInformation":"\uacfc\uc815 \uc815\ubcf4","pricingRegistration":"\uac00\uaca9 \ubc0f \ub4f1\ub85d","getStarted":"\uc2dc\uc791\ud558\uae30","readyToEnhance":"\uc774 \uacfc\uc815\uc73c\ub85c \uae30\uc220\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc900\ube44\uac00 \ub418\uc168\ub098\uc694?","contactUs":"\ubb38\uc758\ud558\uae30","notFound":{"title":"\uad50\uc721 \uacfc\uc815\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","message":"\ucc3e\uace0 \uacc4\uc2e0 \uad50\uc721 \uacfc\uc815\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098 \uc774\ub3d9\ub418\uc5c8\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}}}}');var Yn=n(579);const Xn=(0,i.createContext)(),Kn={en:Wn,ko:Qn},Zn="preferred-language",Jn=e=>{let{children:t}=e;const[n,r]=(0,i.useState)("en");(0,i.useEffect)(()=>{try{const e=localStorage.getItem(Zn);e&&Kn[e]&&r(e)}catch(e){console.warn("Failed to load language preference from localStorage:",e)}},[]);const a={currentLanguage:n,setLanguage:e=>{if(Kn[e]){r(e);try{localStorage.setItem(Zn,e)}catch(t){console.warn("Failed to save language preference to localStorage:",t)}}else console.warn("Invalid language code: ".concat(e))},t:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e.split(".");let r=Kn[n];for(const n of i){if(!r||"object"!==typeof r||!(n in r)){let t=Kn.en;for(const n of i){if(!t||"object"!==typeof t||!(n in t))return console.warn("Translation key not found: ".concat(e)),e;t=t[n]}r=t;break}r=r[n]}let a=r||e;return"string"===typeof a&&t&&Object.keys(t).length>0&&Object.keys(t).forEach(e=>{const n="{{".concat(e,"}}");a=a.replace(new RegExp(n,"g"),t[e])}),a},availableLanguages:Object.keys(Kn)};return(0,Yn.jsx)(Xn.Provider,{value:a,children:t})},$n=Xn,ei=()=>{const{currentLanguage:e,setLanguage:t,availableLanguages:n}=(0,i.useContext)($n),[r,a]=(0,i.useState)(!1),o=(0,i.useRef)(null),s=(0,i.useRef)(null),l={en:"EN",ko:"KO"},c={en:"English",ko:"\ud55c\uad6d\uc5b4"};(0,i.useEffect)(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const u=e=>{var n;t(e),a(!1),null===(n=s.current)||void 0===n||n.focus()};return(0,Yn.jsxs)("div",{className:"language-selector",ref:o,children:[(0,Yn.jsxs)("button",{ref:s,className:"language-selector-button ".concat(r?"open":""),onClick:()=>a(!r),onKeyDown:e=>{var t;switch(e.key){case"Enter":case" ":e.preventDefault(),a(!r);break;case"Escape":a(!1),null===(t=s.current)||void 0===t||t.focus();break;case"ArrowDown":if(e.preventDefault(),r){var n;const e=null===(n=o.current)||void 0===n?void 0:n.querySelector(".language-option");null===e||void 0===e||e.focus()}else a(!0);break;case"ArrowUp":if(e.preventDefault(),r){var i;const e=null===(i=o.current)||void 0===i?void 0:i.querySelectorAll(".language-option"),t=null===e||void 0===e?void 0:e[e.length-1];null===t||void 0===t||t.focus()}}},"aria-label":"Current language: ".concat(c[e],". Click to change language"),"aria-expanded":r,"aria-haspopup":"listbox",type:"button",children:[(0,Yn.jsx)("span",{className:"language-label",children:l[e]}),(0,Yn.jsx)("svg",{className:"dropdown-arrow ".concat(r?"rotated":""),width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,Yn.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&(0,Yn.jsx)("div",{className:"language-dropdown",role:"listbox","aria-label":"Language options",children:n.map(t=>(0,Yn.jsxs)("button",{className:"language-option ".concat(e===t?"active":""),onClick:()=>u(t),onKeyDown:e=>((e,t)=>{var n;switch(e.key){case"Enter":case" ":e.preventDefault(),u(t);break;case"Escape":a(!1),null===(n=s.current)||void 0===n||n.focus();break;case"ArrowDown":e.preventDefault();const l=e.target.nextElementSibling;if(l)l.focus();else{var i;const e=null===(i=o.current)||void 0===i?void 0:i.querySelector(".language-option");null===e||void 0===e||e.focus()}break;case"ArrowUp":e.preventDefault();const c=e.target.previousElementSibling;if(c)c.focus();else{var r;const e=null===(r=o.current)||void 0===r?void 0:r.querySelectorAll(".language-option"),t=null===e||void 0===e?void 0:e[e.length-1];null===t||void 0===t||t.focus()}}})(e,t),role:"option","aria-selected":e===t,tabIndex:-1,type:"button",children:[(0,Yn.jsx)("span",{className:"language-code",children:l[t]}),(0,Yn.jsx)("span",{className:"language-name",children:c[t]}),e===t&&(0,Yn.jsx)("svg",{className:"check-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,Yn.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]},t))})]})},ti=[{id:"remote-driving",slug:"remote-driving",path:"/solutions/remote-driving",titleKey:"solutions.items.teleDriving.title",descKey:"solutions.items.teleDriving.desc"},{id:"digital-twin",slug:"digital-twin",path:"/solutions/digital-twin",titleKey:"solutions.items.digitalTwin.title",descKey:"solutions.items.digitalTwin.desc"},{id:"multimodal-simulator",slug:"multimodal-simulator",path:"/solutions/multimodal-simulator",titleKey:"solutions.items.multimodal.title",descKey:"solutions.items.multimodal.desc"},{id:"traffic-analysis-tools",slug:"traffic-analysis-tools",path:"/solutions/traffic-analysis-tools",titleKey:"solutions.items.trafficAnalysis.title",descKey:"solutions.items.trafficAnalysis.desc"},{id:"vr-road-design",slug:"vr-road-design",path:"/solutions/vr-road-design",titleKey:"solutions.items.lifeSavingRobot.title",descKey:"solutions.items.lifeSavingRobot.desc"},{id:"visualization",slug:"visualization",path:"/solutions/visualization",titleKey:"solutions.items.visualisation.title",descKey:"solutions.items.visualisation.desc"}];const ni=function(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),{t:u}=(0,i.useContext)($n),d=Et(),h=(0,i.useRef)(null);(0,i.useRef)(null),(0,i.useEffect)(()=>{let n;const i=()=>{r(window.innerWidth<=1100),window.innerWidth>1100&&t(!1)},o=()=>{clearTimeout(n),n=setTimeout(i,150)},l=n=>{!e||n.target.closest(".navbar")||n.target.closest(".mobile-menu")||t(!1),!a||n.target.closest(".solutions-dropdown")||n.target.closest(".solutions-dropdown-button")||s(!1)};return i(),window.addEventListener("resize",o),document.addEventListener("click",l),()=>{window.removeEventListener("resize",o),document.removeEventListener("click",l),clearTimeout(n)}},[e,a]);const p=()=>{s(!1),t(!1)},m=e=>d.pathname===e,f=()=>d.pathname.startsWith("/solutions");return(0,Yn.jsxs)("nav",{className:"navbar",children:[(0,Yn.jsx)("div",{className:"navbar-left",children:(0,Yn.jsx)(Un,{to:"/",children:(0,Yn.jsx)("img",{src:o,alt:"dochak logo",className:"navbar-logo"})})}),(0,Yn.jsxs)("div",{className:"navbar-center",children:[(0,Yn.jsx)(Un,{to:"/about",className:"/about"===d.pathname?"active":"",children:u("nav.about")}),(0,Yn.jsxs)("div",{className:"solutions-dropdown",ref:h,onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[(0,Yn.jsxs)("div",{className:"solutions-nav-container ".concat(f()?"active":""),onKeyDown:e=>{"Escape"===e.key?s(!1):"ArrowDown"!==e.key||a||(e.preventDefault(),s(!0))},children:[(0,Yn.jsx)(Un,{to:"/solutions",className:"solutions-main-link",onClick:()=>{s(!1)},"aria-label":u("nav.solutionsAriaLabel")||"Solutions overview page",children:u("nav.solutions")}),(0,Yn.jsx)("div",{className:"solutions-dropdown-toggle",children:(0,Yn.jsx)("span",{className:"dropdown-arrow ".concat(a?"open":""),"aria-hidden":"true",children:"\u25bc"})})]}),a&&(0,Yn.jsx)("div",{className:"solutions-dropdown-menu",role:"menu",children:ti.map(e=>(0,Yn.jsx)(Un,{to:e.path,className:"solution-item ".concat(m(e.path)?"active":""),onClick:p,role:"menuitem","aria-label":"".concat(u(e.titleKey)," solution page"),children:u(e.titleKey)},e.id))})]}),(0,Yn.jsx)(Un,{to:"/projects",className:"/projects"===d.pathname?"active":"",children:u("nav.projects")}),(0,Yn.jsx)(Un,{to:"/team",className:"/team"===d.pathname?"active":"",children:u("nav.team")}),(0,Yn.jsx)(Un,{to:"/news",className:"/news"===d.pathname?"active":"",children:u("nav.news")}),(0,Yn.jsx)(Un,{to:"/training",className:d.pathname.startsWith("/training")?"active":"",children:u("nav.training")}),(0,Yn.jsx)(Un,{to:"/disclosure",className:d.pathname.startsWith("/disclosure")?"active":"","aria-label":u("nav.disclosureAriaLabel")||"Disclosure - research achievements",children:u("nav.disclosure")})]}),(0,Yn.jsxs)("div",{className:"navbar-right",children:[(0,Yn.jsxs)("button",{id:"hamburger-btn",className:"hamburger-btn ".concat(e?"open":""),onClick:()=>t(!e),"aria-label":e?u("nav.closeMobileMenu")||"Close navigation menu":u("nav.openMobileMenu")||"Open navigation menu","aria-expanded":e,"aria-controls":"mobile-menu","aria-haspopup":"true",onKeyDown:n=>{"Enter"===n.key||" "===n.key?(n.preventDefault(),t(!e)):"Escape"===n.key&&e&&t(!1)},children:[(0,Yn.jsx)("span",{className:"hamburger-line","aria-hidden":"true"}),(0,Yn.jsx)("span",{className:"hamburger-line","aria-hidden":"true"}),(0,Yn.jsx)("span",{className:"hamburger-line","aria-hidden":"true"}),(0,Yn.jsx)("span",{className:"sr-only",children:e?u("nav.menuOpen")||"Menu is open":u("nav.menuClosed")||"Menu is closed"})]}),(0,Yn.jsxs)("div",{className:"desktop-controls",children:[(0,Yn.jsx)(ei,{}),(0,Yn.jsx)("div",{className:"contact",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",children:(0,Yn.jsx)("button",{className:"getintouch-btn",children:u("nav.getInTouch")})})})]})]}),e&&(0,Yn.jsx)("div",{className:"mobile-menu",id:"mobile-menu",role:"navigation","aria-label":u("nav.mobileMenuAriaLabel")||"Mobile navigation menu",children:(0,Yn.jsxs)("nav",{className:"mobile-menu-links",role:"menu","aria-labelledby":"hamburger-btn",children:[(0,Yn.jsx)(Un,{to:"/about",className:"/about"===d.pathname?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.aboutAriaLabel")||"About us page",children:u("nav.about")}),(0,Yn.jsxs)("div",{className:"mobile-solutions-section",children:[(0,Yn.jsxs)("div",{className:"mobile-solutions-container",children:[(0,Yn.jsx)(Un,{to:"/solutions",className:"mobile-solutions-link ".concat(f()?"active":""),onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.solutionsAriaLabel")||"Solutions overview page",children:u("nav.solutions")}),(0,Yn.jsx)("button",{className:"mobile-solutions-dropdown-toggle",onClick:()=>c(!l),"aria-expanded":l,"aria-label":"Show solutions menu ".concat(l?u("nav.dropdownExpanded")||"(expanded)":u("nav.dropdownCollapsed")||"(collapsed)"),children:(0,Yn.jsx)("span",{className:"mobile-dropdown-arrow ".concat(l?"open":""),"aria-hidden":"true",children:"\u25bc"})})]}),l&&(0,Yn.jsx)("div",{className:"mobile-submenu",role:"menu",children:ti.map(e=>(0,Yn.jsx)(Un,{to:e.path,className:"submenu-item ".concat(m(e.path)?"active":""),onClick:()=>{t(!1),c(!1)},role:"menuitem","aria-label":"".concat(u(e.titleKey)," solution page"),children:u(e.titleKey)},e.id))})]}),(0,Yn.jsx)(Un,{to:"/projects",className:"/projects"===d.pathname?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.projectsAriaLabel")||"Projects page",children:u("nav.projects")}),(0,Yn.jsx)(Un,{to:"/team",className:"/team"===d.pathname?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.teamAriaLabel")||"Team page",children:u("nav.team")}),(0,Yn.jsx)(Un,{to:"/news",className:"/news"===d.pathname?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.newsAriaLabel")||"News page",children:u("nav.news")}),(0,Yn.jsx)(Un,{to:"/training",className:d.pathname.startsWith("/training")?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.trainingAriaLabel")||"Training courses page",children:u("nav.training")}),(0,Yn.jsx)(Un,{to:"/disclosure",className:d.pathname.startsWith("/disclosure")?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.disclosureAriaLabel")||"Disclosure - research achievements page",children:u("nav.disclosure")}),(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"/get-in-touch"===d.pathname?"active":"",onClick:()=>t(!1),role:"menuitem","aria-label":u("nav.getInTouchAriaLabel")||"Contact us page",children:u("nav.getInTouch")})]})})]})};const ii=function(){const{t:e}=(0,i.useContext)($n);return(0,Yn.jsxs)("footer",{className:"footer",children:[(0,Yn.jsxs)("div",{className:"footer-content",children:[(0,Yn.jsx)("div",{className:"footer-left",children:(0,Yn.jsx)("img",{src:o,alt:"dochak logo",className:"footer-logo"})}),(0,Yn.jsxs)("div",{className:"footer-links",children:[(0,Yn.jsx)("a",{href:"#privacy",children:e("footer.privacyPolicy")}),(0,Yn.jsx)("a",{href:"#terms",children:e("footer.terms")}),(0,Yn.jsx)("a",{href:"#contact",children:e("footer.contact")})]})]}),(0,Yn.jsx)("div",{className:"footer-designer",children:"proudly designed by Yunha Lee"}),(0,Yn.jsxs)("div",{className:"footer-bottom",children:["\xa9 ",(new Date).getFullYear()," dochak. ",e("footer.copyright")]})]})};var ri=n(7115),ai=n.n(ri);const oi="177",si={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},li={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ci=0,ui=1,di=2,hi=3,pi=0,mi=1,fi=2,Ai=3,gi=0,vi=1,yi=2,bi=0,xi=1,wi=2,Ti=3,_i=4,Si=5,Mi=100,Ei=101,Ci=102,Pi=103,Ni=104,Ri=200,Di=201,Ii=202,Li=203,ki=204,Bi=205,Fi=206,Oi=207,Ui=208,Vi=209,ji=210,zi=211,qi=212,Gi=213,Hi=214,Wi=0,Qi=1,Yi=2,Xi=3,Ki=4,Zi=5,Ji=6,$i=7,er=0,tr=1,nr=2,ir=0,rr=1,ar=2,or=3,sr=4,lr=5,cr=6,ur=7,dr="attached",hr="detached",pr=300,mr=301,fr=302,Ar=303,gr=304,vr=306,yr=1e3,br=1001,xr=1002,wr=1003,Tr=1004,_r=1004,Sr=1005,Mr=1005,Er=1006,Cr=1007,Pr=1007,Nr=1008,Rr=1008,Dr=1009,Ir=1010,Lr=1011,kr=1012,Br=1013,Fr=1014,Or=1015,Ur=1016,Vr=1017,jr=1018,zr=1020,qr=35902,Gr=1021,Hr=1022,Wr=1023,Qr=1026,Yr=1027,Xr=1028,Kr=1029,Zr=1030,Jr=1031,$r=1032,ea=1033,ta=33776,na=33777,ia=33778,ra=33779,aa=35840,oa=35841,sa=35842,la=35843,ca=36196,ua=37492,da=37496,ha=37808,pa=37809,ma=37810,fa=37811,Aa=37812,ga=37813,va=37814,ya=37815,ba=37816,xa=37817,wa=37818,Ta=37819,_a=37820,Sa=37821,Ma=36492,Ea=36494,Ca=36495,Pa=36283,Na=36284,Ra=36285,Da=36286,Ia=2200,La=2201,ka=2202,Ba=2300,Fa=2301,Oa=2302,Ua=2400,Va=2401,ja=2402,za=2500,qa=2501,Ga=0,Ha=1,Wa=2,Qa=3200,Ya=3201,Xa=3202,Ka=3203,Za=0,Ja=1,$a="",eo="srgb",to="srgb-linear",no="linear",io="srgb",ro=0,ao=7680,oo=7681,so=7682,lo=7683,co=34055,uo=34056,ho=5386,po=512,mo=513,fo=514,Ao=515,go=516,vo=517,yo=518,bo=519,xo=512,wo=513,To=514,_o=515,So=516,Mo=517,Eo=518,Co=519,Po=35044,No=35048,Ro=35040,Do=35045,Io=35049,Lo=35041,ko=35046,Bo=35050,Fo=35042,Oo="100",Uo="300 es",Vo=2e3,jo=2001,zo={COMPUTE:"compute",RENDER:"render"},qo={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Go={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class Ho{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const i=n[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,i=t.length;n<i;n++)t[n].call(this,e);e.target=null}}}const Wo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Qo=1234567;const Yo=Math.PI/180,Xo=180/Math.PI;function Ko(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Wo[255&e]+Wo[e>>8&255]+Wo[e>>16&255]+Wo[e>>24&255]+"-"+Wo[255&t]+Wo[t>>8&255]+"-"+Wo[t>>16&15|64]+Wo[t>>24&255]+"-"+Wo[63&n|128]+Wo[n>>8&255]+"-"+Wo[n>>16&255]+Wo[n>>24&255]+Wo[255&i]+Wo[i>>8&255]+Wo[i>>16&255]+Wo[i>>24&255]).toLowerCase()}function Zo(e,t,n){return Math.max(t,Math.min(n,e))}function Jo(e,t){return(e%t+t)%t}function $o(e,t,n){return(1-n)*e+n*t}function es(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ts(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const ns={DEG2RAD:Yo,RAD2DEG:Xo,generateUUID:Ko,clamp:Zo,euclideanModulo:Jo,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:$o,damp:function(e,t,n,i){return $o(e,t,1-Math.exp(-n*i))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Jo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Qo=e);let t=Qo+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Yo},radToDeg:function(e){return e*Xo},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+i)/2),u=o((t+i)/2),d=a((t-i)/2),h=o((t-i)/2),p=a((i-t)/2),m=o((i-t)/2);switch(r){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*m,l*p,s*c);break;case"YXY":e.set(l*p,s*u,l*m,s*c);break;case"ZYZ":e.set(l*m,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:ts,denormalize:es};class is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;is.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Zo(this.x,e.x,t.x),this.y=Zo(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Zo(this.x,e,t),this.y=Zo(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Zo(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zo(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,a,o){let s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[a+0],h=r[a+1],p=r[a+2],m=r[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=m);if(u!==m||s!==d||l!==h||c!==p){let e=1-o;const t=s*d+l*h+c*p+u*m,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),a=Math.atan2(r,t*n);e=Math.sin(e*a)/r,o=Math.sin(o*a)/r}const r=o*n;if(s=s*e+d*r,l=l*e+h*r,c=c*e+p*r,u=u*e+m*r,e===1-o){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,a){const o=n[i],s=n[i+1],l=n[i+2],c=n[i+3],u=r[a],d=r[a+1],h=r[a+2],p=r[a+3];return e[t]=o*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-o*h,e[t+2]=l*p+c*h+o*d-s*u,e[t+3]=c*p-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,i=e._y,r=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),d=s(n/2),h=s(i/2),p=s(r/2);switch(a){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(r-l)*e,this._z=(a-i)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(r+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(r-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-i)/e,this._x=(r+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zo(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+i*l-r*s,this._y=i*c+a*s+r*o-n*l,this._z=r*c+a*l+n*s-i*o,this._w=a*c-n*o-i*s-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,a=this._w;let o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class as{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;as.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ss.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ss.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*i-o*n),c=2*(o*t-r*i),u=2*(r*n-a*t);return this.x=t+s*l+a*u-o*c,this.y=n+s*c+o*l-r*u,this.z=i+s*u+r*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Zo(this.x,e.x,t.x),this.y=Zo(this.y,e.y,t.y),this.z=Zo(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Zo(this.x,e,t),this.y=Zo(this.y,e,t),this.z=Zo(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Zo(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return os.copy(this).projectOnVector(e),this.sub(os)}reflect(e){return this.sub(os.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zo(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const os=new as,ss=new rs;class ls{constructor(e,t,n,i,r,a,o,s,l){ls.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,o,s,l)}set(e,t,n,i,r,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],m=i[0],f=i[3],A=i[6],g=i[1],v=i[4],y=i[7],b=i[2],x=i[5],w=i[8];return r[0]=a*m+o*g+s*b,r[3]=a*f+o*v+s*x,r[6]=a*A+o*y+s*w,r[1]=l*m+c*g+u*b,r[4]=l*f+c*v+u*x,r[7]=l*A+c*y+u*w,r[2]=d*m+h*g+p*b,r[5]=d*f+h*v+p*x,r[8]=d*A+h*y+p*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*r*c+n*o*s+i*r*l-i*a*s}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*r,h=l*r-a*s,p=t*u+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=u*m,e[1]=(i*l-c*n)*m,e[2]=(o*n-i*a)*m,e[3]=d*m,e[4]=(c*t-i*s)*m,e[5]=(i*r-o*t)*m,e[6]=h*m,e[7]=(n*s-l*t)*m,e[8]=(a*t-n*r)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,a,o){const s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(cs.makeScale(e,t)),this}rotate(e){return this.premultiply(cs.makeRotation(-e)),this}translate(e,t){return this.premultiply(cs.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const cs=new ls;function us(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const ds={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function hs(e,t){return new ds[e](t)}function ps(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function ms(){const e=ps("canvas");return e.style.display="block",e}const fs={};function As(e){e in fs||(fs[e]=!0,console.warn(e))}const gs=(new ls).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),vs=(new ls).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ys(){const e={enabled:!0,workingColorSpace:to,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===io&&(e.r=xs(e.r),e.g=xs(e.g),e.b=xs(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===io&&(e.r=ws(e.r),e.g=ws(e.g),e.b=ws(e.b)),e):e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===$a?no:this.spaces[e].transfer},getLuminanceCoefficients:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.workingColorSpace;return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.workingColorSpace;return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return As("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return As("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return e.define({[to]:{primaries:t,whitePoint:i,transfer:no,toXYZ:gs,fromXYZ:vs,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:eo},outputColorSpaceConfig:{drawingBufferColorSpace:eo}},[eo]:{primaries:t,whitePoint:i,transfer:io,toXYZ:gs,fromXYZ:vs,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:eo}}}),e}const bs=ys();function xs(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ws(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let Ts;class _s{static getDataURL(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png";if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Ts&&(Ts=ps("canvas")),Ts.width=e.width,Ts.height=e.height;const n=Ts.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ts}return t.toDataURL(n)}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=ps("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*xs(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*xs(t[e]/255)):t[e]=xs(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ss=0;class Ms{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:Ss++}),this.uuid=Ko(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(Es(i[t].image)):e.push(Es(i[t]))}else e=Es(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function Es(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?_s.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Cs=0;const Ps=new as;class Ns extends Ho{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ns.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:br,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:br,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Er,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nr,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wr,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Dr,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ns.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:$a;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Cs++}),this.uuid=Ko(),this.name="",this.source=new Ms(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new is(0,0),this.repeat=new is(1,1),this.center=new is(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ls,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Ps).x}get height(){return this.source.getSize(Ps).y}get depth(){return this.source.getSize(Ps).z}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Texture.setValues(): parameter '".concat(t,"' has value of undefined."));continue}const i=this[t];void 0!==i?i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n:console.warn("THREE.Texture.setValues(): property '".concat(t,"' does not exist."))}}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pr)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case yr:e.x=e.x-Math.floor(e.x);break;case br:e.x=e.x<0?0:1;break;case xr:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case yr:e.y=e.y-Math.floor(e.y);break;case br:e.y=e.y<0?0:1;break;case xr:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Ns.DEFAULT_IMAGE=null,Ns.DEFAULT_MAPPING=pr,Ns.DEFAULT_ANISOTROPY=1;class Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Rs.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],m=s[2],f=s[6],A=s[10];if(Math.abs(c-d)<a&&Math.abs(u-m)<a&&Math.abs(p-f)<a){if(Math.abs(c+d)<o&&Math.abs(u+m)<o&&Math.abs(p+f)<o&&Math.abs(l+h+A-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,g=(A+1)/2,v=(c+d)/4,y=(u+m)/4,b=(p+f)/4;return e>s&&e>g?e<a?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=v/n,r=y/n):s>g?s<a?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=v/i,r=b/i):g<a?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=y/r,i=b/r),this.set(n,i,r,t),this}let g=Math.sqrt((f-p)*(f-p)+(u-m)*(u-m)+(d-c)*(d-c));return Math.abs(g)<.001&&(g=1),this.x=(f-p)/g,this.y=(u-m)/g,this.z=(d-c)/g,this.w=Math.acos((l+h+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Zo(this.x,e.x,t.x),this.y=Zo(this.y,e.y,t.y),this.z=Zo(this.z,e.z,t.z),this.w=Zo(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Zo(this.x,e,t),this.y=Zo(this.y,e,t),this.z=Zo(this.z,e,t),this.w=Zo(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Zo(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ds extends Ho{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Er,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Rs(0,0,e,t),this.scissorTest=!1,this.viewport=new Rs(0,0,e,t);const i={width:e,height:t,depth:n.depth},r=new Ns(i);this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=r.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={minFilter:Er,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++){this.textures[n].setValues(t)}}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new Ms(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Is extends Ds{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class Ls extends Ns{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=wr,this.minFilter=wr,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ks extends Is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Ls(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Bs extends Ns{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=wr,this.minFilter=wr,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fs extends Is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Bs(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Os{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Vs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Vs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Vs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,n=i.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Vs):Vs.fromBufferAttribute(i,t),Vs.applyMatrix4(e.matrixWorld),this.expandByPoint(Vs);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),js.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),js.copy(n.boundingBox)),js.applyMatrix4(e.matrixWorld),this.union(js)}const i=e.children;for(let r=0,a=i.length;r<a;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Vs),Vs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ys),Xs.subVectors(this.max,Ys),zs.subVectors(e.a,Ys),qs.subVectors(e.b,Ys),Gs.subVectors(e.c,Ys),Hs.subVectors(qs,zs),Ws.subVectors(Gs,qs),Qs.subVectors(zs,Gs);let t=[0,-Hs.z,Hs.y,0,-Ws.z,Ws.y,0,-Qs.z,Qs.y,Hs.z,0,-Hs.x,Ws.z,0,-Ws.x,Qs.z,0,-Qs.x,-Hs.y,Hs.x,0,-Ws.y,Ws.x,0,-Qs.y,Qs.x,0];return!!Js(t,zs,qs,Gs,Xs)&&(t=[1,0,0,0,1,0,0,0,1],!!Js(t,zs,qs,Gs,Xs)&&(Ks.crossVectors(Hs,Ws),t=[Ks.x,Ks.y,Ks.z],Js(t,zs,qs,Gs,Xs)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Vs).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Us[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Us[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Us[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Us[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Us[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Us[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Us[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Us[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Us)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Us=[new as,new as,new as,new as,new as,new as,new as,new as],Vs=new as,js=new Os,zs=new as,qs=new as,Gs=new as,Hs=new as,Ws=new as,Qs=new as,Ys=new as,Xs=new as,Ks=new as,Zs=new as;function Js(e,t,n,i,r){for(let a=0,o=e.length-3;a<=o;a+=3){Zs.fromArray(e,a);const o=r.x*Math.abs(Zs.x)+r.y*Math.abs(Zs.y)+r.z*Math.abs(Zs.z),s=t.dot(Zs),l=n.dot(Zs),c=i.dot(Zs);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const $s=new Os,el=new as,tl=new as;class nl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):$s.setFromPoints(e).getCenter(n);let i=0;for(let r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;el.subVectors(e,this.center);const t=el.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(el,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(tl.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(el.copy(e.center).add(tl)),this.expandByPoint(el.copy(e.center).sub(tl))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const il=new as,rl=new as,al=new as,ol=new as,sl=new as,ll=new as,cl=new as;class ul{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,il)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=il.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(il.copy(this.origin).addScaledVector(this.direction,t),il.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){rl.copy(e).add(t).multiplyScalar(.5),al.copy(t).sub(e).normalize(),ol.copy(this.origin).sub(rl);const r=.5*e.distanceTo(t),a=-this.direction.dot(al),o=ol.dot(this.direction),s=-ol.dot(al),l=ol.lengthSq(),c=Math.abs(1-a*a);let u,d,h,p;if(c>0)if(u=a*s-o,d=a*o-s,p=r*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-a*r+o)),d=u>0?-r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-s),r),h=d*(d+2*s)+l):(u=Math.max(0,-(a*r+o)),d=u>0?r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l);else d=a>0?-r:r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(rl).addScaledVector(al,d),h}intersectSphere(e,t){il.subVectors(e.center,this.origin);const n=il.dot(this.direction),i=il.dot(il)-n*n,r=e.radius*e.radius;if(i>r)return null;const a=Math.sqrt(r-i),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,il)}intersectTriangle(e,t,n,i,r){sl.subVectors(t,e),ll.subVectors(n,e),cl.crossVectors(sl,ll);let a,o=this.direction.dot(cl);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ol.subVectors(this.origin,e);const s=a*this.direction.dot(ll.crossVectors(ol,ll));if(s<0)return null;const l=a*this.direction.dot(sl.cross(ol));if(l<0)return null;if(s+l>o)return null;const c=-a*ol.dot(cl);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class dl{constructor(e,t,n,i,r,a,o,s,l,c,u,d,h,p,m,f){dl.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,o,s,l,c,u,d,h,p,m,f)}set(e,t,n,i,r,a,o,s,l,c,u,d,h,p,m,f){const A=this.elements;return A[0]=e,A[4]=t,A[8]=n,A[12]=i,A[1]=r,A[5]=a,A[9]=o,A[13]=s,A[2]=l,A[6]=c,A[10]=u,A[14]=d,A[3]=h,A[7]=p,A[11]=m,A[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new dl).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/hl.setFromMatrixColumn(e,0).length(),r=1/hl.setFromMatrixColumn(e,1).length(),a=1/hl.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=a*c,n=a*u,i=o*c,r=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-o*s,t[2]=r-e*l,t[6]=i+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e+r*o,t[4]=i*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-i,t[6]=r+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e-r*o,t[4]=-a*u,t[8]=i+n*o,t[1]=n+i*o,t[5]=a*c,t[9]=r-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,i=o*c,r=o*u;t[0]=s*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=s*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,i=o*s,r=o*l;t[0]=s*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=a*s,n=a*l,i=o*s,r=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=a*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=o*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ml,e,fl)}lookAt(e,t,n){const i=this.elements;return vl.subVectors(e,t),0===vl.lengthSq()&&(vl.z=1),vl.normalize(),Al.crossVectors(n,vl),0===Al.lengthSq()&&(1===Math.abs(n.z)?vl.x+=1e-4:vl.z+=1e-4,vl.normalize(),Al.crossVectors(n,vl)),Al.normalize(),gl.crossVectors(vl,Al),i[0]=Al.x,i[4]=gl.x,i[8]=vl.x,i[1]=Al.y,i[5]=gl.y,i[9]=vl.y,i[2]=Al.z,i[6]=gl.z,i[10]=vl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],m=n[6],f=n[10],A=n[14],g=n[3],v=n[7],y=n[11],b=n[15],x=i[0],w=i[4],T=i[8],_=i[12],S=i[1],M=i[5],E=i[9],C=i[13],P=i[2],N=i[6],R=i[10],D=i[14],I=i[3],L=i[7],k=i[11],B=i[15];return r[0]=a*x+o*S+s*P+l*I,r[4]=a*w+o*M+s*N+l*L,r[8]=a*T+o*E+s*R+l*k,r[12]=a*_+o*C+s*D+l*B,r[1]=c*x+u*S+d*P+h*I,r[5]=c*w+u*M+d*N+h*L,r[9]=c*T+u*E+d*R+h*k,r[13]=c*_+u*C+d*D+h*B,r[2]=p*x+m*S+f*P+A*I,r[6]=p*w+m*M+f*N+A*L,r[10]=p*T+m*E+f*R+A*k,r[14]=p*_+m*C+f*D+A*B,r[3]=g*x+v*S+y*P+b*I,r[7]=g*w+v*M+y*N+b*L,r[11]=g*T+v*E+y*R+b*k,r[15]=g*_+v*C+y*D+b*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+r*s*u-i*l*u-r*o*d+n*l*d+i*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+r*a*d-i*a*h+i*l*c-r*s*c)+e[11]*(+t*l*u-t*o*h-r*a*u+n*a*h+r*o*c-n*l*c)+e[15]*(-i*o*c-t*s*u+t*o*d+i*a*u-n*a*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],m=e[13],f=e[14],A=e[15],g=u*f*l-m*d*l+m*s*h-o*f*h-u*s*A+o*d*A,v=p*d*l-c*f*l-p*s*h+a*f*h+c*s*A-a*d*A,y=c*m*l-p*u*l+p*o*h-a*m*h-c*o*A+a*u*A,b=p*u*s-c*m*s-p*o*d+a*m*d+c*o*f-a*u*f,x=t*g+n*v+i*y+r*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=g*w,e[1]=(m*d*r-u*f*r-m*i*h+n*f*h+u*i*A-n*d*A)*w,e[2]=(o*f*r-m*s*r+m*i*l-n*f*l-o*i*A+n*s*A)*w,e[3]=(u*s*r-o*d*r-u*i*l+n*d*l+o*i*h-n*s*h)*w,e[4]=v*w,e[5]=(c*f*r-p*d*r+p*i*h-t*f*h-c*i*A+t*d*A)*w,e[6]=(p*s*r-a*f*r-p*i*l+t*f*l+a*i*A-t*s*A)*w,e[7]=(a*d*r-c*s*r+c*i*l-t*d*l-a*i*h+t*s*h)*w,e[8]=y*w,e[9]=(p*u*r-c*m*r-p*n*h+t*m*h+c*n*A-t*u*A)*w,e[10]=(a*m*r-p*o*r+p*n*l-t*m*l-a*n*A+t*o*A)*w,e[11]=(c*o*r-a*u*r-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=b*w,e[13]=(c*m*i-p*u*i+p*n*d-t*m*d-c*n*f+t*u*f)*w,e[14]=(p*o*i-a*m*i-p*n*s+t*m*s+a*n*f-t*o*f)*w,e[15]=(a*u*i-c*o*i+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,c=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,c=a+a,u=o+o,d=r*l,h=r*c,p=r*u,m=a*c,f=a*u,A=o*u,g=s*l,v=s*c,y=s*u,b=n.x,x=n.y,w=n.z;return i[0]=(1-(m+A))*b,i[1]=(h+y)*b,i[2]=(p-v)*b,i[3]=0,i[4]=(h-y)*x,i[5]=(1-(d+A))*x,i[6]=(f+g)*x,i[7]=0,i[8]=(p+v)*w,i[9]=(f-g)*w,i[10]=(1-(d+m))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=hl.set(i[0],i[1],i[2]).length();const a=hl.set(i[4],i[5],i[6]).length(),o=hl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],pl.copy(this);const s=1/r,l=1/a,c=1/o;return pl.elements[0]*=s,pl.elements[1]*=s,pl.elements[2]*=s,pl.elements[4]*=l,pl.elements[5]*=l,pl.elements[6]*=l,pl.elements[8]*=c,pl.elements[9]*=c,pl.elements[10]*=c,t.setFromRotationMatrix(pl),n.x=r,n.y=a,n.z=o,this}makePerspective(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vo;const s=this.elements,l=2*r/(t-e),c=2*r/(n-i),u=(t+e)/(t-e),d=(n+i)/(n-i);let h,p;if(o===Vo)h=-(a+r)/(a-r),p=-2*a*r/(a-r);else{if(o!==jo)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);h=-a/(a-r),p=-a*r/(a-r)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vo;const s=this.elements,l=1/(t-e),c=1/(n-i),u=1/(a-r),d=(t+e)*l,h=(n+i)*c;let p,m;if(o===Vo)p=(a+r)*u,m=-2*u;else{if(o!==jo)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=r*u,m=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=m,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const hl=new as,pl=new dl,ml=new as(0,0,0),fl=new as(1,1,1),Al=new as,gl=new as,vl=new as,yl=new dl,bl=new rs;class xl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xl.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=e.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Zo(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Zo(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Zo(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Zo(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Zo(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Zo(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return yl.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yl,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return bl.setFromEuler(this),this.setFromQuaternion(bl,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xl.DEFAULT_ORDER="XYZ";class wl{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let Tl=0;const _l=new as,Sl=new rs,Ml=new dl,El=new as,Cl=new as,Pl=new as,Nl=new rs,Rl=new as(1,0,0),Dl=new as(0,1,0),Il=new as(0,0,1),Ll={type:"added"},kl={type:"removed"},Bl={type:"childadded",child:null},Fl={type:"childremoved",child:null};class Ol extends Ho{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Tl++}),this.uuid=Ko(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ol.DEFAULT_UP.clone();const e=new as,t=new xl,n=new rs,i=new as(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dl},normalMatrix:{value:new ls}}),this.matrix=new dl,this.matrixWorld=new dl,this.matrixAutoUpdate=Ol.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ol.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new wl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sl.setFromAxisAngle(e,t),this.quaternion.multiply(Sl),this}rotateOnWorldAxis(e,t){return Sl.setFromAxisAngle(e,t),this.quaternion.premultiply(Sl),this}rotateX(e){return this.rotateOnAxis(Rl,e)}rotateY(e){return this.rotateOnAxis(Dl,e)}rotateZ(e){return this.rotateOnAxis(Il,e)}translateOnAxis(e,t){return _l.copy(e).applyQuaternion(this.quaternion),this.position.add(_l.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Rl,e)}translateY(e){return this.translateOnAxis(Dl,e)}translateZ(e){return this.translateOnAxis(Il,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ml.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?El.copy(e):El.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Cl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ml.lookAt(Cl,El,this.up):Ml.lookAt(El,Cl,this.up),this.quaternion.setFromRotationMatrix(Ml),i&&(Ml.extractRotation(i.matrixWorld),Sl.setFromRotationMatrix(Ml),this.quaternion.premultiply(Sl.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Ll),Bl.child=e,this.dispatchEvent(Bl),Bl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(kl),Fl.child=e,this.dispatchEvent(Fl),Fl.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ml.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ml.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ml),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Ll),Bl.child=e,this.dispatchEvent(Bl),Bl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cl,e,Pl),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cl,Nl,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(e=>h(h({},e),{},{boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(e=>h({},e)),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(i.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(i.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=a(e.geometries),i=a(e.materials),r=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function a(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Ol.DEFAULT_UP=new as(0,1,0),Ol.DEFAULT_MATRIX_AUTO_UPDATE=!0,Ol.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ul=new as,Vl=new as,jl=new as,zl=new as,ql=new as,Gl=new as,Hl=new as,Wl=new as,Ql=new as,Yl=new as,Xl=new Rs,Kl=new Rs,Zl=new Rs;class Jl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new as;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Ul.subVectors(e,t),i.cross(Ul);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Ul.subVectors(i,t),Vl.subVectors(n,t),jl.subVectors(e,t);const a=Ul.dot(Ul),o=Ul.dot(Vl),s=Ul.dot(jl),l=Vl.dot(Vl),c=Vl.dot(jl),u=a*l-o*o;if(0===u)return r.set(0,0,0),null;const d=1/u,h=(l*s-o*c)*d,p=(a*c-o*s)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return null!==this.getBarycoord(e,t,n,i,zl)&&(zl.x>=0&&zl.y>=0&&zl.x+zl.y<=1)}static getInterpolation(e,t,n,i,r,a,o,s){return null===this.getBarycoord(e,t,n,i,zl)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(r,zl.x),s.addScaledVector(a,zl.y),s.addScaledVector(o,zl.z),s)}static getInterpolatedAttribute(e,t,n,i,r,a){return Xl.setScalar(0),Kl.setScalar(0),Zl.setScalar(0),Xl.fromBufferAttribute(e,t),Kl.fromBufferAttribute(e,n),Zl.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(Xl,r.x),a.addScaledVector(Kl,r.y),a.addScaledVector(Zl,r.z),a}static isFrontFacing(e,t,n,i){return Ul.subVectors(n,t),Vl.subVectors(e,t),Ul.cross(Vl).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ul.subVectors(this.c,this.b),Vl.subVectors(this.a,this.b),.5*Ul.cross(Vl).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return Jl.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Jl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let a,o;ql.subVectors(i,n),Gl.subVectors(r,n),Wl.subVectors(e,n);const s=ql.dot(Wl),l=Gl.dot(Wl);if(s<=0&&l<=0)return t.copy(n);Ql.subVectors(e,i);const c=ql.dot(Ql),u=Gl.dot(Ql);if(c>=0&&u<=c)return t.copy(i);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(ql,a);Yl.subVectors(e,r);const h=ql.dot(Yl),p=Gl.dot(Yl);if(p>=0&&h<=p)return t.copy(r);const m=h*l-s*p;if(m<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(n).addScaledVector(Gl,o);const f=c*p-h*u;if(f<=0&&u-c>=0&&h-p>=0)return Hl.subVectors(r,i),o=(u-c)/(u-c+(h-p)),t.copy(i).addScaledVector(Hl,o);const A=1/(f+m+d);return a=m*A,o=d*A,t.copy(n).addScaledVector(ql,a).addScaledVector(Gl,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $l={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ec={h:0,s:0,l:0},tc={h:0,s:0,l:0};function nc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class ic{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,bs.colorSpaceToWorking(this,t),this}setRGB(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bs.workingColorSpace;return this.r=e,this.g=t,this.b=n,bs.colorSpaceToWorking(this,i),this}setHSL(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bs.workingColorSpace;if(e=Jo(e,1),t=Zo(t,0,1),n=Zo(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=nc(r,i,e+1/3),this.g=nc(r,i,e),this.b=nc(r,i,e-1/3)}return bs.colorSpaceToWorking(this,i),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo;function i(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=t[1],r=i.length;if(3===r)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(6===r)return this.setHex(parseInt(i,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo;const n=$l[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xs(e.r),this.g=xs(e.g),this.b=xs(e.b),this}copyLinearToSRGB(e){return this.r=ws(e.r),this.g=ws(e.g),this.b=ws(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;return bs.workingToColorSpace(rc.copy(this),e),65536*Math.round(Zo(255*rc.r,0,255))+256*Math.round(Zo(255*rc.g,0,255))+Math.round(Zo(255*rc.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bs.workingColorSpace;bs.workingToColorSpace(rc.copy(this),t);const n=rc.r,i=rc.g,r=rc.b,a=Math.max(n,i,r),o=Math.min(n,i,r);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(i-r)/e+(i<r?6:0);break;case i:s=(r-n)/e+2;break;case r:s=(n-i)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bs.workingColorSpace;return bs.workingToColorSpace(rc.copy(this),t),e.r=rc.r,e.g=rc.g,e.b=rc.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;bs.workingToColorSpace(rc.copy(this),e);const t=rc.r,n=rc.g,i=rc.b;return e!==eo?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*i),")")}offsetHSL(e,t,n){return this.getHSL(ec),this.setHSL(ec.h+e,ec.s+t,ec.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ec),e.getHSL(tc);const n=$o(ec.h,tc.h,t),i=$o(ec.s,tc.s,t),r=$o(ec.l,tc.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rc=new ic;ic.NAMES=$l;let ac=0;class oc extends Ho{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ac++}),this.uuid=Ko(),this.name="",this.type="Material",this.blending=xi,this.side=gi,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ki,this.blendDst=Bi,this.blendEquation=Mi,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ic(0,0,0),this.blendAlpha=0,this.depthFunc=Xi,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bo,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ao,this.stencilZFail=ao,this.stencilZPass=ao,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==xi&&(n.blending=this.blending),this.side!==gi&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==ki&&(n.blendSrc=this.blendSrc),this.blendDst!==Bi&&(n.blendDst=this.blendDst),this.blendEquation!==Mi&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Xi&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bo&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ao&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ao&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ao&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class sc extends oc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ic(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.combine=er,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const lc=cc();function cc(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):e<-14?(i[l]=1024>>-e-14,i[256|l]=1024>>-e-14|32768,r[l]=-e-1,r[256|l]=-e-1):e<=15?(i[l]=e+15<<10,i[256|l]=e+15<<10|32768,r[l]=13,r[256|l]=13):e<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:s}}function uc(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Zo(e,-65504,65504),lc.floatView[0]=e;const t=lc.uint32View[0],n=t>>23&511;return lc.baseTable[n]+((8388607&t)>>lc.shiftTable[n])}function dc(e){const t=e>>10;return lc.uint32View[0]=lc.mantissaTable[lc.offsetTable[t]+(1023&e)]+lc.exponentTable[t],lc.floatView[0]}class hc{static toHalfFloat(e){return uc(e)}static fromHalfFloat(e){return dc(e)}}const pc=new as,mc=new is;let fc=0;class Ac{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:fc++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Po,this.updateRanges=[],this.gpuType=Or,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)mc.fromBufferAttribute(this,t),mc.applyMatrix3(e),this.setXY(t,mc.x,mc.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)pc.fromBufferAttribute(this,t),pc.applyMatrix3(e),this.setXYZ(t,pc.x,pc.y,pc.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pc.fromBufferAttribute(this,t),pc.applyMatrix4(e),this.setXYZ(t,pc.x,pc.y,pc.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pc.fromBufferAttribute(this,t),pc.applyNormalMatrix(e),this.setXYZ(t,pc.x,pc.y,pc.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pc.fromBufferAttribute(this,t),pc.transformDirection(e),this.setXYZ(t,pc.x,pc.y,pc.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=es(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ts(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array),i=ts(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array),i=ts(i,this.array),r=ts(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Po&&(e.usage=this.usage),e}}class gc extends Ac{constructor(e,t,n){super(new Int8Array(e),t,n)}}class vc extends Ac{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class yc extends Ac{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class bc extends Ac{constructor(e,t,n){super(new Int16Array(e),t,n)}}class xc extends Ac{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class wc extends Ac{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Tc extends Ac{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class _c extends Ac{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=dc(this.array[e*this.itemSize]);return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize]=uc(t),this}getY(e){let t=dc(this.array[e*this.itemSize+1]);return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize+1]=uc(t),this}getZ(e){let t=dc(this.array[e*this.itemSize+2]);return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize+2]=uc(t),this}getW(e){let t=dc(this.array[e*this.itemSize+3]);return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=ts(t,this.array)),this.array[e*this.itemSize+3]=uc(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array)),this.array[e+0]=uc(t),this.array[e+1]=uc(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array),i=ts(i,this.array)),this.array[e+0]=uc(t),this.array[e+1]=uc(n),this.array[e+2]=uc(i),this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array),i=ts(i,this.array),r=ts(r,this.array)),this.array[e+0]=uc(t),this.array[e+1]=uc(n),this.array[e+2]=uc(i),this.array[e+3]=uc(r),this}}class Sc extends Ac{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Mc=0;const Ec=new dl,Cc=new Ol,Pc=new as,Nc=new Os,Rc=new Os,Dc=new as;class Ic extends Ho{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Mc++}),this.uuid=Ko(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(us(e)?Tc:xc)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new ls).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ec.makeRotationFromQuaternion(e),this.applyMatrix4(Ec),this}rotateX(e){return Ec.makeRotationX(e),this.applyMatrix4(Ec),this}rotateY(e){return Ec.makeRotationY(e),this.applyMatrix4(Ec),this}rotateZ(e){return Ec.makeRotationZ(e),this.applyMatrix4(Ec),this}translate(e,t,n){return Ec.makeTranslation(e,t,n),this.applyMatrix4(Ec),this}scale(e,t,n){return Ec.makeScale(e,t,n),this.applyMatrix4(Ec),this}lookAt(e){return Cc.lookAt(e),Cc.updateMatrix(),this.applyMatrix4(Cc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pc).negate(),this.translate(Pc.x,Pc.y,Pc.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}this.setAttribute("position",new Sc(t,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const n=e[i];t.setXYZ(i,n.x,n.y,n.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Os);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new as(-1/0,-1/0,-1/0),new as(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];Nc.setFromBufferAttribute(e),this.morphTargetsRelative?(Dc.addVectors(this.boundingBox.min,Nc.min),this.boundingBox.expandByPoint(Dc),Dc.addVectors(this.boundingBox.max,Nc.max),this.boundingBox.expandByPoint(Dc)):(this.boundingBox.expandByPoint(Nc.min),this.boundingBox.expandByPoint(Nc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new nl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new as,1/0);if(e){const n=this.boundingSphere.center;if(Nc.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];Rc.setFromBufferAttribute(n),this.morphTargetsRelative?(Dc.addVectors(Nc.min,Rc.min),Nc.expandByPoint(Dc),Dc.addVectors(Nc.max,Rc.max),Nc.expandByPoint(Dc)):(Nc.expandByPoint(Rc.min),Nc.expandByPoint(Rc.max))}Nc.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)Dc.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(Dc));if(t)for(let r=0,a=t.length;r<a;r++){const a=t[r],o=this.morphTargetsRelative;for(let t=0,r=a.count;t<r;t++)Dc.fromBufferAttribute(a,t),o&&(Pc.fromBufferAttribute(e,t),Dc.add(Pc)),i=Math.max(i,n.distanceToSquared(Dc))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,i=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Ac(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let T=0;T<n.count;T++)o[T]=new as,s[T]=new as;const l=new as,c=new as,u=new as,d=new is,h=new is,p=new is,m=new as,f=new as;function A(e,t,i){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),p.fromBufferAttribute(r,i),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const a=1/(h.x*p.y-p.x*h.y);isFinite(a)&&(m.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(a),f.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(a),o[e].add(m),o[t].add(m),o[i].add(m),s[e].add(f),s[t].add(f),s[i].add(f))}let g=this.groups;0===g.length&&(g=[{start:0,count:e.count}]);for(let T=0,_=g.length;T<_;++T){const t=g[T],n=t.start;for(let i=n,r=n+t.count;i<r;i+=3)A(e.getX(i+0),e.getX(i+1),e.getX(i+2))}const v=new as,y=new as,b=new as,x=new as;function w(e){b.fromBufferAttribute(i,e),x.copy(b);const t=o[e];v.copy(t),v.sub(b.multiplyScalar(b.dot(t))).normalize(),y.crossVectors(x,t);const n=y.dot(s[e])<0?-1:1;a.setXYZW(e,v.x,v.y,v.z,n)}for(let T=0,_=g.length;T<_;++T){const t=g[T],n=t.start;for(let i=n,r=n+t.count;i<r;i+=3)w(e.getX(i+0)),w(e.getX(i+1)),w(e.getX(i+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Ac(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new as,r=new as,a=new as,o=new as,s=new as,l=new as,c=new as,u=new as;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),c.subVectors(a,r),u.subVectors(i,r),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,m),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(m,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Dc.fromBufferAttribute(e,t),Dc.normalize(),e.setXYZ(t,Dc.x,Dc.y,Dc.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(let e=0;e<i;e++)a[s++]=n[o++]}return new Ac(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ic,n=this.index.array,i=this.attributes;for(const o in i){const r=e(i[o],n);t.setAttribute(o,r)}const r=this.morphAttributes;for(const o in r){const i=[],a=r[o];for(let t=0,r=a.length;t<r;t++){const r=e(a[t],n);i.push(r)}t.morphAttributes[o]=i}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const i={};let r=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];n.push(r.toJSON(e.data))}n.length>0&&(i[s]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere=o.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Lc=new dl,kc=new ul,Bc=new nl,Fc=new as,Oc=new as,Uc=new as,Vc=new as,jc=new as,zc=new as,qc=new as,Gc=new as;class Hc extends Ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ic,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sc;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(r&&o){zc.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=o[n],s=r[n];0!==i&&(jc.fromBufferAttribute(s,e),a?zc.addScaledVector(jc,i):zc.addScaledVector(jc.sub(t),i))}t.add(zc)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),Bc.copy(n.boundingSphere),Bc.applyMatrix4(r),kc.copy(e.ray).recast(e.near),!1===Bc.containsPoint(kc.origin)){if(null===kc.intersectSphere(Bc,Fc))return;if(kc.origin.distanceToSquared(Fc)>(e.far-e.near)**2)return}Lc.copy(r).invert(),kc.copy(e.ray).applyMatrix4(Lc),null!==n.boundingBox&&!1===kc.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,kc)}}_computeIntersections(e,t,n){let i;const r=this.geometry,a=this.material,o=r.index,s=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,m=d.length;p<m;p++){const r=d[p],s=a[r.materialIndex];for(let a=Math.max(r.start,h.start),d=Math.min(o.count,Math.min(r.start+r.count,h.start+h.count));a<d;a+=3){i=Wc(this,s,e,n,l,c,u,o.getX(a),o.getX(a+1),o.getX(a+2)),i&&(i.faceIndex=Math.floor(a/3),i.face.materialIndex=r.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);r<s;r+=3){i=Wc(this,a,e,n,l,c,u,o.getX(r),o.getX(r+1),o.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}else if(void 0!==s)if(Array.isArray(a))for(let p=0,m=d.length;p<m;p++){const r=d[p],o=a[r.materialIndex];for(let a=Math.max(r.start,h.start),d=Math.min(s.count,Math.min(r.start+r.count,h.start+h.count));a<d;a+=3){i=Wc(this,o,e,n,l,c,u,a,a+1,a+2),i&&(i.faceIndex=Math.floor(a/3),i.face.materialIndex=r.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);r<o;r+=3){i=Wc(this,a,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}}}function Wc(e,t,n,i,r,a,o,s,l,c){e.getVertexPosition(s,Oc),e.getVertexPosition(l,Uc),e.getVertexPosition(c,Vc);const u=function(e,t,n,i,r,a,o,s){let l;if(l=t.side===vi?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side===gi,s),null===l)return null;Gc.copy(s),Gc.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Gc);return c<n.near||c>n.far?null:{distance:c,point:Gc.clone(),object:e}}(e,t,n,i,Oc,Uc,Vc,qc);if(u){const e=new as;Jl.getBarycoord(qc,Oc,Uc,Vc,e),r&&(u.uv=Jl.getInterpolatedAttribute(r,s,l,c,e,new is)),a&&(u.uv1=Jl.getInterpolatedAttribute(a,s,l,c,e,new is)),o&&(u.normal=Jl.getInterpolatedAttribute(o,s,l,c,e,new as),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new as,materialIndex:0};Jl.getNormal(Oc,Uc,Vc,t.normal),u.face=t,u.barycoord=e}return u}class Qc extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};const o=this;i=Math.floor(i),r=Math.floor(r),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,i,r,a,p,m,f,A,g){const v=a/f,y=p/A,b=a/2,x=p/2,w=m/2,T=f+1,_=A+1;let S=0,M=0;const E=new as;for(let o=0;o<_;o++){const a=o*y-x;for(let s=0;s<T;s++){const d=s*v-b;E[e]=d*i,E[t]=a*r,E[n]=w,l.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=m>0?1:-1,c.push(E.x,E.y,E.z),u.push(s/f),u.push(1-o/A),S+=1}}for(let o=0;o<A;o++)for(let e=0;e<f;e++){const t=d+e+T*o,n=d+e+T*(o+1),i=d+(e+1)+T*(o+1),r=d+(e+1)+T*o;s.push(t,n,r),s.push(n,i,r),M+=6}o.addGroup(h,M,g),h+=M,d+=S}p("z","y","x",-1,-1,n,t,e,a,r,0),p("z","y","x",1,-1,n,t,-e,a,r,1),p("x","z","y",1,1,e,n,t,i,a,2),p("x","z","y",1,-1,e,n,-t,i,a,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new Sc(l,3)),this.setAttribute("normal",new Sc(c,3)),this.setAttribute("uv",new Sc(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yc(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Xc(e){const t={};for(let n=0;n<e.length;n++){const i=Yc(e[n]);for(const e in i)t[e]=i[e]}return t}function Kc(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:bs.workingColorSpace}const Zc={clone:Yc,merge:Xc};class Jc extends oc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yc(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class $c extends Ol{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dl,this.projectionMatrix=new dl,this.projectionMatrixInverse=new dl,this.coordinateSystem=Vo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const eu=new as,tu=new is,nu=new is;class iu extends $c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Xo*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Yo*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Xo*Math.atan(Math.tan(.5*Yo*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){eu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(eu.x,eu.y).multiplyScalar(-e/eu.z),eu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(eu.x,eu.y).multiplyScalar(-e/eu.z)}getViewSize(e,t){return this.getViewBounds(e,tu,nu),t.subVectors(nu,tu)}setViewOffset(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Yo*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;r+=a.offsetX*i/e,t-=a.offsetY*n/o,i*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ru=-90;class au extends Ol{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new iu(ru,1,e,t);i.layers=this.layers,this.add(i);const r=new iu(ru,1,e,t);r.layers=this.layers,this.add(r);const a=new iu(ru,1,e,t);a.layers=this.layers,this.add(a);const o=new iu(ru,1,e,t);o.layers=this.layers,this.add(o);const s=new iu(ru,1,e,t);s.layers=this.layers,this.add(s);const l=new iu(ru,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,a,o,s]=t;for(const l of t)this.remove(l);if(e===Vo)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==jo)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,s),e.setRenderTarget(n,4,i),e.render(t,l),n.texture.generateMipmaps=m,e.setRenderTarget(n,5,i),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class ou extends Ns{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0,arguments.length>9?arguments[9]:void 0),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class su extends Is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new ou(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Qc(5,5,5),o=new Jc({name:"CubemapFromEquirect",uniforms:Yc(n),vertexShader:i,fragmentShader:r,side:vi,blending:bi});o.uniforms.tEquirect.value=t;const s=new Hc(a,o),l=t.minFilter;t.minFilter===Nr&&(t.minFilter=Er);return new au(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}class lu extends Ol{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cu={type:"move"};class uu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new lu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new lu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new as,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new as),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new lu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new as,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new as),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),i=this._getHandJoint(l,a);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=e.radius),i.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],o=i.position.distanceTo(r.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(cu)))}return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new lu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new ic(e),this.density=t}clone(){return new du(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class hu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new ic(e),this.near=t,this.far=n}clone(){return new hu(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class pu extends Ol{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xl,this.environmentIntensity=1,this.environmentRotation=new xl,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class mu{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Po,this.updateRanges=[],this.version=0,this.uuid=Ko()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ko()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ko()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fu=new as;class Au{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)fu.fromBufferAttribute(this,t),fu.applyMatrix4(e),this.setXYZ(t,fu.x,fu.y,fu.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)fu.fromBufferAttribute(this,t),fu.applyNormalMatrix(e),this.setXYZ(t,fu.x,fu.y,fu.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)fu.fromBufferAttribute(this,t),fu.transformDirection(e),this.setXYZ(t,fu.x,fu.y,fu.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=es(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ts(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=ts(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ts(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ts(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ts(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=es(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=es(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=es(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=es(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array),i=ts(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ts(t,this.array),n=ts(n,this.array),i=ts(i,this.array),r=ts(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Ac(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Au(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gu extends oc{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ic(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vu;const yu=new as,bu=new as,xu=new as,wu=new is,Tu=new is,_u=new dl,Su=new as,Mu=new as,Eu=new as,Cu=new is,Pu=new is,Nu=new is;class Ru extends Ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gu;if(super(),this.isSprite=!0,this.type="Sprite",void 0===vu){vu=new Ic;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new mu(e,5);vu.setIndex([0,1,2,0,2,3]),vu.setAttribute("position",new Au(t,3,0,!1)),vu.setAttribute("uv",new Au(t,2,3,!1))}this.geometry=vu,this.material=e,this.center=new is(.5,.5),this.count=1}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bu.setFromMatrixScale(this.matrixWorld),_u.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&bu.multiplyScalar(-xu.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const a=this.center;Du(Su.set(-.5,-.5,0),xu,a,bu,i,r),Du(Mu.set(.5,-.5,0),xu,a,bu,i,r),Du(Eu.set(.5,.5,0),xu,a,bu,i,r),Cu.set(0,0),Pu.set(1,0),Nu.set(1,1);let o=e.ray.intersectTriangle(Su,Mu,Eu,!1,yu);if(null===o&&(Du(Mu.set(-.5,.5,0),xu,a,bu,i,r),Pu.set(0,1),o=e.ray.intersectTriangle(Su,Eu,Mu,!1,yu),null===o))return;const s=e.ray.origin.distanceTo(yu);s<e.near||s>e.far||t.push({distance:s,point:yu.clone(),uv:Jl.getInterpolation(yu,Su,Mu,Eu,Cu,Pu,Nu,new is),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Du(e,t,n,i,r,a){wu.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(Tu.x=a*wu.x-r*wu.y,Tu.y=r*wu.x+a*wu.y):Tu.copy(wu),e.copy(t),e.x+=Tu.x,e.y+=Tu.y,e.applyMatrix4(_u)}const Iu=new as,Lu=new as;class ku extends Ol{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Iu.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Iu);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Iu.setFromMatrixPosition(e.matrixWorld),Lu.setFromMatrixPosition(this.matrixWorld);const n=Iu.distanceTo(Lu)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r;i++){let e=t[i].distance;if(t[i].object.visible&&(e-=e*t[i].hysteresis),!(n>=e))break;t[i-1].object.visible=!1,t[i].object.visible=!0}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const e=n[i];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const Bu=new as,Fu=new Rs,Ou=new Rs,Uu=new as,Vu=new dl,ju=new as,zu=new nl,qu=new dl,Gu=new ul;class Hu extends Hc{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=dr,this.bindMatrix=new dl,this.bindMatrixInverse=new dl,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Os),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,ju),this.boundingBox.expandByPoint(ju)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new nl),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,ju),this.boundingSphere.expandByPoint(ju)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),zu.copy(this.boundingSphere),zu.applyMatrix4(i),!1!==e.ray.intersectsSphere(zu)&&(qu.copy(i).invert(),Gu.copy(e.ray).applyMatrix4(qu),null!==this.boundingBox&&!1===Gu.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Gu)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Rs,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===dr?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===hr?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;Fu.fromBufferAttribute(i.attributes.skinIndex,e),Ou.fromBufferAttribute(i.attributes.skinWeight,e),Bu.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const e=Ou.getComponent(r);if(0!==e){const i=Fu.getComponent(r);Vu.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(Uu.copy(Bu).applyMatrix4(Vu),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Wu extends Ol{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Qu extends Ns{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:wr,arguments.length>9&&void 0!==arguments[9]?arguments[9]:wr,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Yu=new dl,Xu=new dl;class Ku{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=Ko(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new dl)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new dl;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const i=e[r]?e[r].matrixWorld:Xu;Yu.multiplyMatrices(i,t[r]),Yu.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}clone(){return new Ku(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Qu(t,e,e,Wr,Or);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new Wu),this.bones.push(r),this.boneInverses.push((new dl).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}}class Zu extends Ac{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ju=new dl,$u=new dl,ed=[],td=new Os,nd=new dl,id=new Hc,rd=new nl;class ad extends Hc{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Zu(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,nd)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Os),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ju),td.copy(e.boundingBox).applyMatrix4(Ju),this.boundingBox.union(td)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new nl),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ju),rd.copy(e.boundingSphere).applyMatrix4(Ju),this.boundingSphere.union(rd)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=e*(n.length+1)+1;for(let a=0;a<n.length;a++)n[a]=i[r+a]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(id.geometry=this.geometry,id.material=this.material,void 0!==id.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),rd.copy(this.boundingSphere),rd.applyMatrix4(n),!1!==e.ray.intersectsSphere(rd)))for(let r=0;r<i;r++){this.getMatrixAt(r,Ju),$u.multiplyMatrices(n,Ju),id.matrixWorld=$u,id.raycast(e,ed);for(let e=0,n=ed.length;e<n;e++){const n=ed[e];n.instanceId=r,n.object=this,t.push(n)}ed.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Zu(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new Qu(new Float32Array(i*this.count),i,this.count,Xr,Or));const r=this.morphTexture.source.data.data;let a=0;for(let l=0;l<n.length;l++)a+=n[l];const o=this.geometry.morphTargetsRelative?1:1-a,s=i*e;r[s]=o,r.set(n,s+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const od=new as,sd=new as,ld=new ls;class cd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=od.subVectors(n,t).cross(sd.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(od),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ld.getNormalMatrix(e),i=this.coplanarPoint(od).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ud=new nl,dd=new as;class hd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new cd,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new cd,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new cd,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new cd,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new cd;this.planes=[e,t,n,i,r,a]}set(e,t,n,i,r,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo;const n=this.planes,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],p=i[9],m=i[10],f=i[11],A=i[12],g=i[13],v=i[14],y=i[15];if(n[0].setComponents(s-r,d-l,f-h,y-A).normalize(),n[1].setComponents(s+r,d+l,f+h,y+A).normalize(),n[2].setComponents(s+a,d+c,f+p,y+g).normalize(),n[3].setComponents(s-a,d-c,f-p,y-g).normalize(),n[4].setComponents(s-o,d-u,f-m,y-v).normalize(),t===Vo)n[5].setComponents(s+o,d+u,f+m,y+v).normalize();else{if(t!==jo)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,u,m,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ud.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ud.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ud)}intersectsSprite(e){return ud.center.set(0,0,0),ud.radius=.7071067811865476,ud.applyMatrix4(e.matrixWorld),this.intersectsSphere(ud)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(dd.x=i.normal.x>0?e.max.x:e.min.x,dd.y=i.normal.y>0?e.max.y:e.min.y,dd.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(dd)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const pd=new dl,md=new hd;class fd{constructor(){this.coordinateSystem=Vo}intersectsObject(e,t){if(!t.isArrayCamera||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(pd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),md.setFromProjectionMatrix(pd,this.coordinateSystem),md.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(pd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),md.setFromProjectionMatrix(pd,this.coordinateSystem),md.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(pd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),md.setFromProjectionMatrix(pd,this.coordinateSystem),md.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(pd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),md.setFromProjectionMatrix(pd,this.coordinateSystem),md.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(pd.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),md.setFromProjectionMatrix(pd,this.coordinateSystem),md.containsPoint(e))return!0}return!1}clone(){return new fd}}function Ad(e,t){return e-t}function gd(e,t){return e.z-t.z}function vd(e,t){return t.z-e.z}class yd{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const bd=new dl,xd=new ic(1,1,1),wd=new hd,Td=new fd,_d=new Os,Sd=new nl,Md=new as,Ed=new as,Cd=new as,Pd=new yd,Nd=new Hc,Rd=[];function Dd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const r=e.count;for(let a=0;a<r;a++)for(let r=0;r<i;r++)t.setComponent(a+n,r,e.getComponent(a,r))}else t.array.set(e.array,n*i);t.needsUpdate=!0}function Id(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)t[i]=e[i]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class Ld extends Hc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,i=arguments.length>3?arguments[3]:void 0;super(new Ic,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Qu(t,e,e,Wr,Or);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Qu(t,e,e,Kr,Fr);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Qu(t,e,e,Wr,Or);n.colorSpace=bs.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(const i in e.attributes){const r=e.getAttribute(i),{array:a,itemSize:o,normalized:s}=r,l=new a.constructor(n*o),c=new Ac(l,o,s);t.setAttribute(i,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Ac(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error('THREE.BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));const i=e.getAttribute(n),r=t.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error("THREE.BatchedMesh: Invalid instanceId ".concat(e,". Instance is either out of range or has been deleted."))}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error("THREE.BatchedMesh: Invalid geometryId ".concat(e,". Geometry is either out of range or has been deleted."))}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Os);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,bd),this.getBoundingBoxAt(i,_d).applyMatrix4(bd),e.union(_d)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new nl);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,bd),this.getBoundingSphereAt(i,Sd).applyMatrix4(bd),e.union(Sd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Ad),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const i=this._matricesTexture;bd.identity().toArray(i.image.data,16*n),i.needsUpdate=!0;const r=this._colorsTexture;return r&&(xd.toArray(r.image.data,4*n),r.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const a=e.getIndex();if(null!==a&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=-1===n?a.count:n),-1!==i.indexStart&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Ad),o=this._availableGeometryIds.shift(),r[o]=i):(o=this._geometryCount,this._geometryCount++,r.push(i)),this.setGeometryAt(o,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,o}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=null!==n.getIndex(),r=n.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const s=o.vertexStart,l=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in n.attributes){const e=t.getAttribute(c),i=n.getAttribute(c);Dd(e,i,s);const r=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<r;t++)i.setComponent(e,t,0)}i.needsUpdate=!0,i.addUpdateRange(s*r,l*r)}if(i){const e=o.indexStart,n=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let t=0;t<a.count;t++)r.setX(e+t,s+a.getX(t));for(let t=a.count,i=n;t<i;t++)r.setX(e+t,s);r.needsUpdate=!0,r.addUpdateRange(e,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,null!==t.boundingBox&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,null!==t.boundingSphere&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let i=0,r=n.length;i<r;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),r=this.geometry;for(let a=0,o=n.length;a<o;a++){const o=i[a],s=n[o];if(!1!==s.active){if(null!==r.index){if(s.indexStart!==t){const{indexStart:n,vertexStart:i,reservedIndexCount:a}=s,o=r.index,l=o.array,c=e-i;for(let e=n;e<n+a;e++)l[e]=l[e]+c;o.array.copyWithin(t,n,n+a),o.addUpdateRange(t,a),s.indexStart=t}t+=s.reservedIndexCount}if(s.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=s,i=r.attributes;for(const r in i){const a=i[r],{array:o,itemSize:s}=a;o.copyWithin(e*s,t*s,(t+n)*s),a.addUpdateRange(e*s,n*s)}s.vertexStart=e}e+=s.reservedVertexCount,s.start=r.index?s.indexStart:s.vertexStart,this._nextIndexStart=r.index?s.indexStart+s.reservedIndexCount:0,this._nextVertexStart=s.vertexStart+s.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingBox){const e=new Os,t=n.index,r=n.attributes.position;for(let n=i.start,a=i.start+i.count;n<a;n++){let i=n;t&&(i=t.getX(i)),e.expandByPoint(Md.fromBufferAttribute(r,i))}i.boundingBox=e}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingSphere){const t=new nl;this.getBoundingBoxAt(e,_d),_d.getCenter(t.center);const r=n.index,a=n.attributes.position;let o=0;for(let e=i.start,n=i.start+i.count;e<n;e++){let n=e;r&&(n=r.getX(n)),Md.fromBufferAttribute(a,n),o=Math.max(o,t.center.distanceToSquared(Md))}t.radius=Math.sqrt(o),i.boundingSphere=t}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(Ad);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error("BatchedMesh: Instance ids outside the range ".concat(e," are being used. Cannot shrink instance count."));const i=new Int32Array(e),r=new Int32Array(e);Id(this._multiDrawCounts,i),Id(this._multiDrawStarts,r),this._multiDrawCounts=i,this._multiDrawStarts=r,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,s=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Id(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Id(o.image.data,this._matricesTexture.image.data),s&&(s.dispose(),this._initColorsTexture(),Id(s.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(e=>e.active),i=Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount));if(i>e)throw new Error("BatchedMesh: Geometry vertex values are being used outside the range ".concat(t,". Cannot shrink further."));if(this.geometry.index){const e=Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount));if(e>t)throw new Error("BatchedMesh: Geometry index values are being used outside the range ".concat(t,". Cannot shrink further."))}const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ic,this._initializeGeometry(r));const a=this.geometry;r.index&&Id(r.index.array,a.index.array);for(const o in r.attributes)Id(r.attributes[o].array,a.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,r=this.matrixWorld,a=this.geometry;Nd.material=this.material,Nd.geometry.index=a.index,Nd.geometry.attributes=a.attributes,null===Nd.geometry.boundingBox&&(Nd.geometry.boundingBox=new Os),null===Nd.geometry.boundingSphere&&(Nd.geometry.boundingSphere=new nl);for(let o=0,s=n.length;o<s;o++){if(!n[o].visible||!n[o].active)continue;const a=n[o].geometryIndex,s=i[a];Nd.geometry.setDrawRange(s.start,s.count),this.getMatrixAt(o,Nd.matrixWorld).premultiply(r),this.getBoundingBoxAt(a,Nd.geometry.boundingBox),this.getBoundingSphereAt(a,Nd.geometry.boundingSphere),Nd.raycast(e,Rd);for(let e=0,n=Rd.length;e<n;e++){const n=Rd[e];n.object=this,n.batchId=o,t.push(n)}Rd.length=0}Nd.material=null,Nd.geometry.index=null,Nd.geometry.attributes={},Nd.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>h(h({},e),{},{boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>h({},e)),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data,m=n.isArrayCamera?Td:wd;d&&!n.isArrayCamera&&(bd.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),wd.setFromProjectionMatrix(bd,e.coordinateSystem));let f=0;if(this.sortObjects){bd.copy(this.matrixWorld).invert(),Md.setFromMatrixPosition(n.matrixWorld).applyMatrix4(bd),Ed.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(bd);for(let i=0,r=s.length;i<r;i++)if(s[i].visible&&s[i].active){const e=s[i].geometryIndex;this.getMatrixAt(i,bd),this.getBoundingSphereAt(e,Sd).applyMatrix4(bd);let t=!1;if(d&&(t=!m.intersectsSphere(Sd,n)),!t){const t=u[e],n=Cd.subVectors(Sd.center,Md).dot(Ed);Pd.push(t.start,t.count,n,i)}}const e=Pd.list,t=this.customSort;null===t?e.sort(r.transparent?vd:gd):t.call(this,e,n);for(let n=0,i=e.length;n<i;n++){const t=e[n];l[f]=t.start*o,c[f]=t.count,p[f]=t.index,f++}Pd.reset()}else for(let A=0,g=s.length;A<g;A++)if(s[A].visible&&s[A].active){const e=s[A].geometryIndex;let t=!1;if(d&&(this.getMatrixAt(A,bd),this.getBoundingSphereAt(e,Sd).applyMatrix4(bd),t=!m.intersectsSphere(Sd,n)),!t){const t=u[e];l[f]=t.start*o,c[f]=t.count,p[f]=A,f++}}h.needsUpdate=!0,this._multiDrawCount=f,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,r,a){this.onBeforeRender(e,null,i,r,a)}}class kd extends oc{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ic(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Bd=new as,Fd=new as,Od=new dl,Ud=new ul,Vd=new nl,jd=new as,zd=new as;class qd extends Ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ic,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kd;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)Bd.fromBufferAttribute(t,e-1),Fd.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Bd.distanceTo(Fd);e.setAttribute("lineDistance",new Sc(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Vd.copy(n.boundingSphere),Vd.applyMatrix4(i),Vd.radius+=r,!1===e.ray.intersectsSphere(Vd))return;Od.copy(i).invert(),Ud.copy(e.ray).applyMatrix4(Od);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);for(let r=n,a=i-1;r<a;r+=l){const n=c.getX(r),i=c.getX(r+1),a=Gd(this,e,Ud,s,n,i,r);a&&t.push(a)}if(this.isLineLoop){const r=c.getX(i-1),a=c.getX(n),o=Gd(this,e,Ud,s,r,a,i-1);o&&t.push(o)}}else{const n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);for(let r=n,a=i-1;r<a;r+=l){const n=Gd(this,e,Ud,s,r,r+1,r);n&&t.push(n)}if(this.isLineLoop){const r=Gd(this,e,Ud,s,i-1,n,i-1);r&&t.push(r)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Gd(e,t,n,i,r,a,o){const s=e.geometry.attributes.position;Bd.fromBufferAttribute(s,r),Fd.fromBufferAttribute(s,a);if(n.distanceSqToSegment(Bd,Fd,jd,zd)>i)return;jd.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(jd);return l<t.near||l>t.far?void 0:{distance:l,point:zd.clone().applyMatrix4(e.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:e}}const Hd=new as,Wd=new as;class Qd extends qd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)Hd.fromBufferAttribute(t,e),Wd.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Hd.distanceTo(Wd);e.setAttribute("lineDistance",new Sc(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Yd extends qd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Xd extends oc{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ic(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Kd=new dl,Zd=new ul,Jd=new nl,$d=new as;class eh extends Ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ic,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xd;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Jd.copy(n.boundingSphere),Jd.applyMatrix4(i),Jd.radius+=r,!1===e.ray.intersectsSphere(Jd))return;Kd.copy(i).invert(),Zd.copy(e.ray).applyMatrix4(Kd);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),r=Math.min(l.count,a.start+a.count);n<r;n++){const r=l.getX(n);$d.fromBufferAttribute(c,r),th($d,r,s,i,e,t,this)}}else{for(let n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);n<r;n++)$d.fromBufferAttribute(c,n),th($d,n,s,i,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function th(e,t,n,i,r,a,o){const s=Zd.distanceSqToPoint(e);if(s<n){const n=new as;Zd.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class nh extends Ns{constructor(e,t,n,i){super(e,t,n,i,arguments.length>4&&void 0!==arguments[4]?arguments[4]:Er,arguments.length>5&&void 0!==arguments[5]?arguments[5]:Er,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0),this.isVideoTexture=!0,this.generateMipmaps=!1;const r=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){r.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class ih extends nh{constructor(e,t,n,i,r,a,o,s){super({},e,t,n,i,r,a,o,s),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class rh extends Ns{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=wr,this.minFilter=wr,this.generateMipmaps=!1,this.needsUpdate=!0}}class ah extends Ns{constructor(e,t,n,i,r,a,o,s,l,c,u,d){super(null,a,o,s,l,c,i,r,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class oh extends ah{constructor(e,t,n,i,r,a){super(e,t,n,r,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=br,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sh extends ah{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,mr),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class lh extends Ns{constructor(e,t,n,i,r,a,o,s,l){super(e,t,n,i,r,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ch extends Ns{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fr,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wr,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:wr,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Qr,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1;if(c!==Qr&&c!==Yr)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:u},i,r,a,o,s,c,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ms(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class uh extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i,heightSegments:r},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),i=Math.max(3,Math.floor(i)),r=Math.max(1,Math.floor(r));const a=[],o=[],s=[],l=[],c=t/2,u=Math.PI/2*e,d=t,h=2*u+d,p=2*n+r,m=i+1,f=new as,A=new as;for(let g=0;g<=p;g++){let v=0,y=0,b=0,x=0;if(g<=n){const t=g/n,i=t*Math.PI/2;y=-c-e*Math.cos(i),b=e*Math.sin(i),x=-e*Math.cos(i),v=t*u}else if(g<=n+r){const i=(g-n)/r;y=i*t-c,b=e,x=0,v=u+i*d}else{const t=(g-n-r)/n,i=t*Math.PI/2;y=c+e*Math.sin(i),b=e*Math.cos(i),x=e*Math.sin(i),v=u+d+t*u}const w=Math.max(0,Math.min(1,v/h));let T=0;0===g?T=.5/i:g===p&&(T=-.5/i);for(let e=0;e<=i;e++){const t=e/i,n=t*Math.PI*2,r=Math.sin(n),a=Math.cos(n);A.x=-b*a,A.y=y,A.z=b*r,o.push(A.x,A.y,A.z),f.set(-b*a,x,b*r),f.normalize(),s.push(f.x,f.y,f.z),l.push(t+T,w)}if(g>0){const e=(g-1)*m;for(let t=0;t<i;t++){const n=e+t,i=e+t+1,r=g*m+t,o=g*m+t+1;a.push(n,i,r),a.push(i,o,r)}}}this.setIndex(a),this.setAttribute("position",new Sc(o,3)),this.setAttribute("normal",new Sc(s,3)),this.setAttribute("uv",new Sc(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class dh extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],a=[],o=[],s=[],l=new as,c=new is;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const r=n+u/t*i;l.x=e*Math.cos(r),l.y=e*Math.sin(r),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new Sc(a,3)),this.setAttribute("normal",new Sc(o,3)),this.setAttribute("uv",new Sc(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hh extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],d=[],h=[];let p=0;const m=[],f=n/2;let A=0;function g(n){const r=p,a=new is,m=new as;let g=0;const v=!0===n?e:t,y=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,f*y,0),d.push(0,y,0),h.push(.5,.5),p++;const b=p;for(let e=0;e<=i;e++){const t=e/i*s+o,n=Math.cos(t),r=Math.sin(t);m.x=v*r,m.y=f*y,m.z=v*n,u.push(m.x,m.y,m.z),d.push(0,y,0),a.x=.5*n+.5,a.y=.5*r*y+.5,h.push(a.x,a.y),p++}for(let e=0;e<i;e++){const t=r+e,i=b+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),g+=3}l.addGroup(A,g,!0===n?1:2),A+=g}!function(){const a=new as,g=new as;let v=0;const y=(t-e)/n;for(let l=0;l<=r;l++){const c=[],A=l/r,v=A*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*s+o,l=Math.sin(r),m=Math.cos(r);g.x=v*l,g.y=-A*n+f,g.z=v*m,u.push(g.x,g.y,g.z),a.set(l,y,m).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-A),c.push(p++)}m.push(c)}for(let n=0;n<i;n++)for(let i=0;i<r;i++){const a=m[i][n],o=m[i+1][n],s=m[i+1][n+1],l=m[i][n+1];(e>0||0!==i)&&(c.push(a,o,l),v+=3),(t>0||i!==r-1)&&(c.push(o,s,l),v+=3)}l.addGroup(A,v,0),A+=v}(),!1===a&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new Sc(u,3)),this.setAttribute("normal",new Sc(d,3)),this.setAttribute("uv",new Sc(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ph extends hh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}static fromJSON(e){return new ph(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mh extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],a=[];function o(e,t,n,i){const r=i+1,a=[];for(let o=0;o<=r;o++){a[o]=[];const i=e.clone().lerp(n,o/r),s=t.clone().lerp(n,o/r),l=r-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===r?i:i.clone().lerp(s,e/l)}for(let o=0;o<r;o++)for(let e=0;e<2*(r-o)-1;e++){const t=Math.floor(e/2);e%2===0?(s(a[o][t+1]),s(a[o+1][t]),s(a[o][t])):(s(a[o][t+1]),s(a[o+1][t+1]),s(a[o+1][t]))}}function s(e){r.push(e.x,e.y,e.z)}function l(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new as,i=new as,r=new as;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],i),l(t[a+2],r),o(n,i,r,e)}(i),function(e){const t=new as;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){const e=new as;for(let t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];const n=u(e)/2/Math.PI+.5,i=d(e)/Math.PI+.5;a.push(n,1-i)}(function(){const e=new as,t=new as,n=new as,i=new as,o=new is,s=new is,l=new is;for(let d=0,h=0;d<r.length;d+=9,h+=6){e.set(r[d+0],r[d+1],r[d+2]),t.set(r[d+3],r[d+4],r[d+5]),n.set(r[d+6],r[d+7],r[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),i.copy(e).add(t).add(n).divideScalar(3);const p=u(i);c(o,h+0,e,p),c(s,h+2,t,p),c(l,h+4,n,p)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],i=a[e+4],r=Math.max(t,n,i),o=Math.min(t,n,i);r>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),i<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new Sc(r,3)),this.setAttribute("normal",new Sc(r.slice(),3)),this.setAttribute("uv",new Sc(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mh(e.vertices,e.indices,e.radius,e.details)}}class fh extends mh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fh(e.radius,e.detail)}}const Ah=new as,gh=new as,vh=new as,yh=new Jl;class bh extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,i=Math.pow(10,n),r=Math.cos(Yo*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=yh;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),yh.getNormal(vh),u[0]="".concat(Math.round(t.x*i),",").concat(Math.round(t.y*i),",").concat(Math.round(t.z*i)),u[1]="".concat(Math.round(n.x*i),",").concat(Math.round(n.y*i),",").concat(Math.round(n.z*i)),u[2]="".concat(Math.round(s.x*i),",").concat(Math.round(s.y*i),",").concat(Math.round(s.z*i)),u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],a=yh[c[e]],o=yh[c[t]],s="".concat(n,"_").concat(i),p="".concat(i,"_").concat(n);p in d&&d[p]?(vh.dot(d[p].normal)<=r&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),d[p]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:vh.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];Ah.fromBufferAttribute(o,t),gh.fromBufferAttribute(o,n),h.push(Ah.x,Ah.y,Ah.z),h.push(gh.x,gh.y,gh.z)}this.setAttribute("position",new Sc(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xh{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getLengths();let i=0;const r=n.length;let a;a=t||e*n[r-1];let o,s=0,l=r-1;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),o=n[i]-a,o<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(i=l,n[i]===a)return i/(r-1);const c=n[i];return(i+(a-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const a=this.getPoint(i),o=this.getPoint(r),s=t||(a.isVector2?new is:new as);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new as,i=[],r=[],a=[],o=new as,s=new dl;for(let h=0;h<=e;h++){const t=h/e;i[h]=this.getTangentAt(t,new as)}r[0]=new as,a[0]=new as;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(let h=1;h<=e;h++){if(r[h]=r[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Zo(i[h-1].dot(i[h]),-1,1));r[h].applyMatrix4(s.makeRotationAxis(o,e))}a[h].crossVectors(i[h],r[h])}if(!0===t){let t=Math.acos(Zo(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(s.makeRotationAxis(i[n],t*n)),a[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is,n=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const r=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=r?0:n),!0!==this.aClockwise||r||(i===n?i=-n:i-=n);const a=this.aStartAngle+e*i;let o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,i=s-this.aY;o=n*e-i*t+this.aX,s=n*t+i*e+this.aY}return t.set(o,s)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Th extends wh{constructor(e,t,n,i,r,a){super(e,t,n,n,i,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function _h(){let e=0,t=0,n=0,i=0;function r(r,a,o,s){e=r,t=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(i-t)/(o+s)+(i-n)/s;l*=o,c*=o,r(t,n,l,c)},calc:function(r){const a=r*r;return e+t*r+n*a+i*(a*r)}}}const Sh=new as,Mh=new _h,Eh=new _h,Ch=new _h;class Ph extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as,n=this.points,i=n.length,r=(i-(this.closed?0:1))*e;let a,o,s=Math.floor(r),l=r-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:0===l&&s===i-1&&(s=i-2,l=1),this.closed||s>0?a=n[(s-1)%i]:(Sh.subVectors(n[0],n[1]).add(n[0]),a=Sh);const c=n[s%i],u=n[(s+1)%i];if(this.closed||s+2<i?o=n[(s+2)%i]:(Sh.subVectors(n[i-1],n[i-2]).add(n[i-1]),o=Sh),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),i=Math.pow(u.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),Mh.initNonuniformCatmullRom(a.x,c.x,u.x,o.x,t,n,i),Eh.initNonuniformCatmullRom(a.y,c.y,u.y,o.y,t,n,i),Ch.initNonuniformCatmullRom(a.z,c.z,u.z,o.z,t,n,i)}else"catmullrom"===this.curveType&&(Mh.initCatmullRom(a.x,c.x,u.x,o.x,this.tension),Eh.initCatmullRom(a.y,c.y,u.y,o.y,this.tension),Ch.initCatmullRom(a.z,c.z,u.z,o.z,this.tension));return t.set(Mh.calc(l),Eh.calc(l),Ch.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new as).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Nh(e,t,n,i,r){const a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}function Rh(e,t,n,i){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Dh(e,t,n,i,r){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}class Ih extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new is,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new is;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Dh(e,n.x,i.x,r.x,a.x),Dh(e,n.y,i.y,r.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Lh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new as,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new as;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Dh(e,n.x,i.x,r.x,a.x),Dh(e,n.y,i.y,r.y,a.y),Dh(e,n.z,i.z,r.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Bh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Fh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new is;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is,n=this.v0,i=this.v1,r=this.v2;return t.set(Rh(e,n.x,i.x,r.x),Rh(e,n.y,i.y,r.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Oh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new as;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as,n=this.v0,i=this.v1,r=this.v2;return t.set(Rh(e,n.x,i.x,r.x),Rh(e,n.y,i.y,r.y),Rh(e,n.z,i.z,r.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Uh extends xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is,n=this.points,i=(n.length-1)*e,r=Math.floor(i),a=i-r,o=n[0===r?r:r-1],s=n[r],l=n[r>n.length-2?n.length-1:r+1],c=n[r>n.length-3?n.length-1:r+2];return t.set(Nh(a,o.x,s.x,l.x,c.x),Nh(a,o.y,s.y,l.y,c.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new is).fromArray(n))}return this}}var Vh=Object.freeze({__proto__:null,ArcCurve:Th,CatmullRomCurve3:Ph,CubicBezierCurve:Ih,CubicBezierCurve3:Lh,EllipseCurve:wh,LineCurve:kh,LineCurve3:Bh,QuadraticBezierCurve:Fh,QuadraticBezierCurve3:Oh,SplineCurve:Uh});class jh extends xh{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Vh[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=n){const e=i[r]-n,a=this.curves[r],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const a=r[i],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const i=s[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Vh[n.type]).fromJSON(n))}return this}}class zh extends jh{constructor(e){super(),this.type="Path",this.currentPoint=new is,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new kh(this.currentPoint.clone(),new is(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new Fh(this.currentPoint.clone(),new is(e,t),new is(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,a){const o=new Ih(this.currentPoint.clone(),new is(e,t),new is(n,i),new is(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Uh(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,i,r,a),this}absarc(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}ellipse(e,t,n,i,r,a,o,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,a,o,s),this}absellipse(e,t,n,i,r,a,o,s){const l=new wh(e,t,n,i,r,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class qh extends zh{constructor(e){super(e),this.uuid=Ko(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new zh).fromJSON(n))}return this}}function Gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const i=t&&t.length,r=i?t[0]*n:e.length;let a=Hh(e,0,r,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c;if(i&&(a=function(e,t,n,i){const r=[];for(let a=0,o=t.length;a<o;a++){const n=Hh(e,t[a]*i,a<o-1?t[a+1]*i:e.length,i,!1);n===n.next&&(n.steiner=!0),r.push(np(n))}r.sort(Jh);for(let a=0;a<r.length;a++)n=$h(r[a],n);return n}(e,t,a,n)),e.length>80*n){s=1/0,l=1/0;let t=-1/0,i=-1/0;for(let a=n;a<r;a+=n){const n=e[a],r=e[a+1];n<s&&(s=n),r<l&&(l=r),n>t&&(t=n),r>i&&(i=r)}c=Math.max(t-s,i-l),c=0!==c?32767/c:0}return Qh(a,o,n,s,l,c,0),o}function Hh(e,t,n,i,r){let a;if(r===function(e,t,n,i){let r=0;for(let a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i)>0)for(let o=t;o<n;o+=i)a=pp(o/i|0,e[o],e[o+1],a);else for(let o=n-i;o>=t;o-=i)a=pp(o/i|0,e[o],e[o+1],a);return a&&sp(a,a.next)&&(mp(a),a=a.next),a}function Wh(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!sp(i,i.next)&&0!==op(i.prev,i,i.next))i=i.next;else{if(mp(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function Qh(e,t,n,i,r,a,o){if(!e)return;!o&&a&&function(e,t,n,i){let r=e;do{0===r.z&&(r.z=tp(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n=1;do{let i,r=e;e=null;let a=null;for(t=0;r;){t++;let o=r,s=0;for(let e=0;e<n&&(s++,o=o.nextZ,o);e++);let l=n;for(;s>0||l>0&&o;)0!==s&&(0===l||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=o}a.nextZ=null,n*=2}while(t>1)}(r)}(e,i,r,a);let s=e;for(;e.prev!==e.next;){const l=e.prev,c=e.next;if(a?Xh(e,i,r,a):Yh(e))t.push(l.i,e.i,c.i),mp(e),e=c.next,s=c.next;else if((e=c)===s){o?1===o?Qh(e=Kh(Wh(e),t),t,n,i,r,a,2):2===o&&Zh(e,t,n,i,r,a):Qh(Wh(e),t,n,i,r,a,1);break}}}function Yh(e){const t=e.prev,n=e,i=e.next;if(op(t,n,i)>=0)return!1;const r=t.x,a=n.x,o=i.x,s=t.y,l=n.y,c=i.y,u=Math.min(r,a,o),d=Math.min(s,l,c),h=Math.max(r,a,o),p=Math.max(s,l,c);let m=i.next;for(;m!==t;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=p&&rp(r,s,a,l,o,c,m.x,m.y)&&op(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Xh(e,t,n,i){const r=e.prev,a=e,o=e.next;if(op(r,a,o)>=0)return!1;const s=r.x,l=a.x,c=o.x,u=r.y,d=a.y,h=o.y,p=Math.min(s,l,c),m=Math.min(u,d,h),f=Math.max(s,l,c),A=Math.max(u,d,h),g=tp(p,m,t,n,i),v=tp(f,A,t,n,i);let y=e.prevZ,b=e.nextZ;for(;y&&y.z>=g&&b&&b.z<=v;){if(y.x>=p&&y.x<=f&&y.y>=m&&y.y<=A&&y!==r&&y!==o&&rp(s,u,l,d,c,h,y.x,y.y)&&op(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,b.x>=p&&b.x<=f&&b.y>=m&&b.y<=A&&b!==r&&b!==o&&rp(s,u,l,d,c,h,b.x,b.y)&&op(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;y&&y.z>=g;){if(y.x>=p&&y.x<=f&&y.y>=m&&y.y<=A&&y!==r&&y!==o&&rp(s,u,l,d,c,h,y.x,y.y)&&op(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=f&&b.y>=m&&b.y<=A&&b!==r&&b!==o&&rp(s,u,l,d,c,h,b.x,b.y)&&op(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Kh(e,t){let n=e;do{const i=n.prev,r=n.next.next;!sp(i,r)&&lp(i,n,n.next,r)&&dp(i,r)&&dp(r,i)&&(t.push(i.i,n.i,r.i),mp(n),mp(n.next),n=e=r),n=n.next}while(n!==e);return Wh(n)}function Zh(e,t,n,i,r,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&ap(o,e)){let s=hp(o,e);return o=Wh(o,o.next),s=Wh(s,s.next),Qh(o,t,n,i,r,a,0),void Qh(s,t,n,i,r,a,0)}e=e.next}o=o.next}while(o!==e)}function Jh(e,t){let n=e.x-t.x;if(0===n&&(n=e.y-t.y,0===n)){n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)}return n}function $h(e,t){const n=function(e,t){let n=t;const i=e.x,r=e.y;let a,o=-1/0;if(sp(e,n))return n;do{if(sp(e,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const e=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=i&&e>o&&(o=e,a=n.x<n.next.x?n:n.next,e===i))return a}n=n.next}while(n!==t);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(i>=n.x&&n.x>=l&&i!==n.x&&ip(r<c?i:o,r,l,c,r<c?o:i,r,n.x,n.y)){const t=Math.abs(r-n.y)/(i-n.x);dp(n,e)&&(t<u||t===u&&(n.x>a.x||n.x===a.x&&ep(a,n)))&&(a=n,u=t)}n=n.next}while(n!==s);return a}(e,t);if(!n)return t;const i=hp(n,e);return Wh(i,i.next),Wh(n,n.next)}function ep(e,t){return op(e.prev,e,t.prev)<0&&op(t.next,e,e.next)<0}function tp(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function np(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function ip(e,t,n,i,r,a,o,s){return(r-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(i-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function rp(e,t,n,i,r,a,o,s){return!(e===o&&t===s)&&ip(e,t,n,i,r,a,o,s)}function ap(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&lp(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(dp(e,t)&&dp(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(op(e.prev,e,t.prev)||op(e,t.prev,t))||sp(e,t)&&op(e.prev,e,e.next)>0&&op(t.prev,t,t.next)>0)}function op(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function sp(e,t){return e.x===t.x&&e.y===t.y}function lp(e,t,n,i){const r=up(op(e,t,n)),a=up(op(e,t,i)),o=up(op(n,i,e)),s=up(op(n,i,t));return r!==a&&o!==s||(!(0!==r||!cp(e,n,t))||(!(0!==a||!cp(e,i,t))||(!(0!==o||!cp(n,e,i))||!(0!==s||!cp(n,t,i)))))}function cp(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function up(e){return e>0?1:e<0?-1:0}function dp(e,t){return op(e.prev,e,e.next)<0?op(e,t,e.next)>=0&&op(e,e.prev,t)>=0:op(e,t,e.prev)<0||op(e,e.next,t)<0}function hp(e,t){const n=fp(e.i,e.x,e.y),i=fp(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function pp(e,t,n,i){const r=fp(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function mp(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function fp(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Ap{static triangulate(e,t){return Gh(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:2)}}class gp{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return gp.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];vp(e),yp(n,e);let a=e.length;t.forEach(vp);for(let s=0;s<t.length;s++)i.push(a),a+=t[s].length,yp(n,t[s]);const o=Ap.triangulate(n,i);for(let s=0;s<o.length;s+=3)r.push(o.slice(s,s+3));return r}}function vp(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function yp(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class bp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh([new is(.5,.5),new is(-.5,.5),new is(-.5,-.5),new is(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let o=0,s=e.length;o<s;o++){a(e[o])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const m=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:xp;let A,g,v,y,b,x=!1;m&&(A=m.getSpacedPoints(s),x=!0,c=!1,g=m.computeFrenetFrames(s,!1),v=new as,y=new as,b=new as),c||(p=0,u=0,d=0,h=0);const w=e.extractPoints(o);let T=w.shape;const _=w.holes;if(!gp.isClockWise(T)){T=T.reverse();for(let e=0,t=_.length;e<t;e++){const t=_[e];gp.isClockWise(t)&&(_[e]=t.reverse())}}function S(e){const t=1e-10*1e-10;let n=e[0];for(let i=1;i<=e.length;i++){const r=i%e.length,a=e[r],o=a.x-n.x,s=a.y-n.y,l=o*o+s*s,c=Math.max(Math.abs(a.x),Math.abs(a.y),Math.abs(n.x),Math.abs(n.y));l<=t*c*c?(e.splice(r,1),i--):n=a}}S(T),_.forEach(S);const M=_.length,E=T;for(let t=0;t<M;t++){const e=_[t];T=T.concat(e)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const P=T.length;function N(e,t,n){let i,r,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),p=t.x-s/d,m=t.y+o/d,f=((n.x-c/h-p)*c-(n.y+l/h-m)*l)/(o*c-s*l);i=p+o*f-e.x,r=m+s*f-e.y;const A=i*i+r*r;if(A<=2)return new is(i,r);a=Math.sqrt(A/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(i=-s,r=o,a=Math.sqrt(u)):(i=o,r=s,a=Math.sqrt(u/2))}return new is(i/a,r/a)}const R=[];for(let t=0,n=E.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),R[t]=N(E[t],E[i],E[r]);const D=[];let I,L,k=R.concat();for(let t=0,n=M;t<n;t++){const e=_[t];I=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),I[t]=N(e[t],e[i],e[r]);D.push(I),k=k.concat(I)}if(0===p)L=gp.triangulateShape(E,_);else{const e=[],t=[];for(let n=0;n<p;n++){const i=n/p,r=u*Math.cos(i*Math.PI/2),a=d*Math.sin(i*Math.PI/2)+h;for(let t=0,n=E.length;t<n;t++){const n=C(E[t],R[t],a);U(n.x,n.y,-r),0===i&&e.push(n)}for(let e=0,n=M;e<n;e++){const n=_[e];I=D[e];const o=[];for(let e=0,t=n.length;e<t;e++){const t=C(n[e],I[e],a);U(t.x,t.y,-r),0===i&&o.push(t)}0===i&&t.push(o)}}L=gp.triangulateShape(e,t)}const B=L.length,F=d+h;for(let t=0;t<P;t++){const e=c?C(T[t],k[t],F):T[t];x?(y.copy(g.normals[0]).multiplyScalar(e.x),v.copy(g.binormals[0]).multiplyScalar(e.y),b.copy(A[0]).add(y).add(v),U(b.x,b.y,b.z)):U(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<P;e++){const n=c?C(T[e],k[e],F):T[e];x?(y.copy(g.normals[t]).multiplyScalar(n.x),v.copy(g.binormals[t]).multiplyScalar(n.y),b.copy(A[t]).add(y).add(v),U(b.x,b.y,b.z)):U(n.x,n.y,l/s*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=d*Math.sin(e*Math.PI/2)+h;for(let t=0,r=E.length;t<r;t++){const e=C(E[t],R[t],i);U(e.x,e.y,l+n)}for(let t=0,r=_.length;t<r;t++){const e=_[t];I=D[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],I[t],i);x?U(r.x,r.y+A[s-1].y,A[s-1].x+n):U(r.x,r.y,l+n)}}}function O(e,t){let n=e.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=s+2*p;e<n;e++){const n=P*e,a=P*(e+1);j(t+i+n,t+r+n,t+r+a,t+i+a)}}}function U(e,t,n){a.push(e),a.push(t),a.push(n)}function V(e,t,r){z(e),z(t),z(r);const a=i.length/3,o=f.generateTopUV(n,i,a-3,a-2,a-1);q(o[0]),q(o[1]),q(o[2])}function j(e,t,r,a){z(e),z(t),z(a),z(t),z(r),z(a);const o=i.length/3,s=f.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);q(s[0]),q(s[1]),q(s[3]),q(s[1]),q(s[2]),q(s[3])}function z(e){i.push(a[3*e+0]),i.push(a[3*e+1]),i.push(a[3*e+2])}function q(e){r.push(e.x),r.push(e.y)}!function(){const e=i.length/3;if(c){let e=0,t=P*e;for(let n=0;n<B;n++){const e=L[n];V(e[2]+t,e[1]+t,e[0]+t)}e=s+2*p,t=P*e;for(let n=0;n<B;n++){const e=L[n];V(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<B;e++){const t=L[e];V(t[2],t[1],t[0])}for(let e=0;e<B;e++){const t=L[e];V(t[0]+P*s,t[1]+P*s,t[2]+P*s)}}n.addGroup(e,i.length/3-e,0)}(),function(){const e=i.length/3;let t=0;O(E,t),t+=E.length;for(let n=0,i=_.length;n<i;n++){const e=_[n];O(e,t),t+=e.length}n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new Sc(i,3)),this.setAttribute("uv",new Sc(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const i=t[e.shapes[r]];n.push(i)}const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new Vh[i.type]).fromJSON(i)),new bp(n,e.options)}}const xp={generateTopUV:function(e,t,n,i,r){const a=t[3*n],o=t[3*n+1],s=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new is(a,o),new is(s,l),new is(c,u)]},generateSideWallUV:function(e,t,n,i,r,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],m=t[3*r+2],f=t[3*a],A=t[3*a+1],g=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new is(o,1-l),new is(c,1-d),new is(h,1-m),new is(f,1-g)]:[new is(s,1-l),new is(u,1-d),new is(p,1-m),new is(A,1-g)]}};class wp extends mh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wp(e.radius,e.detail)}}class Tp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new is(0,-.5),new is(.5,0),new is(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Zo(i,0,2*Math.PI);const r=[],a=[],o=[],s=[],l=[],c=1/t,u=new as,d=new is,h=new as,p=new as,m=new as;let f=0,A=0;for(let g=0;g<=e.length-1;g++)switch(g){case 0:f=e[g+1].x-e[g].x,A=e[g+1].y-e[g].y,h.x=1*A,h.y=-f,h.z=0*A,m.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(m.x,m.y,m.z);break;default:f=e[g+1].x-e[g].x,A=e[g+1].y-e[g].y,h.x=1*A,h.y=-f,h.z=0*A,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),s.push(h.x,h.y,h.z),m.copy(p)}for(let g=0;g<=t;g++){const r=n+g*c*i,h=Math.sin(r),p=Math.cos(r);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*p,a.push(u.x,u.y,u.z),d.x=g/t,d.y=n/(e.length-1),o.push(d.x,d.y);const i=s[3*n+0]*h,r=s[3*n+1],c=s[3*n+0]*p;l.push(i,r,c)}}for(let g=0;g<t;g++)for(let t=0;t<e.length-1;t++){const n=t+g*e.length,i=n,a=n+e.length,o=n+e.length+1,s=n+1;r.push(i,a,s),r.push(o,s,a)}this.setIndex(r),this.setAttribute("position",new Sc(a,3)),this.setAttribute("uv",new Sc(o,2)),this.setAttribute("normal",new Sc(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tp(e.points,e.segments,e.phiStart,e.phiLength)}}class _p extends mh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _p(e.radius,e.detail)}}class Sp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,a=t/2,o=Math.floor(n),s=Math.floor(i),l=o+1,c=s+1,u=e/o,d=t/s,h=[],p=[],m=[],f=[];for(let A=0;A<c;A++){const e=A*d-a;for(let t=0;t<l;t++){const n=t*u-r;p.push(n,-e,0),m.push(0,0,1),f.push(t/o),f.push(1-A/s)}}for(let A=0;A<s;A++)for(let e=0;e<o;e++){const t=e+l*A,n=e+l*(A+1),i=e+1+l*(A+1),r=e+1+l*A;h.push(t,n,r),h.push(n,i,r)}this.setIndex(h),this.setAttribute("position",new Sc(p,3)),this.setAttribute("normal",new Sc(m,3)),this.setAttribute("uv",new Sc(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sp(e.width,e.height,e.widthSegments,e.heightSegments)}}class Mp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},n=Math.max(3,n),i=Math.max(1,i);const o=[],s=[],l=[],c=[];let u=e;const d=(t-e)/i,h=new as,p=new is;for(let m=0;m<=i;m++){for(let e=0;e<=n;e++){const i=r+e/n*a;h.x=u*Math.cos(i),h.y=u*Math.sin(i),s.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let m=0;m<i;m++){const e=m*(n+1);for(let t=0;t<n;t++){const i=t+e,r=i,a=i+n+1,s=i+n+2,l=i+1;o.push(r,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new Sc(s,3)),this.setAttribute("normal",new Sc(l,3)),this.setAttribute("uv",new Sc(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ep extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh([new is(0,.5),new is(-.5,-.5),new is(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){const o=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===gp.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===gp.isClockWise(e)&&(u[t]=e.reverse())}const d=gp.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),a.push(e.x,e.y)}for(let t=0,i=d.length;t<i;t++){const e=d[t],i=e[0]+o,r=e[1]+o,a=e[2]+o;n.push(i,r,a),s+=3}}this.setIndex(n),this.setAttribute("position",new Sc(i,3)),this.setAttribute("normal",new Sc(r,3)),this.setAttribute("uv",new Sc(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}return new Ep(n,e.curveSegments)}}class Cp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new as,d=new as,h=[],p=[],m=[],f=[];for(let A=0;A<=n;A++){const h=[],g=A/n;let v=0;0===A&&0===a?v=.5/t:A===n&&s===Math.PI&&(v=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(i+s*r)*Math.sin(a+g*o),u.y=e*Math.cos(a+g*o),u.z=e*Math.sin(i+s*r)*Math.sin(a+g*o),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),f.push(s+v,1-g),h.push(l++)}c.push(h)}for(let A=0;A<n;A++)for(let e=0;e<t;e++){const t=c[A][e+1],i=c[A][e],r=c[A+1][e],o=c[A+1][e+1];(0!==A||a>0)&&h.push(t,i,o),(A!==n-1||s<Math.PI)&&h.push(i,r,o)}this.setIndex(h),this.setAttribute("position",new Sc(p,3)),this.setAttribute("normal",new Sc(m,3)),this.setAttribute("uv",new Sc(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pp extends mh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pp(e.radius,e.detail)}}class Np extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],s=[],l=[],c=new as,u=new as,d=new as;for(let h=0;h<=n;h++)for(let a=0;a<=i;a++){const p=a/i*r,m=h/n*Math.PI*2;u.x=(e+t*Math.cos(m))*Math.cos(p),u.y=(e+t*Math.cos(m))*Math.sin(p),u.z=t*Math.sin(m),o.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(a/i),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=i;e++){const t=(i+1)*h+e-1,n=(i+1)*(h-1)+e-1,r=(i+1)*(h-1)+e,o=(i+1)*h+e;a.push(t,n,o),a.push(n,r,o)}this.setIndex(a),this.setAttribute("position",new Sc(o,3)),this.setAttribute("normal",new Sc(s,3)),this.setAttribute("uv",new Sc(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Np(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Rp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},n=Math.floor(n),i=Math.floor(i);const o=[],s=[],l=[],c=[],u=new as,d=new as,h=new as,p=new as,m=new as,f=new as,A=new as;for(let v=0;v<=n;++v){const o=v/n*r*Math.PI*2;g(o,r,a,e,h),g(o+.01,r,a,e,p),f.subVectors(p,h),A.addVectors(p,h),m.crossVectors(f,A),A.crossVectors(m,f),m.normalize(),A.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,a=-t*Math.cos(r),o=t*Math.sin(r);u.x=h.x+(a*A.x+o*m.x),u.y=h.y+(a*A.y+o*m.y),u.z=h.z+(a*A.z+o*m.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(v/n),c.push(e/i)}}for(let v=1;v<=n;v++)for(let e=1;e<=i;e++){const t=(i+1)*(v-1)+(e-1),n=(i+1)*v+(e-1),r=(i+1)*v+e,a=(i+1)*(v-1)+e;o.push(t,n,a),o.push(n,r,a)}function g(e,t,n,i,r){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new Sc(s,3)),this.setAttribute("normal",new Sc(l,3)),this.setAttribute("uv",new Sc(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Dp extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Oh(new as(-1,-1,0),new as(-1,1,0),new as(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new as,s=new as,l=new is;let c=new as;const u=[],d=[],h=[],p=[];function m(r){c=e.getPointAt(r/t,c);const l=a.normals[r],h=a.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+r*h.x,s.y=a*l.y+r*h.y,s.z=a*l.z+r*h.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=c.x+n*s.x,o.y=c.y+n*s.y,o.z=c.z+n*s.z,u.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)m(e);m(!1===r?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),a=(i+1)*e+t,o=(i+1)*(e-1)+t;p.push(n,r,o),p.push(r,a,o)}}()}(),this.setIndex(p),this.setAttribute("position",new Sc(u,3)),this.setAttribute("normal",new Sc(d,3)),this.setAttribute("uv",new Sc(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Dp((new Vh[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ip extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new as,r=new as;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),c=o.getX(e+(l+1)%3);i.fromBufferAttribute(a,s),r.fromBufferAttribute(a,c),!0===Lp(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;i.fromBufferAttribute(a,o),r.fromBufferAttribute(a,l),!0===Lp(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Sc(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Lp(e,t,n){const i="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),r="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var kp=Object.freeze({__proto__:null,BoxGeometry:Qc,CapsuleGeometry:uh,CircleGeometry:dh,ConeGeometry:ph,CylinderGeometry:hh,DodecahedronGeometry:fh,EdgesGeometry:bh,ExtrudeGeometry:bp,IcosahedronGeometry:wp,LatheGeometry:Tp,OctahedronGeometry:_p,PlaneGeometry:Sp,PolyhedronGeometry:mh,RingGeometry:Mp,ShapeGeometry:Ep,SphereGeometry:Cp,TetrahedronGeometry:Pp,TorusGeometry:Np,TorusKnotGeometry:Rp,TubeGeometry:Dp,WireframeGeometry:Ip});class Bp extends oc{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ic(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Fp extends Jc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Op extends oc{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ic(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ic(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new is(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Up extends Op{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new is(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zo(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ic(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ic(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ic(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Vp extends oc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ic(16777215),this.specular=new ic(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ic(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new is(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.combine=er,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jp extends oc{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ic(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ic(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new is(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zp extends oc{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new is(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qp extends oc{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ic(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ic(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new is(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.combine=er,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Gp extends oc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Qa,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Hp extends oc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Wp extends oc{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ic(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new is(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qp extends kd{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yp(e,t){return e&&e.constructor!==t?"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function Xp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kp(e){const t=e.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n}function Zp(e,t,n){const i=e.length,r=new e.constructor(i);for(let a=0,o=0;o!==i;++a){const i=n[a]*t;for(let n=0;n!==t;++n)r[o++]=e[i+n]}return r}function Jp(e,t,n,i){let r=1,a=e[0];for(;void 0!==a&&void 0===a[i];)a=e[r++];if(void 0===a)return;let o=a[i];if(void 0!==o)if(Array.isArray(o))do{o=a[i],void 0!==o&&(t.push(a.time),n.push(...o)),a=e[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[i],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++]}while(void 0!==a);else do{o=a[i],void 0!==o&&(t.push(a.time),n.push(o)),a=e[r++]}while(void 0!==a)}class $p{static convertArray(e,t){return Yp(e,t)}static isTypedArray(e){return Xp(e)}static getKeyframeOrder(e){return Kp(e)}static sortedArray(e,t,n){return Zp(e,t,n)}static flattenJSON(e,t,n,i){Jp(e,t,n,i)}static subclip(e,t,n,i){return function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],c=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*r;if(!(o<n||o>=i)){s.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==s.length&&(e.times=Yp(s,e.times.constructor),e.values=Yp(c,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}(e,t,n,i,arguments.length>4&&void 0!==arguments[4]?arguments[4]:30)}static makeClipAdditive(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);const r=n.tracks.length,a=t/i;for(let o=0;o<r;++o){const t=n.tracks[o],i=t.ValueTypeName;if("bool"===i||"string"===i)continue;const r=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===i});if(void 0===r)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(a<=t.times[0]){const e=s,n=l-s;h=t.values.slice(e,n)}else if(a>=t.times[d]){const e=d*l+s,n=e+l-s;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,i=l-s;e.evaluate(a),h=e.resultBuffer.slice(n,i)}"quaternion"===i&&(new rs).fromArray(h).normalize().conjugate().toArray(h);const p=r.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===i)rs.multiplyQuaternionsFlat(r.values,t,h,0,r.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)r.values[t+n]-=h[n]}}}return e.blendMode=qa,e}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:30)}}class em{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}a=t.length;break n}if(!(e>=r)){const o=t[1];e<o&&(n=2,r=o);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}a=n,n=0;break n}break e}for(;n<a;){const i=n+a>>>1;e<t[i]?a=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let a=0;a!==i;++a)t[a]=n[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tm extends em{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ua,endingEnd:Ua}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Va:r=e,o=2*t-n;break;case ja:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Va:a=e,s=2*n-t;break;case ja:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,A=-d*f+2*d*m-d*p,g=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,v=(-1-h)*f+(1.5+h)*m+.5*p,y=h*f-h*m;for(let b=0;b!==o;++b)r[b]=A*a[c+b]+g*a[l+b]+v*a[s+b]+y*a[u+b];return r}}class nm extends em{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c;for(let d=0;d!==o;++d)r[d]=a[l+d]*u+a[s+d]*c;return r}}class im extends em{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class rm{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yp(t,this.TimeBufferType),this.values=Yp(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Yp(e.times,Array),values:Yp(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new im(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new nm(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tm(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ba:t=this.InterpolantFactoryMethodDiscrete;break;case Fa:t=this.InterpolantFactoryMethodLinear;break;case Oa:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ba;case this.InterpolantFactoryMethodLinear:return Fa;case this.InterpolantFactoryMethodSmooth:return Oa}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,a=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);const e=this.getValueSize();this.times=n.slice(r,a),this.values=this.values.slice(r*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==r;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==i&&Xp(i))for(let o=0,s=i.length;o!==s;++o){const t=i[o];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Oa,r=e.length-1;let a=1;for(let o=1;o<r;++o){let r=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(i)r=!0;else{const e=o*n,i=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[i+o]||n!==t[a+o]){r=!0;break}}}if(r){if(o!==a){e[a]=e[o];const i=o*n,r=a*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++a}}if(r>0){e[a]=e[r];for(let e=r*n,i=a*n,o=0;o!==n;++o)t[i+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}rm.prototype.ValueTypeName="",rm.prototype.TimeBufferType=Float32Array,rm.prototype.ValueBufferType=Float32Array,rm.prototype.DefaultInterpolation=Fa;class am extends rm{constructor(e,t,n){super(e,t,n)}}am.prototype.ValueTypeName="bool",am.prototype.ValueBufferType=Array,am.prototype.DefaultInterpolation=Ba,am.prototype.InterpolantFactoryMethodLinear=void 0,am.prototype.InterpolantFactoryMethodSmooth=void 0;class om extends rm{constructor(e,t,n,i){super(e,t,n,i)}}om.prototype.ValueTypeName="color";class sm extends rm{constructor(e,t,n,i){super(e,t,n,i)}}sm.prototype.ValueTypeName="number";class lm extends em{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t);let l=e*o;for(let c=l+o;l!==c;l+=4)rs.slerpFlat(r,0,a,l-o,a,l,s);return r}}class cm extends rm{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new lm(this.times,this.values,this.getValueSize(),e)}}cm.prototype.ValueTypeName="quaternion",cm.prototype.InterpolantFactoryMethodSmooth=void 0;class um extends rm{constructor(e,t,n){super(e,t,n)}}um.prototype.ValueTypeName="string",um.prototype.ValueBufferType=Array,um.prototype.DefaultInterpolation=Ba,um.prototype.InterpolantFactoryMethodLinear=void 0,um.prototype.InterpolantFactoryMethodSmooth=void 0;class dm extends rm{constructor(e,t,n,i){super(e,t,n,i)}}dm.prototype.ValueTypeName="vector";class hm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:za;this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Ko(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(pm(n[a]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=n.length;r!==a;++r)t.push(rm.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,a=[];for(let o=0;o<r;o++){let e=[],s=[];e.push((o+r-1)%r,o,(o+1)%r),s.push(0,1,0);const l=Kp(e);e=Zp(e,1,l),s=Zp(s,1,l),i||0!==e[0]||(e.push(r),s.push(s[0])),a.push(new sm(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(r);if(n&&n.length>1){const e=n[1];let r=i[e];r||(i[e]=r=[]),r.push(t)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,n));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const a=[],o=[];Jp(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let i=0;i<e[n].morphTargets.length;i++)t[e[n].morphTargets[i]]=-1;for(const r in t){const t=[],a=[];for(let i=0;i!==e[n].morphTargets.length;++i){const i=e[n];t.push(i.time),a.push(i.morphTarget===r?1:0)}i.push(new sm(".morphTargetInfluence["+r+"]",t,a))}s=t.length*a}else{const r=".bones["+t[c].name+"]";n(dm,r+".position",e,"pos",i),n(cm,r+".quaternion",e,"rot",i),n(dm,r+".scale",e,"scl",i)}}if(0===i.length)return null;return new this(r,s,i,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pm(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sm;case"vector":case"vector2":case"vector3":case"vector4":return dm;case"color":return om;case"quaternion":return cm;case"bool":case"boolean":return am;case"string":return um}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Jp(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const mm={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class fm{constructor(e,t,n){const i=this;let r,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const Am=new fm;class gm{constructor(e){this.manager=void 0!==e?e:Am,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}gm.DEFAULT_MATERIAL_NAME="__DEFAULT";const vm={};class ym extends Error{constructor(e,t){super(e),this.response=t}}class bm extends gm{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=mm.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==vm[e])return void vm[e].push({onLoad:t,onProgress:n,onError:i});vm[e]=[],vm[e].push({onLoad:t,onProgress:n,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=vm[e],i=t.body.getReader(),r=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=r?parseInt(r):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){i.read().then(i=>{let{done:r,value:l}=i;if(r)e.close();else{s+=l.byteLength;const i=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(l),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new ym('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,o));case"json":return e.json();default:if(""===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,i=new TextDecoder(n);return e.arrayBuffer().then(e=>i.decode(e))}}}).then(t=>{mm.add(e,t);const n=vm[e];delete vm[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{const n=vm[e];if(void 0===n)throw this.manager.itemError(e),t;delete vm[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xm extends gm{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new bm(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(ice){i?i(ice):console.error(ice),r.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=hm.parse(e[n]);t.push(i)}return t}}class wm extends gm{constructor(e){super(e)}load(e,t,n,i){const r=this,a=[],o=new ah,s=new bm(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);let l=0;function c(c){s.load(e[c],function(e){const n=r.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=Er),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Er),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}}class Tm extends gm{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=mm.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;const o=ps("img");function s(){c(),mm.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}class _m extends gm{constructor(e){super(e)}load(e,t,n,i){const r=new ou;r.colorSpace=eo;const a=new Tm(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],function(e){r.images[n]=e,o++,6===o&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)s(l);return r}}class Sm extends gm{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new Qu,o=new bm(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,function(e){let n;try{n=r.parse(e)}catch(o){if(void 0===i)return void console.error(o);i(o)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:br,a.wrapT=void 0!==n.wrapT?n.wrapT:br,a.magFilter=void 0!==n.magFilter?n.magFilter:Er,a.minFilter=void 0!==n.minFilter?n.minFilter:Er,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Nr),1===n.mipmapCount&&(a.minFilter=Er),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)},n,i),a}}class Mm extends gm{constructor(e){super(e)}load(e,t,n,i){const r=new Ns,a=new Tm(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}}class Em extends Ol{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new ic(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class Cm extends Em{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ol.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ic(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Pm=new dl,Nm=new as,Rm=new as;class Dm{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new is(512,512),this.mapType=Dr,this.map=null,this.mapPass=null,this.matrix=new dl,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hd,this._frameExtents=new is(1,1),this._viewportCount=1,this._viewports=[new Rs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Nm.setFromMatrixPosition(e.matrixWorld),t.position.copy(Nm),Rm.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Rm),t.updateMatrixWorld(),Pm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Pm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Pm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Im extends Dm{constructor(){super(new iu(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=2*Xo*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lm extends Em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ol.DEFAULT_UP),this.updateMatrix(),this.target=new Ol,this.distance=n,this.angle=i,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new Im}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const km=new dl,Bm=new as,Fm=new as;class Om extends Dm{constructor(){super(new iu(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new is(4,2),this._viewportCount=6,this._viewports=[new Rs(2,1,1,1),new Rs(0,1,1,1),new Rs(3,1,1,1),new Rs(1,1,1,1),new Rs(3,0,1,1),new Rs(1,0,1,1)],this._cubeDirections=[new as(1,0,0),new as(-1,0,0),new as(0,0,1),new as(0,0,-1),new as(0,1,0),new as(0,-1,0)],this._cubeUps=[new as(0,1,0),new as(0,1,0),new as(0,1,0),new as(0,1,0),new as(0,0,1),new as(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Bm.setFromMatrixPosition(e.matrixWorld),n.position.copy(Bm),Fm.copy(n.position),Fm.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Fm),n.updateMatrixWorld(),i.makeTranslation(-Bm.x,-Bm.y,-Bm.z),km.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(km)}}class Um extends Em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Om}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Vm extends $c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,a=r+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class jm extends Dm{constructor(){super(new Vm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class zm extends Em{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ol.DEFAULT_UP),this.updateMatrix(),this.target=new Ol,this.shadow=new jm}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qm extends Em{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Gm extends Em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Hm{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new as)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*i*1.092548),t.addScaledVector(a[5],i*r*1.092548),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],n*r*1.092548),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*i),t.addScaledVector(a[2],1.023328*r),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*i),t.addScaledVector(a[5],.858086*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],.858086*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class Wm extends Em{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hm;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Qm extends gm{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,a=new bm(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(ice){i?i(ice):console.error(ice),r.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new ic).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(i.dispersion=e.dispersion),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(i.depthFunc=e.depthFunc),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(i.blendSrc=e.blendSrc),void 0!==e.blendDst&&(i.blendDst=e.blendDst),void 0!==e.blendEquation&&(i.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(i.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(i.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(i.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(i.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),void 0!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const r in e.uniforms){const t=e.uniforms[r];switch(i.uniforms[r]={},t.type){case"t":i.uniforms[r].value=n(t.value);break;case"c":i.uniforms[r].value=(new ic).setHex(t.value);break;case"v2":i.uniforms[r].value=(new is).fromArray(t.value);break;case"v3":i.uniforms[r].value=(new as).fromArray(t.value);break;case"v4":i.uniforms[r].value=(new Rs).fromArray(t.value);break;case"m3":i.uniforms[r].value=(new ls).fromArray(t.value);break;case"m4":i.uniforms[r].value=(new dl).fromArray(t.value);break;default:i.uniforms[r].value=t.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new is).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapRotation&&i.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new is).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Qm.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:Bp,SpriteMaterial:gu,RawShaderMaterial:Fp,ShaderMaterial:Jc,PointsMaterial:Xd,MeshPhysicalMaterial:Up,MeshStandardMaterial:Op,MeshPhongMaterial:Vp,MeshToonMaterial:jp,MeshNormalMaterial:zp,MeshLambertMaterial:qp,MeshDepthMaterial:Gp,MeshDistanceMaterial:Hp,MeshBasicMaterial:sc,MeshMatcapMaterial:Wp,LineDashedMaterial:Qp,LineBasicMaterial:kd,Material:oc}[e]}}class Ym{static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Xm extends Ic{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Km extends gm{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new bm(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(ice){i?i(ice):console.error(ice),r.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(e,i){if(void 0!==t[i])return t[i];const r=e.interleavedBuffers[i],a=function(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers,r=i[t],a=new Uint32Array(r).buffer;return n[t]=a,a}(e,r.buffer),o=hs(r.type,a),s=new mu(o,r.stride);return s.uuid=r.uuid,t[i]=s,s}const r=e.isInstancedBufferGeometry?new Xm:new Ic,a=e.data.index;if(void 0!==a){const e=hs(a.type,a.array);r.setIndex(new Ac(e,1))}const o=e.data.attributes;for(const u in o){const t=o[u];let n;if(t.isInterleavedBufferAttribute){const r=i(e.data,t.data);n=new Au(r,t.itemSize,t.offset,t.normalized)}else{const e=hs(t.type,t.array);n=new(t.isInstancedBufferAttribute?Zu:Ac)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),r.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let r=0,a=t.length;r<a;r++){const a=t[r];let o;if(a.isInterleavedBufferAttribute){const t=i(e.data,a.data);o=new Au(t,a.itemSize,a.offset,a.normalized)}else{const e=hs(a.type,a.array);o=new Ac(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}r.morphAttributes[u]=n}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const e=l[u];r.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;return void 0!==c&&(r.boundingSphere=(new nl).fromJSON(c)),e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}class Zm extends gm{constructor(e){super(e)}load(e,t,n,i){const r=this,a=""===this.path?Ym.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new bm(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(a,t)},n,i)}async loadAsync(e,t){const n=""===this.path?Ym.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const i=new bm(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const r=await i.loadAsync(e,t),a=JSON.parse(r),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){void 0!==t&&t(l)}),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,i,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),this.bindLightTargets(s),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new qh).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(e){e.isBone&&(i[e.uuid]=e)}),void 0!==e)for(let r=0,a=e.length;r<a;r++){const t=(new Ku).fromJSON(e[r],i);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const i=new Km;for(let r=0,a=e.length;r<a;r++){let a;const o=e[r];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(o);break;default:o.type in kp?a=kp[o.type].fromJSON(o,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(o.type,'"'))}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new Qm;r.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=r.parse(a)),i[a.uuid]=n[a.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=hm.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function a(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),r.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:hs(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new fm(t);r=new Tm(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const n=e[t],r=n.url;if(Array.isArray(r)){const e=[];for(let t=0,n=r.length;t<n;t++){const n=a(r[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Qu(n.data,n.width,n.height)))}i[n.uuid]=new Ms(e)}else{const e=a(n.url);i[n.uuid]=new Ms(e)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(e){if("string"===typeof e){const n=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await i.loadAsync(r)}return e.data?{data:hs(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){i=new Tm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],a=i.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new Qu(i.data,i.width,i.height)))}n[i.uuid]=new Ms(e)}else{const e=await r(i.url);n[i.uuid]=new Ms(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,a=e.length;r<a;r++){const a=e[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new ou,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Qu:new Ns,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,Jm)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],$m),l.wrapT=n(a.wrap[1],$m)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,ef)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,ef)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),i[a.uuid]=l}return i}parseObject(e,t,n,i,r){let a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":a=new pu,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new ic(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new hu(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new du(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new iu(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Vm(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new qm(e.color,e.intensity);break;case"DirectionalLight":a=new zm(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new Um(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Gm(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Lm(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new Cm(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Wm).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new Hu(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new Hc(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,i=e.instanceColor;a=new ad(o,s,t),a.instanceMatrix=new Zu(new Float32Array(n.array),16),void 0!==i&&(a.instanceColor=new Zu(new Float32Array(i.array),i.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=c(e.material),a=new Ld(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s),a.geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(e=>{let t=null,n=null;return void 0!==e.boundingBox&&(t=(new Os).fromJSON(e.boundingBox)),void 0!==e.boundingSphere&&(n=(new nl).fromJSON(e.boundingSphere)),h(h({},e),{},{boundingBox:t,boundingSphere:n})}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=u(e.colorsTexture.uuid)),void 0!==e.boundingSphere&&(a.boundingSphere=(new nl).fromJSON(e.boundingSphere)),void 0!==e.boundingBox&&(a.boundingBox=(new Os).fromJSON(e.boundingBox));break;case"LOD":a=new ku;break;case"Line":a=new qd(l(e.geometry),c(e.material));break;case"LineLoop":a=new Yd(l(e.geometry),c(e.material));break;case"LineSegments":a=new Qd(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new eh(l(e.geometry),c(e.material));break;case"Sprite":a=new Ru(c(e.material));break;case"Group":a=new lu;break;case"Bone":a=new Wu;break;default:a=new Ol}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,i,r))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=a.getObjectByProperty("uuid",n.object);void 0!==i&&a.addLevel(i,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);t.target=void 0!==i?i:new Ol}})}}const Jm={UVMapping:pr,CubeReflectionMapping:mr,CubeRefractionMapping:fr,EquirectangularReflectionMapping:Ar,EquirectangularRefractionMapping:gr,CubeUVReflectionMapping:vr},$m={RepeatWrapping:yr,ClampToEdgeWrapping:br,MirroredRepeatWrapping:xr},ef={NearestFilter:wr,NearestMipmapNearestFilter:Tr,NearestMipmapLinearFilter:Sr,LinearFilter:Er,LinearMipmapNearestFilter:Cr,LinearMipmapLinearFilter:Nr},tf=new WeakMap;class nf extends gm{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=mm.get(e);if(void 0!==a)return r.manager.itemStart(e),a.then?void a.then(n=>{if(!0!==tf.has(a))return t&&t(n),r.manager.itemEnd(e),n;i&&i(tf.get(a)),r.manager.itemError(e),r.manager.itemEnd(e)}):(setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;const s=fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){return mm.add(e,n),t&&t(n),r.manager.itemEnd(e),n}).catch(function(t){i&&i(t),tf.set(s,t),mm.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});mm.add(e,s),r.manager.itemStart(e)}}let rf;class af{static getContext(){return void 0===rf&&(rf=new(window.AudioContext||window.webkitAudioContext)),rf}static setContext(e){rf=e}}class of extends gm{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new bm(this.manager);function o(t){i?i(t):console.error(t),r.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){try{const n=e.slice(0);af.getContext().decodeAudioData(n,function(e){t(e)}).catch(o)}catch(ice){o(ice)}},n,i)}}const sf=new dl,lf=new dl,cf=new dl;class uf{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new iu,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new iu,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,cf.copy(e.projectionMatrix);const n=t.eyeSep/2,i=n*t.near/t.focus,r=t.near*Math.tan(Yo*t.fov*.5)/t.zoom;let a,o;lf.elements[12]=-n,sf.elements[12]=n,a=-r*t.aspect+i,o=r*t.aspect+i,cf.elements[0]=2*t.near/(o-a),cf.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(cf),a=-r*t.aspect-i,o=r*t.aspect-i,cf.elements[0]=2*t.near/(o-a),cf.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(cf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lf),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sf)}}class df extends iu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class hf{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=pf(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=pf();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function pf(){return performance.now()}const mf=new as,ff=new rs,Af=new as,gf=new as,vf=new as;class yf extends Ol{constructor(){super(),this.type="AudioListener",this.context=af.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new hf}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mf,ff,Af),gf.set(0,0,-1).applyQuaternion(ff),vf.set(0,1,0).applyQuaternion(ff),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(mf.x,e),t.positionY.linearRampToValueAtTime(mf.y,e),t.positionZ.linearRampToValueAtTime(mf.z,e),t.forwardX.linearRampToValueAtTime(gf.x,e),t.forwardY.linearRampToValueAtTime(gf.y,e),t.forwardZ.linearRampToValueAtTime(gf.z,e),t.upX.linearRampToValueAtTime(vf.x,e),t.upY.linearRampToValueAtTime(vf.y,e),t.upZ.linearRampToValueAtTime(vf.z,e)}else t.setPosition(mf.x,mf.y,mf.z),t.setOrientation(gf.x,gf.y,gf.z,vf.x,vf.y,vf.z)}}class bf extends Ol{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const xf=new as,wf=new rs,Tf=new as,_f=new as;class Sf extends bf{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(xf,wf,Tf),_f.set(0,0,1).applyQuaternion(wf);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(xf.x,e),t.positionY.linearRampToValueAtTime(xf.y,e),t.positionZ.linearRampToValueAtTime(xf.z,e),t.orientationX.linearRampToValueAtTime(_f.x,e),t.orientationY.linearRampToValueAtTime(_f.y,e),t.orientationZ.linearRampToValueAtTime(_f.z,e)}else t.setPosition(xf.x,xf.y,xf.z),t.setOrientation(_f.x,_f.y,_f.z)}}class Mf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Ef{constructor(e,t,n){let i,r,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==i;++e)n[r+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let a=0;a!==r;++a)e[t+a]=e[n+a]}_slerp(e,t,n,i){rs.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const a=this._workIndex*r;rs.multiplyQuaternionsFlat(e,a,e,t,e,n),rs.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,n,i,r){const a=1-i;for(let o=0;o!==r;++o){const r=t+o;e[r]=e[r]*a+e[n+o]*i}}_lerpAdditive(e,t,n,i,r){for(let a=0;a!==r;++a){const r=t+a;e[r]=e[r]+e[n+a]*i}}}const Cf="\\[\\]\\.:\\/",Pf=new RegExp("["+Cf+"]","g"),Nf="[^"+Cf+"]",Rf="[^"+Cf.replace("\\.","")+"]",Df=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Nf)+/(WCOD+)?/.source.replace("WCOD",Rf)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nf)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nf)+"$"),If=["material","materials","bones","map"];class Lf{constructor(e,t,n){this.path=t,this.parsedPath=n||Lf.parseTrackName(t),this.node=Lf.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Lf.Composite(e,t,n):new Lf(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Pf,"")}static parseTrackName(e){const t=Df.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==If.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const a=n(r.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Lf.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const a=e[i];if(void 0===a){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?o=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Lf.Composite=class{constructor(e,t,n){const i=n||Lf.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Lf.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Lf.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Lf.prototype.GetterByBindingType=[Lf.prototype._getValue_direct,Lf.prototype._getValue_array,Lf.prototype._getValue_arrayElement,Lf.prototype._getValue_toArray],Lf.prototype.SetterByBindingTypeAndVersioning=[[Lf.prototype._setValue_direct,Lf.prototype._setValue_direct_setNeedsUpdate,Lf.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Lf.prototype._setValue_array,Lf.prototype._setValue_array_setNeedsUpdate,Lf.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Lf.prototype._setValue_arrayElement,Lf.prototype._setValue_arrayElement_setNeedsUpdate,Lf.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Lf.prototype._setValue_fromArray,Lf.prototype._setValue_fromArray_setNeedsUpdate,Lf.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class kf{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ko(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length;let o,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=a;e!==t;++e)r[e].push(new Lf(u,n[e],i[e]))}else if(h<l){o=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=a;e!==t;++e){const t=r[e],a=t[s];let o=t[h];t[h]=a,void 0===o&&(o=new Lf(u,n[e],i[e])),t[s]=o}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=r){const a=r++,c=e[a];t[c.uuid]=l,e[l]=c,t[s]=a,e[a]=o;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[a],r=t[l];t[l]=i,t[a]=r}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<r){const o=--r,s=e[o],c=--a,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[o],r=t[c];t[l]=i,t[o]=r,t.pop()}}else{const r=--a,o=e[r];r>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[l]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,a.push(e),o.push(t),r.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new Lf(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}class Bf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,a=r.length,o=new Array(a),s={endingStart:Ua,endingEnd:Ua};for(let l=0;l!==a;++l){const e=r[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=La,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.fadeOut(t),this.fadeIn(t),!0===n){const n=this._clip.duration,i=e._clip.duration,r=i/n,a=n/i;e.warp(1,r,t),this.warp(a,1,t)}return this}crossFadeTo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===qa)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulate(i,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const a=n===ka;if(0===e)return-1===r?i:a&&1===(1&r)?t-i:i;if(n===Ia){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(a&&1===(1&r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Va,i.endingEnd=Va):(i.endingStart=e?this.zeroSlopeAtStart?Va:Ua:ja,i.endingEnd=t?this.zeroSlopeAtEnd?Va:Ua:ja)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=n,this}}const Ff=new Float32Array(1);class Of extends Ho{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==r;++u){const e=i[u],r=e.name;let l=c[r];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,r));continue}const i=t&&t._propertyBindings[u].binding.parsedPath;l=new Ef(Lf.create(n,r,i),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,r),a[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let a=i[t];void 0===a&&(a={},i[t]=a),a[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new nm(new Float32Array(2),new Float32Array(2),1,Ff),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let a="string"===typeof e?hm.findByName(i,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:za),void 0!==s){const e=s.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new Bf(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r="string"===typeof e?hm.findByName(n,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(i,e,r,a)}const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,a=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,a._cacheIndex=r,t[r]=a,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const r in n){const e=n[r].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const i=this._bindingsByRootAndName[t];if(void 0!==i)for(const r in i){const e=i[r];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Uf extends Ds{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new Bs(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Vf{constructor(e){this.value=e}clone(){return new Vf(void 0===this.value.clone?this.value:this.value.clone())}}let jf=0;class zf extends Ho{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jf++}),this.name="",this.usage=Po,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class qf extends mu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Gf{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Hf=new dl;class Wf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new ul(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new wl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Hf.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Hf),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Yf(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(Qf),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let i=0,r=e.length;i<r;i++)Yf(e[i],this,n,t);return n.sort(Qf),n}}function Qf(e,t){return e.distance-t.distance}function Yf(e,t,n,i){let r=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(r=!1)}if(!0===r&&!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)Yf(i[e],t,n,!0)}}class Xf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Zo(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zo(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Kf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}class Zf{constructor(e,t,n,i){Zf.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=i,this}}const Jf=new is;class $f{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new is(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Jf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jf).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const eA=new as,tA=new as;class nA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){eA.subVectors(e,this.start),tA.subVectors(this.end,this.start);const n=tA.dot(tA);let i=tA.dot(eA)/n;return t&&(i=Zo(i,0,1)),i}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const iA=new as;class rA extends Ol{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Ic,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;i.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new Sc(i,3));const r=new kd({fog:!1,toneMapped:!1});this.cone=new Qd(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iA),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const aA=new as,oA=new dl,sA=new dl;class lA extends Qd{constructor(e){const t=cA(e),n=new Ic,i=[],r=[],a=new ic(0,0,1),o=new ic(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new Sc(i,3)),n.setAttribute("color",new Sc(r,3));super(n,new kd({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");sA.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<t.length;r++){const e=t[r];e.parent&&e.parent.isBone&&(oA.multiplyMatrices(sA,e.matrixWorld),aA.setFromMatrixPosition(oA),i.setXYZ(a,aA.x,aA.y,aA.z),oA.multiplyMatrices(sA,e.parent.matrixWorld),aA.setFromMatrixPosition(oA),i.setXYZ(a+1,aA.x,aA.y,aA.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function cA(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push(...cA(e.children[n]));return t}class uA extends Hc{constructor(e,t,n){super(new Cp(t,4,2),new sc({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const dA=new as,hA=new ic,pA=new ic;class mA extends Ol{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new _p(t);i.rotateY(.5*Math.PI),this.material=new sc({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.setAttribute("color",new Ac(a,3)),this.add(new Hc(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");hA.copy(this.light.color),pA.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?hA:pA;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dA.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fA extends Qd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new ic(n),i=new ic(i);const r=t/2,a=e/t,o=e/2,s=[],l=[];for(let u=0,d=0,h=-o;u<=t;u++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);const e=u===r?n:i;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new Ic;c.setAttribute("position",new Sc(s,3)),c.setAttribute("color",new Sc(l,3));super(c,new kd({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class AA extends Qd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;r=new ic(r),a=new ic(a);const o=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),i=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(i,0,l);const u=1&c?r:a;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?r:a,l=e-e/n*c;for(let e=0;e<i;e++){let n=e/i*(2*Math.PI),r=Math.sin(n)*l,a=Math.cos(n)*l;o.push(r,0,a),s.push(t.r,t.g,t.b),n=(e+1)/i*(2*Math.PI),r=Math.sin(n)*l,a=Math.cos(n)*l,o.push(r,0,a),s.push(t.r,t.g,t.b)}}const l=new Ic;l.setAttribute("position",new Sc(o,3)),l.setAttribute("color",new Sc(s,3));super(l,new kd({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gA=new as,vA=new as,yA=new as;class bA extends Ol{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new Ic;i.setAttribute("position",new Sc([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new kd({fog:!1,toneMapped:!1});this.lightPlane=new qd(i,r),this.add(this.lightPlane),i=new Ic,i.setAttribute("position",new Sc([0,0,0,0,0,1],3)),this.targetLine=new qd(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gA.setFromMatrixPosition(this.light.matrixWorld),vA.setFromMatrixPosition(this.light.target.matrixWorld),yA.subVectors(vA,gA),this.lightPlane.lookAt(vA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vA),this.targetLine.scale.z=yA.length()}}const xA=new as,wA=new $c;class TA extends Qd{constructor(e){const t=new Ic,n=new kd({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],a={};function o(e,t){s(e),s(t)}function s(e){i.push(0,0,0),r.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new Sc(i,3)),t.setAttribute("color",new Sc(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new ic(16755200),c=new ic(16711680),u=new ic(43775),d=new ic(16777215),h=new ic(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,i,r){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;wA.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===Vo?-1:0;_A("c",t,e,wA,0,0,n),_A("t",t,e,wA,0,0,1),_A("n1",t,e,wA,-1,-1,n),_A("n2",t,e,wA,1,-1,n),_A("n3",t,e,wA,-1,1,n),_A("n4",t,e,wA,1,1,n),_A("f1",t,e,wA,-1,-1,1),_A("f2",t,e,wA,1,-1,1),_A("f3",t,e,wA,-1,1,1),_A("f4",t,e,wA,1,1,1),_A("u1",t,e,wA,.7,1.1,n),_A("u2",t,e,wA,-.7,1.1,n),_A("u3",t,e,wA,0,2,n),_A("cf1",t,e,wA,-1,0,1),_A("cf2",t,e,wA,1,0,1),_A("cf3",t,e,wA,0,-1,1),_A("cf4",t,e,wA,0,1,1),_A("cn1",t,e,wA,-1,0,n),_A("cn2",t,e,wA,1,0,n),_A("cn3",t,e,wA,0,-1,n),_A("cn4",t,e,wA,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _A(e,t,n,i,r,a,o){xA.set(r,a,o).unproject(i);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],xA.x,xA.y,xA.z)}}const SA=new Os;class MA extends Qd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Ic;r.setIndex(new Ac(n,1)),r.setAttribute("position",new Ac(i,3)),super(r,new kd({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&SA.setFromObject(this.object),SA.isEmpty())return;const e=SA.min,t=SA.max,n=this.geometry.attributes.position,i=n.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class EA extends Qd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Ic;i.setIndex(new Ac(n,1)),i.setAttribute("position",new Sc([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new kd({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class CA extends qd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,i=new Ic;i.setAttribute("position",new Sc([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new kd({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const r=new Ic;r.setAttribute("position",new Sc([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new Hc(r,new sc({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PA=new as;let NA,RA;class DA extends Ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new as(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*r;super(),this.type="ArrowHelper",void 0===NA&&(NA=new Ic,NA.setAttribute("position",new Sc([0,0,0,0,1,0],3)),RA=new ph(.5,1,5,1),RA.translate(0,-.5,0)),this.position.copy(t),this.line=new qd(NA,new kd({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hc(RA,new sc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(PA,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class IA extends Qd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Ic;n.setAttribute("position",new Sc(t,3)),n.setAttribute("color",new Sc([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new kd({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const i=new ic,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class LA{constructor(){this.type="ShapePath",this.color=new ic,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new zh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let i=!1;for(let r=n-1,a=0;a<n;r=a++){let n=t[r],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[r],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return i}const n=gp.isClockWise,i=this.subPaths;if(0===i.length)return[];let r,a,o;const s=[];if(1===i.length)return a=i[0],o=new qh,o.curves=a.curves,s.push(o),s;let l=!n(i[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,p=[],m=0;u[m]=void 0,p[m]=[];for(let f=0,A=i.length;f<A;f++)a=i[f],d=a.getPoints(),r=n(d),r=e?!r:r,r?(!l&&u[m]&&m++,u[m]={s:new qh,p:d},u[m].s.curves=a.curves,l&&m++,p[m]=[]):p[m].push({h:a,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new qh;r.curves=i.curves,t.push(r)}return t}(i);if(u.length>1){let e=!1,n=0;for(let t=0,i=u.length;t<i;t++)c[t]=[];for(let i=0,r=u.length;i<r;i++){const r=p[i];for(let a=0;a<r.length;a++){const o=r[a];let s=!0;for(let r=0;r<u.length;r++)t(o.p,u[r].p)&&(i!==r&&n++,s?(s=!1,c[r].push(o)):e=!0);s&&c[i].push(o)}}n>0&&!1===e&&(p=c)}for(let f=0,A=u.length;f<A;f++){o=u[f].s,s.push(o),h=p[f];for(let e=0,t=h.length;e<t;e++)o.holes.push(h[e].h)}return s}}class kA extends Ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0!==e?(null!==this.domElement&&this.disconnect(),this.domElement=e):console.warn("THREE.Controls: connect() now requires an element.")}disconnect(){}dispose(){}update(){}}function BA(e,t,n,i){const r=function(e){switch(e){case Dr:case Ir:return{byteLength:1,components:1};case kr:case Lr:case Ur:return{byteLength:2,components:1};case Vr:case jr:return{byteLength:2,components:4};case Fr:case Br:case Or:return{byteLength:4,components:1};case qr:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(i);switch(n){case Gr:return e*t;case Xr:case Kr:return e*t/r.components*r.byteLength;case Zr:case Jr:return e*t*2/r.components*r.byteLength;case Hr:return e*t*3/r.components*r.byteLength;case Wr:case ea:return e*t*4/r.components*r.byteLength;case ta:case na:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case ia:case ra:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case oa:case la:return Math.max(e,16)*Math.max(t,8)/4;case aa:case sa:return Math.max(e,8)*Math.max(t,8)/2;case ca:case ua:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case da:case ha:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case pa:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case ma:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case fa:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Aa:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case ga:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case va:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case ya:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case ba:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case xa:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case wa:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Ta:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case _a:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Sa:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case Ma:case Ea:case Ca:return Math.ceil(e/4)*Math.ceil(t/4)*16;case Pa:case Na:return Math.ceil(e/4)*Math.ceil(t/4)*8;case Ra:case Da:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}class FA{static contain(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e}(e,t)}static cover(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e}(e,t)}static fill(e){return function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e}(e)}static getByteLength(e,t,n,i){return BA(e,t,n,i)}}function OA(){let e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function UA(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const r=t.get(n);if(void 0===r)t.set(n,function(t,n){const i=t.array,r=t.usage,a=i.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,i,r),t.onUploadCallback(),i instanceof Float32Array)s=e.FLOAT;else if(i instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)s=e.SHORT;else if(i instanceof Uint32Array)s=e.UNSIGNED_INT;else if(i instanceof Int32Array)s=e.INT;else if(i instanceof Int8Array)s=e.BYTE;else if(i instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,i){const r=n.array,a=n.updateRanges;if(e.bindBuffer(i,t),0===a.length)e.bufferSubData(i,0,r);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],i=a[e];i.start<=n.start+n.count+1?n.count=Math.max(n.count,i.start+i.count-n.start):(++t,a[t]=i)}a.length=t+1;for(let n=0,o=a.length;n<o;n++){const t=a[n];e.bufferSubData(i,t.start*r.BYTES_PER_ELEMENT,r,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:oi}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=oi);const VA={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},jA={common:{diffuse:{value:new ic(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ls},alphaMap:{value:null},alphaMapTransform:{value:new ls},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ls}},envmap:{envMap:{value:null},envMapRotation:{value:new ls},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ls}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ls}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ls},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ls},normalScale:{value:new is(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ls},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ls}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ls}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ls}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ic(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ic(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ls},alphaTest:{value:0},uvTransform:{value:new ls}},sprite:{diffuse:{value:new ic(16777215)},opacity:{value:1},center:{value:new is(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ls},alphaMap:{value:null},alphaMapTransform:{value:new ls},alphaTest:{value:0}}},zA={basic:{uniforms:Xc([jA.common,jA.specularmap,jA.envmap,jA.aomap,jA.lightmap,jA.fog]),vertexShader:VA.meshbasic_vert,fragmentShader:VA.meshbasic_frag},lambert:{uniforms:Xc([jA.common,jA.specularmap,jA.envmap,jA.aomap,jA.lightmap,jA.emissivemap,jA.bumpmap,jA.normalmap,jA.displacementmap,jA.fog,jA.lights,{emissive:{value:new ic(0)}}]),vertexShader:VA.meshlambert_vert,fragmentShader:VA.meshlambert_frag},phong:{uniforms:Xc([jA.common,jA.specularmap,jA.envmap,jA.aomap,jA.lightmap,jA.emissivemap,jA.bumpmap,jA.normalmap,jA.displacementmap,jA.fog,jA.lights,{emissive:{value:new ic(0)},specular:{value:new ic(1118481)},shininess:{value:30}}]),vertexShader:VA.meshphong_vert,fragmentShader:VA.meshphong_frag},standard:{uniforms:Xc([jA.common,jA.envmap,jA.aomap,jA.lightmap,jA.emissivemap,jA.bumpmap,jA.normalmap,jA.displacementmap,jA.roughnessmap,jA.metalnessmap,jA.fog,jA.lights,{emissive:{value:new ic(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:VA.meshphysical_vert,fragmentShader:VA.meshphysical_frag},toon:{uniforms:Xc([jA.common,jA.aomap,jA.lightmap,jA.emissivemap,jA.bumpmap,jA.normalmap,jA.displacementmap,jA.gradientmap,jA.fog,jA.lights,{emissive:{value:new ic(0)}}]),vertexShader:VA.meshtoon_vert,fragmentShader:VA.meshtoon_frag},matcap:{uniforms:Xc([jA.common,jA.bumpmap,jA.normalmap,jA.displacementmap,jA.fog,{matcap:{value:null}}]),vertexShader:VA.meshmatcap_vert,fragmentShader:VA.meshmatcap_frag},points:{uniforms:Xc([jA.points,jA.fog]),vertexShader:VA.points_vert,fragmentShader:VA.points_frag},dashed:{uniforms:Xc([jA.common,jA.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:VA.linedashed_vert,fragmentShader:VA.linedashed_frag},depth:{uniforms:Xc([jA.common,jA.displacementmap]),vertexShader:VA.depth_vert,fragmentShader:VA.depth_frag},normal:{uniforms:Xc([jA.common,jA.bumpmap,jA.normalmap,jA.displacementmap,{opacity:{value:1}}]),vertexShader:VA.meshnormal_vert,fragmentShader:VA.meshnormal_frag},sprite:{uniforms:Xc([jA.sprite,jA.fog]),vertexShader:VA.sprite_vert,fragmentShader:VA.sprite_frag},background:{uniforms:{uvTransform:{value:new ls},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:VA.background_vert,fragmentShader:VA.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ls}},vertexShader:VA.backgroundCube_vert,fragmentShader:VA.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:VA.cube_vert,fragmentShader:VA.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:VA.equirect_vert,fragmentShader:VA.equirect_frag},distanceRGBA:{uniforms:Xc([jA.common,jA.displacementmap,{referencePosition:{value:new as},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:VA.distanceRGBA_vert,fragmentShader:VA.distanceRGBA_frag},shadow:{uniforms:Xc([jA.lights,jA.fog,{color:{value:new ic(0)},opacity:{value:1}}]),vertexShader:VA.shadow_vert,fragmentShader:VA.shadow_frag}};zA.physical={uniforms:Xc([zA.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ls},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ls},clearcoatNormalScale:{value:new is(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ls},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ls},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ls},sheen:{value:0},sheenColor:{value:new ic(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ls},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ls},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ls},transmissionSamplerSize:{value:new is},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ls},attenuationDistance:{value:0},attenuationColor:{value:new ic(0)},specularColor:{value:new ic(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ls},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ls},anisotropyVector:{value:new is},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ls}}]),vertexShader:VA.meshphysical_vert,fragmentShader:VA.meshphysical_frag};const qA={r:0,b:0,g:0},GA=new xl,HA=new dl;function WA(e,t,n,i,r,a,o){const s=new ic(0);let l,c,u=!0===a?0:1,d=null,h=0,p=null;function m(e){let i=!0===e.isScene?e.background:null;if(i&&i.isTexture){i=(e.backgroundBlurriness>0?n:t).get(i)}return i}function f(t,n){t.getRGB(qA,Kc(e)),i.buffers.color.setClear(qA.r,qA.g,qA.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,f(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,f(s,u)},render:function(t){let n=!1;const r=m(t);null===r?f(s,u):r&&r.isColor&&(f(r,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&i.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const i=m(n);i&&(i.isCubeTexture||i.mapping===vr)?(void 0===c&&(c=new Hc(new Qc(1,1,1),new Jc({name:"BackgroundCubeMaterial",uniforms:Yc(zA.backgroundCube.uniforms),vertexShader:zA.backgroundCube.vertexShader,fragmentShader:zA.backgroundCube.fragmentShader,side:vi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),GA.copy(n.backgroundRotation),GA.x*=-1,GA.y*=-1,GA.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(GA.y*=-1,GA.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(HA.makeRotationFromEuler(GA)),c.material.toneMapped=bs.getTransfer(i.colorSpace)!==io,d===i&&h===i.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new Hc(new Sp(2,2),new Jc({name:"BackgroundMaterial",uniforms:Yc(zA.background.uniforms),vertexShader:zA.background.vertexShader,fragmentShader:zA.background.fragmentShader,side:gi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=bs.getTransfer(i.colorSpace)!==io,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&h===i.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function QA(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),i={},r=c(null);let a=r,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],i=[],r=[];for(let a=0;a<n;a++)t[a]=0,i[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:r,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const i=a.newAttributes,r=a.enabledAttributes,o=a.attributeDivisors;i[t]=1,0===r[t]&&(e.enableVertexAttribArray(t),r[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function p(){const t=a.newAttributes,n=a.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function m(t,n,i,r,a,o,s){!0===s?e.vertexAttribIPointer(t,n,i,a,o):e.vertexAttribPointer(t,n,i,r,a,o)}function f(){A(),o=!0,a!==r&&(a=r,s(a.object))}function A(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,f,A){let g=!1;const v=function(t,n,r){const a=!0===r.wireframe;let o=i[t.id];void 0===o&&(o={},i[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=c(e.createVertexArray()),s[a]=l);return l}(f,l,r);a!==v&&(a=v,s(a.object)),g=function(e,t,n,i){const r=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=r[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return a.attributesNum!==s||a.index!==i}(n,f,l,A),g&&function(e,t,n,i){const r={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),r[a]=n,s++}}a.attributes=r,a.attributesNum=s,a.index=i}(n,f,l,A),null!==A&&t.update(A,e.ELEMENT_ARRAY_BUFFER),(g||o)&&(o=!1,function(n,i,r,a){u();const o=a.attributes,s=r.getAttributes(),l=i.defaultAttributeValues;for(const c in s){const i=s[c];if(i.location>=0){let r=o[c];if(void 0===r&&("instanceMatrix"===c&&n.instanceMatrix&&(r=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(r=n.instanceColor)),void 0!==r){const o=r.normalized,s=r.itemSize,l=t.get(r);if(void 0===l)continue;const c=l.buffer,u=l.type,p=l.bytesPerElement,f=u===e.INT||u===e.UNSIGNED_INT||r.gpuType===Br;if(r.isInterleavedBufferAttribute){const t=r.data,l=t.stride,A=r.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)h(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)m(i.location+e,s/i.locationSize,u,o,l*p,(A+s/i.locationSize*e)*p,f)}else{if(r.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)h(i.location+e,r.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)m(i.location+e,s/i.locationSize,u,o,s*p,s/i.locationSize*e*p,f)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}p()}(n,r,l,f),null!==A&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(A).buffer))},reset:f,resetDefaultState:A,dispose:function(){f();for(const e in i){const t=i[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e]}},releaseStatesOfGeometry:function(e){if(void 0===i[e.id])return;const t=i[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete i[e.id]},releaseStatesOfProgram:function(e){for(const t in i){const n=i[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)l(r[e].object),delete r[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:p}}function YA(e,t,n){let i;function r(t,r,a){0!==a&&(e.drawArraysInstanced(i,t,r,a),n.update(r,i,a))}this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(e,r,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,e,0,r,0,a);let o=0;for(let t=0;t<a;t++)o+=r[t];n.update(o,i,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)r(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(i,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,i,1)}}}function XA(e,t,n,i){let r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,textureFormatReadable:function(t){return t===Wr||i.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const r=n===Ur&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==Dr&&i.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==Or&&!r)},precision:o,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function KA(e){const t=this;let n=null,i=0,r=!1,a=!1;const o=new cd,s=new ls,l={value:null,needsUpdate:!1};function c(e,n,i,r){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==r||null===c){const t=i+4*a,r=n.matrixWorldInverse;s.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(r,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,p=o.clipShadows,m=e.get(o);if(!r||null===d||0===d.length||a&&!p)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);t.numPlanes=i,t.numIntersection=0}();else{const e=a?0:i,t=4*e;let r=m.clippingState||null;l.value=r,r=c(d,s,t,u);for(let i=0;i!==t;++i)r[i]=n[i];m.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function ZA(e){let t=new WeakMap;function n(e,t){return t===Ar?e.mapping=mr:t===gr&&(e.mapping=fr),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const a=r.mapping;if(a===Ar||a===gr){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const a=r.image;if(a&&a.height>0){const o=new su(a.height);return o.fromEquirectangularTexture(e,r),t.set(r,o),r.addEventListener("dispose",i),n(o.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}const JA=[.125,.215,.35,.446,.526,.582],$A=20,eg=new Vm,tg=new ic;let ng=null,ig=0,rg=0,ag=!1;const og=(1+Math.sqrt(5))/2,sg=1/og,lg=[new as(-og,sg,0),new as(og,sg,0),new as(-sg,0,og),new as(sg,0,og),new as(0,og,-sg),new as(0,og,sg),new as(-1,1,-1),new as(1,1,-1),new as(-1,1,1),new as(1,1,1)],cg=new as;class ug{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{size:a=256,position:o=cg}=r;ng=this._renderer.getRenderTarget(),ig=this._renderer.getActiveCubeFace(),rg=this._renderer.getActiveMipmapLevel(),ag=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=mg(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=pg(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ng,ig,rg),this._renderer.xr.enabled=ag,e.scissorTest=!1,hg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===mr||e.mapping===fr?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ng=this._renderer.getRenderTarget(),ig=this._renderer.getActiveCubeFace(),rg=this._renderer.getActiveMipmapLevel(),ag=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Er,minFilter:Er,generateMipmaps:!1,type:Ur,format:Wr,colorSpace:to,depthBuffer:!1},i=dg(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=dg(e,t,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],i=[];let r=e;const a=e-4+1+JA.length;for(let o=0;o<a;o++){const a=Math.pow(2,r);n.push(a);let s=1/a;o>e-4?s=JA[o-e+4-1]:0===o&&(s=0),i.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,m=3,f=2,A=1,g=new Float32Array(m*p*h),v=new Float32Array(f*p*h),y=new Float32Array(A*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(i,m*p*e),v.set(d,f*p*e);const r=[e,e,e,e,e,e];y.set(r,A*p*e)}const b=new Ic;b.setAttribute("position",new Ac(g,m)),b.setAttribute("uv",new Ac(v,f)),b.setAttribute("faceIndex",new Ac(y,A)),t.push(b),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(i)),this._blurMaterial=function(e,t,n){const i=new Float32Array($A),r=new as(0,1,0),a=new Jc({name:"SphericalGaussianBlur",defines:{n:$A,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:bi,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return i}_compileMaterial(e){const t=new Hc(this._lodPlanes[0],e);this._renderer.compile(t,eg)}_sceneToCubeUV(e,t,n,i,r){const a=new iu(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(tg),l.toneMapping=ir,l.autoClear=!1;const d=new sc({name:"PMREM.Background",side:vi,depthWrite:!1,depthTest:!1}),h=new Hc(new Qc,d);let p=!1;const m=e.background;m?m.isColor&&(d.color.copy(m),e.background=null,p=!0):(d.color.copy(tg),p=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(a.up.set(0,o[f],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x+s[f],r.y,r.z)):1===t?(a.up.set(0,0,o[f]),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y+s[f],r.z)):(a.up.set(0,o[f],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y,r.z+s[f]));const n=this._cubeSize;hg(i,t*n,f>2?n:0,n,n),l.setRenderTarget(i),p&&l.render(h,a),l.render(e,a)}h.geometry.dispose(),h.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=m}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===mr||e.mapping===fr;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=mg()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=pg());const r=i?this._cubemapMaterial:this._equirectMaterial,a=new Hc(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const o=this._cubeSize;hg(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,eg)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=lg[(i-r-1)%lg.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,i,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Hc(this._lodPlanes[i],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,m=isFinite(r)?1+Math.floor(3*p):$A;m>$A&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(m," samples when the maximum is set to ").concat($A));const f=[];let A=0;for(let y=0;y<$A;++y){const e=y/p,t=Math.exp(-e*e/2);f.push(t),0===y?A+=t:y<m&&(A+=2*t)}for(let y=0;y<f.length;y++)f[y]=f[y]/A;u.envMap.value=e.texture,u.samples.value=m,u.weights.value=f,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:g}=this;u.dTheta.value=h,u.mipInt.value=g-n;const v=this._sizeLods[i];hg(t,3*v*(i>g-4?i-g+4:0),4*(this._cubeSize-v),3*v,2*v),s.setRenderTarget(t),s.render(c,eg)}}function dg(e,t,n){const i=new Is(e,t,n);return i.texture.mapping=vr,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function hg(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function pg(){return new Jc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:bi,depthTest:!1,depthWrite:!1})}function mg(){return new Jc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:bi,depthTest:!1,depthWrite:!1})}function fg(e){let t=new WeakMap,n=null;function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const a=r.mapping,o=a===Ar||a===gr,s=a===mr||a===fr;if(o||s){let a=t.get(r);const l=void 0!==a?a.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new ug(e)),a=o?n.fromEquirectangular(r,a):n.fromCubemap(r,a),a.texture.pmremVersion=r.pmremVersion,t.set(r,a),a.texture;if(void 0!==a)return a.texture;{const l=r.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}(l)?(null===n&&(n=new ug(e)),a=o?n.fromEquirectangular(r):n.fromCubemap(r),a.texture.pmremVersion=r.pmremVersion,t.set(r,a),r.addEventListener("dispose",i),a.texture):null}}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Ag(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&As("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function gg(e,t,n,i){const r={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete r[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],i=e.index,r=e.attributes.position;let o=0;if(null!==i){const e=i.array;o=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],a=e[t+2];n.push(i,r,r,a,a,i)}}else{if(void 0===r)return;{const e=r.array;o=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}}const s=new(us(n)?Tc:xc)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(n){const i=n.attributes;for(const r in i)t.update(i[r],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function vg(e,t,n){let i,r,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(i,o,r,t*a,s),n.update(o,i,s))}this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*a),n.update(o,i,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,a,0,r,e,0,o);let s=0;for(let t=0;t<o;t++)s+=a[t];n.update(s,i,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(i,s,0,r,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,i,1)}}}function yg(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function bg(e,t,n){const i=new WeakMap,r=new Rs;return{update:function(a,o,s){const l=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==c?c.length:0;let d=i.get(o);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==o.morphAttributes.position,p=void 0!==o.morphAttributes.normal,m=void 0!==o.morphAttributes.color,f=o.morphAttributes.position||[],A=o.morphAttributes.normal||[],g=o.morphAttributes.color||[];let v=0;!0===h&&(v=1),!0===p&&(v=2),!0===m&&(v=3);let y=o.attributes.position.count*v,b=1;y>t.maxTextureSize&&(b=Math.ceil(y/t.maxTextureSize),y=t.maxTextureSize);const x=new Float32Array(y*b*4*u),w=new Ls(x,y,b,u);w.type=Or,w.needsUpdate=!0;const T=4*v;for(let S=0;S<u;S++){const M=f[S],E=A[S],C=g[S],P=y*b*4*S;for(let N=0;N<M.count;N++){const R=N*T;!0===h&&(r.fromBufferAttribute(M,N),x[P+R+0]=r.x,x[P+R+1]=r.y,x[P+R+2]=r.z,x[P+R+3]=0),!0===p&&(r.fromBufferAttribute(E,N),x[P+R+4]=r.x,x[P+R+5]=r.y,x[P+R+6]=r.z,x[P+R+7]=0),!0===m&&(r.fromBufferAttribute(C,N),x[P+R+8]=r.x,x[P+R+9]=r.y,x[P+R+10]=r.z,x[P+R+11]=4===C.itemSize?r.w:1)}}function _(){w.dispose(),i.delete(o),o.removeEventListener("dispose",_)}d={count:u,texture:w,size:new is(y,b)},i.set(o,d),o.addEventListener("dispose",_)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let D=0;for(let L=0;L<l.length;L++)D+=l[L];const I=o.morphTargetsRelative?1:1-D;s.getUniforms().setValue(e,"morphTargetBaseInfluence",I),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function xg(e,t,n,i){let r=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=i.render.frame,l=o.geometry,c=t.get(o,l);if(r.get(c)!==s&&(t.update(c),r.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),r.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),r.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;r.get(e)!==s&&(e.update(),r.set(e,s))}return c},dispose:function(){r=new WeakMap}}}const wg=new Ns,Tg=new ch(1,1),_g=new Ls,Sg=new Bs,Mg=new ou,Eg=[],Cg=[],Pg=new Float32Array(16),Ng=new Float32Array(9),Rg=new Float32Array(4);function Dg(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let a=Eg[r];if(void 0===a&&(a=new Float32Array(r),Eg[r]=a),0!==t){i.toArray(a,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(a,r)}return a}function Ig(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Lg(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function kg(e,t){let n=Cg[t];void 0===n&&(n=new Int32Array(t),Cg[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Bg(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Fg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ig(n,t))return;e.uniform2fv(this.addr,t),Lg(n,t)}}function Og(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ig(n,t))return;e.uniform3fv(this.addr,t),Lg(n,t)}}function Ug(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ig(n,t))return;e.uniform4fv(this.addr,t),Lg(n,t)}}function Vg(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ig(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Lg(n,t)}else{if(Ig(n,i))return;Rg.set(i),e.uniformMatrix2fv(this.addr,!1,Rg),Lg(n,i)}}function jg(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ig(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Lg(n,t)}else{if(Ig(n,i))return;Ng.set(i),e.uniformMatrix3fv(this.addr,!1,Ng),Lg(n,i)}}function zg(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ig(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Lg(n,t)}else{if(Ig(n,i))return;Pg.set(i),e.uniformMatrix4fv(this.addr,!1,Pg),Lg(n,i)}}function qg(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Gg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ig(n,t))return;e.uniform2iv(this.addr,t),Lg(n,t)}}function Hg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ig(n,t))return;e.uniform3iv(this.addr,t),Lg(n,t)}}function Wg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ig(n,t))return;e.uniform4iv(this.addr,t),Lg(n,t)}}function Qg(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Yg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ig(n,t))return;e.uniform2uiv(this.addr,t),Lg(n,t)}}function Xg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ig(n,t))return;e.uniform3uiv(this.addr,t),Lg(n,t)}}function Kg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ig(n,t))return;e.uniform4uiv(this.addr,t),Lg(n,t)}}function Zg(e,t,n){const i=this.cache,r=n.allocateTextureUnit();let a;i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),this.type===e.SAMPLER_2D_SHADOW?(Tg.compareFunction=_o,a=Tg):a=wg,n.setTexture2D(t||a,r)}function Jg(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Sg,r)}function $g(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||Mg,r)}function ev(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||_g,r)}function tv(e,t){e.uniform1fv(this.addr,t)}function nv(e,t){const n=Dg(t,this.size,2);e.uniform2fv(this.addr,n)}function iv(e,t){const n=Dg(t,this.size,3);e.uniform3fv(this.addr,n)}function rv(e,t){const n=Dg(t,this.size,4);e.uniform4fv(this.addr,n)}function av(e,t){const n=Dg(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ov(e,t){const n=Dg(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function sv(e,t){const n=Dg(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function lv(e,t){e.uniform1iv(this.addr,t)}function cv(e,t){e.uniform2iv(this.addr,t)}function uv(e,t){e.uniform3iv(this.addr,t)}function dv(e,t){e.uniform4iv(this.addr,t)}function hv(e,t){e.uniform1uiv(this.addr,t)}function pv(e,t){e.uniform2uiv(this.addr,t)}function mv(e,t){e.uniform3uiv(this.addr,t)}function fv(e,t){e.uniform4uiv(this.addr,t)}function Av(e,t,n){const i=this.cache,r=t.length,a=kg(n,r);Ig(i,a)||(e.uniform1iv(this.addr,a),Lg(i,a));for(let o=0;o!==r;++o)n.setTexture2D(t[o]||wg,a[o])}function gv(e,t,n){const i=this.cache,r=t.length,a=kg(n,r);Ig(i,a)||(e.uniform1iv(this.addr,a),Lg(i,a));for(let o=0;o!==r;++o)n.setTexture3D(t[o]||Sg,a[o])}function vv(e,t,n){const i=this.cache,r=t.length,a=kg(n,r);Ig(i,a)||(e.uniform1iv(this.addr,a),Lg(i,a));for(let o=0;o!==r;++o)n.setTextureCube(t[o]||Mg,a[o])}function yv(e,t,n){const i=this.cache,r=t.length,a=kg(n,r);Ig(i,a)||(e.uniform1iv(this.addr,a),Lg(i,a));for(let o=0;o!==r;++o)n.setTexture2DArray(t[o]||_g,a[o])}class bv{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return Bg;case 35664:return Fg;case 35665:return Og;case 35666:return Ug;case 35674:return Vg;case 35675:return jg;case 35676:return zg;case 5124:case 35670:return qg;case 35667:case 35671:return Gg;case 35668:case 35672:return Hg;case 35669:case 35673:return Wg;case 5125:return Qg;case 36294:return Yg;case 36295:return Xg;case 36296:return Kg;case 35678:case 36198:case 36298:case 36306:case 35682:return Zg;case 35679:case 36299:case 36307:return Jg;case 35680:case 36300:case 36308:case 36293:return $g;case 36289:case 36303:case 36311:case 36292:return ev}}(t.type)}}class xv{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return tv;case 35664:return nv;case 35665:return iv;case 35666:return rv;case 35674:return av;case 35675:return ov;case 35676:return sv;case 5124:case 35670:return lv;case 35667:case 35671:return cv;case 35668:case 35672:return uv;case 35669:case 35673:return dv;case 5125:return hv;case 36294:return pv;case 36295:return mv;case 36296:return fv;case 35678:case 36198:case 36298:case 36306:case 35682:return Av;case 35679:case 36299:case 36307:return gv;case 35680:case 36300:case 36308:case 36293:return vv;case 36289:case 36303:case 36311:case 36292:return yv}}(t.type)}}class wv{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,a=i.length;r!==a;++r){const a=i[r];a.setValue(e,t[a.id],n)}}}const Tv=/(\w+)(\])?(\[|\.)?/g;function _v(e,t){e.seq.push(t),e.map[t.id]=t}function Sv(e,t,n){const i=e.name,r=i.length;for(Tv.lastIndex=0;;){const a=Tv.exec(i),o=Tv.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===r){_v(n,void 0===c?new bv(s,e,t):new xv(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new wv(s),_v(n,e)),n=e}}}class Mv{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);Sv(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,a=t.length;r!==a;++r){const a=t[r],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function Ev(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let Cv=0;const Pv=new ls;function Nv(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const i=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=r;o<a;o++){const e=o+1;i.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return i.join("\n")}(e.getShaderSource(t),i)}return r}function Rv(e,t){const n=function(e){bs._getMatrix(Pv,bs.workingColorSpace,e);const t="mat3( ".concat(Pv.elements.map(e=>e.toFixed(4))," )");switch(bs.getTransfer(e)){case no:return[t,"LinearTransferOETF"];case io:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return["vec4 ".concat(e,"( vec4 value ) {"),"\treturn ".concat(n[1],"( vec4( value.rgb * ").concat(n[0],", value.a ) );"),"}"].join("\n")}function Dv(e,t){let n;switch(t){case rr:n="Linear";break;case ar:n="Reinhard";break;case or:n="Cineon";break;case sr:n="ACESFilmic";break;case cr:n="AgX";break;case ur:n="Neutral";break;case lr:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Iv=new as;function Lv(){bs.getLuminanceCoefficients(Iv);const e=Iv.x.toFixed(4),t=Iv.y.toFixed(4),n=Iv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {","\tconst vec3 weights = vec3( ".concat(e,", ").concat(t,", ").concat(n," );"),"\treturn dot( weights, rgb );","}"].join("\n")}function kv(e){return""!==e}function Bv(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Fv(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Ov=/^[ \t]*#include +<([\w\d./]+)>/gm;function Uv(e){return e.replace(Ov,jv)}const Vv=new Map;function jv(e,t){let n=VA[t];if(void 0===n){const e=Vv.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=VA[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return Uv(n)}const zv=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function qv(e){return e.replace(zv,Gv)}function Gv(e,t,n,i){let r="";for(let a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Hv(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Wv(e,t,n,i){const r=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===mi?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===fi?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Ai&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case mr:case fr:t="ENVMAP_TYPE_CUBE";break;case vr:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===fr&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case er:t="ENVMAP_BLENDING_MULTIPLY";break;case tr:t="ENVMAP_BLENDING_MIX";break;case nr:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),p=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(kv).join("\n")}(n),m=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(a),f=r.createProgram();let A,g,v=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(A=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(kv).join("\n"),A.length>0&&(A+="\n"),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(kv).join("\n"),g.length>0&&(g+="\n")):(A=[Hv(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(kv).join("\n"),g=[Hv(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ir?"#define TONE_MAPPING":"",n.toneMapping!==ir?VA.tonemapping_pars_fragment:"",n.toneMapping!==ir?Dv("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",VA.colorspace_pars_fragment,Rv("linearToOutputTexel",n.outputColorSpace),Lv(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(kv).join("\n")),o=Uv(o),o=Bv(o,n),o=Fv(o,n),s=Uv(s),s=Bv(s,n),s=Fv(s,n),o=qv(o),s=qv(s),!0!==n.isRawShaderMaterial&&(v="#version 300 es\n",A=[p,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+A,g=["#define varying in",n.glslVersion===Uo?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Uo?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const y=v+A+o,b=v+g+s,x=Ev(r,r.VERTEX_SHADER,y),w=Ev(r,r.FRAGMENT_SHADER,b);function T(t){if(e.debug.checkShaderErrors){const n=r.getProgramInfoLog(f).trim(),i=r.getShaderInfoLog(x).trim(),a=r.getShaderInfoLog(w).trim();let o=!0,s=!0;if(!1===r.getProgramParameter(f,r.LINK_STATUS))if(o=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(r,f,x,w);else{const e=Nv(r,x,"vertex"),i=Nv(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(f,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+i)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==i&&""!==a||(s=!1);s&&(t.diagnostics={runnable:o,programLog:n,vertexShader:{log:i,prefix:A},fragmentShader:{log:a,prefix:g}})}r.deleteShader(x),r.deleteShader(w),_=new Mv(r,f),S=function(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),a=i.name;let o=1;i.type===e.FLOAT_MAT2&&(o=2),i.type===e.FLOAT_MAT3&&(o=3),i.type===e.FLOAT_MAT4&&(o=4),n[a]={type:i.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(r,f)}let _,S;r.attachShader(f,x),r.attachShader(f,w),void 0!==n.index0AttributeName?r.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(f,0,"position"),r.linkProgram(f),this.getUniforms=function(){return void 0===_&&T(this),_},this.getAttributes=function(){return void 0===S&&T(this),S};let M=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=r.getProgramParameter(f,37297)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(f),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cv++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=x,this.fragmentShader=w,this}let Qv=0;class Yv{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(i)&&(a.add(i),i.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Xv(e),t.set(e,n)),n}}class Xv{constructor(e){this.id=Qv++,this.code=e,this.usedTimes=0}}function Kv(e,t,n,i,r,a,o){const s=new wl,l=new Yv,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,A,g){const v=A.fog,y=g.geometry,b=a.isMeshStandardMaterial?A.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),w=x&&x.mapping===vr?x.image.height:null,T=m[a.type];null!==a.precision&&(p=r.getMaxPrecision(a.precision),p!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead."));const _=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,S=void 0!==_?_.length:0;let M,E,C,P,N=0;if(void 0!==y.morphAttributes.position&&(N=1),void 0!==y.morphAttributes.normal&&(N=2),void 0!==y.morphAttributes.color&&(N=3),T){const e=zA[T];M=e.vertexShader,E=e.fragmentShader}else M=a.vertexShader,E=a.fragmentShader,l.update(a),C=l.getVertexShaderID(a),P=l.getFragmentShaderID(a);const R=e.getRenderTarget(),D=e.state.buffers.depth.getReversed(),I=!0===g.isInstancedMesh,L=!0===g.isBatchedMesh,k=!!a.map,B=!!a.matcap,F=!!x,O=!!a.aoMap,U=!!a.lightMap,V=!!a.bumpMap,j=!!a.normalMap,z=!!a.displacementMap,q=!!a.emissiveMap,G=!!a.metalnessMap,H=!!a.roughnessMap,W=a.anisotropy>0,Q=a.clearcoat>0,Y=a.dispersion>0,X=a.iridescence>0,K=a.sheen>0,Z=a.transmission>0,J=W&&!!a.anisotropyMap,$=Q&&!!a.clearcoatMap,ee=Q&&!!a.clearcoatNormalMap,te=Q&&!!a.clearcoatRoughnessMap,ne=X&&!!a.iridescenceMap,ie=X&&!!a.iridescenceThicknessMap,re=K&&!!a.sheenColorMap,ae=K&&!!a.sheenRoughnessMap,oe=!!a.specularMap,se=!!a.specularColorMap,le=!!a.specularIntensityMap,ce=Z&&!!a.transmissionMap,ue=Z&&!!a.thicknessMap,de=!!a.gradientMap,he=!!a.alphaMap,pe=a.alphaTest>0,me=!!a.alphaHash,fe=!!a.extensions;let Ae=ir;a.toneMapped&&(null!==R&&!0!==R.isXRRenderTarget||(Ae=e.toneMapping));const ge={shaderID:T,shaderType:a.type,shaderName:a.name,vertexShader:M,fragmentShader:E,defines:a.defines,customVertexShaderID:C,customFragmentShaderID:P,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,batching:L,batchingColor:L&&null!==g._colorsTexture,instancing:I,instancingColor:I&&null!==g.instanceColor,instancingMorph:I&&null!==g.morphTexture,supportsVertexTextures:h,outputColorSpace:null===R?e.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:to,alphaToCoverage:!!a.alphaToCoverage,map:k,matcap:B,envMap:F,envMapMode:F&&x.mapping,envMapCubeUVHeight:w,aoMap:O,lightMap:U,bumpMap:V,normalMap:j,displacementMap:h&&z,emissiveMap:q,normalMapObjectSpace:j&&a.normalMapType===Ja,normalMapTangentSpace:j&&a.normalMapType===Za,metalnessMap:G,roughnessMap:H,anisotropy:W,anisotropyMap:J,clearcoat:Q,clearcoatMap:$,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,dispersion:Y,iridescence:X,iridescenceMap:ne,iridescenceThicknessMap:ie,sheen:K,sheenColorMap:re,sheenRoughnessMap:ae,specularMap:oe,specularColorMap:se,specularIntensityMap:le,transmission:Z,transmissionMap:ce,thicknessMap:ue,gradientMap:de,opaque:!1===a.transparent&&a.blending===xi&&!1===a.alphaToCoverage,alphaMap:he,alphaTest:pe,alphaHash:me,combine:a.combine,mapUv:k&&f(a.map.channel),aoMapUv:O&&f(a.aoMap.channel),lightMapUv:U&&f(a.lightMap.channel),bumpMapUv:V&&f(a.bumpMap.channel),normalMapUv:j&&f(a.normalMap.channel),displacementMapUv:z&&f(a.displacementMap.channel),emissiveMapUv:q&&f(a.emissiveMap.channel),metalnessMapUv:G&&f(a.metalnessMap.channel),roughnessMapUv:H&&f(a.roughnessMap.channel),anisotropyMapUv:J&&f(a.anisotropyMap.channel),clearcoatMapUv:$&&f(a.clearcoatMap.channel),clearcoatNormalMapUv:ee&&f(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&f(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&f(a.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&f(a.iridescenceThicknessMap.channel),sheenColorMapUv:re&&f(a.sheenColorMap.channel),sheenRoughnessMapUv:ae&&f(a.sheenRoughnessMap.channel),specularMapUv:oe&&f(a.specularMap.channel),specularColorMapUv:se&&f(a.specularColorMap.channel),specularIntensityMapUv:le&&f(a.specularIntensityMap.channel),transmissionMapUv:ce&&f(a.transmissionMap.channel),thicknessMapUv:ue&&f(a.thicknessMap.channel),alphaMapUv:he&&f(a.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(j||W),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!y.attributes.uv&&(k||he),fog:!!v,useFog:!0===a.fog,fogExp2:!!v&&v.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:D,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:S,morphTextureStride:N,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:Ae,decodeVideoTexture:k&&!0===a.map.isVideoTexture&&bs.getTransfer(a.map.colorSpace)===io,decodeVideoTextureEmissive:q&&!0===a.emissiveMap.isVideoTexture&&bs.getTransfer(a.emissiveMap.colorSpace)===io,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===yi,flipSided:a.side===vi,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:fe&&!0===a.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(fe&&!0===a.extensions.multiDraw||L)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ge.vertexUv1s=c.has(1),ge.vertexUv2s=c.has(2),ge.vertexUv3s=c.has(3),c.clear(),ge},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.reverseDepthBuffer&&s.enable(4);t.skinning&&s.enable(5);t.morphTargets&&s.enable(6);t.morphNormals&&s.enable(7);t.morphColors&&s.enable(8);t.premultipliedAlpha&&s.enable(9);t.shadowMapEnabled&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.decodeVideoTextureEmissive&&s.enable(20);t.alphaToCoverage&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=m[e.type];let n;if(t){const e=zA[t];n=Zc.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,r=u.length;e<r;e++){const t=u[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new Wv(e,n,t,a),u.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Zv(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Jv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function $v(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ey(){const e=[];let t=0;const n=[],i=[],r=[];function a(n,i,r,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?i.push(u):!0===o.transparent?r.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?i.unshift(u):!0===o.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Jv),i.length>1&&i.sort(t||$v),r.length>1&&r.sort(t||$v)}}}function ty(){let e=new WeakMap;return{get:function(t,n){const i=e.get(t);let r;return void 0===i?(r=new ey,e.set(t,[r])):n>=i.length?(r=new ey,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function ny(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new as,color:new ic};break;case"SpotLight":n={position:new as,direction:new as,color:new ic,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new as,color:new ic,distance:0,decay:0};break;case"HemisphereLight":n={direction:new as,skyColor:new ic,groundColor:new ic};break;case"RectAreaLight":n={color:new ic,position:new as,halfWidth:new as,halfHeight:new as}}return e[t.id]=n,n}}}let iy=0;function ry(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ay(e){const t=new ny,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new is};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new is,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)i.probe.push(new as);const r=new as,a=new dl,o=new dl;return{setup:function(r){let a=0,o=0,s=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0;r.sort(ry);for(let e=0,b=r.length;e<b;e++){const y=r[e],b=y.color,x=y.intensity,w=y.distance,T=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)a+=b.r*x,o+=b.g*x,s+=b.b*x;else if(y.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(y.sh.coefficients[e],x);v++}else if(y.isDirectionalLight){const e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),y.castShadow){const e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,i.directionalShadow[l]=t,i.directionalShadowMap[l]=T,i.directionalShadowMatrix[l]=y.shadow.matrix,p++}i.directional[l]=e,l++}else if(y.isSpotLight){const e=t.get(y);e.position.setFromMatrixPosition(y.matrixWorld),e.color.copy(b).multiplyScalar(x),e.distance=w,e.coneCos=Math.cos(y.angle),e.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),e.decay=y.decay,i.spot[u]=e;const r=y.shadow;if(y.map&&(i.spotLightMap[A]=y.map,A++,r.updateMatrices(y),y.castShadow&&g++),i.spotLightMatrix[u]=r.matrix,y.castShadow){const e=n.get(y);e.shadowIntensity=r.intensity,e.shadowBias=r.bias,e.shadowNormalBias=r.normalBias,e.shadowRadius=r.radius,e.shadowMapSize=r.mapSize,i.spotShadow[u]=e,i.spotShadowMap[u]=T,f++}u++}else if(y.isRectAreaLight){const e=t.get(y);e.color.copy(b).multiplyScalar(x),e.halfWidth.set(.5*y.width,0,0),e.halfHeight.set(0,.5*y.height,0),i.rectArea[d]=e,d++}else if(y.isPointLight){const e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),e.distance=y.distance,e.decay=y.decay,y.castShadow){const e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,i.pointShadow[c]=t,i.pointShadowMap[c]=T,i.pointShadowMatrix[c]=y.shadow.matrix,m++}i.point[c]=e,c++}else if(y.isHemisphereLight){const e=t.get(y);e.skyColor.copy(y.color).multiplyScalar(x),e.groundColor.copy(y.groundColor).multiplyScalar(x),i.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=jA.LTC_FLOAT_1,i.rectAreaLTC2=jA.LTC_FLOAT_2):(i.rectAreaLTC1=jA.LTC_HALF_1,i.rectAreaLTC2=jA.LTC_HALF_2)),i.ambient[0]=a,i.ambient[1]=o,i.ambient[2]=s;const y=i.hash;y.directionalLength===l&&y.pointLength===c&&y.spotLength===u&&y.rectAreaLength===d&&y.hemiLength===h&&y.numDirectionalShadows===p&&y.numPointShadows===m&&y.numSpotShadows===f&&y.numSpotMaps===A&&y.numLightProbes===v||(i.directional.length=l,i.spot.length=u,i.rectArea.length=d,i.point.length=c,i.hemi.length=h,i.directionalShadow.length=p,i.directionalShadowMap.length=p,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=f,i.spotShadowMap.length=f,i.directionalShadowMatrix.length=p,i.pointShadowMatrix.length=m,i.spotLightMatrix.length=f+A-g,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=g,i.numLightProbes=v,y.directionalLength=l,y.pointLength=c,y.spotLength=u,y.rectAreaLength=d,y.hemiLength=h,y.numDirectionalShadows=p,y.numPointShadows=m,y.numSpotShadows=f,y.numSpotMaps=A,y.numLightProbes=v,i.version=iy++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,p=e.length;h<p;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),r.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),r.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(t.isPointLight){const e=i.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function oy(e){const t=new ay(e),n=[],i=[];const r={lightsArray:n,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){r.camera=e,n.length=0,i.length=0},state:r,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function sy(e){let t=new WeakMap;return{get:function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=t.get(n);let a;return void 0===r?(a=new oy(e),t.set(n,[a])):i>=r.length?(a=new oy(e),r.push(a)):a=r[i],a},dispose:function(){t=new WeakMap}}}function ly(e,t,n){let i=new hd;const r=new is,a=new is,o=new Rs,s=new Gp({depthPacking:Ya}),l=new Hp,c={},u=n.maxTextureSize,d={[gi]:vi,[vi]:gi,[yi]:yi},h=new Jc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new is},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const m=new Ic;m.setAttribute("position",new Ac(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new Hc(m,h),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=mi;let g=this.type;function v(n,i){const a=t.update(f);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Is(r.x,r.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,a,h,f,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,a,p,f,null)}function y(t,n,i,r){let a=null;const o=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===i.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let i=c[e];void 0===i&&(i={},c[e]=i);let r=i[t];void 0===r&&(r=a.clone(),i[t]=r,n.addEventListener("dispose",x)),a=r}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=r===Ai?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===i.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=i}return a}function b(n,r,a,o,s){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Ai)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const i=t.update(n),l=n.material;if(Array.isArray(l)){const t=i.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=y(n,d,o,s);n.onBeforeShadow(e,n,r,a,i,t,u),e.renderBufferDirect(a,null,i,t,n,u),n.onAfterShadow(e,n,r,a,i,t,u)}}}else if(l.visible){const t=y(n,l,o,s);n.onBeforeShadow(e,n,r,a,i,t,null),e.renderBufferDirect(a,null,i,t,n,null),n.onAfterShadow(e,n,r,a,i,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],r,a,o,s)}function x(e){e.target.removeEventListener("dispose",x);for(const t in c){const n=c[t],i=e.target.uuid;if(i in n){n[i].dispose(),delete n[i]}}}this.render=function(t,n,s){if(!1===A.enabled)return;if(!1===A.autoUpdate&&!1===A.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(bi),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const p=g!==Ai&&this.type===Ai,m=g===Ai&&this.type!==Ai;for(let f=0,A=t.length;f<A;f++){const l=t[f],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;r.copy(c.mapSize);const d=c.getFrameExtents();if(r.multiply(d),a.copy(c.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/d.x),r.x=a.x*d.x,c.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/d.y),r.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map||!0===p||!0===m){const e=this.type!==Ai?{minFilter:wr,magFilter:wr}:{};null!==c.map&&c.map.dispose(),c.map=new Is(r.x,r.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const A=c.getViewportCount();for(let e=0;e<A;e++){const t=c.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),h.viewport(o),c.updateMatrices(l,e),i=c.getFrustum(),b(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===Ai&&v(c,s),c.needsUpdate=!1}g=this.type,A.needsUpdate=!1,e.setRenderTarget(l,c,d)}}const cy={[Wi]:Qi,[Yi]:Ji,[Ki]:$i,[Xi]:Zi,[Qi]:Wi,[Ji]:Yi,[$i]:Ki,[Zi]:Xi};function uy(e,t){const n=new function(){let t=!1;const n=new Rs;let i=null;const r=new Rs(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},i=new function(){let n=!1,i=!1,r=null,a=null,o=null;return{setReversed:function(e){if(i!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),i=e;const r=o;o=null,this.setClear(r)}},getReversed:function(){return i},setTest:function(t){t?V(e.DEPTH_TEST):j(e.DEPTH_TEST)},setMask:function(t){r===t||n||(e.depthMask(t),r=t)},setFunc:function(t){if(i&&(t=cy[t]),a!==t){switch(t){case Wi:e.depthFunc(e.NEVER);break;case Qi:e.depthFunc(e.ALWAYS);break;case Yi:e.depthFunc(e.LESS);break;case Xi:e.depthFunc(e.LEQUAL);break;case Ki:e.depthFunc(e.EQUAL);break;case Zi:e.depthFunc(e.GEQUAL);break;case Ji:e.depthFunc(e.GREATER);break;case $i:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(i&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,r=null,a=null,o=null,i=!1}}},r=new function(){let t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?V(e.STENCIL_TEST):j(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}},a=new WeakMap,o=new WeakMap;let s={},l={},c=new WeakMap,u=[],d=null,h=!1,p=null,m=null,f=null,A=null,g=null,v=null,y=null,b=new ic(0,0,0),x=0,w=!1,T=null,_=null,S=null,M=null,E=null;const C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,N=0;const R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?(N=parseFloat(/^WebGL (\d)/.exec(R)[1]),P=N>=1):-1!==R.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),P=N>=2);let D=null,I={};const L=e.getParameter(e.SCISSOR_BOX),k=e.getParameter(e.VIEWPORT),B=(new Rs).fromArray(L),F=(new Rs).fromArray(k);function O(t,n,i,r){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<i;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,r,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const U={};function V(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function j(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}U[e.TEXTURE_2D]=O(e.TEXTURE_2D,e.TEXTURE_2D,1),U[e.TEXTURE_CUBE_MAP]=O(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),U[e.TEXTURE_2D_ARRAY]=O(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),U[e.TEXTURE_3D]=O(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),i.setClear(1),r.setClear(0),V(e.DEPTH_TEST),i.setFunc(Xi),H(!1),W(ui),V(e.CULL_FACE),G(bi);const z={[Mi]:e.FUNC_ADD,[Ei]:e.FUNC_SUBTRACT,[Ci]:e.FUNC_REVERSE_SUBTRACT};z[Pi]=e.MIN,z[Ni]=e.MAX;const q={[Ri]:e.ZERO,[Di]:e.ONE,[Ii]:e.SRC_COLOR,[ki]:e.SRC_ALPHA,[ji]:e.SRC_ALPHA_SATURATE,[Ui]:e.DST_COLOR,[Fi]:e.DST_ALPHA,[Li]:e.ONE_MINUS_SRC_COLOR,[Bi]:e.ONE_MINUS_SRC_ALPHA,[Vi]:e.ONE_MINUS_DST_COLOR,[Oi]:e.ONE_MINUS_DST_ALPHA,[zi]:e.CONSTANT_COLOR,[qi]:e.ONE_MINUS_CONSTANT_COLOR,[Gi]:e.CONSTANT_ALPHA,[Hi]:e.ONE_MINUS_CONSTANT_ALPHA};function G(t,n,i,r,a,o,s,l,c,u){if(t!==bi){if(!1===h&&(V(e.BLEND),h=!0),t===Si)a=a||n,o=o||i,s=s||r,n===m&&a===g||(e.blendEquationSeparate(z[n],z[a]),m=n,g=a),i===f&&r===A&&o===v&&s===y||(e.blendFuncSeparate(q[i],q[r],q[o],q[s]),f=i,A=r,v=o,y=s),!1!==l.equals(b)&&c===x||(e.blendColor(l.r,l.g,l.b,c),b.copy(l),x=c),p=t,w=!1;else if(t!==p||u!==w){if(m===Mi&&g===Mi||(e.blendEquation(e.FUNC_ADD),m=Mi,g=Mi),u)switch(t){case xi:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case wi:e.blendFunc(e.ONE,e.ONE);break;case Ti:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case _i:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case xi:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case wi:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case Ti:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case _i:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}f=null,A=null,v=null,y=null,b.set(0,0,0),x=0,p=t,w=u}}else!0===h&&(j(e.BLEND),h=!1)}function H(t){T!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),T=t)}function W(t){t!==ci?(V(e.CULL_FACE),t!==_&&(t===ui?e.cullFace(e.BACK):t===di?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):j(e.CULL_FACE),_=t}function Q(t,n,i){t?(V(e.POLYGON_OFFSET_FILL),M===n&&E===i||(e.polygonOffset(n,i),M=n,E=i)):j(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:i,stencil:r},enable:V,disable:j,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let i=u,r=!1;if(t){i=c.get(n),void 0===i&&(i=[],c.set(n,i));const a=t.textures;if(i.length!==a.length||i[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)i[t]=e.COLOR_ATTACHMENT0+t;i.length=a.length,r=!0}}else i[0]!==e.BACK&&(i[0]=e.BACK,r=!0);r&&e.drawBuffers(i)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:G,setMaterial:function(t,a){t.side===yi?j(e.CULL_FACE):V(e.CULL_FACE);let o=t.side===vi;a&&(o=!o),H(o),t.blending===xi&&!1===t.transparent?G(bi):G(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),i.setFunc(t.depthFunc),i.setTest(t.depthTest),i.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;r.setTest(s),s&&(r.setMask(t.stencilWriteMask),r.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),r.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?V(e.SAMPLE_ALPHA_TO_COVERAGE):j(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:H,setCullFace:W,setLineWidth:function(t){t!==S&&(P&&e.lineWidth(t),S=t)},setPolygonOffset:Q,setScissorTest:function(t){t?V(e.SCISSOR_TEST):j(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+C-1),D!==t&&(e.activeTexture(t),D=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===D?e.TEXTURE0+C-1:D);let r=I[i];void 0===r&&(r={type:void 0,texture:void 0},I[i]=r),r.type===t&&r.texture===n||(D!==i&&(e.activeTexture(i),D=i),e.bindTexture(t,n||U[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=I[D];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let i=o.get(n);void 0===i&&(i=new WeakMap,o.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){const i=o.get(n).get(t);a.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),a.set(n,i))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===B.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),B.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),i.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},D=null,I={},l={},c=new WeakMap,u=[],d=null,h=!1,p=null,m=null,f=null,A=null,g=null,v=null,y=null,b=new ic(0,0,0),x=0,w=!1,T=null,_=null,S=null,M=null,E=null,B.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),n.reset(),i.reset(),r.reset()}}}function dy(e,t,n,i,r,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new is,u=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(G){}function m(e,t){return p?new OffscreenCanvas(e,t):ps("canvas")}function f(e,t,n){let i=1;const r=q(e);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(i*r.width),a=Math.floor(i*r.height);void 0===d&&(d=m(n,a));const o=t?m(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+a+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),e}return e}function A(e){return e.generateMipmaps}function g(t){e.generateMipmap(t)}function v(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function y(n,i,r,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=i;if(i===e.RED&&(r===e.FLOAT&&(s=e.R32F),r===e.HALF_FLOAT&&(s=e.R16F),r===e.UNSIGNED_BYTE&&(s=e.R8)),i===e.RED_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.R8UI),r===e.UNSIGNED_SHORT&&(s=e.R16UI),r===e.UNSIGNED_INT&&(s=e.R32UI),r===e.BYTE&&(s=e.R8I),r===e.SHORT&&(s=e.R16I),r===e.INT&&(s=e.R32I)),i===e.RG&&(r===e.FLOAT&&(s=e.RG32F),r===e.HALF_FLOAT&&(s=e.RG16F),r===e.UNSIGNED_BYTE&&(s=e.RG8)),i===e.RG_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RG8UI),r===e.UNSIGNED_SHORT&&(s=e.RG16UI),r===e.UNSIGNED_INT&&(s=e.RG32UI),r===e.BYTE&&(s=e.RG8I),r===e.SHORT&&(s=e.RG16I),r===e.INT&&(s=e.RG32I)),i===e.RGB_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RGB8UI),r===e.UNSIGNED_SHORT&&(s=e.RGB16UI),r===e.UNSIGNED_INT&&(s=e.RGB32UI),r===e.BYTE&&(s=e.RGB8I),r===e.SHORT&&(s=e.RGB16I),r===e.INT&&(s=e.RGB32I)),i===e.RGBA_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),r===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),r===e.UNSIGNED_INT&&(s=e.RGBA32UI),r===e.BYTE&&(s=e.RGBA8I),r===e.SHORT&&(s=e.RGBA16I),r===e.INT&&(s=e.RGBA32I)),i===e.RGB&&r===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.RGBA){const t=o?no:bs.getTransfer(a);r===e.FLOAT&&(s=e.RGBA32F),r===e.HALF_FLOAT&&(s=e.RGBA16F),r===e.UNSIGNED_BYTE&&(s=t===io?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function b(t,n){let i;return t?null===n||n===Fr||n===zr?i=e.DEPTH24_STENCIL8:n===Or?i=e.DEPTH32F_STENCIL8:n===kr&&(i=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===Fr||n===zr?i=e.DEPTH_COMPONENT24:n===Or?i=e.DEPTH_COMPONENT32F:n===kr&&(i=e.DEPTH_COMPONENT16),i}function x(e,t){return!0===A(e)||e.isFramebufferTexture&&e.minFilter!==wr&&e.minFilter!==Er?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function w(e){const t=e.target;t.removeEventListener("dispose",w),function(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=h.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&_(e),0===Object.keys(r).length&&h.delete(n)}i.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function T(t){const n=t.target;n.removeEventListener("dispose",T),function(t){const n=i.get(t);t.depthTexture&&(t.depthTexture.dispose(),i.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++){if(Array.isArray(n.__webglFramebuffer[i]))for(let t=0;t<n.__webglFramebuffer[i].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[i][t]);else e.deleteFramebuffer(n.__webglFramebuffer[i]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const r=t.textures;for(let a=0,s=r.length;a<s;a++){const t=i.get(r[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),i.remove(r[a])}i.remove(t)}(n)}function _(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source;delete h.get(r)[n.__cacheKey],o.memory.textures--}let S=0;function M(t,r){const a=i.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void I(a,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+r)}const E={[yr]:e.REPEAT,[br]:e.CLAMP_TO_EDGE,[xr]:e.MIRRORED_REPEAT},C={[wr]:e.NEAREST,[Tr]:e.NEAREST_MIPMAP_NEAREST,[Sr]:e.NEAREST_MIPMAP_LINEAR,[Er]:e.LINEAR,[Cr]:e.LINEAR_MIPMAP_NEAREST,[Nr]:e.LINEAR_MIPMAP_LINEAR},P={[xo]:e.NEVER,[Co]:e.ALWAYS,[wo]:e.LESS,[_o]:e.LEQUAL,[To]:e.EQUAL,[Eo]:e.GEQUAL,[So]:e.GREATER,[Mo]:e.NOTEQUAL};function N(n,a){if(a.type!==Or||!1!==t.has("OES_texture_float_linear")||a.magFilter!==Er&&a.magFilter!==Cr&&a.magFilter!==Sr&&a.magFilter!==Nr&&a.minFilter!==Er&&a.minFilter!==Cr&&a.minFilter!==Sr&&a.minFilter!==Nr||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,E[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,E[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,E[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,P[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===wr)return;if(a.minFilter!==Sr&&a.minFilter!==Nr)return;if(a.type===Or&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||i.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy}}}function R(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));const r=n.source;let a=h.get(r);void 0===a&&(a={},h.set(r,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,i=!0),a[s].usedTimes++;const r=a[t.__cacheKey];void 0!==r&&(a[t.__cacheKey].usedTimes--,0===r.usedTimes&&_(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return i}function D(e,t,n){return Math.floor(Math.floor(e/n)/t)}function I(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const c=R(t,o),u=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=i.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=bs.getPrimaries(bs.workingColorSpace),i=o.colorSpace===$a?null:bs.getPrimaries(o.colorSpace),h=o.colorSpace===$a||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let p=f(o.image,!1,r.maxTextureSize);p=z(o,p);const m=a.convert(o.format,o.colorSpace),v=a.convert(o.type);let w,T=y(o.internalFormat,m,v,o.colorSpace,o.isVideoTexture);N(l,o);const _=o.mipmaps,S=!0!==o.isVideoTexture,M=void 0===d.__version||!0===c,E=u.dataReady,C=x(o,p);if(o.isDepthTexture)T=b(o.format===Yr,o.type),M&&(S?n.texStorage2D(e.TEXTURE_2D,1,T,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,T,p.width,p.height,0,m,v,null));else if(o.isDataTexture)if(_.length>0){S&&M&&n.texStorage2D(e.TEXTURE_2D,C,T,_[0].width,_[0].height);for(let t=0,i=_.length;t<i;t++)w=_[t],S?E&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,m,v,w.data):n.texImage2D(e.TEXTURE_2D,t,T,w.width,w.height,0,m,v,w.data);o.generateMipmaps=!1}else S?(M&&n.texStorage2D(e.TEXTURE_2D,C,T,p.width,p.height),E&&function(t,i,r,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,r,a,i.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],r=t.start+t.count,a=D(n.start,i.width,4),l=D(t.start,i.width,4);n.start<=r+1&&a===l&&D(n.start+n.count-1,i.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,i.width);for(let t=0,d=o.length;t<d;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%i.width,d=Math.floor(l/i.width),h=c,p=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,h,p,r,a,i.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}(o,p,m,v)):n.texImage2D(e.TEXTURE_2D,0,T,p.width,p.height,0,m,v,p.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){S&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,T,_[0].width,_[0].height,p.depth);for(let t=0,i=_.length;t<i;t++)if(w=_[t],o.format!==Wr)if(null!==m)if(S){if(E)if(o.layerUpdates.size>0){const i=BA(w.width,w.height,o.format,o.type);for(const r of o.layerUpdates){const a=w.data.subarray(r*i/w.data.BYTES_PER_ELEMENT,(r+1)*i/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,r,w.width,w.height,1,m,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,p.depth,m,w.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,T,w.width,w.height,p.depth,0,w.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else S?E&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,p.depth,m,v,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,T,w.width,w.height,p.depth,0,m,v,w.data)}else{S&&M&&n.texStorage2D(e.TEXTURE_2D,C,T,_[0].width,_[0].height);for(let t=0,i=_.length;t<i;t++)w=_[t],o.format!==Wr?null!==m?S?E&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,m,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,T,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):S?E&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,m,v,w.data):n.texImage2D(e.TEXTURE_2D,t,T,w.width,w.height,0,m,v,w.data)}else if(o.isDataArrayTexture)if(S){if(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,T,p.width,p.height,p.depth),E)if(o.layerUpdates.size>0){const t=BA(p.width,p.height,o.format,o.type);for(const i of o.layerUpdates){const r=p.data.subarray(i*t/p.data.BYTES_PER_ELEMENT,(i+1)*t/p.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,i,p.width,p.height,1,m,v,r)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,T,p.width,p.height,p.depth,0,m,v,p.data);else if(o.isData3DTexture)S?(M&&n.texStorage3D(e.TEXTURE_3D,C,T,p.width,p.height,p.depth),E&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(e.TEXTURE_3D,0,T,p.width,p.height,p.depth,0,m,v,p.data);else if(o.isFramebufferTexture){if(M)if(S)n.texStorage2D(e.TEXTURE_2D,C,T,p.width,p.height);else{let t=p.width,i=p.height;for(let r=0;r<C;r++)n.texImage2D(e.TEXTURE_2D,r,T,t,i,0,m,v,null),t>>=1,i>>=1}}else if(_.length>0){if(S&&M){const t=q(_[0]);n.texStorage2D(e.TEXTURE_2D,C,T,t.width,t.height)}for(let t=0,i=_.length;t<i;t++)w=_[t],S?E&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,m,v,w):n.texImage2D(e.TEXTURE_2D,t,T,m,v,w);o.generateMipmaps=!1}else if(S){if(M){const t=q(p);n.texStorage2D(e.TEXTURE_2D,C,T,t.width,t.height)}E&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,v,p)}else n.texImage2D(e.TEXTURE_2D,0,T,m,v,p);A(o)&&g(l),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function L(t,r,o,l,c,u){const d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),p=y(o.internalFormat,d,h,o.colorSpace),m=i.get(r),f=i.get(o);if(f.__renderTarget=r,!m.__hasExternalTextures){const t=Math.max(1,r.width>>u),i=Math.max(1,r.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,i,r.depth,0,d,h,null):n.texImage2D(c,u,p,t,i,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),j(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,f.__webglTexture,0,V(r)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,f.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function k(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const r=n.depthTexture,a=r&&r.isDepthTexture?r.type:null,o=b(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=V(n);j(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,o,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let r=0;r<t.length;r++){const o=t[r],l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=y(o.internalFormat,l,c,o.colorSpace),d=V(n);i&&!1===j(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):j(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function B(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const a=i.get(r.depthTexture);a.__renderTarget=r,a.__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),M(r.depthTexture,0);const o=a.__webglTexture,l=V(r);if(r.depthTexture.format===Qr)j(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(r.depthTexture.format!==Yr)throw new Error("Unknown depthTexture format");j(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}function F(t){const r=i.get(t),a=!0===t.isWebGLCubeRenderTarget;if(r.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(r.__depthDisposeCallback&&r.__depthDisposeCallback(),e){const t=()=>{delete r.__boundDepthTexture,delete r.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),r.__depthDisposeCallback=t}r.__boundDepthTexture=e}if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");const e=t.texture.mipmaps;e&&e.length>0?B(r.__webglFramebuffer[0],t):B(r.__webglFramebuffer,t)}else if(a){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)if(n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),void 0===r.__webglDepthbuffer[i])r.__webglDepthbuffer[i]=e.createRenderbuffer(),k(r.__webglDepthbuffer[i],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=r.__webglDepthbuffer[i];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const i=t.texture.mipmaps;if(i&&i.length>0?n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),void 0===r.__webglDepthbuffer)r.__webglDepthbuffer=e.createRenderbuffer(),k(r.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,i=r.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,i),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,i)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const O=[],U=[];function V(e){return Math.min(r.maxSamples,e.samples)}function j(e){const n=i.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function z(e,t){const n=e.colorSpace,i=e.format,r=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==to&&n!==$a&&(bs.getTransfer(n)===io?i===Wr&&r===Dr||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function q(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=S;return e>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+r.maxTextures),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=M,this.setTexture2DArray=function(t,r){const a=i.get(t);t.version>0&&a.__version!==t.version?I(a,t,r):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+r)},this.setTexture3D=function(t,r){const a=i.get(t);t.version>0&&a.__version!==t.version?I(a,t,r):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+r)},this.setTextureCube=function(t,o){const s=i.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=R(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=i.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=bs.getPrimaries(bs.workingColorSpace),i=o.colorSpace===$a?null:bs.getPrimaries(o.colorSpace),d=o.colorSpace===$a||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=o.isCompressedTexture||o.image[0].isCompressedTexture,p=o.image[0]&&o.image[0].isDataTexture,m=[];for(let e=0;e<6;e++)m[e]=h||p?p?o.image[e].image:o.image[e]:f(o.image[e],!0,r.maxCubemapSize),m[e]=z(o,m[e]);const v=m[0],b=a.convert(o.format,o.colorSpace),w=a.convert(o.type),T=y(o.internalFormat,b,w,o.colorSpace),_=!0!==o.isVideoTexture,S=void 0===u.__version||!0===l,M=c.dataReady;let E,C=x(o,v);if(N(e.TEXTURE_CUBE_MAP,o),h){_&&S&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,T,v.width,v.height);for(let t=0;t<6;t++){E=m[t].mipmaps;for(let i=0;i<E.length;i++){const r=E[i];o.format!==Wr?null!==b?_?M&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,b,r.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,T,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,b,w,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,T,r.width,r.height,0,b,w,r.data)}}}else{if(E=o.mipmaps,_&&S){E.length>0&&C++;const t=q(m[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,T,t.width,t.height)}for(let t=0;t<6;t++)if(p){_?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m[t].width,m[t].height,b,w,m[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,T,m[t].width,m[t].height,0,b,w,m[t].data);for(let i=0;i<E.length;i++){const r=E[i].image[t].image;_?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,r.width,r.height,b,w,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,T,r.width,r.height,0,b,w,r.data)}}else{_?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,b,w,m[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,T,b,w,m[t]);for(let i=0;i<E.length;i++){const r=E[i];_?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,b,w,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,T,b,w,r.image[t])}}}A(o)&&g(e.TEXTURE_CUBE_MAP),u.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,r){const a=i.get(t);void 0!==n&&L(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==r&&F(t)},this.setupRenderTarget=function(t){const r=t.texture,s=i.get(t),l=i.get(r);t.addEventListener("dispose",T);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=r.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(r.mipmaps&&r.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<r.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<r.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=i.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===j(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const i=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const r=a.convert(i.format,i.colorSpace),o=a.convert(i.type),l=y(i.internalFormat,r,o,i.colorSpace,!0===t.isXRRenderTarget),u=V(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),k(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),N(e.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)L(s.__webglFramebuffer[n][i],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else L(s.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);A(r)&&g(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,a=c.length;r<a;r++){const a=c[r],o=i.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),N(e.TEXTURE_2D,a),L(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+r,e.TEXTURE_2D,0),A(a)&&g(e.TEXTURE_2D)}n.unbindTexture()}else{let i=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(i,l.__webglTexture),N(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)L(s.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,i,n);else L(s.__webglFramebuffer,t,r,e.COLOR_ATTACHMENT0,i,0);A(r)&&g(i),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let r=0,a=t.length;r<a;r++){const a=t[r];if(A(a)){const t=v(e),r=i.get(a).__webglTexture;n.bindTexture(t,r),g(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===j(t)){const r=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=i.get(t),d=r.length>1;if(d)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(O.length=0,U.length=0,O.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(O.push(c),U.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,U)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,O))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=L,this.useMultisampledRTT=j}function hy(e,t){return{convert:function(n){let i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$a;const a=bs.getTransfer(r);if(n===Dr)return e.UNSIGNED_BYTE;if(n===Vr)return e.UNSIGNED_SHORT_4_4_4_4;if(n===jr)return e.UNSIGNED_SHORT_5_5_5_1;if(n===qr)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===Ir)return e.BYTE;if(n===Lr)return e.SHORT;if(n===kr)return e.UNSIGNED_SHORT;if(n===Br)return e.INT;if(n===Fr)return e.UNSIGNED_INT;if(n===Or)return e.FLOAT;if(n===Ur)return e.HALF_FLOAT;if(n===Gr)return e.ALPHA;if(n===Hr)return e.RGB;if(n===Wr)return e.RGBA;if(n===Qr)return e.DEPTH_COMPONENT;if(n===Yr)return e.DEPTH_STENCIL;if(n===Xr)return e.RED;if(n===Kr)return e.RED_INTEGER;if(n===Zr)return e.RG;if(n===Jr)return e.RG_INTEGER;if(n===ea)return e.RGBA_INTEGER;if(n===ta||n===na||n===ia||n===ra)if(a===io){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===ta)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===na)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===ia)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ra)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===ta)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===na)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===ia)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ra)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===aa||n===oa||n===sa||n===la){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===aa)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===oa)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===sa)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===la)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===ca||n===ua||n===da){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===ca||n===ua)return a===io?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===da)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===ha||n===pa||n===ma||n===fa||n===Aa||n===ga||n===va||n===ya||n===ba||n===xa||n===wa||n===Ta||n===_a||n===Sa){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===ha)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===pa)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ma)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===fa)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Aa)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ga)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===va)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ya)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ba)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===xa)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===wa)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ta)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===_a)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Sa)return a===io?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Ma||n===Ea||n===Ca){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===Ma)return a===io?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Ea)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Ca)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===Pa||n===Na||n===Ra||n===Da){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===Ma)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Na)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ra)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Da)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===zr?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class py{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const i=new Ns;e.properties.get(i).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Jc({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Hc(new Sp(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class my extends Ho{constructor(e,t){super();const n=this;let i=null,r=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,p=null;const m=new py,f=t.getContextAttributes();let A=null,g=null;const v=[],y=[],b=new is;let x=null;const w=new iu;w.viewport=new Rs;const T=new iu;T.viewport=new Rs;const _=[w,T],S=new df;let M=null,E=null;function C(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function P(){i.removeEventListener("select",C),i.removeEventListener("selectstart",C),i.removeEventListener("selectend",C),i.removeEventListener("squeeze",C),i.removeEventListener("squeezestart",C),i.removeEventListener("squeezeend",C),i.removeEventListener("end",P),i.removeEventListener("inputsourceschange",N);for(let e=0;e<v.length;e++){const t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}M=null,E=null,m.reset(),e.setRenderTarget(A),h=null,d=null,u=null,i=null,g=null,k.stop(),n.isPresenting=!1,e.setPixelRatio(x),e.setSize(b.width,b.height,!1),n.dispatchEvent({type:"sessionend"})}function N(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=y.indexOf(n);i>=0&&(y[i]=null,v[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=y.indexOf(n);if(-1===i){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),i=e;break}if(null===y[e]){y[e]=n,i=e;break}}if(-1===i)break}const r=v[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new uu,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new uu,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new uu,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){A=e.getRenderTarget(),i.addEventListener("select",C),i.addEventListener("selectstart",C),i.addEventListener("selectend",C),i.addEventListener("squeeze",C),i.addEventListener("squeezestart",C),i.addEventListener("squeezeend",C),i.addEventListener("end",P),i.addEventListener("inputsourceschange",N),!0!==f.xrCompatible&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(b);if("undefined"!==typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,o=null;f.depth&&(o=f.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=f.stencil?Yr:Qr,a=f.stencil?zr:Fr);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:r};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(s),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),g=new Is(d.textureWidth,d.textureHeight,{format:Wr,type:Dr,depthTexture:new ch(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,colorSpace:e.outputColorSpace,samples:f.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:f.antialias,alpha:!0,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),g=new Is(h.framebufferWidth,h.framebufferHeight,{format:Wr,type:Dr,colorSpace:e.outputColorSpace,stencilBuffer:f.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await i.requestReferenceSpace(o),k.setContext(i),k.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};const R=new as,D=new as;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;let t=e.near,n=e.far;null!==m.texture&&(m.depthNear>0&&(t=m.depthNear),m.depthFar>0&&(n=m.depthFar)),S.near=T.near=w.near=t,S.far=T.far=w.far=n,M===S.near&&E===S.far||(i.updateRenderState({depthNear:S.near,depthFar:S.far}),M=S.near,E=S.far),w.layers.mask=2|e.layers.mask,T.layers.mask=4|e.layers.mask,S.layers.mask=w.layers.mask|T.layers.mask;const r=e.parent,a=S.cameras;I(S,r);for(let i=0;i<a.length;i++)I(a[i],r);2===a.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);const i=R.distanceTo(D),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(a[8]+1)/a[0],h=o*u,p=o*d,m=i/(-u+d),f=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===r[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+m,n=s+m,r=h-f,a=p+(i-f),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(r,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(S,w,T):S.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Xo*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,S,r)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==m.texture},this.getDepthSensingMesh=function(){return m.getMesh(S)};let L=null;const k=new OA;k.setAnimationLoop(function(t,r){if(c=r.getViewerPose(l||a),p=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let a=null;if(null!==h)a=h.getViewport(r);else{const t=u.getViewSubImage(d,r);a=t.viewport,0===i&&(e.setRenderTargetTextures(g,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(g))}let o=_[i];void 0===o&&(o=new iu,o.layers.enable(i),o.viewport=new Rs,_[i]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===i&&(S.matrix.copy(o.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),!0===n&&S.cameras.push(o)}const r=i.enabledFeatures;if(r&&r.includes("depth-sensing")&&"gpu-optimized"==i.depthUsage&&u){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&m.init(e,n,i.renderState)}}for(let e=0;e<v.length;e++){const t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}L&&L(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),p=null}),this.setAnimationLoop=function(e){L=e},this.dispose=function(){}}}const fy=new xl,Ay=new dl;function gy(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function i(e,i){e.opacity.value=i.opacity,i.color&&e.diffuse.value.copy(i.color),i.emissive&&e.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(e.map.value=i.map,n(i.map,e.mapTransform)),i.alphaMap&&(e.alphaMap.value=i.alphaMap,n(i.alphaMap,e.alphaMapTransform)),i.bumpMap&&(e.bumpMap.value=i.bumpMap,n(i.bumpMap,e.bumpMapTransform),e.bumpScale.value=i.bumpScale,i.side===vi&&(e.bumpScale.value*=-1)),i.normalMap&&(e.normalMap.value=i.normalMap,n(i.normalMap,e.normalMapTransform),e.normalScale.value.copy(i.normalScale),i.side===vi&&e.normalScale.value.negate()),i.displacementMap&&(e.displacementMap.value=i.displacementMap,n(i.displacementMap,e.displacementMapTransform),e.displacementScale.value=i.displacementScale,e.displacementBias.value=i.displacementBias),i.emissiveMap&&(e.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,e.emissiveMapTransform)),i.specularMap&&(e.specularMap.value=i.specularMap,n(i.specularMap,e.specularMapTransform)),i.alphaTest>0&&(e.alphaTest.value=i.alphaTest);const r=t.get(i),a=r.envMap,o=r.envMapRotation;a&&(e.envMap.value=a,fy.copy(o),fy.x*=-1,fy.y*=-1,fy.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(fy.y*=-1,fy.z*=-1),e.envMapRotation.value.setFromMatrix4(Ay.makeRotationFromEuler(fy)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=i.reflectivity,e.ior.value=i.ior,e.refractionRatio.value=i.refractionRatio),i.lightMap&&(e.lightMap.value=i.lightMap,e.lightMapIntensity.value=i.lightMapIntensity,n(i.lightMap,e.lightMapTransform)),i.aoMap&&(e.aoMap.value=i.aoMap,e.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Kc(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,a,o,s){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(e,r):r.isMeshToonMaterial?(i(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(i(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(i(e,r),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,i){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===vi&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=i.texture,e.transmissionSamplerSize.value.set(i.width,i.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,r,s)):r.isMeshMatcapMaterial?(i(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?i(e,r):r.isMeshDistanceMaterial?(i(e,r),function(e,n){const i=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(i.matrixWorld),e.nearDistance.value=i.shadow.camera.near,e.farDistance.value=i.shadow.camera.far}(e,r)):r.isMeshNormalMaterial?i(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,i,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*r,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r,a,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function vy(e,t,n,i){let r={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,i){const r=e.value,a=t+"_"+n;if(void 0===i[a])return i[a]="number"===typeof r||"boolean"===typeof r?r:r.clone(),!0;{const e=i[a];if("number"===typeof r||"boolean"===typeof r){if(e!==r)return i[a]=r,!0}else if(!1===e.equals(r))return e.copy(r),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const i=o.indexOf(n.__bindingPointIndex);o.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;i.uniformBlockBinding(e,n)},update:function(n,d){let h=r[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const i=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,r=e.length;t<r;t++){const r=e[t],a=Array.isArray(r.value)?r.value:[r.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),o=n%i,s=o%t.boundary,l=o+s;n+=s,0!==l&&i-l<t.storage&&(n+=i-l),r.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),r.__offset=n,n+=t.storage}}}const r=n%i;r>0&&(n+=i-r);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const p=d.program;i.updateUBOMapping(n,p);const m=t.render.frame;a[n.id]!==m&&(!function(t){const n=r[t.id],i=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let r=0,o=i.length;r<o;r++){const t=Array.isArray(i[r])?i[r]:[i[r]];for(let n=0,i=t.length;n<i;n++){const i=t[n];if(!0===l(i,r,n,a)){const t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let a=0;a<n.length;a++){const o=n[a],s=c(o);"number"===typeof o||"boolean"===typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=m)},dispose:function(){for(const t in r)e.deleteBuffer(r[t]);o=[],r={},a={}}}}class yy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=ms(),context:n=null,depth:i=!0,stencil:r=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:d=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=a;const p=new Uint32Array(4),m=new Int32Array(4);let f=null,A=null;const g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ir,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const y=this;let b=!1;this._outputColorSpace=eo;let x=0,w=0,T=null,_=-1,S=null;const M=new Rs,E=new Rs;let C=null;const P=new ic(0);let N=0,R=t.width,D=t.height,I=1,L=null,k=null;const B=new Rs(0,0,R,D),F=new Rs(0,0,R,D);let O=!1;const U=new hd;let V=!1,j=!1;const z=new dl,q=new dl,G=new as,H=new Rs,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Q=!1;function Y(){return null===T?I:1}let X,K,Z,J,$,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,de,he,pe,me,fe,Ae,ge,ve,ye=n;function be(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(oi)),t.addEventListener("webglcontextlost",Te,!1),t.addEventListener("webglcontextrestored",_e,!1),t.addEventListener("webglcontextcreationerror",Se,!1),null===ye){const t="webgl2";if(ye=be(t,e),null===ye)throw be(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(qe){throw console.error("THREE.WebGLRenderer: "+qe.message),qe}function xe(){X=new Ag(ye),X.init(),Ae=new hy(ye,X),K=new XA(ye,X,e,Ae),Z=new uy(ye,X),K.reverseDepthBuffer&&d&&Z.buffers.depth.setReversed(!0),J=new yg(ye),$=new Zv,ee=new dy(ye,X,Z,$,K,Ae,J),te=new ZA(y),ne=new fg(y),ie=new UA(ye),ge=new QA(ye,ie),re=new gg(ye,ie,J,ge),ae=new xg(ye,re,ie,J),pe=new bg(ye,K,ee),ue=new KA($),oe=new Kv(y,te,ne,X,K,ge,ue),se=new gy(y,$),le=new ty,ce=new sy(X),he=new WA(y,te,ne,Z,ae,h,s),de=new ly(y,ae,K),ve=new vy(ye,J,K,Z),me=new YA(ye,X,J),fe=new vg(ye,X,J),J.programs=oe.programs,y.capabilities=K,y.extensions=X,y.properties=$,y.renderLists=le,y.shadowMap=de,y.state=Z,y.info=J}xe();const we=new my(y,ye);function Te(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function _e(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=J.autoReset,t=de.enabled,n=de.autoUpdate,i=de.needsUpdate,r=de.type;xe(),J.autoReset=e,de.enabled=t,de.autoUpdate=n,de.needsUpdate=i,de.type=r}function Se(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Me(e){const t=e.target;t.removeEventListener("dispose",Me),function(e){(function(e){const t=$.get(e).programs;void 0!==t&&(t.forEach(function(e){oe.releaseProgram(e)}),e.isShaderMaterial&&oe.releaseShaderCache(e))})(e),$.remove(e)}(t)}function Ee(e,t,n){!0===e.transparent&&e.side===yi&&!1===e.forceSinglePass?(e.side=vi,e.needsUpdate=!0,Fe(e,t,n),e.side=gi,e.needsUpdate=!0,Fe(e,t,n),e.side=yi):Fe(e,t,n)}this.xr=we,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){const e=X.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=X.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(R,D,!1))},this.getSize=function(e){return e.set(R,D)},this.setSize=function(e,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(R=e,D=n,t.width=Math.floor(e*I),t.height=Math.floor(n*I),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(R*I,D*I).floor()},this.setDrawingBufferSize=function(e,n,i){R=e,D=n,I=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(B)},this.setViewport=function(e,t,n,i){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,i),Z.viewport(M.copy(B).multiplyScalar(I).round())},this.getScissor=function(e){return e.copy(F)},this.setScissor=function(e,t,n,i){e.isVector4?F.set(e.x,e.y,e.z,e.w):F.set(e,t,n,i),Z.scissor(E.copy(F).multiplyScalar(I).round())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){Z.setScissorTest(O=e)},this.setOpaqueSort=function(e){L=e},this.setTransparentSort=function(e){k=e},this.getClearColor=function(e){return e.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor(...arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha(...arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==T){const t=T.texture.format;e=t===ea||t===Jr||t===Kr}if(e){const e=T.texture.type,t=e===Dr||e===Fr||e===kr||e===zr||e===Vr||e===jr,n=he.getClearColor(),i=he.getClearAlpha(),r=n.r,a=n.g,o=n.b;t?(p[0]=r,p[1]=a,p[2]=o,p[3]=i,ye.clearBufferuiv(ye.COLOR,0,p)):(m[0]=r,m[1]=a,m[2]=o,m[3]=i,ye.clearBufferiv(ye.COLOR,0,m))}else n|=ye.COLOR_BUFFER_BIT}e&&(n|=ye.DEPTH_BUFFER_BIT),t&&(n|=ye.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ye.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Te,!1),t.removeEventListener("webglcontextrestored",_e,!1),t.removeEventListener("webglcontextcreationerror",Se,!1),he.dispose(),le.dispose(),ce.dispose(),$.dispose(),te.dispose(),ne.dispose(),ae.dispose(),ge.dispose(),ve.dispose(),oe.dispose(),we.dispose(),we.removeEventListener("sessionstart",Pe),we.removeEventListener("sessionend",Ne),Re.stop()},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=W);const o=r.isMesh&&r.matrixWorld.determinant()<0,s=function(e,t,n,i,r){!0!==t.isScene&&(t=W);ee.resetTextureUnits();const a=t.fog,o=i.isMeshStandardMaterial?t.environment:null,s=null===T?y.outputColorSpace:!0===T.isXRRenderTarget?T.texture.colorSpace:to,l=(i.isMeshStandardMaterial?ne:te).get(i.envMap||o),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color;let m=ir;i.toneMapped&&(null!==T&&!0!==T.isXRRenderTarget||(m=y.toneMapping));const f=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==f?f.length:0,v=$.get(i),b=A.state.lights;if(!0===V&&(!0===j||e!==S)){const t=e===S&&i.id===_;ue.setState(i,e,t)}let x=!1;i.version===v.__version?v.needsLights&&v.lightsStateVersion!==b.state.version||v.outputColorSpace!==s||r.isBatchedMesh&&!1===v.batching?x=!0:r.isBatchedMesh||!0!==v.batching?r.isBatchedMesh&&!0===v.batchingColor&&null===r.colorTexture||r.isBatchedMesh&&!1===v.batchingColor&&null!==r.colorTexture||r.isInstancedMesh&&!1===v.instancing?x=!0:r.isInstancedMesh||!0!==v.instancing?r.isSkinnedMesh&&!1===v.skinning?x=!0:r.isSkinnedMesh||!0!==v.skinning?r.isInstancedMesh&&!0===v.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===v.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===v.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===v.instancingMorph&&null!==r.morphTexture||v.envMap!==l||!0===i.fog&&v.fog!==a?x=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===ue.numPlanes&&v.numIntersection===ue.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==d||v.morphNormals!==h||v.morphColors!==p||v.toneMapping!==m||v.morphTargetsCount!==g)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,v.__version=i.version);let w=v.currentProgram;!0===x&&(w=Fe(i,t,r));let M=!1,E=!1,C=!1;const P=w.getUniforms(),N=v.uniforms;Z.useProgram(w.program)&&(M=!0,E=!0,C=!0);i.id!==_&&(_=i.id,E=!0);if(M||S!==e){Z.buffers.depth.getReversed()?(z.copy(e.projectionMatrix),function(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(z),function(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(z),P.setValue(ye,"projectionMatrix",z)):P.setValue(ye,"projectionMatrix",e.projectionMatrix),P.setValue(ye,"viewMatrix",e.matrixWorldInverse);const t=P.map.cameraPosition;void 0!==t&&t.setValue(ye,G.setFromMatrixPosition(e.matrixWorld)),K.logarithmicDepthBuffer&&P.setValue(ye,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&P.setValue(ye,"isOrthographic",!0===e.isOrthographicCamera),S!==e&&(S=e,E=!0,C=!0)}if(r.isSkinnedMesh){P.setOptional(ye,r,"bindMatrix"),P.setOptional(ye,r,"bindMatrixInverse");const e=r.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),P.setValue(ye,"boneTexture",e.boneTexture,ee))}r.isBatchedMesh&&(P.setOptional(ye,r,"batchingTexture"),P.setValue(ye,"batchingTexture",r._matricesTexture,ee),P.setOptional(ye,r,"batchingIdTexture"),P.setValue(ye,"batchingIdTexture",r._indirectTexture,ee),P.setOptional(ye,r,"batchingColorTexture"),null!==r._colorsTexture&&P.setValue(ye,"batchingColorTexture",r._colorsTexture,ee));const R=n.morphAttributes;void 0===R.position&&void 0===R.normal&&void 0===R.color||pe.update(r,n,w);(E||v.receiveShadow!==r.receiveShadow)&&(v.receiveShadow=r.receiveShadow,P.setValue(ye,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(N.envMap.value=l,N.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);i.isMeshStandardMaterial&&null===i.envMap&&null!==t.environment&&(N.envMapIntensity.value=t.environmentIntensity);E&&(P.setValue(ye,"toneMappingExposure",y.toneMappingExposure),v.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(N,C),a&&!0===i.fog&&se.refreshFogUniforms(N,a),se.refreshMaterialUniforms(N,i,I,D,A.state.transmissionRenderTarget[e.id]),Mv.upload(ye,Oe(v),N,ee));i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Mv.upload(ye,Oe(v),N,ee),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&P.setValue(ye,"center",r.center);if(P.setValue(ye,"modelViewMatrix",r.modelViewMatrix),P.setValue(ye,"normalMatrix",r.normalMatrix),P.setValue(ye,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];ve.update(n,w),ve.bind(n,w)}}return w}(e,t,n,i,r);Z.setMaterial(i,o);let l=n.index,c=1;if(!0===i.wireframe){if(l=re.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),p=Math.min(p,d.count));const m=p-h;if(m<0||m===1/0)return;let f;ge.setup(r,i,s,n,l);let g=me;if(null!==l&&(f=ie.get(l),g=fe,g.setIndex(f)),r.isMesh)!0===i.wireframe?(Z.setLineWidth(i.wireframeLinewidth*Y()),g.setMode(ye.LINES)):g.setMode(ye.TRIANGLES);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),Z.setLineWidth(e*Y()),r.isLineSegments?g.setMode(ye.LINES):r.isLineLoop?g.setMode(ye.LINE_LOOP):g.setMode(ye.LINE_STRIP)}else r.isPoints?g.setMode(ye.POINTS):r.isSprite&&g.setMode(ye.TRIANGLES);if(r.isBatchedMesh)if(null!==r._multiDrawInstances)As("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),g.renderMultiDrawInstances(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount,r._multiDrawInstances);else if(X.get("WEBGL_multi_draw"))g.renderMultiDraw(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount);else{const e=r._multiDrawStarts,t=r._multiDrawCounts,n=r._multiDrawCount,a=l?ie.get(l).bytesPerElement:1,o=$.get(i).currentProgram.getUniforms();for(let i=0;i<n;i++)o.setValue(ye,"_gl_DrawID",i),g.render(e[i]/a,t[i])}else if(r.isInstancedMesh)g.renderInstances(h,m,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(h,m,t)}else g.render(h,m)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),A=ce.get(n),A.init(t),v.push(A),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(A.pushLight(e),e.castShadow&&A.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(A.pushLight(e),e.castShadow&&A.pushShadow(e))}),A.setupLights();const i=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let r=0;r<t.length;r++){const a=t[r];Ee(a,n,e),i.add(a)}else Ee(t,n,e),i.add(t)}),A=v.pop(),i},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=this.compile(e,t,n);return new Promise(t=>{function n(){i.forEach(function(e){$.get(e).currentProgram.isReady()&&i.delete(e)}),0!==i.size?setTimeout(n,10):t(e)}null!==X.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Ce=null;function Pe(){Re.stop()}function Ne(){Re.start()}const Re=new OA;function De(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)A.pushLight(e),e.castShadow&&A.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||U.intersectsSprite(e)){i&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(q);const t=ae.update(e),r=e.material;r.visible&&f.push(e,t,r,n,H.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||U.intersectsObject(e))){const t=ae.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),H.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),H.copy(t.boundingSphere.center)),H.applyMatrix4(e.matrixWorld).applyMatrix4(q)),Array.isArray(r)){const i=t.groups;for(let a=0,o=i.length;a<o;a++){const o=i[a],s=r[o.materialIndex];s&&s.visible&&f.push(e,t,s,n,H.z,o)}}else r.visible&&f.push(e,t,r,n,H.z,null)}const r=e.children;for(let a=0,o=r.length;a<o;a++)De(r[a],t,n,i)}function Ie(e,t,n,i){const r=e.opaque,a=e.transmissive,o=e.transparent;A.setupLightsView(n),!0===V&&ue.setGlobalState(y.clippingPlanes,n),i&&Z.viewport(M.copy(i)),r.length>0&&ke(r,t,n),a.length>0&&ke(a,t,n),o.length>0&&ke(o,t,n),Z.buffers.depth.setTest(!0),Z.buffers.depth.setMask(!0),Z.buffers.color.setMask(!0),Z.setPolygonOffset(!1)}function Le(e,t,n,i){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===A.state.transmissionRenderTarget[i.id]&&(A.state.transmissionRenderTarget[i.id]=new Is(1,1,{generateMipmaps:!0,type:X.has("EXT_color_buffer_half_float")||X.has("EXT_color_buffer_float")?Ur:Dr,minFilter:Nr,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bs.workingColorSpace}));const a=A.state.transmissionRenderTarget[i.id],o=i.viewport||M;a.setSize(o.z*y.transmissionResolutionScale,o.w*y.transmissionResolutionScale);const s=y.getRenderTarget();y.setRenderTarget(a),y.getClearColor(P),N=y.getClearAlpha(),N<1&&y.setClearColor(16777215,.5),y.clear(),Q&&he.render(n);const l=y.toneMapping;y.toneMapping=ir;const c=i.viewport;if(void 0!==i.viewport&&(i.viewport=void 0),A.setupLightsView(i),!0===V&&ue.setGlobalState(y.clippingPlanes,i),ke(e,n,i),ee.updateMultisampleRenderTarget(a),ee.updateRenderTargetMipmap(a),!1===X.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let r=0,a=t.length;r<a;r++){const a=t[r],o=a.object,s=a.geometry,l=a.material,c=a.group;if(l.side===yi&&o.layers.test(i.layers)){const t=l.side;l.side=vi,l.needsUpdate=!0,Be(o,n,i,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(ee.updateMultisampleRenderTarget(a),ee.updateRenderTargetMipmap(a))}y.setRenderTarget(s),y.setClearColor(P,N),void 0!==c&&(i.viewport=c),y.toneMapping=l}function ke(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,a=e.length;r<a;r++){const a=e[r],o=a.object,s=a.geometry,l=a.group;let c=a.material;!0===c.allowOverride&&null!==i&&(c=i),o.layers.test(n.layers)&&Be(o,t,n,s,c,l)}}function Be(e,t,n,i,r,a){e.onBeforeRender(y,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(y,t,n,i,e,a),!0===r.transparent&&r.side===yi&&!1===r.forceSinglePass?(r.side=vi,r.needsUpdate=!0,y.renderBufferDirect(n,t,i,r,e,a),r.side=gi,r.needsUpdate=!0,y.renderBufferDirect(n,t,i,r,e,a),r.side=yi):y.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(y,t,n,i,r,a)}function Fe(e,t,n){!0!==t.isScene&&(t=W);const i=$.get(e),r=A.state.lights,a=A.state.shadowsArray,o=r.state.version,s=oe.getParameters(e,r.state,a,t,n),l=oe.getProgramCacheKey(s);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?ne:te).get(e.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Me),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===o)return Ue(e,s),u}else s.uniforms=oe.getUniforms(e),e.onBeforeCompile(s,y),u=oe.acquireProgram(s,l),c.set(l,u),i.uniforms=s.uniforms;const d=i.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=ue.uniform),Ue(e,s),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=o,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function Oe(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Mv.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Ue(e,t){const n=$.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Re.setAnimationLoop(function(e){Ce&&Ce(e)}),"undefined"!==typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Ce=e,we.setAnimationLoop(e),null===e?Re.stop():Re.start()},we.addEventListener("sessionstart",Pe),we.addEventListener("sessionend",Ne),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,T),A=ce.get(e,v.length),A.init(t),v.push(A),q.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),U.setFromProjectionMatrix(q),j=this.localClippingEnabled,V=ue.init(this.clippingPlanes,j),f=le.get(e,g.length),f.init(),g.push(f),!0===we.enabled&&!0===we.isPresenting){const e=y.xr.getDepthSensingMesh();null!==e&&De(e,t,-1/0,y.sortObjects)}De(e,t,0,y.sortObjects),f.finish(),!0===y.sortObjects&&f.sort(L,k),Q=!1===we.enabled||!1===we.isPresenting||!1===we.hasDepthSensing(),Q&&he.addToRenderList(f,e),this.info.render.frame++,!0===V&&ue.beginShadows();const n=A.state.shadowsArray;de.render(n,e,t),!0===V&&ue.endShadows(),!0===this.info.autoReset&&this.info.reset();const i=f.opaque,r=f.transmissive;if(A.setupLights(),t.isArrayCamera){const n=t.cameras;if(r.length>0)for(let t=0,a=n.length;t<a;t++){Le(i,r,e,n[t])}Q&&he.render(e);for(let t=0,i=n.length;t<i;t++){const i=n[t];Ie(f,e,i,i.viewport)}}else r.length>0&&Le(i,r,e,t),Q&&he.render(e),Ie(f,e,t);null!==T&&0===w&&(ee.updateMultisampleRenderTarget(T),ee.updateRenderTargetMipmap(T)),!0===e.isScene&&e.onAfterRender(y,e,t),ge.resetDefaultState(),_=-1,S=null,v.pop(),v.length>0?(A=v[v.length-1],!0===V&&ue.setGlobalState(y.clippingPlanes,A.state.camera)):A=null,g.pop(),f=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(e,t,n){const i=$.get(e);i.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===i.__autoAllocateDepthBuffer&&(i.__useRenderToTexture=!1),$.get(e.texture).__webglTexture=t,$.get(e.depthTexture).__webglTexture=i.__autoAllocateDepthBuffer?void 0:n,i.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=$.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const Ve=ye.createFramebuffer();this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;T=e,x=t,w=n;let i=!0,r=null,a=!1,o=!1;if(e){const s=$.get(e);if(void 0!==s.__useDefaultFramebuffer)Z.bindFramebuffer(ye.FRAMEBUFFER,null),i=!1;else if(void 0===s.__webglFramebuffer)ee.setupRenderTarget(e);else if(s.__hasExternalTextures)ee.rebindTextures(e,$.get(e.texture).__webglTexture,$.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&$.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ee.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const c=$.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(c[t])?c[t][n]:c[t],a=!0):r=e.samples>0&&!1===ee.useMultisampledRTT(e)?$.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,M.copy(e.viewport),E.copy(e.scissor),C=e.scissorTest}else M.copy(B).multiplyScalar(I).floor(),E.copy(F).multiplyScalar(I).floor(),C=O;0!==n&&(r=Ve);if(Z.bindFramebuffer(ye.FRAMEBUFFER,r)&&i&&Z.drawBuffers(e,r),Z.viewport(M),Z.scissor(E),Z.setScissorTest(C),a){const i=$.get(e.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(o){const i=$.get(e.texture),r=t;ye.framebufferTextureLayer(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,i.__webglTexture,n,r)}else if(null!==e&&0!==n){const t=$.get(e.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,t.__webglTexture,n)}_=-1},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){Z.bindFramebuffer(ye.FRAMEBUFFER,l);try{const o=e.textures[s],l=o.format,c=o.type;if(!K.textureFormatReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!K.textureTypeReadable(c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&(e.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+s),ye.readPixels(t,n,i,r,Ae.convert(l),Ae.convert(c),a))}finally{const e=null!==T?$.get(T).__webglFramebuffer:null;Z.bindFramebuffer(ye.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){if(t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r){Z.bindFramebuffer(ye.FRAMEBUFFER,l);const o=e.textures[s],c=o.format,u=o.type;if(!K.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!K.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const d=ye.createBuffer();ye.bindBuffer(ye.PIXEL_PACK_BUFFER,d),ye.bufferData(ye.PIXEL_PACK_BUFFER,a.byteLength,ye.STREAM_READ),e.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+s),ye.readPixels(t,n,i,r,Ae.convert(c),Ae.convert(u),0);const h=null!==T?$.get(T).__webglFramebuffer:null;Z.bindFramebuffer(ye.FRAMEBUFFER,h);const p=ye.fenceSync(ye.SYNC_GPU_COMMANDS_COMPLETE,0);return ye.flush(),await function(e,t,n){return new Promise(function(i,r){setTimeout(function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:r();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}},n)})}(ye,p,4),ye.bindBuffer(ye.PIXEL_PACK_BUFFER,d),ye.getBufferSubData(ye.PIXEL_PACK_BUFFER,0,a),ye.deleteBuffer(d),ye.deleteSync(p),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i),o=null!==t?t.x:0,s=null!==t?t.y:0;ee.setTexture2D(e,0),ye.copyTexSubImage2D(ye.TEXTURE_2D,n,0,0,o,s,r,a),Z.unbindTexture()};const je=ye.createFramebuffer(),ze=ye.createFramebuffer();this.copyTextureToTexture=function(e,t){let n,i,r,a,o,s,l,c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===m&&(0!==p?(As("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),m=p,p=0):m=0);const f=e.isCompressedTexture?e.mipmaps[m]:e.image;if(null!==d)n=d.max.x-d.min.x,i=d.max.y-d.min.y,r=d.isBox3?d.max.z-d.min.z:1,a=d.min.x,o=d.min.y,s=d.isBox3?d.min.z:0;else{const t=Math.pow(2,-p);n=Math.floor(f.width*t),i=Math.floor(f.height*t),r=e.isDataArrayTexture?f.depth:e.isData3DTexture?Math.floor(f.depth*t):1,a=0,o=0,s=0}null!==h?(l=h.x,c=h.y,u=h.z):(l=0,c=0,u=0);const A=Ae.convert(t.format),g=Ae.convert(t.type);let v;t.isData3DTexture?(ee.setTexture3D(t,0),v=ye.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(ee.setTexture2DArray(t,0),v=ye.TEXTURE_2D_ARRAY):(ee.setTexture2D(t,0),v=ye.TEXTURE_2D),ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,t.flipY),ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ye.pixelStorei(ye.UNPACK_ALIGNMENT,t.unpackAlignment);const y=ye.getParameter(ye.UNPACK_ROW_LENGTH),b=ye.getParameter(ye.UNPACK_IMAGE_HEIGHT),x=ye.getParameter(ye.UNPACK_SKIP_PIXELS),w=ye.getParameter(ye.UNPACK_SKIP_ROWS),T=ye.getParameter(ye.UNPACK_SKIP_IMAGES);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,f.width),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,f.height),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,a),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,o),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,s);const _=e.isDataArrayTexture||e.isData3DTexture,S=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const d=$.get(e),h=$.get(t),f=$.get(d.__renderTarget),A=$.get(h.__renderTarget);Z.bindFramebuffer(ye.READ_FRAMEBUFFER,f.__webglFramebuffer),Z.bindFramebuffer(ye.DRAW_FRAMEBUFFER,A.__webglFramebuffer);for(let g=0;g<r;g++)_&&(ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,$.get(e).__webglTexture,p,s+g),ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,$.get(t).__webglTexture,m,u+g)),ye.blitFramebuffer(a,o,n,i,l,c,n,i,ye.DEPTH_BUFFER_BIT,ye.NEAREST);Z.bindFramebuffer(ye.READ_FRAMEBUFFER,null),Z.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else if(0!==p||e.isRenderTargetTexture||$.has(e)){const d=$.get(e),h=$.get(t);Z.bindFramebuffer(ye.READ_FRAMEBUFFER,je),Z.bindFramebuffer(ye.DRAW_FRAMEBUFFER,ze);for(let e=0;e<r;e++)_?ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,d.__webglTexture,p,s+e):ye.framebufferTexture2D(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,d.__webglTexture,p),S?ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,h.__webglTexture,m,u+e):ye.framebufferTexture2D(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,h.__webglTexture,m),0!==p?ye.blitFramebuffer(a,o,n,i,l,c,n,i,ye.COLOR_BUFFER_BIT,ye.NEAREST):S?ye.copyTexSubImage3D(v,m,l,c,u+e,a,o,n,i):ye.copyTexSubImage2D(v,m,l,c,a,o,n,i);Z.bindFramebuffer(ye.READ_FRAMEBUFFER,null),Z.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else S?e.isDataTexture||e.isData3DTexture?ye.texSubImage3D(v,m,l,c,u,n,i,r,A,g,f.data):t.isCompressedArrayTexture?ye.compressedTexSubImage3D(v,m,l,c,u,n,i,r,A,f.data):ye.texSubImage3D(v,m,l,c,u,n,i,r,A,g,f):e.isDataTexture?ye.texSubImage2D(ye.TEXTURE_2D,m,l,c,n,i,A,g,f.data):e.isCompressedTexture?ye.compressedTexSubImage2D(ye.TEXTURE_2D,m,l,c,f.width,f.height,A,f.data):ye.texSubImage2D(ye.TEXTURE_2D,m,l,c,n,i,A,g,f);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,y),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,b),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,x),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,w),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,T),0===m&&t.generateMipmaps&&ye.generateMipmap(v),Z.unbindTexture()},this.copyTextureToTexture3D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return As('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,i,r)},this.initRenderTarget=function(e){void 0===$.get(e).__webglFramebuffer&&ee.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ee.setTextureCube(e,0):e.isData3DTexture?ee.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ee.setTexture2DArray(e,0):ee.setTexture2D(e,0),Z.unbindTexture()},this.resetState=function(){x=0,w=0,T=null,Z.reset(),ge.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=bs._getDrawingBufferColorSpace(e),t.unpackColorSpace=bs._getUnpackColorSpace()}}var by=.001,xy=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){"undefined"!==typeof document&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*by}get fixedDelta(){return this._fixedDelta*by}set fixedDelta(e){this._fixedDelta=1e3*e}get elapsed(){return this._elapsed*by}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(void 0!==e?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},wy=(()=>{const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]),n=new Ic;return n.setAttribute("position",new Ac(e,3)),n.setAttribute("uv",new Ac(t,2)),n})(),Ty=class e{static get fullscreenGeometry(){return wy}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pass",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pu,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $c;this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;null!==t&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(t){let n=this.screen;null!==n?n.material=t:(n=new Hc(e.fullscreenGeometry,t),n.frustumCulled=!1,null===this.scene&&(this.scene=new pu),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e){}render(e,t,n,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(const t of Object.keys(this)){const n=this[t];(n instanceof Is||n instanceof oc||n instanceof Ns||n instanceof e)&&this[t].dispose()}null!==this.fullscreenMaterial&&this.fullscreenMaterial.dispose()}},_y=class extends Ty{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,i,r){const a=e.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},Sy="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",My=class extends Jc{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Vf(null),opacity:new Vf(1)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <colorspace_fragment>\n#include <dithering_fragment>\n}",vertexShader:Sy})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},Ey=class extends Ty{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super("CopyPass"),this.fullscreenMaterial=new My,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new Is(1,1,{minFilter:Er,magFilter:Er,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==Dr?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":null!==e&&e.outputColorSpace===eo&&(this.renderTarget.texture.colorSpace=eo))}},Cy=new ic,Py=class extends Ty{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,i,r){const a=this.overrideClearColor,o=this.overrideClearAlpha,s=e.getClearAlpha(),l=null!==a,c=o>=0;l?(e.getClearColor(Cy),e.setClearColor(a,c?o:s)):c&&e.setClearAlpha(o),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(Cy,s):c&&e.setClearAlpha(s)}},Ny=class extends Ty{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new Py(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,i,r){const a=e.getContext(),o=e.state.buffers,s=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,d=1-u;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.stencil.setFunc(a.ALWAYS,u,4294967295),o.stencil.setClear(d),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,l)):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n),e.render(s,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(a.EQUAL,1,4294967295),o.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.stencil.setLocked(!0)}},Ry=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:i=0,frameBufferType:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.renderer=null,this.inputBuffer=this.createBuffer(t,n,r,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new Ey,this.depthTexture=null,this.passes=[],this.timer=new xy,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){const t=e.getSize(new is),n=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Dr&&e.outputColorSpace===eo&&(this.inputBuffer.texture.colorSpace=eo,this.outputBuffer.texture.colorSpace=eo,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const r of this.passes)r.initialize(e,n,i)}}replaceRenderer(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&null!==i&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}createDepthTexture(){const e=this.depthTexture=new ch;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Yr,e.type=zr):e.type=Fr,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,i){const r=this.renderer,a=null===r?new is:r.getDrawingBufferSize(new is),o={minFilter:Er,magFilter:Er,stencilBuffer:t,depthBuffer:e,type:n},s=new Is(a.width,a.height,o);return i>0&&(s.ignoreDepthForMultisampleCopy=!1,s.samples=i),n===Dr&&null!==r&&r.outputColorSpace===eo&&(s.texture.colorSpace=eo),s.texture.name="EffectComposer.Buffer",s.texture.generateMipmaps=!1,s}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const n=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new is),a=i.getContext().getContextAttributes().alpha,o=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,a,o),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){const t=this.createDepthTexture();for(e of n)e.setDepthTexture(t)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,n=t.indexOf(e);if(-1!==n&&t.splice(n,1).length>0){if(null!==this.depthTexture){const n=(e,t)=>e||t.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,n=this.copyPass;let i,r,a,o=this.inputBuffer,s=this.outputBuffer,l=!1;void 0===e&&(this.timer.update(),e=this.timer.getDelta());for(const c of this.passes)c.enabled&&(c.render(t,o,s,e,l),c.needsSwap&&(l&&(n.renderToScreen=c.renderToScreen,i=t.getContext(),r=t.state.buffers.stencil,r.setFunc(i.NOTEQUAL,1,4294967295),n.render(t,o,s,e,l),r.setFunc(i.EQUAL,1,4294967295)),a=o,o=s,s=a),c instanceof Ny?l=!0:c instanceof _y&&(l=!1))}setSize(e,t,n){const i=this.renderer,r=i.getSize(new is);void 0!==e&&void 0!==t||(e=r.width,t=r.height),r.width===e&&r.height===t||i.setSize(e,t,n);const a=i.getDrawingBufferSize(new is);this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height);for(const o of this.passes)o.setSize(a.width,a.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),Ty.fullscreenGeometry.dispose()}},Dy={NONE:0,DEPTH:1,CONVOLUTION:2},Iy={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Ly=class{constructor(){this.shaderParts=new Map([[Iy.FRAGMENT_HEAD,null],[Iy.FRAGMENT_MAIN_UV,null],[Iy.FRAGMENT_MAIN_IMAGE,null],[Iy.VERTEX_HEAD,null],[Iy.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Dy.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=to}};var ky=!1,By=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case yi:t=this.materialsFlatShadedDoubleSide;break;case vi:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded}else switch(e.material.side){case yi:t=this.materialsDoubleSide;break;case vi:t=this.materialsBackSide;break;default:t=this.materials}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof Jc))return e.clone();const t=e.uniforms,n=new Map;for(const r in t){const e=t[r].value;e.isRenderTargetTexture&&(t[r].value=null,n.set(r,e))}const i=e.clone();for(const r of n)t[r[0]].value=r[1],i.uniforms[r[0]].value=r[1];return i}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const n of t)n.uniforms=Object.assign({},e.uniforms),n.side=gi;t[2].skinning=!0,this.materialsBackSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.side=vi,n}),this.materialsDoubleSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.side=yi,n}),this.materialsFlatShaded=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=vi,n}),this.materialsFlatShadedDoubleSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=yi,n})}}render(e,t,n){const i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,ky){const i=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(const e of i)e[0].material=e[1];this.meshCount!==i.size&&i.clear()}else{const i=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=i}e.shadowMap.enabled=i}disposeMaterials(){if(null!==this.material){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return ky}static set workaroundEnabled(e){ky=e}},Fy=-1,Oy=class extends Ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fy,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fy,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.resizable=e,this.baseSize=new is(1,1),this.preferredSize=new is(t,n),this.target=this.preferredSize,this.s=i,this.effectiveSize=new is,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,n=this.effectiveSize,i=this.scale;t.width!==Fy?n.width=t.width:t.height!==Fy?n.width=Math.round(t.height*(e.width/Math.max(e.height,1))):n.width=Math.round(e.width*i),t.height!==Fy?n.height=t.height:t.width!==Fy?n.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n.height=Math.round(e.height*i)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(Fy),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){this.baseSize.width===e&&this.baseSize.height===t||(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){this.preferredSize.width===e&&this.preferredSize.height===t||(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Fy}},Uy=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.nextId=e}getNextId(){return this.nextId++}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.nextId=e,this}}(2),Vy=(Set,{SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32}),jy=new Map([[Vy.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[Vy.ALPHA,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[Vy.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[Vy.COLOR,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Vy.COLOR_BURN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[Vy.COLOR_DODGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[Vy.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[Vy.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[Vy.DIVIDE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[Vy.DST,null],[Vy.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[Vy.HARD_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[Vy.HARD_MIX,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[Vy.HUE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Vy.INVERT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[Vy.INVERT_RGB,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[Vy.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[Vy.LINEAR_BURN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[Vy.LINEAR_DODGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[Vy.LINEAR_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[Vy.LUMINOSITY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Vy.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[Vy.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[Vy.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[Vy.OVERLAY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[Vy.PIN_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[Vy.REFLECT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[Vy.SATURATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Vy.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[Vy.SOFT_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[Vy.SRC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[Vy.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[Vy.VIVID_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),zy=class extends Ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this._blendFunction=e,this.opacity=new Vf(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return jy.get(this.blendFunction)}},qy=class extends Ho{constructor(e,t){let{attributes:n=Dy.NONE,blendFunction:i=Vy.NORMAL,defines:r=new Map,uniforms:a=new Map,extensions:o=null,vertexShader:s=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=s,this.defines=r,this.uniforms=a,this.extensions=o,this.blendMode=new zy(i),this.blendMode.addEventListener("change",e=>this.setChanged()),this._inputColorSpace=to,this._outputColorSpace=$a}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof Is||t instanceof oc||t instanceof Ns||t instanceof Ty)&&this[e].dispose()}}},Gy={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Hy=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Wy=class extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rs;super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Vf(null),texelSize:new Vf(new Rs),scale:new Vf(1),kernel:new Vf(0)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.setTexelSize(e.x,e.y),this.kernelSize=Gy.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return Hy[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,.5*e,.5*t)}setSize(e,t){const n=1/e,i=1/t;this.uniforms.texelSize.value.set(n,i,.5*n,.5*i)}},Qy=class extends Ty{constructor(){let{kernelSize:e=Gy.MEDIUM,resolutionScale:t=.5,width:n=Oy.AUTO_SIZE,height:i=Oy.AUTO_SIZE,resolutionX:r=n,resolutionY:a=i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("KawaseBlurPass"),this.renderTargetA=new Is(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Oy(this,r,a,t);o.addEventListener("change",e=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new Wy,this._blurMaterial.kernelSize=e,this.copyMaterial=new My}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){const a=this.scene,o=this.camera,s=this.renderTargetA,l=this.renderTargetB,c=this.blurMaterial,u=c.kernelSequence;let d=t;this.fullscreenMaterial=c;for(let h=0,p=u.length;h<p;++h){const t=0===(1&h)?s:l;c.kernel=u[h],c.inputBuffer=d.texture,e.setRenderTarget(t),e.render(a,o),d=t}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(a,o)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t);const i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Dr?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):null!==e&&e.outputColorSpace===eo&&(this.renderTargetA.texture.colorSpace=eo,this.renderTargetB.texture.colorSpace=eo))}static get AUTO_SIZE(){return Oy.AUTO_SIZE}},Yy=class extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super({name:"LuminanceMaterial",defines:{THREE_REVISION:oi.replace(/\D+/g,"")},uniforms:{inputBuffer:new Vf(null),threshold:new Vf(0),smoothing:new Vf(1),range:new Vf(null)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l)*l;\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*clamp(l,0.0,1.0),l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:Sy}),this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return null!==this.luminanceRange}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},Xy=class extends Ty{constructor(){let{renderTarget:e,luminanceRange:t,colorOutput:n,resolutionScale:i=1,width:r=Oy.AUTO_SIZE,height:a=Oy.AUTO_SIZE,resolutionX:o=r,resolutionY:s=a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("LuminancePass"),this.fullscreenMaterial=new Yy(n,t),this.needsSwap=!1,this.renderTarget=e,void 0===this.renderTarget&&(this.renderTarget=new Is(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Oy(this,o,s,i);l.addEventListener("change",e=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){void 0!==n&&n!==Dr&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Ky=class extends Jc{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Vf(null),texelSize:new Vf(new is)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#define WEIGHT_INNER 0.125\n#define WEIGHT_OUTER 0.0555555\nvarying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Zy=class extends Jc{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Vf(null),supportBuffer:new Vf(null),texelSize:new Vf(new is),radius:new Vf(.85)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\n#else\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\n#endif\nuniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}set supportBuffer(e){this.uniforms.supportBuffer.value=e}get radius(){return this.uniforms.radius.value}set radius(e){this.uniforms.radius.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Jy=class extends Ty{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Is(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new Ky,this.upsamplingMaterial=new Zy,this.resolution=new is}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(e){if(this.levels!==e){const t=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<e;++n){const e=t.clone();e.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(e)}this.upsamplingMipmaps.push(t);for(let n=1,i=e-1;n<i;++n){const e=t.clone();e.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(e)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(e){this.upsamplingMaterial.radius=e}render(e,t,n,i,r){const{scene:a,camera:o}=this,{downsamplingMaterial:s,upsamplingMaterial:l}=this,{downsamplingMipmaps:c,upsamplingMipmaps:u}=this;let d=t;this.fullscreenMaterial=s;for(let h=0,p=c.length;h<p;++h){const t=c[h];s.setSize(d.width,d.height),s.inputBuffer=d.texture,e.setRenderTarget(t),e.render(a,o),d=t}this.fullscreenMaterial=l;for(let h=u.length-1;h>=0;--h){const t=u[h];l.setSize(d.width,d.height),l.inputBuffer=d.texture,l.supportBuffer=c[h].texture,e.setRenderTarget(t),e.render(a,o),d=t}}setSize(e,t){const n=this.resolution;n.set(e,t);let i=n.width,r=n.height;for(let a=0,o=this.downsamplingMipmaps.length;a<o;++a)i=Math.round(.5*i),r=Math.round(.5*r),this.downsamplingMipmaps[a].setSize(i,r),a<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[a].setSize(i,r)}initialize(e,t,n){if(void 0!==n){const t=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const e of t)e.texture.type=n;if(n!==Dr)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(null!==e&&e.outputColorSpace===eo)for(const e of t)e.texture.colorSpace=eo}}dispose(){super.dispose();for(const e of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))e.dispose()}},$y=class extends qy{constructor(){let{blendFunction:e=Vy.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,mipmapBlur:i=!1,intensity:r=1,radius:a=.85,levels:o=8,kernelSize:s=Gy.LARGE,resolutionScale:l=.5,width:c=Oy.AUTO_SIZE,height:u=Oy.AUTO_SIZE,resolutionX:d=c,resolutionY:h=u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}",{blendFunction:e,uniforms:new Map([["map",new Vf(null)],["intensity",new Vf(r)]])}),this.renderTarget=new Is(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Qy({kernelSize:s}),this.luminancePass=new Xy({colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new Jy,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=a,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const p=this.resolution=new Oy(this,d,h,l);p.addEventListener("change",e=>this.setSize(p.baseWidth,p.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){const i=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,r.renderTarget):this.blurPass.render(e,r.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,i)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}initialize(e,t,n){this.blurPass.initialize(e,t,n),this.luminancePass.initialize(e,t,n),this.mipmapBlurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,null!==e&&e.outputColorSpace===eo&&(this.renderTarget.texture.colorSpace=eo))}};var eb=class extends Ty{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inputBuffer";super("ShaderPass"),this.fullscreenMaterial=e,this.input=t}setInput(e){this.input=e}render(e,t,n,i,r){const a=this.fullscreenMaterial.uniforms;null!==t&&void 0!==a&&void 0!==a[this.input]&&(a[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){void 0!==n&&n!==Dr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}};var tb=class extends Ty{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new Py,this.overrideMaterialManager=null===n?null:new By(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new By(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,i,r){const a=this.scene,o=this.camera,s=this.selection,l=o.layers.mask,c=a.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;null!==s&&o.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,a,o):e.render(a,o),o.layers.mask=l,a.background=c,e.shadowMap.autoUpdate=u}};var nb={DEPTH:0,LUMA:1,COLOR:2},ib={DISABLED:0,DEPTH:1,CUSTOM:2},rb={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},ab=(Math.PI,class extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nb.COLOR;super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:oi.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Vf(null),depthBuffer:new Vf(null),predicationBuffer:new Vf(null),texelSize:new Vf(e)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa;this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}),ob=class extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is;super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Vf(null),searchTexture:new Vf(null),areaTexture:new Vf(null),resolution:new Vf(t),texelSize:new Vf(e)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){const t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){const t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){const t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){const n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},sb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",lb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",cb=class extends qy{constructor(){let e,t,{blendFunction:n=Vy.SRC,preset:i=rb.MEDIUM,edgeDetectionMode:r=nb.COLOR,predicationMode:a=ib.DISABLED}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:n,attributes:Dy.CONVOLUTION|Dy.DEPTH,uniforms:new Map([["weightMap",new Vf(null)]])}),arguments.length>1&&(e=arguments[0],t=arguments[1],arguments.length>2&&(i=arguments[2]),arguments.length>3&&(r=arguments[3])),this.renderTargetEdges=new Is(1,1,{depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new Py(!0,!1,!1),this.clearPass.overrideClearColor=new ic(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new eb(new ab),this.edgeDetectionMaterial.edgeDetectionMode=r,this.edgeDetectionMaterial.predicationMode=a,this.weightsPass=new eb(new ob);const o=new fm;o.onLoad=()=>{const n=new Ns(e);n.name="SMAA.Search",n.magFilter=wr,n.minFilter=wr,n.generateMipmaps=!1,n.needsUpdate=!0,n.flipY=!0,this.weightsMaterial.searchTexture=n;const i=new Ns(t);i.name="SMAA.Area",i.magFilter=Er,i.minFilter=Er,i.generateMipmaps=!1,i.needsUpdate=!0,i.flipY=!1,this.weightsMaterial.areaTexture=i,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),void 0!==e&&void 0!==t?(o.itemEnd("search"),o.itemEnd("area")):"undefined"!==typeof Image&&(e=new Image,t=new Image,e.addEventListener("load",()=>o.itemEnd("search")),t.addEventListener("load",()=>o.itemEnd("area")),e.src=sb,t.src=lb),this.applyPreset(i)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){const t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case rb.LOW:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case rb.MEDIUM:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case rb.HIGH:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case rb.ULTRA:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa;this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){const{searchTexture:e,areaTexture:t}=this.weightsMaterial;null!==e&&null!==t&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return sb}static get areaImageDataURL(){return lb}},ub=class extends Jc{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super({name:"EffectMaterial",defines:{THREE_REVISION:oi.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Vf(null),depthBuffer:new Vf(null),resolution:new Vf(new is),texelSize:new Vf(new is),cameraNear:new Vf(.3),cameraFar:new Vf(1e3),aspect:new Vf(1),time:new Vf(0)},blending:bi,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:r}),e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.copyCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa;this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <colorspace_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(Iy.FRAGMENT_HEAD,e.get(Iy.FRAGMENT_HEAD)||"").replace(Iy.FRAGMENT_MAIN_UV,e.get(Iy.FRAGMENT_MAIN_UV)||"").replace(Iy.FRAGMENT_MAIN_IMAGE,e.get(Iy.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}".replace(Iy.VERTEX_HEAD,e.get(Iy.VERTEX_HEAD)||"").replace(Iy.VERTEX_MAIN_SUPPORT,e.get(Iy.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof iu?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return Iy}},db=(Number(oi.replace(/\D+/g,"")),255/256);new Float32Array([5.9371814131736755e-8,db/65536,.0038909912109375,db]),new Float32Array([db,.0038909912109375,db/65536,1/256**3]);function hb(e,t,n){for(const i of t){const t="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),r=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const e of n.entries())null!==e[1]&&n.set(e[0],e[1].replace(r,t))}}function pb(e,t,n){let i=t.getFragmentShader(),r=t.getVertexShader();const a=void 0!==i&&/mainImage/.test(i),o=void 0!==i&&/mainUv/.test(i);if(n.attributes|=t.getAttributes(),void 0===i)throw new Error("Missing fragment shader (".concat(t.name,")"));if(o&&0!==(n.attributes&Dy.CONVOLUTION))throw new Error("Effects that transform UVs are incompatible with convolution effects (".concat(t.name,")"));if(!a&&!o)throw new Error("Could not find mainImage or mainUv function (".concat(t.name,")"));{const s=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let c=l.get(Iy.FRAGMENT_HEAD)||"",u=l.get(Iy.FRAGMENT_MAIN_UV)||"",d=l.get(Iy.FRAGMENT_MAIN_IMAGE)||"",h=l.get(Iy.VERTEX_HEAD)||"",p=l.get(Iy.VERTEX_MAIN_SUPPORT)||"";const m=new Set,f=new Set;if(o&&(u+="\t".concat(e,"MainUv(UV);\n"),n.uvTransformation=!0),null!==r&&/mainSupport/.test(r)){const t=/mainSupport *\([\w\s]*?uv\s*?\)/.test(r);p+="\t".concat(e,"MainSupport("),p+=t?"vUv);\n":");\n";for(const e of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const t of e[1].split(/\s*,\s*/))n.varyings.add(t),m.add(t),f.add(t);for(const e of r.matchAll(s))f.add(e[1])}for(const e of i.matchAll(s))f.add(e[1]);for(const e of t.defines.keys())f.add(e.replace(/\([\w\s,]*\)/g,""));for(const e of t.uniforms.keys())f.add(e);f.delete("while"),f.delete("for"),f.delete("if"),t.uniforms.forEach((t,i)=>n.uniforms.set(e+i.charAt(0).toUpperCase()+i.slice(1),t)),t.defines.forEach((t,i)=>n.defines.set(e+i.charAt(0).toUpperCase()+i.slice(1),t));const A=new Map([["fragment",i],["vertex",r]]);hb(e,f,n.defines),hb(e,f,A),i=A.get("fragment"),r=A.get("vertex");const g=t.blendMode;if(n.blendModes.set(g.blendFunction,g),a){null!==t.inputColorSpace&&t.inputColorSpace!==n.colorSpace&&(d+=t.inputColorSpace===eo?"color0 = sRGBTransferOETF(color0);\n\t":"color0 = sRGBToLinear(color0);\n\t"),t.outputColorSpace!==$a?n.colorSpace=t.outputColorSpace:null!==t.inputColorSpace&&(n.colorSpace=t.inputColorSpace);const r=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;d+="".concat(e,"MainImage(color0, UV, "),0!==(n.attributes&Dy.DEPTH)&&r.test(i)&&(d+="depth, ",n.readDepth=!0),d+="color1);\n\t";const a=e+"BlendOpacity";n.uniforms.set(a,g.opacity),d+="color0 = blend".concat(g.blendFunction,"(color0, color1, ").concat(a,");\n\n\t"),c+="uniform float ".concat(a,";\n\n")}if(c+=i+"\n",null!==r&&(h+=r+"\n"),l.set(Iy.FRAGMENT_HEAD,c),l.set(Iy.FRAGMENT_MAIN_UV,u),l.set(Iy.FRAGMENT_MAIN_IMAGE,d),l.set(Iy.VERTEX_HEAD,h),l.set(Iy.VERTEX_MAIN_SUPPORT,p),null!==t.extensions)for(const e of t.extensions)n.extensions.add(e)}}var mb=class extends Ty{constructor(e){super("EffectPass"),this.fullscreenMaterial=new ub(null,null,null,e),this.listener=e=>this.handleEvent(e),this.effects=[];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.setEffects(n),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const t of this.effects)t.removeEventListener("change",this.listener);this.effects=e.sort((e,t)=>t.attributes-e.attributes);for(const t of this.effects)t.addEventListener("change",this.listener)}updateMaterial(){const e=new Ly;let t=0;for(const o of this.effects)if(o.blendMode.blendFunction===Vy.DST)e.attributes|=o.getAttributes()&Dy.DEPTH;else{if(0!==(e.attributes&o.getAttributes()&Dy.CONVOLUTION))throw new Error("Convolution effects cannot be merged (".concat(o.name,")"));pb("e"+t++,o,e)}let n=e.shaderParts.get(Iy.FRAGMENT_HEAD),i=e.shaderParts.get(Iy.FRAGMENT_MAIN_IMAGE),r=e.shaderParts.get(Iy.FRAGMENT_MAIN_UV);const a=/\bblend\b/g;for(const o of e.blendModes.values())n+=o.getShaderCode().replace(a,"blend".concat(o.blendFunction))+"\n";0!==(e.attributes&Dy.DEPTH)?(e.readDepth&&(i="float depth = readDepth(UV);\n\n\t"+i),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,e.colorSpace===eo&&(i+="color0 = sRGBToLinear(color0);\n\t"),e.uvTransformation?(r="vec2 transformedUv = vUv;\n"+r,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(Iy.FRAGMENT_HEAD,n),e.shaderParts.set(Iy.FRAGMENT_MAIN_IMAGE,i),e.shaderParts.set(Iy.FRAGMENT_MAIN_UV,r);for(const[o,s]of e.shaderParts)null!==s&&e.shaderParts.set(o,s.trim().replace(/^#/,"\n#"));this.skipRendering=0===t,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa;this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,i,r){for(const a of this.effects)a.update(e,t,i);if(!this.skipRendering||this.renderToScreen){const r=this.fullscreenMaterial;r.inputBuffer=t.texture,r.time+=i*this.timeScale,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(const i of this.effects)i.initialize(e,t,n);this.updateMaterial(),void 0!==n&&n!==Dr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){if("change"===e.type)this.recompile()}};new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]);new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);Ab(0,0,0,0),new Float32Array([0,0,0,0]),Ab(0,0,0,1),new Float32Array([0,0,0,1]),Ab(0,0,1,0),new Float32Array([0,0,1,0]),Ab(0,0,1,1),new Float32Array([0,0,1,1]),Ab(0,1,0,0),new Float32Array([0,1,0,0]),Ab(0,1,0,1),new Float32Array([0,1,0,1]),Ab(0,1,1,0),new Float32Array([0,1,1,0]),Ab(0,1,1,1),new Float32Array([0,1,1,1]),Ab(1,0,0,0),new Float32Array([1,0,0,0]),Ab(1,0,0,1),new Float32Array([1,0,0,1]),Ab(1,0,1,0),new Float32Array([1,0,1,0]),Ab(1,0,1,1),new Float32Array([1,0,1,1]),Ab(1,1,0,0),new Float32Array([1,1,0,0]),Ab(1,1,0,1),new Float32Array([1,1,0,1]),Ab(1,1,1,0),new Float32Array([1,1,1,0]),Ab(1,1,1,1),new Float32Array([1,1,1,1]);function fb(e,t,n){return e+(t-e)*n}function Ab(e,t,n,i){const r=fb(e,t,.75),a=fb(n,i,.75);return fb(r,a,.875)}const gb=e=>{let{effectOptions:t={onSpeedUp:()=>{},onSlowDown:()=>{},distortion:"deepDistortion",length:400,roadWidth:10,islandWidth:2,lanesPerRoad:4,fov:90,fovSpeedUp:150,speedUp:2,carLightsFade:.4,totalSideLightSticks:20,lightPairsPerRoadWay:40,shoulderLinesWidthPercentage:.05,brokenLinesWidthPercentage:.1,brokenLinesLengthPercentage:.5,lightStickWidth:[.12,.5],lightStickHeight:[1.3,1.7],movingAwaySpeed:[60,80],movingCloserSpeed:[-120,-160],carLightsLength:[12,80],carLightsRadius:[.05,.14],carWidthPercentage:[.3,.5],carShiftX:[-.8,.8],carFloorSeparation:[0,5],colors:{roadColor:13358561,islandColor:15067115,background:16119802,shoulderLines:9741240,brokenLines:9741240,leftCars:[1096065,1096065,5749995],rightCars:[16777215,15857145,9684477],sticks:242627}}}=e;const n=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const e={uFreq:{value:new as(3,6,10)},uAmp:{value:new as(30,30,20)}},n={uFreq:{value:new is(5,2)},uAmp:{value:new is(25,15)}},i={uFreq:{value:new is(2,3)},uAmp:{value:new is(35,10)}},r={uFreq:{value:new Rs(4,8,8,1)},uAmp:{value:new Rs(25,5,10,10)}},a={uFreq:{value:new is(4,8)},uAmp:{value:new is(10,20)},uPowY:{value:new is(20,2)}};let o=e=>.5*Math.sin(e)+.5;const s={mountainDistortion:{uniforms:e,getDistortion:"\n          uniform vec3 uAmp;\n          uniform vec3 uFreq;\n          #define PI 3.14159265358979\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          vec3 getDistortion(float progress){\n            float movementProgressFix = 0.02;\n            return vec3( \n              cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n              nsin(progress * PI * uFreq.y + uTime) * uAmp.y - nsin(movementProgressFix * PI * uFreq.y + uTime) * uAmp.y,\n              nsin(progress * PI * uFreq.z + uTime) * uAmp.z - nsin(movementProgressFix * PI * uFreq.z + uTime) * uAmp.z\n            );\n          }\n        ",getJS:(t,n)=>{let i=.02,r=e.uFreq.value,a=e.uAmp.value,s=new as(Math.cos(t*Math.PI*r.x+n)*a.x-Math.cos(i*Math.PI*r.x+n)*a.x,o(t*Math.PI*r.y+n)*a.y-o(i*Math.PI*r.y+n)*a.y,o(t*Math.PI*r.z+n)*a.z-o(i*Math.PI*r.z+n)*a.z),l=new as(2,2,2),c=new as(0,0,-5);return s.multiply(l).add(c)}},xyDistortion:{uniforms:n,getDistortion:"\n          uniform vec2 uFreq;\n          uniform vec2 uAmp;\n          #define PI 3.14159265358979\n          vec3 getDistortion(float progress){\n            float movementProgressFix = 0.02;\n            return vec3( \n              cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n              sin(progress * PI * uFreq.y + PI/2. + uTime) * uAmp.y - sin(movementProgressFix * PI * uFreq.y + PI/2. + uTime) * uAmp.y,\n              0.\n            );\n          }\n        ",getJS:(e,t)=>{let i=n.uFreq.value,r=n.uAmp.value,a=new as(Math.cos(e*Math.PI*i.x+t)*r.x-Math.cos(.02*Math.PI*i.x+t)*r.x,Math.sin(e*Math.PI*i.y+t+Math.PI/2)*r.y-Math.sin(.02*Math.PI*i.y+t+Math.PI/2)*r.y,0),o=new as(2,.4,1),s=new as(0,0,-3);return a.multiply(o).add(s)}},LongRaceDistortion:{uniforms:i,getDistortion:"\n          uniform vec2 uFreq;\n          uniform vec2 uAmp;\n          #define PI 3.14159265358979\n          vec3 getDistortion(float progress){\n            float camProgress = 0.0125;\n            return vec3( \n              sin(progress * PI * uFreq.x + uTime) * uAmp.x - sin(camProgress * PI * uFreq.x + uTime) * uAmp.x,\n              sin(progress * PI * uFreq.y + uTime) * uAmp.y - sin(camProgress * PI * uFreq.y + uTime) * uAmp.y,\n              0.\n            );\n          }\n        ",getJS:(e,t)=>{let n=.0125,r=i.uFreq.value,a=i.uAmp.value,o=new as(Math.sin(e*Math.PI*r.x+t)*a.x-Math.sin(n*Math.PI*r.x+t)*a.x,Math.sin(e*Math.PI*r.y+t)*a.y-Math.sin(n*Math.PI*r.y+t)*a.y,0),s=new as(1,1,0),l=new as(0,0,-5);return o.multiply(s).add(l)}},turbulentDistortion:{uniforms:r,getDistortion:"\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              cos(PI * progress * uFreq.r + uTime) * uAmp.r +\n              pow(cos(PI * progress * uFreq.g + uTime * (uFreq.g / uFreq.r)), 2. ) * uAmp.g\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              -nsin(PI * progress * uFreq.b + uTime) * uAmp.b +\n              -pow(nsin(PI * progress * uFreq.a + uTime / (uFreq.b / uFreq.a)), 5.) * uAmp.a\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.0125),\n              getDistortionY(progress) - getDistortionY(0.0125),\n              0.\n            );\n          }\n        ",getJS:(e,t)=>{const n=r.uFreq.value,i=r.uAmp.value,a=e=>Math.cos(Math.PI*e*n.x+t)*i.x+Math.pow(Math.cos(Math.PI*e*n.y+t*(n.y/n.x)),2)*i.y,s=e=>-o(Math.PI*e*n.z+t)*i.z-Math.pow(o(Math.PI*e*n.w+t/(n.z/n.w)),5)*i.w;let l=new as(a(e)-a(e+.007),s(e)-s(e+.007),0),c=new as(-2,-5,0),u=new as(0,0,-10);return l.multiply(c).add(u)}},turbulentDistortionStill:{uniforms:r,getDistortion:"\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              cos(PI * progress * uFreq.r) * uAmp.r +\n              pow(cos(PI * progress * uFreq.g * (uFreq.g / uFreq.r)), 2. ) * uAmp.g\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              -nsin(PI * progress * uFreq.b) * uAmp.b +\n              -pow(nsin(PI * progress * uFreq.a / (uFreq.b / uFreq.a)), 5.) * uAmp.a\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.02),\n              getDistortionY(progress) - getDistortionY(0.02),\n              0.\n            );\n          }\n        "},deepDistortionStill:{uniforms:a,getDistortion:"\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          uniform vec2 uPowY;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              sin(progress * PI * uFreq.x) * uAmp.x * 2.\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              pow(abs(progress * uPowY.x), uPowY.y) + sin(progress * PI * uFreq.y) * uAmp.y\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.02),\n              getDistortionY(progress) - getDistortionY(0.05),\n              0.\n            );\n          }\n        "},deepDistortion:{uniforms:a,getDistortion:"\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          uniform vec2 uPowY;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              sin(progress * PI * uFreq.x + uTime) * uAmp.x\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              pow(abs(progress * uPowY.x), uPowY.y) + sin(progress * PI * uFreq.y + uTime) * uAmp.y\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.02),\n              getDistortionY(progress) - getDistortionY(0.02),\n              0.\n            );\n          }\n        ",getJS:(e,t)=>{const n=a.uFreq.value,i=a.uAmp.value,r=a.uPowY.value,o=e=>Math.sin(e*Math.PI*n.x+t)*i.x,s=e=>Math.pow(e*r.x,r.y)+Math.sin(e*Math.PI*n.y+t)*i.y;let l=new as(o(e)-o(e+.01),s(e)-s(e+.01),0),c=new as(-2,-4,0),u=new as(0,0,-10);return l.multiply(c).add(u)}}};class l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=t,null==this.options.distortion&&(this.options.distortion={uniforms:c,getDistortion:u}),this.container=e,this.renderer=new yy({antialias:!1,alpha:!0}),this.renderer.setSize(e.offsetWidth,e.offsetHeight,!1),this.renderer.setPixelRatio(window.devicePixelRatio),this.composer=new Ry(this.renderer),e.append(this.renderer.domElement),this.camera=new iu(t.fov,e.offsetWidth/e.offsetHeight,.1,1e4),this.camera.position.z=-5,this.camera.position.y=8,this.camera.position.x=0,this.scene=new pu,this.scene.background=null;let n=new hu(t.colors.background,.2*t.length,500*t.length);this.scene.fog=n,this.fogUniforms={fogColor:{value:n.color},fogNear:{value:n.near},fogFar:{value:n.far}},this.clock=new hf,this.assets={},this.disposed=!1,this.road=new b(this,t),this.leftCarLights=new m(this,t,t.colors.leftCars,t.movingAwaySpeed,new is(0,1-t.carLightsFade)),this.rightCarLights=new m(this,t,t.colors.rightCars,t.movingCloserSpeed,new is(1,0+t.carLightsFade)),this.leftSticks=new g(this,t),this.fovTarget=t.fov,this.speedUpTarget=0,this.speedUp=0,this.timeOffset=0,this.tick=this.tick.bind(this),this.init=this.init.bind(this),this.setSize=this.setSize.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),window.addEventListener("resize",this.onWindowResize.bind(this))}onWindowResize(){const e=this.container.offsetWidth,t=this.container.offsetHeight;this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.composer.setSize(e,t)}initPasses(){this.renderPass=new tb(this.scene,this.camera),this.bloomPass=new mb(this.camera,new $y({luminanceThreshold:.2,luminanceSmoothing:0,resolutionScale:1}));const e=new mb(this.camera,new cb({preset:rb.MEDIUM,searchImage:cb.searchImageDataURL,areaImage:cb.areaImageDataURL}));this.renderPass.renderToScreen=!1,this.bloomPass.renderToScreen=!1,e.renderToScreen=!0,this.composer.addPass(this.renderPass),this.composer.addPass(this.bloomPass),this.composer.addPass(e)}loadAssets(){const e=this.assets;return new Promise(t=>{const n=new fm(t),i=new Image,r=new Image;e.smaa={},i.addEventListener("load",function(){e.smaa.search=this,n.itemEnd("smaa-search")}),r.addEventListener("load",function(){e.smaa.area=this,n.itemEnd("smaa-area")}),n.itemStart("smaa-search"),n.itemStart("smaa-area"),i.src=cb.searchImageDataURL,r.src=cb.areaImageDataURL})}init(){this.initPasses();const e=this.options;this.road.init(),this.leftCarLights.init(),this.leftCarLights.mesh.position.setX(-e.roadWidth/2-e.islandWidth/2),this.rightCarLights.init(),this.rightCarLights.mesh.position.setX(e.roadWidth/2+e.islandWidth/2),this.leftSticks.init(),this.leftSticks.mesh.position.setX(-(e.roadWidth+e.islandWidth/2)),this.container.addEventListener("mousedown",this.onMouseDown),this.container.addEventListener("mouseup",this.onMouseUp),this.container.addEventListener("mouseout",this.onMouseUp),this.tick()}onMouseDown(e){this.options.onSpeedUp&&this.options.onSpeedUp(e),this.fovTarget=this.options.fovSpeedUp,this.speedUpTarget=this.options.speedUp}onMouseUp(e){this.options.onSlowDown&&this.options.onSlowDown(e),this.fovTarget=this.options.fov,this.speedUpTarget=0}update(e){let t=Math.exp(60*Math.log2(.9)*e);this.speedUp+=p(this.speedUp,this.speedUpTarget,t,1e-5),this.timeOffset+=this.speedUp*e;let n=this.clock.elapsedTime+this.timeOffset;this.rightCarLights.update(n),this.leftCarLights.update(n),this.leftSticks.update(n),this.road.update(n);let i=!1,r=p(this.camera.fov,this.fovTarget,t);if(0!==r&&(this.camera.fov+=r*e*6,i=!0),this.options.distortion.getJS){const e=this.options.distortion.getJS(.025,n);this.camera.lookAt(new as(this.camera.position.x+e.x,this.camera.position.y+e.y,this.camera.position.z+e.z)),i=!0}i&&this.camera.updateProjectionMatrix(),this.options.isHyper&&console.log(this.options.isHyper)}render(e){this.composer.render(e)}dispose(){this.disposed=!0}setSize(e,t,n){this.composer.setSize(e,t,n)}tick(){if(this.disposed||!this)return;if(function(e,t){const n=e.domElement,i=n.clientWidth,r=n.clientHeight,a=n.width!==i||n.height!==r;a&&t(i,r,!1);return a}(this.renderer,this.setSize)){const e=this.renderer.domElement;this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix()}const e=this.clock.getDelta();this.render(e),this.update(e),requestAnimationFrame(this.tick)}}const c={uDistortionX:{value:new is(80,3)},uDistortionY:{value:new is(-40,2.5)}},u="\n      #define PI 3.14159265358979\n      uniform vec2 uDistortionX;\n      uniform vec2 uDistortionY;\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      vec3 getDistortion(float progress){\n        progress = clamp(progress, 0., 1.);\n        float xAmp = uDistortionX.r;\n        float xFreq = uDistortionX.g;\n        float yAmp = uDistortionY.r;\n        float yFreq = uDistortionY.g;\n        return vec3( \n          xAmp * nsin(progress * PI * xFreq - PI / 2.),\n          yAmp * nsin(progress * PI * yFreq - PI / 2.),\n          0.\n        );\n      }\n    ",d=e=>Array.isArray(e)?Math.random()*(e[1]-e[0])+e[0]:Math.random()*e,h=e=>Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e;function p(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,i=(t-e)*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1);return Math.abs(i)<n&&(i=t-e),i}class m{constructor(e,t,n,i,r){this.webgl=e,this.options=t,this.colors=n,this.speed=i,this.fade=r}init(){const e=this.options;let t=new Bh(new as(0,0,0),new as(0,0,-1)),n=new Dp(t,40,1,8,!1),i=(new Xm).copy(n);i.instanceCount=2*e.lightPairsPerRoadWay;let r=e.roadWidth/e.lanesPerRoad,a=[],o=[],s=[],l=this.colors;l=Array.isArray(l)?l.map(e=>new ic(e)):new ic(l);for(let p=0;p<e.lightPairsPerRoadWay;p++){let t=d(e.carLightsRadius),n=d(e.carLightsLength),i=d(this.speed),c=p%e.lanesPerRoad*r-e.roadWidth/2+r/2,u=d(e.carWidthPercentage)*r;c+=d(e.carShiftX)*r;let m=d(e.carFloorSeparation)+1.3*t,f=-d(e.length);a.push(c-u/2),a.push(m),a.push(f),a.push(c+u/2),a.push(m),a.push(f),o.push(t),o.push(n),o.push(i),o.push(t),o.push(n),o.push(i);let A=h(l);s.push(A.r),s.push(A.g),s.push(A.b),s.push(A.r),s.push(A.g),s.push(A.b)}i.setAttribute("aOffset",new Zu(new Float32Array(a),3,!1)),i.setAttribute("aMetrics",new Zu(new Float32Array(o),3,!1)),i.setAttribute("aColor",new Zu(new Float32Array(s),3,!1));let c=new Jc({fragmentShader:f,vertexShader:A,transparent:!0,uniforms:Object.assign({uTime:{value:0},uTravelLength:{value:e.length},uFade:{value:this.fade}},this.webgl.fogUniforms,e.distortion.uniforms)});c.onBeforeCompile=t=>{t.vertexShader=t.vertexShader.replace("#include <getDistortion_vertex>",e.distortion.getDistortion)};let u=new Hc(i,c);u.frustumCulled=!1,this.webgl.scene.add(u),this.mesh=u}update(e){this.mesh.material.uniforms.uTime.value=e}}const f="\n      #define USE_FOG;\n      ".concat(VA.fog_pars_fragment,"\n      varying vec3 vColor;\n      varying vec2 vUv; \n      uniform vec2 uFade;\n      void main() {\n        vec3 color = vec3(vColor);\n        float alpha = smoothstep(uFade.x, uFade.y, vUv.x);\n        gl_FragColor = vec4(color, alpha);\n        if (gl_FragColor.a < 0.0001) discard;\n        ").concat(VA.fog_fragment,"\n      }\n    "),A="\n      #define USE_FOG;\n      ".concat(VA.fog_pars_vertex,"\n      attribute vec3 aOffset;\n      attribute vec3 aMetrics;\n      attribute vec3 aColor;\n      uniform float uTravelLength;\n      uniform float uTime;\n      varying vec2 vUv; \n      varying vec3 vColor; \n      #include <getDistortion_vertex>\n      void main() {\n        vec3 transformed = position.xyz;\n        float radius = aMetrics.r;\n        float myLength = aMetrics.g;\n        float speed = aMetrics.b;\n\n        transformed.xy *= radius;\n        transformed.z *= myLength;\n\n        transformed.z += myLength - mod(uTime * speed + aOffset.z, uTravelLength);\n        transformed.xy += aOffset.xy;\n\n        float progress = abs(transformed.z / uTravelLength);\n        transformed.xyz += getDistortion(progress);\n\n        vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vUv = uv;\n        vColor = aColor;\n        ").concat(VA.fog_vertex,"\n      }\n    ");class g{constructor(e,t){this.webgl=e,this.options=t}init(){const e=this.options,t=new Sp(1,1);let n=(new Xm).copy(t),i=e.totalSideLightSticks;n.instanceCount=i;let r=e.length/(i-1);const a=[],o=[],s=[];let l=e.colors.sticks;l=Array.isArray(l)?l.map(e=>new ic(e)):new ic(l);for(let p=0;p<i;p++){let t=d(e.lightStickWidth),n=d(e.lightStickHeight);a.push((p-1)*r*2+r*Math.random());let i=h(l);o.push(i.r),o.push(i.g),o.push(i.b),s.push(t),s.push(n)}n.setAttribute("aOffset",new Zu(new Float32Array(a),1,!1)),n.setAttribute("aColor",new Zu(new Float32Array(o),3,!1)),n.setAttribute("aMetrics",new Zu(new Float32Array(s),2,!1));const c=new Jc({fragmentShader:y,vertexShader:v,side:yi,uniforms:Object.assign({uTravelLength:{value:e.length},uTime:{value:0}},this.webgl.fogUniforms,e.distortion.uniforms)});c.onBeforeCompile=t=>{t.vertexShader=t.vertexShader.replace("#include <getDistortion_vertex>",e.distortion.getDistortion)};const u=new Hc(n,c);u.frustumCulled=!1,this.webgl.scene.add(u),this.mesh=u}update(e){this.mesh.material.uniforms.uTime.value=e}}const v="\n      #define USE_FOG;\n      ".concat(VA.fog_pars_vertex,"\n      attribute float aOffset;\n      attribute vec3 aColor;\n      attribute vec2 aMetrics;\n      uniform float uTravelLength;\n      uniform float uTime;\n      varying vec3 vColor;\n      mat4 rotationY( in float angle ) {\n        return mat4(\tcos(angle),\t\t0,\t\tsin(angle),\t0,\n                     0,\t\t1.0,\t\t\t 0,\t0,\n                -sin(angle),\t0,\t\tcos(angle),\t0,\n                0, \t\t0,\t\t\t\t0,\t1);\n      }\n      #include <getDistortion_vertex>\n      void main(){\n        vec3 transformed = position.xyz;\n        float width = aMetrics.x;\n        float height = aMetrics.y;\n\n        transformed.xy *= vec2(width, height);\n        float time = mod(uTime * 60. * 2. + aOffset, uTravelLength);\n\n        transformed = (rotationY(3.14/2.) * vec4(transformed,1.)).xyz;\n\n        transformed.z += - uTravelLength + time;\n\n        float progress = abs(transformed.z / uTravelLength);\n        transformed.xyz += getDistortion(progress);\n\n        transformed.y += height / 2.;\n        transformed.x += -width / 2.;\n        vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vColor = aColor;\n        ").concat(VA.fog_vertex,"\n      }\n    "),y="\n      #define USE_FOG;\n      ".concat(VA.fog_pars_fragment,"\n      varying vec3 vColor;\n      void main(){\n        vec3 color = vec3(vColor);\n        gl_FragColor = vec4(color,1.);\n        ").concat(VA.fog_fragment,"\n      }\n    ");class b{constructor(e,t){this.webgl=e,this.options=t,this.uTime={value:0}}createPlane(e,t,n){const i=this.options;const r=new Sp(n?i.roadWidth:i.islandWidth,i.length,20,100);let a={uTravelLength:{value:i.length},uColor:{value:new ic(n?i.colors.roadColor:i.colors.islandColor)},uTime:this.uTime};n&&(a=Object.assign(a,{uLanes:{value:i.lanesPerRoad},uBrokenLinesColor:{value:new ic(i.colors.brokenLines)},uShoulderLinesColor:{value:new ic(i.colors.shoulderLines)},uShoulderLinesWidthPercentage:{value:i.shoulderLinesWidthPercentage},uBrokenLinesLengthPercentage:{value:i.brokenLinesLengthPercentage},uBrokenLinesWidthPercentage:{value:i.brokenLinesWidthPercentage}}));const o=new Jc({fragmentShader:n?T:w,vertexShader:_,side:yi,uniforms:Object.assign(a,this.webgl.fogUniforms,i.distortion.uniforms)});o.onBeforeCompile=e=>{e.vertexShader=e.vertexShader.replace("#include <getDistortion_vertex>",i.distortion.getDistortion)};const s=new Hc(r,o);return s.rotation.x=-Math.PI/2,s.position.z=-i.length/2,s.position.x+=(this.options.islandWidth/2+i.roadWidth/2)*e,this.webgl.scene.add(s),s}init(){this.leftRoadWay=this.createPlane(-1,this.options.roadWidth,!0),this.rightRoadWay=this.createPlane(1,this.options.roadWidth,!0),this.island=this.createPlane(0,this.options.islandWidth,!1)}update(e){this.uTime.value=e}}const x="\n      #define USE_FOG;\n      varying vec2 vUv; \n      uniform vec3 uColor;\n      uniform float uTime;\n      #include <roadMarkings_vars>\n      ".concat(VA.fog_pars_fragment,"\n      void main() {\n        vec2 uv = vUv;\n        vec3 color = vec3(uColor);\n        #include <roadMarkings_fragment>\n        gl_FragColor = vec4(color, 1.);\n        ").concat(VA.fog_fragment,"\n      }\n    "),w=x.replace("#include <roadMarkings_fragment>","").replace("#include <roadMarkings_vars>",""),T=x.replace("#include <roadMarkings_fragment>","\n      uv.y = mod(uv.y + uTime * 0.05, 1.);\n      float laneWidth = 1.0 / uLanes;\n      float brokenLineWidth = laneWidth * uBrokenLinesWidthPercentage;\n      float laneEmptySpace = 1. - uBrokenLinesLengthPercentage;\n\n      float brokenLines = step(1.0 - brokenLineWidth, fract(uv.x * 2.0)) * step(laneEmptySpace, fract(uv.y * 10.0));\n      float sideLines = step(1.0 - brokenLineWidth, fract((uv.x - laneWidth * (uLanes - 1.0)) * 2.0)) + step(brokenLineWidth, uv.x);\n\n      brokenLines = mix(brokenLines, sideLines, uv.x);\n    ").replace("#include <roadMarkings_vars>","\n      uniform float uLanes;\n      uniform vec3 uBrokenLinesColor;\n      uniform vec3 uShoulderLinesColor;\n      uniform float uShoulderLinesWidthPercentage;\n      uniform float uBrokenLinesWidthPercentage;\n      uniform float uBrokenLinesLengthPercentage;\n      highp float random(vec2 co) {\n        highp float a = 12.9898;\n        highp float b = 78.233;\n        highp float c = 43758.5453;\n        highp float dt = dot(co.xy, vec2(a, b));\n        highp float sn = mod(dt, 3.14);\n        return fract(sin(sn) * c);\n      }\n    "),_="\n      #define USE_FOG;\n      uniform float uTime;\n      ".concat(VA.fog_pars_vertex,"\n      uniform float uTravelLength;\n      varying vec2 vUv; \n      #include <getDistortion_vertex>\n      void main() {\n        vec3 transformed = position.xyz;\n        vec3 distortion = getDistortion((transformed.y + uTravelLength / 2.) / uTravelLength);\n        transformed.x += distortion.x;\n        transformed.z += distortion.y;\n        transformed.y += -1. * distortion.z;  \n        \n        vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vUv = uv;\n        ").concat(VA.fog_vertex,"\n      }\n    ");!function(){const e=document.getElementById("lights");t.distortion=s[t.distortion];const n=new l(e,t);n.loadAssets().then(n.init)}()},[]),(0,Yn.jsx)("div",{id:"lights",ref:n})},vb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yb=(()=>new Set(vb))(),bb=e=>180*e/Math.PI,xb=e=>{const t=bb(Math.atan2(e[1],e[0]));return Tb(t)},wb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xb,rotateZ:xb,skewX:e=>bb(Math.atan(e[1])),skewY:e=>bb(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tb=e=>((e%=360)<0&&(e+=360),e),_b=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Sb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Mb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_b,scaleY:Sb,scale:e=>(_b(e)+Sb(e))/2,rotateX:e=>Tb(bb(Math.atan2(e[6],e[5]))),rotateY:e=>Tb(bb(Math.atan2(-e[2],e[0]))),rotateZ:xb,rotate:xb,skewX:e=>bb(Math.atan(e[4])),skewY:e=>bb(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Eb(e){return e.includes("scale")?1:0}function Cb(e,t){if(!e||"none"===e)return Eb(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let i,r;if(n)i=Mb,r=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);i=wb,r=t}if(!r)return Eb(t);const a=i[t],o=r[1].split(",").map(Pb);return"function"===typeof a?a(o):o[a]}function Pb(e){return parseFloat(e.trim())}const Nb=e=>t=>"string"===typeof t&&t.startsWith(e),Rb=Nb("--"),Db=Nb("var(--"),Ib=e=>!!Db(e)&&Lb.test(e.split("/*")[0].trim()),Lb=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function kb(e){let{top:t,left:n,right:i,bottom:r}=e;return{x:{min:n,max:i},y:{min:t,max:r}}}const Bb=(e,t,n)=>e+(t-e)*n;function Fb(e){return void 0===e||1===e}function Ob(e){let{scale:t,scaleX:n,scaleY:i}=e;return!Fb(t)||!Fb(n)||!Fb(i)}function Ub(e){return Ob(e)||Vb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vb(e){return jb(e.x)||jb(e.y)}function jb(e){return e&&"0%"!==e}function zb(e,t,n){return n+t*(e-n)}function qb(e,t,n,i,r){return void 0!==r&&(e=zb(e,r,i)),zb(e,n,i)+t}function Gb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=qb(e.min,t,n,i,r),e.max=qb(e.max,t,n,i,r)}function Hb(e,t){let{x:n,y:i}=t;Gb(e.x,n.translate,n.scale,n.originPoint),Gb(e.y,i.translate,i.scale,i.originPoint)}const Wb=.999999999999,Qb=1.0000000000001;function Yb(e,t){e.min=e.min+t,e.max=e.max+t}function Xb(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Gb(e,t,n,Bb(e.min,e.max,r),i)}function Kb(e,t){Xb(e.x,t.x,t.scaleX,t.scale,t.originX),Xb(e.y,t.y,t.scaleY,t.scale,t.originY)}function Zb(e,t){return kb(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const Jb=new Set(["width","height","top","left","right","bottom",...vb]),$b=(e,t,n)=>n>t?t:n<e?e:n,ex={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},tx=h(h({},ex),{},{transform:e=>$b(0,1,e)}),nx=h(h({},ex),{},{default:1}),ix=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),rx=ix("deg"),ax=ix("%"),ox=ix("px"),sx=ix("vh"),lx=ix("vw"),cx=(()=>h(h({},ax),{},{parse:e=>ax.parse(e)/100,transform:e=>ax.transform(100*e)}))(),ux=e=>t=>t.test(e),dx=[ex,ox,ax,rx,lx,sx,{test:e=>"auto"===e,parse:e=>e}],hx=e=>dx.find(ux(e));const px=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),mx=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function fx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[i,r]=function(e){const t=mx.exec(e);if(!t)return[,];const[,n,i,r]=t;return["--".concat(null!==n&&void 0!==n?n:i),r]}(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const e=a.trim();return px(e)?parseFloat(e):e}return Ib(r)?fx(r,t,n+1):r}const Ax=e=>e===ex||e===ox,gx=new Set(["x","y","z"]),vx=vb.filter(e=>!gx.has(e));const yx={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Cb(n,"x")},y:(e,t)=>{let{transform:n}=t;return Cb(n,"y")}};yx.translateX=yx.x,yx.translateY=yx.y;const bx=e=>e,xx={},wx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Tx={value:null,addProjectionMetrics:null};function _x(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=wx.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?n:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{i.delete(e),o.delete(e)},process:e=>{s=e,r?a=!0:(r=!0,[n,i]=[i,n],n.forEach(c),t&&Tx.value&&Tx.value.frameloop[t].push(l),l=0,n.clear(),r=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?n:void 0),e),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:m}=o,f=()=>{const a=xx.useManualTiming?r.timestamp:performance.now();n=!1,xx.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(a-r.timestamp,40),1)),r.timestamp=a,r.isProcessing=!0,s.process(r),l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),p.process(r),m.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(f))},A=wx.reduce((t,a)=>{const s=o[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||e(f)),s.schedule(t,a,o)},t},{});return{schedule:A,cancel:e=>{for(let t=0;t<wx.length;t++)o[wx[t]].cancel(e)},state:r,steps:o}}const{schedule:Sx,cancel:Mx,state:Ex,steps:Cx}=_x("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:bx,!0),Px=new Set;let Nx=!1,Rx=!1,Dx=!1;function Ix(){if(Rx){const e=Array.from(Px).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return vx.forEach(n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[i,r]=t;null===(n=e.getValue(i))||void 0===n||n.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Rx=!1,Nx=!1,Px.forEach(e=>e.complete(Dx)),Px.clear()}function Lx(){Px.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rx=!0)})}class kx{constructor(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Px.add(this),Nx||(Nx=!0,Sx.read(Lx),Sx.resolveKeyframes(Ix))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){const r=null===i||void 0===i?void 0:i.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,a);void 0!==i&&null!==i&&(e[0]=i)}void 0===e[0]&&(e[0]=a),i&&void 0===r&&i.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Px.delete(this)}cancel(){"scheduled"===this.state&&(Px.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Bx=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Fx(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Bx(e))}const Ox=e=>Math.round(1e5*e)/1e5,Ux=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Vx=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,jx=(e,t)=>n=>Boolean("string"===typeof n&&Vx.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),zx=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[r,a,o,s]=i.match(Ux);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},qx=h(h({},ex),{},{transform:e=>Math.round((e=>$b(0,255,e))(e))}),Gx={test:jx("rgb","red"),parse:zx("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:r=1}=e;return"rgba("+qx.transform(t)+", "+qx.transform(n)+", "+qx.transform(i)+", "+Ox(tx.transform(r))+")"}};const Hx={test:jx("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:Gx.transform},Wx={test:jx("hsl","hue"),parse:zx("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+ax.transform(Ox(n))+", "+ax.transform(Ox(i))+", "+Ox(tx.transform(r))+")"}},Qx={test:e=>Gx.test(e)||Hx.test(e)||Wx.test(e),parse:e=>Gx.test(e)?Gx.parse(e):Wx.test(e)?Wx.parse(e):Hx.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Gx.transform(e):Wx.transform(e),getAnimatableNone:e=>{const t=Qx.parse(e);return t.alpha=0,Qx.transform(t)}},Yx=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Xx="number",Kx="color",Zx=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Jx(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const o=t.replace(Zx,e=>(Qx.test(e)?(i.color.push(a),r.push(Kx),n.push(Qx.parse(e))):e.startsWith("var(")?(i.var.push(a),r.push("var"),n.push(e)):(i.number.push(a),r.push(Xx),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:o,indexes:i,types:r}}function $x(e){return Jx(e).values}function ew(e){const{split:t,types:n}=Jx(e),i=t.length;return e=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],void 0!==e[a]){const t=n[a];r+=t===Xx?Ox(e[a]):t===Kx?Qx.transform(e[a]):e[a]}return r}}const tw=e=>"number"===typeof e?0:Qx.test(e)?Qx.getAnimatableNone(e):e;const nw={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Ux))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Yx))||void 0===n?void 0:n.length)||0)>0},parse:$x,createTransformer:ew,getAnimatableNone:function(e){const t=$x(e);return ew(e)(t.map(tw))}},iw=new Set(["brightness","contrast","saturate","opacity"]);function rw(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(Ux)||[];if(!i)return e;const r=n.replace(i,"");let a=iw.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+r+")"}const aw=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ow=h(h({},nw),{},{getAnimatableNone:e=>{const t=e.match(aw);return t?t.map(rw).join(" "):e}}),sw=h(h({},ex),{},{transform:Math.round}),lw=h(h({borderWidth:ox,borderTopWidth:ox,borderRightWidth:ox,borderBottomWidth:ox,borderLeftWidth:ox,borderRadius:ox,radius:ox,borderTopLeftRadius:ox,borderTopRightRadius:ox,borderBottomRightRadius:ox,borderBottomLeftRadius:ox,width:ox,maxWidth:ox,height:ox,maxHeight:ox,top:ox,right:ox,bottom:ox,left:ox,padding:ox,paddingTop:ox,paddingRight:ox,paddingBottom:ox,paddingLeft:ox,margin:ox,marginTop:ox,marginRight:ox,marginBottom:ox,marginLeft:ox,backgroundPositionX:ox,backgroundPositionY:ox},{rotate:rx,rotateX:rx,rotateY:rx,rotateZ:rx,scale:nx,scaleX:nx,scaleY:nx,scaleZ:nx,skew:rx,skewX:rx,skewY:rx,distance:ox,translateX:ox,translateY:ox,translateZ:ox,x:ox,y:ox,z:ox,perspective:ox,transformPerspective:ox,opacity:tx,originX:cx,originY:cx,originZ:ox}),{},{zIndex:sw,fillOpacity:tx,strokeOpacity:tx,numOctaves:sw}),cw=h(h({},lw),{},{color:Qx,backgroundColor:Qx,outlineColor:Qx,fill:Qx,stroke:Qx,borderColor:Qx,borderTopColor:Qx,borderRightColor:Qx,borderBottomColor:Qx,borderLeftColor:Qx,filter:ow,WebkitFilter:ow}),uw=e=>cw[e];function dw(e,t){let n=uw(e);return n!==ow&&(n=nw),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hw=new Set(["auto","none","0"]);class pw extends kx{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),Ib(n))){const i=fx(n,t.current);void 0!==i&&(e[s]=i),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Jb.has(n)||2!==e.length)return;const[i,r]=e,a=hx(i),o=hx(r);if(a!==o)if(Ax(a)&&Ax(o))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else yx[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(null===e[i]||Fx(e[i]))&&n.push(i);n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"===typeof t&&!hw.has(t)&&Jx(t).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=dw(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yx[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=yx[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,i]=e;t.getValue(n).set(i)}),this.resolveNoneKeyframes()}}const mw=e=>Boolean(e&&e.getVelocity);let fw;function Aw(){fw=void 0}const gw={now:()=>(void 0===fw&&gw.set(Ex.isProcessing||xx.useManualTiming?Ex.timestamp:performance.now()),fw),set:e=>{fw=e,queueMicrotask(Aw)}};function vw(e,t){-1===e.indexOf(t)&&e.push(t)}function yw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bw{constructor(){this.subscriptions=[]}add(e){return vw(this.subscriptions,e),()=>yw(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function xw(e,t){return t?e*(1e3/t):0}const ww={current:void 0};class Tw{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=gw.now();var r,a;if((t.updatedAt!==i&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(r=t.events.change)||void 0===r||r.notify(t.current),t.dependents))for(const o of t.dependents)o.dirty();n&&(null===(a=t.events.renderRequest)||void 0===a||a.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gw.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new bw);const n=this.events[e].add(t);return"change"===e?()=>{n(),Sx.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ww.current&&ww.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=gw.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return xw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _w(e,t){return new Tw(e,t)}const Sw=[...dx,Qx,nw],{schedule:Mw,cancel:Ew}=_x(queueMicrotask,!1),Cw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pw={};for(const n in Cw)Pw[n]={isEnabled:e=>Cw[n].some(t=>!!e[t])};const Nw=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Rw="undefined"!==typeof window,Dw={current:null},Iw={current:!1};const Lw=new WeakMap;function kw(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Bw(e){return"string"===typeof e||Array.isArray(e)}const Fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ow=["initial",...Fw];function Uw(e){return kw(e.animate)||Ow.some(t=>Bw(e[t]))}function Vw(e){return Boolean(Uw(e)||e.variants)}function jw(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function zw(e,t,n,i){if("function"===typeof t){const[r,a]=jw(i);t=t(void 0!==n?n:e.custom,r,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[r,a]=jw(i);t=t(void 0!==n?n:e.custom,r,a)}return t}const qw=["willChange"],Gw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hw{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=gw.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Sx.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget=h({},c),this.initialValues=n.initial?h({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Uw(n),this.isVariantNode=Vw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:p}=d,m=s(d,qw);for(const s in m){const e=m[s];void 0!==c[s]&&mw(e)&&e.set(c[s],!1)}}mount(e){this.current=e,Lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Iw.current||function(){if(Iw.current=!0,Rw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dw.current=e.matches;e.addEventListener("change",t),t()}else Dw.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Dw.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mx(this.notifyUpdate),Mx(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=yb.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Sx.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Pw){const t=Pw[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Gw.length;n++){const t=Gw[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],a=n[i];if(mw(r))e.addValue(i,r);else if(mw(a))e.addValue(i,_w(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,_w(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=_w(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==i&&null!==i&&("string"===typeof i&&(px(i)||Bx(i))?i=parseFloat(i):!(e=>Sw.find(ux(e)))(i)&&nw.test(t)&&(i=dw(e,t)),this.setBaseTarget(e,mw(i)?i.get():i)),mw(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var i;const r=zw(this.props,t,null===(i=this.presenceContext)||void 0===i?void 0:i.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||mw(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new bw),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Mw.render(this.render)}}class Ww extends Hw{constructor(){super(...arguments),this.KeyframeResolver=pw}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mw(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const Qw=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Yw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xw=vb.length;function Kw(e,t,n){const{style:i,vars:r,transformOrigin:a}=e;let o=!1,s=!1;for(const l in t){const e=t[l];if(yb.has(l))o=!0;else if(Rb(l))r[l]=e;else{const t=Qw(e,lw[l]);l.startsWith("origin")?(s=!0,a[l]=t):i[l]=t}}if(t.transform||(o||n?i.transform=function(e,t,n){let i="",r=!0;for(let a=0;a<Xw;a++){const o=vb[a],s=e[o];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(o.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=Qw(s,lw[o]);l||(r=!1,i+="".concat(Yw[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Zw(e,t,n,i){let{style:r,vars:a}=t;const o=e.style;let s;for(s in r)o[s]=r[s];for(s in null===i||void 0===i||i.applyProjectionStyles(o,n),a)o.setProperty(s,a[s])}const Jw={};function $w(e,t){let{layout:n,layoutId:i}=t;return yb.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!Jw[e]||"opacity"===e)}function eT(e,t,n){const{style:i}=e,r={};for(const o in i){var a;(mw(i[o])||t.style&&mw(t.style[o])||$w(o,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(o))||void 0===a?void 0:a.liveStyle))&&(r[o]=i[o])}return r}class tT extends Ww{constructor(){super(...arguments),this.type="html",this.renderInstance=Zw}readValueFromInstance(e,t){var n,i;if(yb.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Eb(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Cb(n,t)})(e,t);{const n=(i=e,window.getComputedStyle(i)),r=(Rb(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof r?r.trim():r}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Zb(e,n)}build(e,t,n){Kw(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return eT(e,t,n)}}const nT=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),iT={offset:"stroke-dashoffset",array:"stroke-dasharray"},rT={offset:"strokeDashoffset",array:"strokeDasharray"};const aT=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function oT(e,t,n,i,r){let{attrX:a,attrY:o,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(Kw(e,s(t,aT),i),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;var m,f;(h.transform&&(p.transform=h.transform,delete h.transform),p.transform||h.transformOrigin)&&(p.transformOrigin=null!==(m=h.transformOrigin)&&void 0!==m?m:"50% 50%",delete h.transformOrigin);p.transform&&(p.transformBox=null!==(f=null===r||void 0===r?void 0:r.transformBox)&&void 0!==f?f:"fill-box",delete h.transformBox);void 0!==a&&(h.x=a),void 0!==o&&(h.y=o),void 0!==l&&(h.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=r?iT:rT;e[a.offset]=ox.transform(-i);const o=ox.transform(t),s=ox.transform(n);e[a.array]="".concat(o," ").concat(s)}(h,c,u,d,!1)}const sT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),lT=e=>"string"===typeof e&&"svg"===e.toLowerCase();function cT(e,t,n){const i=eT(e,t,n);for(const r in e)if(mw(e[r])||mw(t[r])){i[-1!==vb.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}class uT extends Ww{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nw}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(yb.has(t)){const e=uw(t);return e&&e.default||0}return t=sT.has(t)?t:nT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return cT(e,t,n)}build(e,t,n){oT(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){!function(e,t,n,i){Zw(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(sT.has(r)?r:nT(r),t.attrs[r])}(e,t,0,i)}mount(e){this.isSVGTag=lT(e.tagName),super.mount(e)}}const dT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hT(e){return"string"===typeof e&&!e.includes("-")&&!!(dT.indexOf(e)>-1||/[A-Z]/.test(e))}const pT=(e,t)=>hT(e)?new uT(t):new tT(t,{allowProjection:e!==i.Fragment}),mT=(0,i.createContext)({}),fT=(0,i.createContext)({strict:!1}),AT=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gT=(0,i.createContext)({});function vT(e){const{initial:t,animate:n}=function(e,t){if(Uw(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Bw(t)?t:void 0,animate:Bw(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(gT));return(0,i.useMemo)(()=>({initial:t,animate:n}),[yT(t),yT(n)])}function yT(e){return Array.isArray(e)?e.join(" "):e}const bT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xT(e,t,n){for(const i in t)mw(t[i])||$w(i,n)||(e[i]=t[i])}function wT(e,t){const n={};return xT(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Kw(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function TT(e,t){const n={},i=wT(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const _T=()=>h(h({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function ST(e,t,n,r){const a=(0,i.useMemo)(()=>{const n=_T();return oT(n,t,lT(r),e.transformTemplate,e.style),h(h({},n.attrs),{},{style:h({},n.style)})},[t]);if(e.style){const t={};xT(t,e.style,e),a.style=h(h({},t),a.style)}return a}const MT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ET(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||MT.has(e)}let CT=e=>!ET(e);try{"function"===typeof(PT=require("@emotion/is-prop-valid").default)&&(CT=e=>e.startsWith("on")?!ET(e):PT(e))}catch(rce){}var PT;function NT(e,t,n,r,a){let{latestValues:o}=r,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(hT(e)?ST:TT)(t,o,a,e),c=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"===typeof e.values||(CT(r)||!0===n&&ET(r)||!t&&!ET(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"===typeof e,s),u=e!==i.Fragment?h(h(h({},c),l),{},{ref:n}):{},{children:d}=t,p=(0,i.useMemo)(()=>mw(d)?d.get():d,[d]);return(0,i.createElement)(e,h(h({},u),{},{children:p}))}const RT=(0,i.createContext)(null);function DT(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}function IT(e){return mw(e)?e.get():e}const LT=["transitionEnd","transition"];function kT(e,t,n,i){const r={},a=i(e,{});for(const s in a)r[s]=IT(a[s]);let{initial:o,animate:l}=e;const c=Uw(e),u=Vw(e);t&&u&&!c&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===o;const h=d?l:o;if(h&&"boolean"!==typeof h&&!kw(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const i=zw(e,t[n]);if(i){const{transitionEnd:e,transition:t}=i,n=s(i,LT);for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const BT=e=>(t,n)=>{const r=(0,i.useContext)(gT),a=(0,i.useContext)(RT),o=()=>function(e,t,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:a}=e;return{latestValues:kT(t,n,i,r),renderState:a()}}(e,t,r,a);return n?o():DT(o)},FT=BT({scrapeMotionValuesFromProps:eT,createRenderState:bT}),OT=BT({scrapeMotionValuesFromProps:cT,createRenderState:_T});const UT=Symbol.for("motionComponentSymbol");function VT(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function jT(e,t,n){return(0,i.useCallback)(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&("function"===typeof n?n(i):VT(n)&&(n.current=i))},[t])}const zT="data-"+nT("framerAppearId"),qT=(0,i.createContext)({}),GT=Rw?i.useLayoutEffect:i.useEffect;function HT(e,t,n,r,a){var o,s,l,c;const{visualElement:u}=(0,i.useContext)(gT),d=(0,i.useContext)(fT),h=(0,i.useContext)(RT),p=(0,i.useContext)(AT).reducedMotion,m=(0,i.useRef)(null);r=r||d.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const f=m.current,A=(0,i.useContext)(qT);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,n,i){const{layoutId:r,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:WT(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:Boolean(o)||s&&VT(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}(m.current,n,a,A);const g=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{f&&g.current&&f.update(n,h)});const v=n[zT],y=(0,i.useRef)(Boolean(v)&&!(null!==(o=(s=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(s,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return GT(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),(0,i.useEffect)(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),y.current=!1))}),f}function WT(e){if(e)return!1!==e.options.allowProjection?e.projection:WT(e.parent)}function QT(e){var t,n;let{forwardMotionProps:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)Pw[t]=h(h({},Pw[t]),e[t])}(a);const s=hT(e)?OT:FT;function l(t,n){let a;const l=h(h(h({},(0,i.useContext)(AT)),t),{},{layoutId:YT(t)}),{isStatic:c}=l,u=vT(t),d=s(t,c);if(!c&&Rw){!function(){(0,i.useContext)(fT).strict;0}();const t=function(e){const{drag:t,layout:n}=Pw;if(!t&&!n)return{};const i=h(h({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);a=t.MeasureLayout,u.visualElement=HT(e,d,l,o,t.ProjectionNode)}return(0,Yn.jsxs)(gT.Provider,{value:u,children:[a&&u.visualElement?(0,Yn.jsx)(a,h({visualElement:u.visualElement},l)):null,NT(e,t,jT(d,u.visualElement,n),d,c,r)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,i.forwardRef)(l);return c[UT]=e,c}function YT(e){let{layoutId:t}=e;const n=(0,i.useContext)(mT).id;return n&&void 0!==t?n+"-"+t:t}function XT(e,t){if("undefined"===typeof Proxy)return QT;const n=new Map,i=(n,i)=>QT(n,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,a)=>"create"===a?i:(n.has(a)||n.set(a,QT(a,void 0,e,t)),n.get(a))})}function KT(e,t,n){const i=e.getProps();return zw(i,t,void 0!==n?n:i.custom,e)}function ZT(e,t){var n,i;return null!==(n=null!==(i=null===e||void 0===e?void 0:e[t])&&void 0!==i?i:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const JT=e=>Array.isArray(e),$T=["transitionEnd","transition"];function e_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,_w(n))}function t_(e){return JT(e)?e[e.length-1]||0:e}function n_(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(mw(e)&&e.add)}(n))return n.add(t);if(!n&&xx.WillChange){const n=new xx.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function i_(e){return e.props[zT]}const r_=(e,t)=>n=>t(e(n)),a_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(r_)},o_=e=>1e3*e,s_=e=>e/1e3,l_={layout:0,mainThread:0,waapi:0};function c_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function u_(e,t){return n=>n>0?t:e}const d_=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},h_=[Hx,Gx,Wx];function p_(e){const t=(e=>h_.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===Wx&&(n=function(e){let{hue:t,saturation:n,lightness:i,alpha:r}=e;t/=360,n/=100,i/=100;let a=0,o=0,s=0;if(n){const e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;a=c_(r,e,t+1/3),o=c_(r,e,t),s=c_(r,e,t-1/3)}else a=o=s=i;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}(n)),n}const m_=(e,t)=>{const n=p_(e),i=p_(t);if(!n||!i)return u_(e,t);const r=h({},n);return e=>(r.red=d_(n.red,i.red,e),r.green=d_(n.green,i.green,e),r.blue=d_(n.blue,i.blue,e),r.alpha=Bb(n.alpha,i.alpha,e),Gx.transform(r))},f_=new Set(["none","hidden"]);function A_(e,t){return n=>Bb(e,t,n)}function g_(e){return"number"===typeof e?A_:"string"===typeof e?Ib(e)?u_:Qx.test(e)?m_:b_:Array.isArray(e)?v_:"object"===typeof e?Qx.test(e)?m_:y_:u_}function v_(e,t){const n=[...e],i=n.length,r=e.map((e,n)=>g_(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function y_(e,t){const n=h(h({},e),t),i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=g_(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const b_=(e,t)=>{const n=nw.createTransformer(t),i=Jx(e),r=Jx(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?f_.has(e)&&!r.values.length||f_.has(t)&&!i.values.length?function(e,t){return f_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):a_(v_(function(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var r;const o=t.types[a],s=e.indexes[o][i[o]],l=null!==(r=e.values[s])&&void 0!==r?r:0;n[a]=l,i[o]++}return n}(i,r),r.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),u_(e,t))};function x_(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Bb(e,t,n);return g_(e)(e,t)}const w_=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Sx.update(t,e)},stop:()=>Mx(t),now:()=>Ex.isProcessing?Ex.timestamp:gw.now()}},T_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)i+=Math.round(1e4*e(a/(r-1)))/1e4+", ";return"linear(".concat(i.substring(0,i.length-2),")")},__=2e4;function S_(e){let t=0;let n=e.next(t);for(;!n.done&&t<__;)t+=50,n=e.next(t);return t>=__?1/0:t}function M_(e,t,n){const i=Math.max(t-5,0);return xw(n-e(i),t-i)}const E_={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C_=.001;function P_(e){let t,n,{duration:i=E_.duration,bounce:r=E_.bounce,velocity:a=E_.velocity,mass:o=E_.mass}=e;o_(E_.maxDuration);let s=1-r;s=$b(E_.minDamping,E_.maxDamping,s),i=$b(E_.minDuration,E_.maxDuration,s_(i)),s<1?(t=e=>{const t=e*s,n=t*i,r=t-a,o=R_(e,s),l=Math.exp(-n);return C_-r/o*l},n=e=>{const n=e*s*i,r=n*a+a,o=Math.pow(s,2)*Math.pow(e,2)*i,l=Math.exp(-n),c=R_(Math.pow(e,2),s);return(-t(e)+C_>0?-1:1)*((r-o)*l)/c}):(t=e=>Math.exp(-e*i)*((e-a)*i+1)-.001,n=e=>Math.exp(-e*i)*(i*i*(a-e)));const l=function(e,t,n){let i=n;for(let r=1;r<N_;r++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=o_(i),isNaN(l))return{stiffness:E_.stiffness,damping:E_.damping,duration:i};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:i}}}const N_=12;function R_(e,t){return e*Math.sqrt(1-t*t)}const D_=["duration","bounce"],I_=["stiffness","damping","mass"];function L_(e,t){return t.some(t=>void 0!==e[t])}function k_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E_.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E_.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:m}=function(e){let t=h({velocity:E_.velocity,stiffness:E_.stiffness,damping:E_.damping,mass:E_.mass,isResolvedFromDuration:!1},e);if(!L_(e,I_)&&L_(e,D_))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,a=2*$b(.05,1,1-(e.bounce||0))*Math.sqrt(r);t=h(h({},t),{},{mass:E_.mass,stiffness:r,damping:a})}else{const n=P_(e);t=h(h(h({},t),n),{},{mass:E_.mass}),t.isResolvedFromDuration=!0}return t}(h(h({},n),{},{velocity:-s_(n.velocity||0)})),f=p||0,A=c/(2*Math.sqrt(l*u)),g=o-a,v=s_(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(i||(i=y?E_.restSpeed.granular:E_.restSpeed.default),r||(r=y?E_.restDelta.granular:E_.restDelta.default),A<1){const e=R_(v,A);b=t=>{const n=Math.exp(-A*v*t);return o-n*((f+A*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===A)b=e=>o-Math.exp(-v*e)*(g+(f+v*g)*e);else{const e=v*Math.sqrt(A*A-1);b=t=>{const n=Math.exp(-A*v*t),i=Math.min(e*t,300);return o-n*((f+A*v*g)*Math.sinh(i)+e*g*Math.cosh(i))/e}}const x={calculatedDuration:m&&d||null,next:e=>{const t=b(e);if(m)s.done=e>=d;else{let n=0===e?f:0;A<1&&(n=0===e?o_(f):M_(b,e,t));const a=Math.abs(n)<=i,l=Math.abs(o-t)<=r;s.done=a&&l}return s.value=s.done?o:t,s},toString:()=>{const e=Math.min(S_(x),__),t=T_(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function B_(e){let{keyframes:t,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=i*n;const A=h+f,g=void 0===s?A:s(A);g!==A&&(f=g-h);const v=e=>-f*Math.exp(-e/r),y=e=>g+v(e),b=e=>{const t=v(e),n=y(e);p.done=Math.abs(t)<=u,p.value=p.done?g:n};let x,w;const T=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(p.value)&&(x=e,w=k_({keyframes:[p.value,m(p.value)],velocity:M_(y,e,p.value),damping:a,stiffness:o,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==x||(t=!0,b(e),T(e)),void 0!==x&&e>=x?w.next(e-x):(!t&&b(e),p)}}}k_.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(h(h({},e),{},{keyframes:[0,t]})),i=Math.min(S_(n),__);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:s_(i)}}(e,100,k_);return e.ease=t.ease,e.duration=o_(t.duration),e.type="keyframes",e};const F_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function O_(e,t,n,i){if(e===t&&n===i)return bx;const r=t=>function(e,t,n,i,r){let a,o,s=0;do{o=t+(n-t)/2,a=F_(o,i,r)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:F_(r(e),t,i)}const U_=O_(.42,0,1,1),V_=O_(0,0,.58,1),j_=O_(.42,0,.58,1),z_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,q_=e=>t=>1-e(1-t),G_=O_(.33,1.53,.69,.99),H_=q_(G_),W_=z_(H_),Q_=e=>(e*=2)<1?.5*H_(e):.5*(2-Math.pow(2,-10*(e-1))),Y_=e=>1-Math.sin(Math.acos(e)),X_=q_(Y_),K_=z_(Y_),Z_=e=>Array.isArray(e)&&"number"===typeof e[0],J_={linear:bx,easeIn:U_,easeInOut:j_,easeOut:V_,circIn:Y_,circInOut:K_,circOut:X_,backIn:H_,backInOut:W_,backOut:G_,anticipate:Q_},$_=e=>{if(Z_(e)){e.length;const[t,n,i,r]=e;return O_(t,n,i,r)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),J_[e]):e},eS=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i};function tS(e,t){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const i=[],r=n||xx.mix||x_,a=e.length-1;for(let o=0;o<a;o++){let n=r(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||bx:t;n=a_(e,n)}i.push(n)}return i}(t,i,r),l=s.length,c=n=>{if(o&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=eS(e[i],e[i+1],n);return s[i](r)};return n?t=>c($b(e[0],e[a-1],t)):c}function nS(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=eS(0,t,i);e.push(Bb(n,1,r))}}(t,e.length-1),t}function iS(e){let{duration:t=300,keyframes:n,times:i,ease:r="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map($_):$_(r),o={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(i&&i.length===n.length?i:nS(n),t),l=tS(s,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||j_).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const rS=e=>null!==e;function aS(e,t,n){let{repeat:i,repeatType:r="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(rS),s=a<0||i&&"loop"!==r&&i%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const oS={decay:B_,inertia:B_,tween:iS,keyframes:iS,spring:k_};function sS(e){"string"===typeof e.type&&(e.type=oS[e.type])}class lS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const cS=e=>e/100;class uS extends lS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==gw.now()&&this.tick(gw.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},l_.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;sS(e);const{type:t=iS,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=e;let{keyframes:o}=e;const s=t||iS;s!==iS&&"number"!==typeof o[0]&&(this.mixKeyframes=a_(cS,x_(o[0],o[1])),o=[0,100]);const l=s(h(h({},e),{},{keyframes:o}));"mirror"===r&&(this.mirroredGenerator=s(h(h({},e),{},{keyframes:[...o].reverse(),velocity:-a}))),null===l.calculatedDuration&&(l.calculatedDuration=S_(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const A=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let v=this.currentTime,y=n;if(u){const e=Math.min(this.currentTime,i)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/o)):"mirror"===d&&(y=a)),v=$b(0,1,n)*o}const b=g?{done:!1,value:c[0]}:y.next(v);r&&(b.value=r(b.value));let{done:x}=b;g||null===s||(x=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return w&&p!==B_&&(b.value=aS(c,this.options,f,this.speed)),m&&m(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return s_(this.calculatedDuration)}get time(){return s_(this.currentTime)}set time(e){var t;e=o_(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gw.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=s_(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=w_,startTime:i}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=null!==i&&void 0!==i?i:r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gw.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,l_.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function dS(e){let t;return()=>(void 0===t&&(t=e()),t)}const hS=dS(()=>void 0!==window.ScrollTimeline),pS={};function mS(e,t){const n=dS(e);return()=>{var e;return null!==(e=pS[t])&&void 0!==e?e:n()}}const fS=mS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(ice){return!1}return!0},"linearEasing"),AS=e=>{let[t,n,i,r]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(r,")")},gS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:AS([0,.65,.55,1]),circOut:AS([.55,0,1,.45]),backIn:AS([.31,.01,.66,-.59]),backOut:AS([.33,1.53,.69,.99])};function vS(e,t){return e?"function"===typeof e?fS()?T_(e,t):"ease-out":Z_(e)?AS(e):Array.isArray(e)?e.map(e=>vS(e,t)||gS.easeOut):gS[e]:void 0}function yS(e,t,n){let{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=vS(s,r);Array.isArray(d)&&(u.easing=d),Tx.value&&l_.waapi++;const h={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(u,h);return Tx.value&&p.finished.finally(()=>{l_.waapi--}),p}function bS(e){return"function"===typeof e&&"applyToOptions"in e}const xS=["type"];class wS extends lS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=a,this.options=e,e.type;const c=function(e){let{type:t}=e,n=s(e,xS);return bS(t)&&fS()?t.applyToOptions(n):(null!==(i=n.duration)&&void 0!==i||(n.duration=300),null!==(r=n.ease)&&void 0!==r||(n.ease="easeOut"),n);var i,r}(e);this.animation=yS(t,n,i,c,r),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=aS(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(ice){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return s_(Number(n))}get time(){return s_(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=o_(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var i;this.allowFlatten&&(null===(i=this.animation.effect)||void 0===i||i.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&hS()?(this.animation.timeline=t,bx):n(this)}}const TS={anticipate:Q_,backInOut:W_,circInOut:K_};function _S(e){"string"===typeof e.ease&&e.ease in TS&&(e.ease=TS[e.ease])}const SS=["motionValue","onUpdate","onComplete","element"];class MS extends wS{constructor(e){_S(e),sS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:i,onUpdate:r,onComplete:a,element:o}=n,l=s(n,SS);if(!i)return;if(void 0!==e)return void i.set(e);const c=new uS(h(h({},l),{},{autoplay:!1})),u=o_(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);i.setWithVelocity(c.sample(u-10).value,c.sample(u).value,10),c.stop()}}const ES=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!nw.test(e)&&"0"!==e||e.startsWith("url(")));const CS=new Set(["opacity","clipPath","filter","transform"]),PS=dS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const NS=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class RS extends lS{constructor(e){var t;let{autoplay:n=!0,delay:i=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:d,element:p}=e,m=s(e,NS);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=gw.now();const f=h({autoplay:n,delay:i,type:r,repeat:a,repeatDelay:o,repeatType:l,name:u,motionValue:d,element:p},m),A=(null===p||void 0===p?void 0:p.KeyframeResolver)||kx;this.keyframeResolver=new A(c,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),u,d,p),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:s,isHandoff:l,onUpdate:c}=n;this.resolvedAt=gw.now(),function(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=ES(r,t),s=ES(a,t);return"You are trying to animate ".concat(t,' from "').concat(r,'" to "').concat(a,'". "').concat(o?a:r,'" is not an animatable value.'),!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||bS(n))&&i)}(e,r,a,o)||(!xx.instantAnimations&&s||null===c||void 0===c||c(aS(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const u=h(h({startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:i,repeatDelay:r,repeatType:a,damping:o,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return PS()&&i&&CS.has(i)&&("transform"!==i||!c)&&!l&&!r&&"mirror"!==a&&0!==o&&"inertia"!==s}(u)?new MS(h(h({},u),{},{element:u.motionValue.owner.current})):new uS(u);d.finished.then(()=>this.notifyFinished()).catch(bx),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Dx=!0,Lx(),Ix(),Dx=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const DS=e=>null!==e;const IS={type:"spring",stiffness:500,damping:25,restSpeed:10},LS={type:"keyframes",duration:.8},kS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BS=(e,t)=>{let{keyframes:n}=t;return n.length>2?LS:yb.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:IS:kS},FS=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const OS=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return o=>{const l=ZT(i,e)||{},c=l.delay||i.delay||0;let{elapsed:u=0}=i;u-=o_(c);const d=h(h({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r});(function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,h=s(e,FS);return!!Object.keys(h).length})(l)||Object.assign(d,BS(e,d)),d.duration&&(d.duration=o_(d.duration)),d.repeatDelay&&(d.repeatDelay=o_(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let p=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(p=!0)),(xx.instantAnimations||xx.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:i,repeatType:r="loop"}=t;const a=e.filter(DS),o=i&&"loop"!==r&&i%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}(d.keyframes,l);if(void 0!==e)return void Sx.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new uS(d):new RS(d)}},US=["transition","transitionEnd"];function VS(e,t){let{protectedKeys:n,needsAnimating:i}=e;const r=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,r}function jS(e,t){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:o}=t,l=s(t,US);i&&(a=i);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const s in l){var d;const t=e.getValue(s,null!==(d=e.latestValues[s])&&void 0!==d?d:null),i=l[s];if(void 0===i||u&&VS(u,s))continue;const r=h({delay:n},ZT(a||{},s)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(i)&&i===o&&!r.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const t=i_(e);if(t){const e=window.MotionHandoffAnimation(t,s,Sx);null!==e&&(r.startTime=e,p=!0)}}n_(e,s),t.start(OS(s,t,i,e.shouldReduceMotion&&Jb.has(s)?{type:!1}:r,e,p));const m=t.animation;m&&c.push(m)}return o&&Promise.all(c).then(()=>{Sx.update(()=>{o&&function(e,t){let n=KT(e,t)||{},{transitionEnd:i={},transition:r={}}=n,a=s(n,$T);a=h(h({},a),i);for(const o in a)e_(e,o,t_(a[o]))}(e,o)})}),c}function zS(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=KT(e,t,"exit"===i.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(a=i.transitionOverride);const o=r?()=>Promise.all(jS(e,r,i)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:r=0,staggerChildren:o,staggerDirection:s}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const s=[],l=e.variantChildren.size,c=(l-1)*r,u="function"===typeof i,d=u?e=>i(e,l):1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return c-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(qS).forEach((e,r)=>{e.notify("AnimationStart",t),s.push(zS(e,t,h(h({},o),{},{delay:n+(u?0:i)+d(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,n,r,o,s,i)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[o,s]:[s,o];return e().then(()=>t())}return Promise.all([o(),s(i.delay)])}function qS(e,t){return e.sortNodePosition(t)}function GS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const HS=Ow.length;function WS(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&WS(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<HS;n++){const i=Ow[n],r=e.props[i];(Bw(r)||!1===r)&&(t[i]=r)}return t}const QS=["transition","transitionEnd"],YS=[...Fw].reverse(),XS=Fw.length;function KS(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:i}=t;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>zS(e,t,i));n=Promise.all(r)}else if("string"===typeof t)n=zS(e,t,i);else{const r="function"===typeof t?KT(e,t,i.custom):t;n=Promise.all(jS(e,r,i))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,i)}))}function ZS(e){let t=KS(e),n=eM(),i=!0;const r=t=>(n,i)=>{var r;const a=KT(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,i=s(a,QS);n=h(h(h({},n),i),t)}return n};function a(a){const{props:o}=e,s=WS(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<XS;t++){const p=YS[t],m=n[p],f=void 0!==o[p]?o[p]:s[p],A=Bw(f),g=p===a?m.isActive:null;!1===g&&(d=t);let v=f===s[p]&&f!==o[p]&&A;if(v&&i&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys=h({},u),!m.isActive&&null===g||!f&&!m.prevProp||kw(f)||"boolean"===typeof f)continue;const y=JS(m.prevProp,f);let b=y||p===a&&m.isActive&&!v&&A||t>d&&A,x=!1;const w=Array.isArray(f)?f:[f];let T=w.reduce(r(p),{});!1===g&&(T={});const{prevResolvedValues:_={}}=m,S=h(h({},_),T),M=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=T[e],n=_[e];if(u.hasOwnProperty(e))continue;let i=!1;i=JT(t)&&JT(n)?!GS(t,n):t!==n,i?void 0!==t&&null!==t?M(e):c.add(e):void 0!==t&&c.has(e)?M(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=T,m.isActive&&(u=h(h({},u),T)),i&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||x)&&l.push(...w.map(e=>({animation:e,options:{type:p}})))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=KT(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!==i&&void 0!==i?i:null}),l.push({animation:t})}let p=Boolean(l.length);return!i||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(p=!1),i=!1,p?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)}),n[t].isActive=i;const o=a(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=eM(),i=!0}}}function JS(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!GS(t,e)}function $S(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eM(){return{animate:$S(!0),whileInView:$S(),whileHover:$S(),whileTap:$S(),whileDrag:$S(),whileFocus:$S(),exit:$S()}}class tM{constructor(e){this.isMounted=!1,this.node=e}update(){}}let nM=0;const iM={animation:{Feature:class extends tM{constructor(e){super(e),e.animationState||(e.animationState=ZS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends tM{constructor(){super(...arguments),this.id=nM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},rM={x:!1,y:!1};function aM(){return rM.x||rM.y}function oM(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const sM=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function lM(e){return{point:{x:e.pageX,y:e.pageY}}}function cM(e,t,n,i){return oM(e,t,(e=>t=>sM(t)&&e(t,lM(t)))(n),i)}function uM(e){return e.max-e.min}function dM(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=Bb(t.min,t.max,e.origin),e.scale=uM(n)/uM(t),e.translate=Bb(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function hM(e,t,n,i){dM(e.x,t.x,n.x,i?i.originX:void 0),dM(e.y,t.y,n.y,i?i.originY:void 0)}function pM(e,t,n){e.min=n.min+t.min,e.max=e.min+uM(t)}function mM(e,t,n){e.min=t.min-n.min,e.max=e.min+uM(t)}function fM(e,t,n){mM(e.x,t.x,n.x),mM(e.y,t.y,n.y)}function AM(e){return[e("x"),e("y")]}const gM=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},vM=(e,t)=>Math.abs(e-t);class yM{constructor(e,t){let{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=wM(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=vM(e.x,t.x),i=vM(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=Ex;this.history.push(h(h({},i),{},{timestamp:r}));const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=bM(t,this.transformPagePoint),Sx.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=wM("pointercancel"===e.type?this.lastMoveEventInfo:bM(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),i&&i(e,a)},!sM(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=bM(lM(e),this.transformPagePoint),{point:s}=o,{timestamp:l}=Ex;this.history=[h(h({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,wM(o,this.history)),this.removeListeners=a_(cM(this.contextWindow,"pointermove",this.handlePointerMove),cM(this.contextWindow,"pointerup",this.handlePointerUp),cM(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mx(this.updatePoint)}}function bM(e,t){return t?{point:t(e.point)}:e}function xM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wM(e,t){let{point:n}=e;return{point:n,delta:xM(n,_M(t)),offset:xM(n,TM(t)),velocity:SM(t,.1)}}function TM(e){return e[0]}function _M(e){return e[e.length-1]}function SM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=_M(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>o_(t)));)n--;if(!i)return{x:0,y:0};const a=s_(r.timestamp-i.timestamp);if(0===a)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function MM(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function EM(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const CM=.35;function PM(e,t,n){return{min:NM(e,t),max:NM(e,n)}}function NM(e,t){return"number"===typeof e?e:e[t]||0}const RM=new WeakMap;class DM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new yM(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(lM(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?rM[a]?null:(rM[a]=!0,()=>{rM[a]=!1}):rM.x||rM.y?null:(rM.x=rM.y=!0,()=>{rM.x=rM.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),AM(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ax.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=uM(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&Sx.postRender(()=>r(e,t)),n_(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>AM(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,distanceThreshold:n,contextWindow:gM(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Sx.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!IM(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:i,max:r}=t;return void 0!==i&&e<i?e=n?Bb(i,e,n.min):Math.max(e,i):void 0!==r&&e>r&&(e=n?Bb(r,e,n.max):Math.min(e,r)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&VT(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,t){let{top:n,left:i,bottom:r,right:a}=t;return{x:MM(e.x,i,a),y:MM(e.y,n,r)}}(i.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CM;return!1===e?e=0:!0===e&&(e=CM),{x:PM(e,"left","right"),y:PM(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&AM(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!VT(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=Zb(e,n),{scroll:r}=t;return r&&(Yb(i.x,r.offset.x),Yb(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:EM(e.x,t.x),y:EM(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=kb(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=AM(o=>{if(!IM(o,t,this.currentDirection))return;let l=s&&s[o]||{};a&&(l={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,d=h(h({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},r),l);return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n_(this.visualElement,e),n.start(OS(e,n,0,t,this.visualElement,!1))}stopAnimation(){AM(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){AM(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){AM(t=>{const{drag:n}=this.getProps();if(!IM(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:a}=i.layout.layoutBox[t];r.set(e[t]-Bb(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!VT(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};AM(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=uM(e),r=uM(t);return r>i?n=eS(t.min,t.max-i,e.min):i>r&&(n=eS(e.min,e.max-r,t.min)),$b(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),AM(t=>{if(!IM(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];n.set(Bb(r,a,i[t]))})}addListeners(){if(!this.visualElement.current)return;RM.set(this.visualElement,this);const e=cM(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();VT(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Sx.read(t);const r=oM(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(AM(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=CM,dragMomentum:o=!0}=e;return h(h({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o})}}function IM(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const LM=e=>(t,n)=>{e&&Sx.postRender(()=>e(t,n))};const kM={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const FM={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ox.test(e))return e;e=parseFloat(e)}const n=BM(e,t.target.x),i=BM(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},OM={correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t;const r=e,a=nw.parse(e);if(a.length>5)return r;const o=nw.createTransformer(e),s="number"!==typeof a[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;a[0+s]/=l,a[1+s]/=c;const u=Bb(l,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=u),"number"===typeof a[3+s]&&(a[3+s]/=u),o(a)}};let UM=!1;class VM extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;!function(e){for(const t in e)Jw[t]=e[t],Rb(t)&&(Jw[t].isCSSVariable=!0)}(zM),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),UM&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions(h(h({},r.options),{},{onExitComplete:()=>this.safeToRemove()}))),kM.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:a}=n;return a?(a.isPresent=r,UM=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Sx.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jM(e){const[t,n]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(RT);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,o=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return a(o)},[e]);const s=(0,i.useCallback)(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}(),r=(0,i.useContext)(mT);return(0,Yn.jsx)(VM,h(h({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(qT),isPresent:t,safeToRemove:n}))}const zM={borderRadius:h(h({},FM),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:FM,borderTopRightRadius:FM,borderBottomLeftRadius:FM,borderBottomRightRadius:FM,boxShadow:OM};function qM(e){return"object"===typeof e&&null!==e}function GM(e){return qM(e)&&"ownerSVGElement"in e}const HM=(e,t)=>e.depth-t.depth;class WM{constructor(){this.children=[],this.isDirty=!1}add(e){vw(this.children,e),this.isDirty=!0}remove(e){yw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HM),this.isDirty=!1,this.children.forEach(e)}}function QM(e,t){const n=gw.now(),i=r=>{let{timestamp:a}=r;const o=a-n;o>=t&&(Mx(i),e(o-t))};return Sx.setup(i,!0),()=>Mx(i)}const YM=["TopLeft","TopRight","BottomLeft","BottomRight"],XM=YM.length,KM=e=>"string"===typeof e?parseFloat(e):e,ZM=e=>"number"===typeof e||ox.test(e);function JM(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const $M=tE(0,.5,X_),eE=tE(.5,.95,bx);function tE(e,t,n){return i=>i<e?0:i>t?1:n(eS(e,t,i))}function nE(e,t){e.min=t.min,e.max=t.max}function iE(e,t){nE(e.x,t.x),nE(e.y,t.y)}function rE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function aE(e,t,n,i,r){return e=zb(e-=t,1/n,i),void 0!==r&&(e=zb(e,1/r,i)),e}function oE(e,t,n,i,r){let[a,o,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ax.test(t)&&(t=parseFloat(t),t=Bb(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let s=Bb(a.min,a.max,i);e===a&&(s-=t),e.min=aE(e.min,t,n,s,r),e.max=aE(e.max,t,n,s,r)}(e,t[a],t[o],t[s],t.scale,i,r)}const sE=["x","scaleX","originX"],lE=["y","scaleY","originY"];function cE(e,t,n,i){oE(e.x,t,sE,n?n.x:void 0,i?i.x:void 0),oE(e.y,t,lE,n?n.y:void 0,i?i.y:void 0)}function uE(e){return 0===e.translate&&1===e.scale}function dE(e){return uE(e.x)&&uE(e.y)}function hE(e,t){return e.min===t.min&&e.max===t.max}function pE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mE(e,t){return pE(e.x,t.x)&&pE(e.y,t.y)}function fE(e){return uM(e.x)/uM(e.y)}function AE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gE{constructor(){this.members=[]}add(e){vw(this.members,e),e.scheduleRender()}remove(e){if(yw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const vE={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},yE=["","X","Y","Z"];let bE=0;function xE(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function wE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=i_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Sx,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&wE(i)}function TE(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=bE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tx.value&&(vE.nodes=vE.calculatedTargetDeltas=vE.calculatedProjections=0),this.nodes.forEach(ME),this.nodes.forEach(IE),this.nodes.forEach(LE),this.nodes.forEach(EE),Tx.addProjectionMetrics&&Tx.addProjectionMetrics(vE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new WM)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new bw),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t&&t.notify(...i)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=GM(e)&&!(GM(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:i,layout:r,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||i)&&(this.isLayoutDirty=!0),t){let n,i=0;const r=()=>this.root.updateBlockedByResize=!1;Sx.read(()=>{i=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==i&&(i=e,this.root.updateBlockedByResize=!0,n&&n(),n=QM(r,250),kM.hasAnimatedSinceResize&&(kM.hasAnimatedSinceResize=!1,this.nodes.forEach(DE)))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||r)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:r}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||VE,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!mE(this.targetLayout,r),u=!n&&i;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=h(h({},ZT(o,"layout")),{},{onPlay:s,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mx(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kE),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(PE);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(NE);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RE),this.nodes.forEach(_E),this.nodes.forEach(SE)):this.nodes.forEach(NE),this.clearAllSnapshots();const e=gw.now();Ex.delta=$b(0,1e3/60,e-Ex.timestamp),Ex.timestamp=e,Ex.isProcessing=!0,Cx.update.process(Ex),Cx.preRender.process(Ex),Cx.render.process(Ex),Ex.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CE),this.sharedNodes.forEach(BE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sx.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sx.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||uM(this.snapshot.measuredBox.x)||uM(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!dE(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ub(this.latestValues)||r)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),qE((i=n).x),qE(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(HE))){const{scroll:e}=this.root;e&&(Yb(n.x,e.offset.x),Yb(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(iE(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:a}=t;t!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&iE(n,e),Yb(n.x,r.offset.x),Yb(n.y,r.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};iE(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Kb(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ub(e.latestValues)&&Kb(n,e.latestValues)}return Ub(this.latestValues)&&Kb(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};iE(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ub(e.latestValues))continue;Ob(e.latestValues)&&e.updateSnapshot();const i=Nw();iE(i,e.measurePageBox()),cE(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return Ub(this.latestValues)&&cE(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=h(h(h({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ex.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(this.layout&&(r||a)){if(this.resolvedRelativeTargetAt=Ex.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fM(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),iE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,l=this.relativeParent.target,pM(o.x,s.x,l.x),pM(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):iE(this.target,this.layout.layoutBox),Hb(this.target,this.targetDelta)):iE(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fM(this.relativeTargetOrigin,this.target,e.target),iE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tx.value&&vE.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ob(this.parent.latestValues)&&!Vb(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===Ex.timestamp&&(i=!1),i)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;iE(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let a,o;t.x=t.y=1;for(let s=0;s<r;s++){a=n[s],o=a.projectionDelta;const{visualElement:r}=a.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Kb(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Hb(e,o)),i&&Ub(a.latestValues)&&Kb(e,a.latestValues))}t.x<Qb&&t.x>Wb&&(t.x=1),t.y<Qb&&t.y>Wb&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(rE(this.prevProjectionDelta.x,this.projectionDelta.x),rE(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),hM(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===s&&AE(this.projectionDelta.x,this.prevProjectionDelta.x)&&AE(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Tx.value&&vE.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r=h({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(UE));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;FE(a.x,e.x,n),FE(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fM(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,i){OE(e.x,t.x,n.x,i),OE(e.y,t.y,n.y,i)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&function(e,t){return hE(e.x,t.x)&&hE(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),iE(d,this.relativeTarget)),s&&(this.animationValues=r,function(e,t,n,i,r,a){var o,s;if(r)e.opacity=Bb(0,null!==(o=n.opacity)&&void 0!==o?o:1,$M(i)),e.opacityExit=Bb(null!==(s=t.opacity)&&void 0!==s?s:1,0,eE(i));else if(a){var l,c;e.opacity=Bb(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,i)}for(let u=0;u<XM;u++){const r="border".concat(YM[u],"Radius");let a=JM(t,r),o=JM(n,r);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||ZM(a)===ZM(o)?(e[r]=Math.max(Bb(KM(a),KM(o),i),0),(ax.test(o)||ax.test(a))&&(e[r]+="%")):e[r]=o)}(t.rotate||n.rotate)&&(e.rotate=Bb(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Mx(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sx.update(()=>{kM.hasAnimatedSinceResize=!0,l_.layout++,this.motionValue||(this.motionValue=_w(0)),this.currentAnimation=function(e,t,n){const i=mw(e)?e:_w(e);return i.start(OS("",i,t,n)),i.animation}(this.motionValue,[0,1e3],h(h({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{l_.layout--},onComplete:()=>{l_.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&GE(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=uM(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=uM(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}iE(t,n),Kb(t,r),hM(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new gE);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&xE("z",e,i,this.animationValues);for(let r=0;r<yE.length;r++)xE("rotate".concat(yE[r]),e,i,this.animationValues),xE("skew".concat(yE[r]),e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=IT(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=IT(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Ub(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let i="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((r||a||o)&&(i="translate3d(".concat(r,"px, ").concat(a,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:o,skewY:s}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),a&&(i+="rotateY(".concat(a,"deg) ")),o&&(i+="skewX(".concat(o,"deg) ")),s&&(i+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(i+="scale(".concat(s,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(a=n(r,a)),e.transform=a;const{x:o,y:s}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*s.origin,"% 0"),i.animationValues)?e.opacity=i===this?null!==(l=null!==(c=r.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const u in Jw){if(void 0===r[u])continue;const{correct:t,applyTo:n,isCSSVariable:o}=Jw[u],s="none"===a?r[u]:t(r[u],i);if(n){const t=n.length;for(let i=0;i<t;i++)e[n[i]]=s}else o?this.options.visualElement.renderState.vars[u]=s:e[u]=s}this.options.layoutId&&(e.pointerEvents=i===this?IT(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(PE),this.root.sharedNodes.clear()}}}function _E(e){e.updateLayout()}function SE(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,a=n.source!==e.layout.source;"size"===r?AM(e=>{const i=a?n.measuredBox[e]:n.layoutBox[e],r=uM(i);i.min=t[e].min,i.max=i.min+r}):GE(r,n.layoutBox,t)&&AM(i=>{const r=a?n.measuredBox[i]:n.layoutBox[i],o=uM(t[i]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};hM(o,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?hM(s,e.applyTransform(i,!0),n.measuredBox):hM(s,t,n.layoutBox);const l=!dE(o);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:a}=i;if(r&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};fM(o,n.layoutBox,r.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};fM(s,t,a.layoutBox),mE(o,s)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ME(e){Tx.value&&vE.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function EE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CE(e){e.clearSnapshot()}function PE(e){e.clearMeasurements()}function NE(e){e.isLayoutDirty=!1}function RE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function DE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function IE(e){e.resolveTargetDelta()}function LE(e){e.calcProjection()}function kE(e){e.resetSkewAndRotation()}function BE(e){e.removeLeadSnapshot()}function FE(e,t,n){e.translate=Bb(t.translate,0,n),e.scale=Bb(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function OE(e,t,n,i){e.min=Bb(t.min,n.min,i),e.max=Bb(t.max,n.max,i)}function UE(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const VE={duration:.45,ease:[.4,0,.1,1]},jE=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zE=jE("applewebkit/")&&!jE("chrome/")?Math.round:bx;function qE(e){e.min=zE(e.min),e.max=zE(e.max)}function GE(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(fE(t),fE(n),.2)}function HE(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const WE=TE({attachResizeListener:(e,t)=>oM(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QE={current:void 0},YE=TE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!QE.current){const e=new WE({});e.mount(window),e.setOptions({layoutScroll:!0}),QE.current=e}return QE.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),XE={pan:{Feature:class extends tM{constructor(){super(...arguments),this.removePointerDownListener=bx}onPointerDown(e){this.session=new yM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:LM(e),onStart:LM(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&Sx.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=cM(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends tM{constructor(e){super(e),this.removeGroupControls=bx,this.removeListeners=bx,this.controls=new DM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bx}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:YE,MeasureLayout:jM}};function KE(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var i;let r=document;t&&(r=t.current);const a=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function ZE(e,t){const n=KE(e),i=new AbortController;return[n,h(h({passive:!0},t),{},{signal:i.signal}),()=>i.abort()]}function JE(e){return!("touch"===e.pointerType||aM())}function $E(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&Sx.postRender(()=>r(t,lM(t)))}function eC(e){return qM(e)&&"offsetHeight"in e}const tC=(e,t)=>!!t&&(e===t||tC(e,t.parentElement)),nC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const iC=new WeakSet;function rC(e){return t=>{"Enter"===t.key&&e(t)}}function aC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function oC(e){return sM(e)&&!aM()}function sC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,a]=ZE(e,n),o=e=>{const i=e.currentTarget;if(!oC(e))return;iC.add(i);const a=t(i,e),o=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),iC.has(i)&&iC.delete(i),oC(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{o(e,i===window||i===document||n.useGlobalTarget||tC(i,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",s,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,r),eC(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=rC(()=>{if(iC.has(n))return;aC(n,"down");const e=rC(()=>{aC(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>aC(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r)),t=e,nC.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function lC(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&Sx.postRender(()=>r(t,lM(t)))}const cC=["root"],uC=new WeakMap,dC=new WeakMap,hC=e=>{const t=uC.get(e.target);t&&t(e)},pC=e=>{e.forEach(hC)};function mC(e,t,n){const i=function(e){let{root:t}=e,n=s(e,cC);const i=t||document;dC.has(i)||dC.set(i,{});const r=dC.get(i),a=JSON.stringify(n);return r[a]||(r[a]=new IntersectionObserver(pC,h({root:t},n))),r[a]}(t);return uC.set(e,n),i.observe(e),()=>{uC.delete(e),i.unobserve(e)}}const fC={some:0,all:1};const AC={inView:{Feature:class extends tM{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:fC[i]};return mC(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),a=t?n:i;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends tM{mount(){const{current:e}=this.node;e&&(this.unmount=sC(e,(e,t)=>(lC(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return lC(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends tM{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(ice){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=a_(oM(this.node.current,"focus",()=>this.onFocus()),oM(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends tM{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,a]=ZE(e,n),o=e=>{if(!JE(e))return;const{target:n}=e,i=t(n,e);if("function"!==typeof i||!n)return;const a=e=>{JE(e)&&(i(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,r)};return i.forEach(e=>{e.addEventListener("pointerenter",o,r)}),a}(e,(e,t)=>($E(this.node,t,"Start"),e=>$E(this.node,e,"End"))))}unmount(){}}}},gC={layout:{ProjectionNode:YE,MeasureLayout:jM}},vC=XT(h(h(h(h({},iM),AC),XE),gC),pT);function yC(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=yC(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function bC(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=yC(e))&&(i&&(i+=" "),i+=t);return i}const xC=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const i=e[0],r=t.nextPart.get(i),a=r?xC(e.slice(1),r):void 0;if(a)return a;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},wC=/^\[(.+)\]$/,TC=e=>{if(wC.test(e)){const t=wC.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_C=e=>{const{theme:t,classGroups:n}=e,i={nextPart:new Map,validators:[]};for(const r in n)SC(n[r],i,r,t);return i},SC=(e,t,n,i)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:MC(t,e)).classGroupId=n)}if("function"===typeof e)return EC(e)?void SC(e(i),t,n,i):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[r,a]=e;SC(a,MC(t,r),n,i)})})},MC=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},EC=e=>e.isThemeGetter,CC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const r=(r,a)=>{n.set(r,a),t++,t>e&&(t=0,i=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=i.get(e))?(r(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):r(e,t)}}},PC=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=e=>{const t=[];let n,i=0,r=0,a=0;for(let l=0;l<e.length;l++){let o=e[l];if(0===i&&0===r){if(":"===o){t.push(e.slice(a,l)),a=l+1;continue}if("/"===o){n=l;continue}}"["===o?i++:"]"===o?i--:"("===o?r++:")"===o&&r--}const o=0===t.length?e:e.substring(a),s=NC(o);return{modifiers:t,hasImportantModifier:s!==o,baseClassName:s,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=i;i=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=i;i=t=>n({className:t,parseClassName:e})}return i},NC=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,RC=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let i=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...i.sort(),e),i=[]):i.push(e)}),n.push(...i.sort()),n}},DC=e=>h({cache:CC(e.cacheSize),parseClassName:PC(e),sortModifiers:RC(e)},(e=>{const t=_C(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),xC(n,t)||TC(e)},getConflictingClassGroupIds:(e,t)=>{const r=n[e]||[];return t&&i[e]?[...r,...i[e]]:r}}})(e)),IC=/\s+/;function LC(){let e,t,n=0,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=kC(e))&&(i&&(i+=" "),i+=t);return i}const kC=e=>{if("string"===typeof e)return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=kC(e[i]))&&(n&&(n+=" "),n+=t);return n};function BC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let r,a,o,s=function(t){const i=n.reduce((e,t)=>t(e),e());return r=DC(i),a=r.cache.get,o=r.cache.set,s=l,l(t)};function l(e){const t=a(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:a}=t,o=[],s=e.trim().split(IC);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let m=!!p,f=i(m?h.substring(0,p):h);if(!f){if(!m){l=e+(l.length>0?" "+l:l);continue}if(f=i(h),!f){l=e+(l.length>0?" "+l:l);continue}m=!1}const A=a(u).join(":"),g=d?A+"!":A,v=g+f;if(o.includes(v))continue;o.push(v);const y=r(f,m);for(let n=0;n<y.length;++n){const e=y[n];o.push(g+e)}l=e+(l.length>0?" "+l:l)}return l})(e,r);return o(e,n),n}return function(){return s(LC.apply(null,arguments))}}const FC=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},OC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VC=/^\d+\/\d+$/,jC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,WC=e=>VC.test(e),QC=e=>!!e&&!Number.isNaN(Number(e)),YC=e=>!!e&&Number.isInteger(Number(e)),XC=e=>e.endsWith("%")&&QC(e.slice(0,-1)),KC=e=>jC.test(e),ZC=()=>!0,JC=e=>zC.test(e)&&!qC.test(e),$C=()=>!1,eP=e=>GC.test(e),tP=e=>HC.test(e),nP=e=>!rP(e)&&!uP(e),iP=e=>gP(e,xP,$C),rP=e=>OC.test(e),aP=e=>gP(e,wP,JC),oP=e=>gP(e,TP,QC),sP=e=>gP(e,yP,$C),lP=e=>gP(e,bP,tP),cP=e=>gP(e,SP,eP),uP=e=>UC.test(e),dP=e=>vP(e,wP),hP=e=>vP(e,_P),pP=e=>vP(e,yP),mP=e=>vP(e,xP),fP=e=>vP(e,bP),AP=e=>vP(e,SP,!0),gP=(e,t,n)=>{const i=OC.exec(e);return!!i&&(i[1]?t(i[1]):n(i[2]))},vP=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=UC.exec(e);return!!i&&(i[1]?t(i[1]):n)},yP=e=>"position"===e||"percentage"===e,bP=e=>"image"===e||"url"===e,xP=e=>"length"===e||"size"===e||"bg-size"===e,wP=e=>"length"===e,TP=e=>"number"===e,_P=e=>"family-name"===e,SP=e=>"shadow"===e,MP=(Symbol.toStringTag,()=>{const e=FC("color"),t=FC("font"),n=FC("text"),i=FC("font-weight"),r=FC("tracking"),a=FC("leading"),o=FC("breakpoint"),s=FC("container"),l=FC("spacing"),c=FC("radius"),u=FC("shadow"),d=FC("inset-shadow"),h=FC("text-shadow"),p=FC("drop-shadow"),m=FC("blur"),f=FC("perspective"),A=FC("aspect"),g=FC("ease"),v=FC("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",uP,rP],b=()=>[uP,rP,l],x=()=>[WC,"full","auto",...b()],w=()=>[YC,"none","subgrid",uP,rP],T=()=>["auto",{span:["full",YC,uP,rP]},YC,uP,rP],_=()=>[YC,"auto",uP,rP],S=()=>["auto","min","max","fr",uP,rP],M=()=>["auto",...b()],E=()=>[WC,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],C=()=>[e,uP,rP],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",pP,sP,{position:[uP,rP]}],N=()=>["auto","cover","contain",mP,iP,{size:[uP,rP]}],R=()=>[XC,dP,aP],D=()=>["","none","full",c,uP,rP],I=()=>["",QC,dP,aP],L=()=>[QC,XC,pP,sP],k=()=>["","none",m,uP,rP],B=()=>["none",QC,uP,rP],F=()=>["none",QC,uP,rP],O=()=>[QC,uP,rP],U=()=>[WC,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[KC],breakpoint:[KC],color:[ZC],container:[KC],"drop-shadow":[KC],ease:["in","out","in-out"],font:[nP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[KC],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[KC],shadow:[KC],spacing:["px",QC],text:[KC],"text-shadow":[KC],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",WC,rP,uP,A]}],container:["container"],columns:[{columns:[QC,rP,uP,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[YC,"auto",uP,rP]}],basis:[{basis:[WC,"full","auto",s,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[QC,WC,"auto","initial","none",rP]}],grow:[{grow:["",QC,uP,rP]}],shrink:[{shrink:["",QC,uP,rP]}],order:[{order:[YC,"first","last","none",uP,rP]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[s,"screen",...E()]}],"min-w":[{"min-w":[s,"screen","none",...E()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",n,dP,aP]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,uP,oP]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",XC,rP]}],"font-family":[{font:[hP,rP,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,uP,rP]}],"line-clamp":[{"line-clamp":[QC,"none",uP,oP]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",uP,rP]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",uP,rP]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[QC,"from-font","auto",uP,aP]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[QC,"auto",uP,rP]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",uP,rP]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",uP,rP]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},YC,uP,rP],radial:["",uP,rP],conic:[YC,uP,rP]},fP,lP]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[QC,uP,rP]}],"outline-w":[{outline:["",QC,dP,aP]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,AP,cP]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",d,AP,cP]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[QC,aP]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,AP,cP]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[QC,uP,rP]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[QC]}],"mask-image-linear-from-pos":[{"mask-linear-from":L()}],"mask-image-linear-to-pos":[{"mask-linear-to":L()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":L()}],"mask-image-t-to-pos":[{"mask-t-to":L()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":L()}],"mask-image-r-to-pos":[{"mask-r-to":L()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":L()}],"mask-image-b-to-pos":[{"mask-b-to":L()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":L()}],"mask-image-l-to-pos":[{"mask-l-to":L()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":L()}],"mask-image-x-to-pos":[{"mask-x-to":L()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":L()}],"mask-image-y-to-pos":[{"mask-y-to":L()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[uP,rP]}],"mask-image-radial-from-pos":[{"mask-radial-from":L()}],"mask-image-radial-to-pos":[{"mask-radial-to":L()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[QC]}],"mask-image-conic-from-pos":[{"mask-conic-from":L()}],"mask-image-conic-to-pos":[{"mask-conic-to":L()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",uP,rP]}],filter:[{filter:["","none",uP,rP]}],blur:[{blur:k()}],brightness:[{brightness:[QC,uP,rP]}],contrast:[{contrast:[QC,uP,rP]}],"drop-shadow":[{"drop-shadow":["","none",p,AP,cP]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",QC,uP,rP]}],"hue-rotate":[{"hue-rotate":[QC,uP,rP]}],invert:[{invert:["",QC,uP,rP]}],saturate:[{saturate:[QC,uP,rP]}],sepia:[{sepia:["",QC,uP,rP]}],"backdrop-filter":[{"backdrop-filter":["","none",uP,rP]}],"backdrop-blur":[{"backdrop-blur":k()}],"backdrop-brightness":[{"backdrop-brightness":[QC,uP,rP]}],"backdrop-contrast":[{"backdrop-contrast":[QC,uP,rP]}],"backdrop-grayscale":[{"backdrop-grayscale":["",QC,uP,rP]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[QC,uP,rP]}],"backdrop-invert":[{"backdrop-invert":["",QC,uP,rP]}],"backdrop-opacity":[{"backdrop-opacity":[QC,uP,rP]}],"backdrop-saturate":[{"backdrop-saturate":[QC,uP,rP]}],"backdrop-sepia":[{"backdrop-sepia":["",QC,uP,rP]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",uP,rP]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[QC,"initial",uP,rP]}],ease:[{ease:["linear","initial",g,uP,rP]}],delay:[{delay:[QC,uP,rP]}],animate:[{animate:["none",v,uP,rP]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,uP,rP]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:B()}],"rotate-x":[{"rotate-x":B()}],"rotate-y":[{"rotate-y":B()}],"rotate-z":[{"rotate-z":B()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:O()}],"skew-x":[{"skew-x":O()}],"skew-y":[{"skew-y":O()}],transform:[{transform:[uP,rP,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",uP,rP]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",uP,rP]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[QC,dP,aP,oP]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),EP=BC(MP);function CP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return EP(bC(t))}function PP(e){let{words:t=["better","modern","beautiful","awesome"],interval:n=3e3,className:r,textClassName:a,animationDuration:o=700}=e;const s=(0,i.useId)(),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)(100),h=i.useRef(null);return(0,i.useEffect)(()=>{(()=>{if(h.current){const e=h.current.scrollWidth+30;d(e)}})()},[l]),(0,i.useEffect)(()=>{const e=setInterval(()=>{c(e=>(e+1)%t.length)},n);return()=>clearInterval(e)},[t,n]),(0,Yn.jsx)(vC.p,{layout:!0,layoutId:"words-here-".concat(s),animate:{width:u},transition:{duration:o/2e3},className:CP("relative inline-block pt-2 pb-3 text-center text-4xl font-bold text-black md:text-7xl dark:text-white",r),children:(0,Yn.jsx)(vC.div,{transition:{duration:o/1e3,ease:"easeInOut"},className:CP("inline-block",a),ref:h,layoutId:"word-div-".concat(t[l],"-").concat(s),children:(0,Yn.jsx)(vC.div,{className:"inline-block",children:t[l].split("").map((e,t)=>(0,Yn.jsx)(vC.span,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{delay:.02*t},children:e},t))})})},t[l])}var NP=n(7950);function RP(e){return i.createElement(Jt,h({flushSync:NP.flushSync},e))}const DP=n.p+"static/media/truck_hori.57ef646c12de1d3d2cd3.png";const IP=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const LP="object"==typeof global&&global&&global.Object===Object&&global;var kP="object"==typeof self&&self&&self.Object===Object&&self;const BP=LP||kP||Function("return this")();const FP=function(){return BP.Date.now()};var OP=/\s/;const UP=function(e){for(var t=e.length;t--&&OP.test(e.charAt(t)););return t};var VP=/^\s+/;const jP=function(e){return e?e.slice(0,UP(e)+1).replace(VP,""):e};const zP=BP.Symbol;var qP=Object.prototype,GP=qP.hasOwnProperty,HP=qP.toString,WP=zP?zP.toStringTag:void 0;const QP=function(e){var t=GP.call(e,WP),n=e[WP];try{e[WP]=void 0;var i=!0}catch(ice){}var r=HP.call(e);return i&&(t?e[WP]=n:delete e[WP]),r};var YP=Object.prototype.toString;const XP=function(e){return YP.call(e)};var KP=zP?zP.toStringTag:void 0;const ZP=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":KP&&KP in Object(e)?QP(e):XP(e)};const JP=function(e){return null!=e&&"object"==typeof e};const $P=function(e){return"symbol"==typeof e||JP(e)&&"[object Symbol]"==ZP(e)};var eN=/^[-+]0x[0-9a-f]+$/i,tN=/^0b[01]+$/i,nN=/^0o[0-7]+$/i,iN=parseInt;const rN=function(e){if("number"==typeof e)return e;if($P(e))return NaN;if(IP(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=IP(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jP(e);var n=tN.test(e);return n||nN.test(e)?iN(e.slice(2),n?2:8):eN.test(e)?NaN:+e};var aN=Math.max,oN=Math.min;const sN=function(e,t,n){var i,r,a,o,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=i,a=r;return i=r=void 0,c=t,o=e.apply(a,n)}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function f(){var e=FP();if(m(e))return A(e);s=setTimeout(f,function(e){var n=t-(e-l);return d?oN(n,a-(e-c)):n}(e))}function A(e){return s=void 0,h&&i?p(e):(i=r=void 0,o)}function g(){var e=FP(),n=m(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(f,t),u?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(f,t),p(l)}return void 0===s&&(s=setTimeout(f,t)),o}return t=rN(t)||0,IP(n)&&(u=!!n.leading,a=(d="maxWait"in n)?aN(rN(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),g.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},g.flush=function(){return void 0===s?o:A(FP())},g};function lN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function cN(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function uN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dN=cN(function e(t,n){var i=n.default,r=void 0===i?null:i,a=n.triggerUpdate,o=void 0===a||a,s=n.onChange,l=void 0===s?function(e,t){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=r,this.triggerUpdate=o,this.onChange=l});function hN(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,i=e.props,r=void 0===i?{}:i,a=e.methods,o=void 0===a?{}:a,s=e.aliases,l=void 0===s?{}:s,c=e.init,u=void 0===c?function(){}:c,d=e.update,h=void 0===d?function(){}:d,p=Object.keys(r).map(function(e){return new dN(e,r[e])});return function e(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=!!(this instanceof e?this.constructor:void 0),s=a?i.shift():void 0,c=i[0],d=void 0===c?{}:c,m=Object.assign({},n instanceof Function?n(d):n,{initialised:!1}),f={};function A(e){return g(e,d),v(),A}var g=function(e,t){u.call(A,e,m,t),m.initialised=!0},v=sN(function(){m.initialised&&(h.call(A,m,f),f={})},1);return p.forEach(function(e){A[e.name]=function(e){var t=e.name,n=e.triggerUpdate,i=void 0!==n&&n,r=e.onChange,a=void 0===r?function(e,t){}:r,o=e.defaultVal,s=void 0===o?null:o;return function(e){var n=m[t];if(!arguments.length)return n;var r=void 0===e?s:e;return m[t]=r,a.call(A,r,m,n),!f.hasOwnProperty(t)&&(f[t]=n),i&&v(),A}}(e)}),Object.keys(o).forEach(function(e){A[e]=function(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=o[e]).call.apply(t,[A,m].concat(i))}}),Object.entries(l).forEach(function(e){var t=uN(e,2),n=t[0],i=t[1];return A[n]=A[i]}),A.resetProps=function(){return p.forEach(function(e){A[e.name](e.defaultVal)}),A},A.resetProps(),m._rerender=v,a&&s&&A(s),A}}var pN=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-pN.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*pN.Bounce.In(2*e):.5*pN.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),mN=function(){return performance.now()},fN=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=mN()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var r=this._tweens[n[i]],a=!t;r&&!1===r.update(e,a)&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),AN={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=AN.Utils.Linear;return t<0?a(e[0],e[1],i):t>1?a(e[n],e[n-1],n-i):a(e[r],e[r+1>n?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,a=AN.Utils.Bernstein,o=0;o<=i;o++)n+=r(1-t,i-o)*r(t,o)*e[o]*a(i,o);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=AN.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),a(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=AN.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var i=t;i>1;i--)n*=i;return e[t]=n,n}}(),CatmullRom:function(e,t,n,i,r){var a=.5*(n-e),o=.5*(i-t),s=r*r;return(2*t-2*n+a+o)*(r*s)+(-3*t+3*n-2*a-o)*s+a*r+t}}},gN=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),vN=new fN,yN=function(){function e(e,t){void 0===t&&(t=vN),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=pN.Linear.None,this._interpolationFunction=AN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=gN.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e<0?0:e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=mN()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var r in this._valuesEnd)i[r]=this._valuesEnd[r];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,i,r){for(var a in n){var o=e[a],s=Array.isArray(o),l=s?"array":typeof o,c=!s&&Array.isArray(n[a]);if("undefined"!==l&&"function"!==l){if(c){if(0===(A=n[a]).length)continue;for(var u=[o],d=0,h=A.length;d<h;d+=1){var p=this._handleRelativeValue(o,A[d]);if(isNaN(p)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}u.push(p)}c&&(n[a]=u)}if("object"!==l&&!s||!o||c)("undefined"===typeof t[a]||r)&&(t[a]=o),s||(t[a]*=1),i[a]=c?n[a].slice().reverse():t[a]||0;else{t[a]=s?[]:{};var m=o;for(var f in m)t[a][f]=m[f];i[a]=s?[]:{};var A=n[a];if(!this._isDynamic){var g={};for(var f in A)g[f]=A[f];n[a]=A=g}this._setupProperties(m,t[a],A,i[a],r)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=mN()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=mN()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=vN),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=pN.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=AN.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){var n,i,r=this;if(void 0===e&&(e=mN()),void 0===t&&(t=!0),this._isPaused)return!0;var a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=e-this._startTime,s=this._duration+(null!==(n=this._repeatDelayTime)&&void 0!==n?n:this._delayTime),l=this._duration+this._repeat*s,c=function(){if(0===r._duration)return 1;if(o>l)return 1;var e=Math.trunc(o/s),t=o-e*s,n=Math.min(t/r._duration,1);return 0===n&&o===r._duration?1:n}(),u=this._easingFunction(c);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,u),this._onUpdateCallback&&this._onUpdateCallback(this._object,c),0===this._duration||o>=this._duration){if(this._repeat>0){var d=Math.min(Math.trunc((o-this._duration)/s)+1,this._repeat);for(i in isFinite(this._repeat)&&(this._repeat-=d),this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*d,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var h=0,p=this._chainedTweens.length;h<p;h++)this._chainedTweens[h].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,i){for(var r in n)if(void 0!==t[r]){var a=t[r]||0,o=n[r],s=Array.isArray(e[r]),l=Array.isArray(o);!s&&l?e[r]=this._interpolationFunction(o,i):"object"===typeof o&&o?this._updateProperties(e[r],a,o,i):"number"===typeof(o=this._handleRelativeValue(a,o))&&(e[r]=a+(o-a)*i)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),bN=(gN.nextId,vN);bN.getAll.bind(bN),bN.removeAll.bind(bN),bN.add.bind(bN),bN.remove.bind(bN),bN.update.bind(bN);function xN(e,t,n,i,r){if(isNaN(t)||isNaN(n)||isNaN(i))return e;var a,o,s,l,c,u,d,h,p,m,f,A,g=e._root,v={data:r},y=e._x0,b=e._y0,x=e._z0,w=e._x1,T=e._y1,_=e._z1;if(!g)return e._root=v,e;for(;g.length;)if((h=t>=(o=(y+w)/2))?y=o:w=o,(p=n>=(s=(b+T)/2))?b=s:T=s,(m=i>=(l=(x+_)/2))?x=l:_=l,a=g,!(g=g[f=m<<2|p<<1|h]))return a[f]=v,e;if(c=+e._x.call(null,g.data),u=+e._y.call(null,g.data),d=+e._z.call(null,g.data),t===c&&n===u&&i===d)return v.next=g,a?a[f]=v:e._root=v,e;do{a=a?a[f]=new Array(8):e._root=new Array(8),(h=t>=(o=(y+w)/2))?y=o:w=o,(p=n>=(s=(b+T)/2))?b=s:T=s,(m=i>=(l=(x+_)/2))?x=l:_=l}while((f=m<<2|p<<1|h)===(A=(d>=l)<<2|(u>=s)<<1|c>=o));return a[A]=g,a[f]=v,e}function wN(e,t,n,i,r,a,o){this.node=e,this.x0=t,this.y0=n,this.z0=i,this.x1=r,this.y1=a,this.z1=o}const TN=(e,t,n,i,r,a)=>Math.sqrt((e-i)**2+(t-r)**2+(n-a)**2);function _N(e){return e[0]}function SN(e){return e[1]}function MN(e){return e[2]}function EN(e,t,n,i){var r=new CN(null==t?_N:t,null==n?SN:n,null==i?MN:i,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function CN(e,t,n,i,r,a,o,s,l){this._x=e,this._y=t,this._z=n,this._x0=i,this._y0=r,this._z0=a,this._x1=o,this._y1=s,this._z1=l,this._root=void 0}function PN(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var NN=EN.prototype=CN.prototype;NN.copy=function(){var e,t,n=new CN(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root;if(!i)return n;if(!i.length)return n._root=PN(i),n;for(e=[{source:i,target:n._root=new Array(8)}];i=e.pop();)for(var r=0;r<8;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(8)}):i.target[r]=PN(t));return n},NN.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return xN(this.cover(t,n,i),t,n,i,e)},NN.addAll=function(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t),i=new Float64Array(t),r=new Float64Array(t);let a=1/0,o=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d,h,p,m,f=0;f<t;++f)isNaN(h=+this._x.call(null,d=e[f]))||isNaN(p=+this._y.call(null,d))||isNaN(m=+this._z.call(null,d))||(n[f]=h,i[f]=p,r[f]=m,h<a&&(a=h),h>l&&(l=h),p<o&&(o=p),p>c&&(c=p),m<s&&(s=m),m>u&&(u=m));if(a>l||o>c||s>u)return this;this.cover(a,o,s).cover(l,c,u);for(let d=0;d<t;++d)xN(this,n[d],i[d],r[d],e[d]);return this},NN.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var i=this._x0,r=this._y0,a=this._z0,o=this._x1,s=this._y1,l=this._z1;if(isNaN(i))o=(i=Math.floor(e))+1,s=(r=Math.floor(t))+1,l=(a=Math.floor(n))+1;else{for(var c,u,d=o-i||1,h=this._root;i>e||e>=o||r>t||t>=s||a>n||n>=l;)switch(u=(n<a)<<2|(t<r)<<1|e<i,(c=new Array(8))[u]=h,h=c,d*=2,u){case 0:o=i+d,s=r+d,l=a+d;break;case 1:i=o-d,s=r+d,l=a+d;break;case 2:o=i+d,r=s-d,l=a+d;break;case 3:i=o-d,r=s-d,l=a+d;break;case 4:o=i+d,s=r+d,a=l-d;break;case 5:i=o-d,s=r+d,a=l-d;break;case 6:o=i+d,r=s-d,a=l-d;break;case 7:i=o-d,r=s-d,a=l-d}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=a,this._x1=o,this._y1=s,this._z1=l,this},NN.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},NN.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},NN.find=function(e,t,n,i){var r,a,o,s,l,c,u,d,h,p=this._x0,m=this._y0,f=this._z0,A=this._x1,g=this._y1,v=this._z1,y=[],b=this._root;for(b&&y.push(new wN(b,p,m,f,A,g,v)),null==i?i=1/0:(p=e-i,m=t-i,f=n-i,A=e+i,g=t+i,v=n+i,i*=i);d=y.pop();)if(!(!(b=d.node)||(a=d.x0)>A||(o=d.y0)>g||(s=d.z0)>v||(l=d.x1)<p||(c=d.y1)<m||(u=d.z1)<f))if(b.length){var x=(a+l)/2,w=(o+c)/2,T=(s+u)/2;y.push(new wN(b[7],x,w,T,l,c,u),new wN(b[6],a,w,T,x,c,u),new wN(b[5],x,o,T,l,w,u),new wN(b[4],a,o,T,x,w,u),new wN(b[3],x,w,s,l,c,T),new wN(b[2],a,w,s,x,c,T),new wN(b[1],x,o,s,l,w,T),new wN(b[0],a,o,s,x,w,T)),(h=(n>=T)<<2|(t>=w)<<1|e>=x)&&(d=y[y.length-1],y[y.length-1]=y[y.length-1-h],y[y.length-1-h]=d)}else{var _=e-+this._x.call(null,b.data),S=t-+this._y.call(null,b.data),M=n-+this._z.call(null,b.data),E=_*_+S*S+M*M;if(E<i){var C=Math.sqrt(i=E);p=e-C,m=t-C,f=n-C,A=e+C,g=t+C,v=n+C,r=b.data}}return r},NN.findAllWithinRadius=function(e,t,n,i){const r=[],a=e-i,o=t-i,s=n-i,l=e+i,c=t+i,u=n+i;return this.visit((d,h,p,m,f,A,g)=>{if(!d.length)do{const a=d.data;TN(e,t,n,this._x(a),this._y(a),this._z(a))<=i&&r.push(a)}while(d=d.next);return h>l||p>c||m>u||f<a||A<o||g<s}),r},NN.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,i,r,a,o,s,l,c,u,d,h,p,m,f,A=this._root,g=this._x0,v=this._y0,y=this._z0,b=this._x1,x=this._y1,w=this._z1;if(!A)return this;if(A.length)for(;;){if((d=a>=(l=(g+b)/2))?g=l:b=l,(h=o>=(c=(v+x)/2))?v=c:x=c,(p=s>=(u=(y+w)/2))?y=u:w=u,t=A,!(A=A[m=p<<2|h<<1|d]))return this;if(!A.length)break;(t[m+1&7]||t[m+2&7]||t[m+3&7]||t[m+4&7]||t[m+5&7]||t[m+6&7]||t[m+7&7])&&(n=t,f=m)}for(;A.data!==e;)if(i=A,!(A=A.next))return this;return(r=A.next)&&delete A.next,i?(r?i.next=r:delete i.next,this):t?(r?t[m]=r:delete t[m],(A=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&A===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!A.length&&(n?n[f]=A:this._root=A),this):(this._root=r,this)},NN.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},NN.root=function(){return this._root},NN.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},NN.visit=function(e){var t,n,i,r,a,o,s,l,c=[],u=this._root;for(u&&c.push(new wN(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(u=t.node,i=t.x0,r=t.y0,a=t.z0,o=t.x1,s=t.y1,l=t.z1)&&u.length){var d=(i+o)/2,h=(r+s)/2,p=(a+l)/2;(n=u[7])&&c.push(new wN(n,d,h,p,o,s,l)),(n=u[6])&&c.push(new wN(n,i,h,p,d,s,l)),(n=u[5])&&c.push(new wN(n,d,r,p,o,h,l)),(n=u[4])&&c.push(new wN(n,i,r,p,d,h,l)),(n=u[3])&&c.push(new wN(n,d,h,a,o,s,p)),(n=u[2])&&c.push(new wN(n,i,h,a,d,s,p)),(n=u[1])&&c.push(new wN(n,d,r,a,o,h,p)),(n=u[0])&&c.push(new wN(n,i,r,a,d,h,p))}return this},NN.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new wN(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var r=t.node;if(r.length){var a,o=t.x0,s=t.y0,l=t.z0,c=t.x1,u=t.y1,d=t.z1,h=(o+c)/2,p=(s+u)/2,m=(l+d)/2;(a=r[0])&&n.push(new wN(a,o,s,l,h,p,m)),(a=r[1])&&n.push(new wN(a,h,s,l,c,p,m)),(a=r[2])&&n.push(new wN(a,o,p,l,h,u,m)),(a=r[3])&&n.push(new wN(a,h,p,l,c,u,m)),(a=r[4])&&n.push(new wN(a,o,s,m,h,p,d)),(a=r[5])&&n.push(new wN(a,h,s,m,c,p,d)),(a=r[6])&&n.push(new wN(a,o,p,m,h,u,d)),(a=r[7])&&n.push(new wN(a,h,p,m,c,u,d))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},NN.x=function(e){return arguments.length?(this._x=e,this):this._x},NN.y=function(e){return arguments.length?(this._y=e,this):this._y},NN.z=function(e){return arguments.length?(this._z=e,this):this._z};const RN=Math.sqrt(50),DN=Math.sqrt(10),IN=Math.sqrt(2);function LN(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=RN?10:a>=DN?5:a>=IN?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?LN(e,t,2*n):[s,l,c]}function kN(e,t,n){return LN(e=+e,t=+t,n=+n)[2]}function BN(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FN(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ON(e){let t,n,i;function r(e,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<a){if(0!==t(i,i))return a;do{const t=r+a>>>1;n(e[t],i)<0?r=t+1:a=t}while(r<a)}return r}return 2!==e.length?(t=BN,n=(t,n)=>BN(e(t),n),i=(t,n)=>e(t)-n):(t=e===BN||e===FN?e:UN,n=e,i=e),{left:r,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=r(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&i(e[a-1],t)>-i(e[a],t)?a-1:a},right:function(e,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<a){if(0!==t(i,i))return a;do{const t=r+a>>>1;n(e[t],i)<=0?r=t+1:a=t}while(r<a)}return r}}}function UN(){return 0}const VN=ON(BN),jN=VN.right,zN=(VN.left,ON(function(e){return null===e?NaN:+e}).center,jN);function qN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function GN(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function HN(){}var WN=.7,QN=1/WN,YN="\\s*([+-]?\\d+)\\s*",XN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",KN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZN=/^#([0-9a-f]{3,8})$/,JN=new RegExp("^rgb\\(".concat(YN,",").concat(YN,",").concat(YN,"\\)$")),$N=new RegExp("^rgb\\(".concat(KN,",").concat(KN,",").concat(KN,"\\)$")),eR=new RegExp("^rgba\\(".concat(YN,",").concat(YN,",").concat(YN,",").concat(XN,"\\)$")),tR=new RegExp("^rgba\\(".concat(KN,",").concat(KN,",").concat(KN,",").concat(XN,"\\)$")),nR=new RegExp("^hsl\\(".concat(XN,",").concat(KN,",").concat(KN,"\\)$")),iR=new RegExp("^hsla\\(".concat(XN,",").concat(KN,",").concat(KN,",").concat(XN,"\\)$")),rR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function aR(){return this.rgb().formatHex()}function oR(){return this.rgb().formatRgb()}function sR(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ZN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?lR(t):3===n?new dR(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?cR(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?cR(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=JN.exec(e))?new dR(t[1],t[2],t[3],1):(t=$N.exec(e))?new dR(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=eR.exec(e))?cR(t[1],t[2],t[3],t[4]):(t=tR.exec(e))?cR(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=nR.exec(e))?gR(t[1],t[2]/100,t[3]/100,1):(t=iR.exec(e))?gR(t[1],t[2]/100,t[3]/100,t[4]):rR.hasOwnProperty(e)?lR(rR[e]):"transparent"===e?new dR(NaN,NaN,NaN,0):null}function lR(e){return new dR(e>>16&255,e>>8&255,255&e,1)}function cR(e,t,n,i){return i<=0&&(e=t=n=NaN),new dR(e,t,n,i)}function uR(e,t,n,i){return 1===arguments.length?function(e){return e instanceof HN||(e=sR(e)),e?new dR((e=e.rgb()).r,e.g,e.b,e.opacity):new dR}(e):new dR(e,t,n,null==i?1:i)}function dR(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function hR(){return"#".concat(AR(this.r)).concat(AR(this.g)).concat(AR(this.b))}function pR(){const e=mR(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(fR(this.r),", ").concat(fR(this.g),", ").concat(fR(this.b)).concat(1===e?")":", ".concat(e,")"))}function mR(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fR(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function AR(e){return((e=fR(e))<16?"0":"")+e.toString(16)}function gR(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yR(e,t,n,i)}function vR(e){if(e instanceof yR)return new yR(e.h,e.s,e.l,e.opacity);if(e instanceof HN||(e=sR(e)),!e)return new yR;if(e instanceof yR)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=t===a?(n-i)/s+6*(n<i):n===a?(i-t)/s+2:(t-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new yR(o,s,l,e.opacity)}function yR(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function bR(e){return(e=(e||0)%360)<0?e+360:e}function xR(e){return Math.max(0,Math.min(1,e||0))}function wR(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function TR(e,t,n,i,r){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*i+o*r)/6}qN(HN,sR,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aR,formatHex:aR,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return vR(this).formatHsl()},formatRgb:oR,toString:oR}),qN(dR,uR,GN(HN,{brighter(e){return e=null==e?QN:Math.pow(QN,e),new dR(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?WN:Math.pow(WN,e),new dR(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dR(fR(this.r),fR(this.g),fR(this.b),mR(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hR,formatHex:hR,formatHex8:function(){return"#".concat(AR(this.r)).concat(AR(this.g)).concat(AR(this.b)).concat(AR(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:pR,toString:pR})),qN(yR,function(e,t,n,i){return 1===arguments.length?vR(e):new yR(e,t,n,null==i?1:i)},GN(HN,{brighter(e){return e=null==e?QN:Math.pow(QN,e),new yR(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?WN:Math.pow(WN,e),new yR(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new dR(wR(e>=240?e-240:e+120,r,i),wR(e,r,i),wR(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new yR(bR(this.h),xR(this.s),xR(this.l),mR(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mR(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(bR(this.h),", ").concat(100*xR(this.s),"%, ").concat(100*xR(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const _R=e=>()=>e;function SR(e,t){return function(n){return e+n*t}}function MR(e){return 1===(e=+e)?ER:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):_R(isNaN(t)?n:t)}}function ER(e,t){var n=t-e;return n?SR(e,n):_R(isNaN(e)?t:e)}const CR=function e(t){var n=MR(t);function i(e,t){var i=n((e=uR(e)).r,(t=uR(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),o=ER(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function PR(e){return function(t){var n,i,r=t.length,a=new Array(r),o=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=uR(t[n]),a[n]=i.r||0,o[n]=i.g||0,s[n]=i.b||0;return a=e(a),o=e(o),s=e(s),i.opacity=1,function(e){return i.r=a(e),i.g=o(e),i.b=s(e),i+""}}}PR(function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],a=e[i+1],o=i>0?e[i-1]:2*r-a,s=i<t-1?e[i+2]:2*a-r;return TR((n-i/t)*t,o,r,a,s)}}),PR(function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],a=e[i%t],o=e[(i+1)%t],s=e[(i+2)%t];return TR((n-i/t)*t,r,a,o,s)}});function NR(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<i;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}}function RR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DR(e,t){return(RR(t)?NR:IR)(e,t)}function IR(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=VR(e[n],t[n]);for(;n<i;++n)o[n]=t[n];return function(e){for(n=0;n<r;++n)o[n]=a[n](e);return o}}function LR(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function kR(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BR(e,t){var n,i={},r={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=VR(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}var FR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OR=new RegExp(FR.source,"g");function UR(e,t){var n,i,r,a=FR.lastIndex=OR.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=FR.exec(e))&&(i=OR.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:kR(n,i)})),a=OR.lastIndex;return a<t.length&&(r=t.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function VR(e,t){var n,i=typeof t;return null==t||"boolean"===i?_R(t):("number"===i?kR:"string"===i?(n=sR(t))?(t=n,CR):UR:t instanceof sR?CR:t instanceof Date?LR:RR(t)?NR:Array.isArray(t)?IR:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?BR:kR)(e,t)}function jR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function zR(e){return+e}var qR=[0,1];function GR(e){return e}function HR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function WR(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=HR(r,i),a=n(o,a)):(i=HR(i,r),a=n(a,o)),function(e){return a(i(e))}}function QR(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=HR(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=zN(e,t,1,i)-1;return a[n](r[n](t))}}function YR(){var e,t,n,i,r,a,o=qR,s=qR,l=VR,c=GR;function u(){var e=Math.min(o.length,s.length);return c!==GR&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),i=e>2?QR:WR,r=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(r||(r=i(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=i(s,o.map(e),kR)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,zR),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=jR,u()},d.clamp=function(e){return arguments.length?(c=!!e||GR,u()):c!==GR},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,u()}}function XR(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var KR,ZR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JR(e){if(!(t=ZR.exec(e)))throw new Error("invalid format: "+e);var t;return new $R({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $R(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function eD(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function tD(e){return(e=eD(Math.abs(e)))?e[1]:NaN}function nD(e,t){var n=eD(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}JR.prototype=$R.prototype,$R.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const iD={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nD(100*e,t),r:nD,s:function(e,t){var n=eD(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(KR=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+eD(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rD(e){return e}var aD,oD,sD,lD=Array.prototype.map,cD=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function uD(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?rD:(t=lD.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,a=[],o=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?rD:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(lD.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=JR(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,m=e.width,f=e.comma,A=e.precision,g=e.trim,v=e.type;"n"===v?(f=!0,v="g"):iD[v]||(void 0===A&&(A=12),g=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?r:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?a:/[%p]/.test(v)?l:"",x=iD[v],w=/[defgprs%]/.test(v);function T(e){var r,a,l,h=y,T=b;if("c"===v)T=x(e)+T,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),A),g&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==d&&(_=!1),h=(_?"("===d?d:c:"-"===d||"("===d?"":d)+h,T=("s"===v?cD[8+KR/3]:"")+T+(_&&"("===d?")":""),w)for(r=-1,a=e.length;++r<a;)if(48>(l=e.charCodeAt(r))||l>57){T=(46===l?o+e.slice(r+1):e.slice(r))+T,e=e.slice(0,r);break}}f&&!p&&(e=i(e,1/0));var S=h.length+e.length+T.length,M=S<m?new Array(m-S+1).join(t):"";switch(f&&p&&(e=i(M+e,M.length?m-T.length:1/0),M=""),n){case"<":e=h+e+T+M;break;case"=":e=h+M+e+T;break;case"^":e=M.slice(0,S=M.length>>1)+h+e+T+M.slice(S);break;default:e=M+h+e+T}return s(e)}return A=void 0===A?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A)),T.toString=function(){return e+""},T}return{format:d,formatPrefix:function(e,t){var n=d(((e=JR(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(tD(t)/3))),r=Math.pow(10,-i),a=cD[8+i/3];return function(e){return n(r*e)+a}}}}function dD(e,t,n,i){var r,a=function(e,t,n){n=+n;const i=(t=+t)<(e=+e),r=i?kN(t,e,n):kN(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}(e,t,n);switch((i=JR(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tD(t)/3)))-tD(Math.abs(e)))}(a,o))||(i.precision=r),sD(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tD(t)-tD(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-tD(Math.abs(e)))}(a))||(i.precision=r-2*("%"===i.type))}return oD(i)}function hD(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const i=t<e,[r,a,o]=i?LN(t,e,n):LN(e,t,n);if(!(a>=r))return[];const s=a-r+1,l=new Array(s);if(i)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(r+c)/-o;else for(let c=0;c<s;++c)l[c]=(r+c)*o;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return dD(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(r=l,l=c,c=r,r=o,o=s,s=r);u-- >0;){if((r=kN(l,c,n))===i)return a[o]=l,a[s]=c,t(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function pD(){var e=YR()(GR,GR);return e.copy=function(){return t=e,pD().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},XR.apply(e,arguments),hD(e)}aD=uD({thousands:",",grouping:[3],currency:["$",""]}),oD=aD.format,sD=aD.formatPrefix;var mD=1e-6,fD=1e-12,AD=Math.PI,gD=AD/2,vD=AD/4,yD=2*AD,bD=180/AD,xD=AD/180,wD=Math.abs,TD=Math.atan,_D=Math.atan2,SD=Math.cos,MD=Math.ceil,ED=Math.exp,CD=(Math.floor,Math.hypot),PD=Math.log,ND=(Math.pow,Math.sin),RD=Math.sign||function(e){return e>0?1:e<0?-1:0},DD=Math.sqrt,ID=Math.tan;function LD(e){return e>1?gD:e<-1?-gD:Math.asin(e)}function kD(e){return(e=ND(e/2))*e}function BD(e,t){return[e,PD(ID((gD+t)/2))]}function FD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function OD(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function UD(e,t,n){return t=WD(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QD()?Reflect.construct(t,[],WD(e).constructor):t.apply(e,n))}function VD(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jD(e,t){return e.get(OD(e,t))}function zD(e,t,n){VD(e,t),t.set(e,n)}function qD(e,t,n){return e.set(OD(e,t),n),n}function GD(e,t,n){return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ZD(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HD(e,t,n){return(t=ZD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e){return WD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WD(e)}function QD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(QD=function(){return!!e})()}function YD(e,t){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YD(e,t)}function XD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||JD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KD(e){return function(e){if(Array.isArray(e))return FD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZD(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function JD(e,t){if(e){if("string"==typeof e)return FD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FD(e,t):void 0}}BD.invert=function(e,t){return[e,2*TD(ED(t))-gD]};var $D=function(e){e instanceof Array?e.forEach($D):(e.map&&e.map.dispose(),e.dispose())},eI=function(e){e.geometry&&e.geometry.dispose(),e.material&&$D(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(eI)},tI=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),eI(t)}};function nI(e,t,n){var i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180;return{x:n*Math.sin(i)*Math.cos(r),y:n*Math.cos(i),z:n*Math.sin(i)*Math.sin(r)}}function iI(e){return e*Math.PI/180}var rI=function(e){return 1-(BD(0,(.5-e)*Math.PI)[1]/Math.PI+1)/2},aI=function(e){return Math.max(0,Math.min(1,rI(e)))},oI=function(e){return.5-BD.invert(0,(2*(1-e)-1)*Math.PI)[1]/Math.PI},sI=function(e,t,n,i){var r=Math.pow(2,e),a=Math.max(0,Math.min(r-1,Math.floor((n+180)*r/360))),o=(90-i)/180;return t&&(o=Math.max(0,Math.min(1,rI(o)))),[a,Math.floor(o*r)]},lI=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=[],s=Math.pow(2,e),l=360/s,c=180/s,u=void 0===r?s-1:r,d=void 0===a?s-1:a,h=n,p=Math.min(s-1,u);h<=p;h++)for(var m=i,f=Math.min(s-1,d);m<=f;m++){var A=m,g=c;if(t)A=0===m?m:oI(m/s)*s,g=180*((m+1===s?m+1:oI((m+1)/s)*s)-A)/s;var v=(h+.5)*l-180,y=90-(180*A/s+g/2),b=g;o.push({x:h,y:m,lng:v,lat:y,latLen:b})}return o},cI=new WeakMap,uI=new WeakMap,dI=new WeakMap,hI=new WeakMap,pI=new WeakMap,mI=new WeakMap,fI=new WeakMap,AI=new WeakMap,gI=new WeakSet,vI=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.tileUrl,a=i.minLevel,o=void 0===a?0:a,s=i.maxLevel,l=void 0===s?17:s,c=i.mercatorProjection,u=void 0===c||c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){VD(e,t),t.add(e)}(n=UD(this,t),gI),zD(n,cI,void 0),zD(n,uI,void 0),zD(n,dI,void 0),zD(n,hI,void 0),zD(n,pI,{}),zD(n,mI,void 0),zD(n,fI,void 0),zD(n,AI,void 0),HD(n,"minLevel",void 0),HD(n,"maxLevel",void 0),HD(n,"thresholds",KD(new Array(30)).map(function(e,t){return 8/Math.pow(2,t)})),HD(n,"curvatureResolution",5),HD(n,"tileMargin",0),HD(n,"clearTiles",function(){Object.values(jD(pI,n)).forEach(function(e){e.forEach(function(e){e.obj&&(n.remove(e.obj),tI(e.obj),delete e.obj)})}),qD(pI,n,{})}),qD(cI,n,e),n.tileUrl=r,qD(uI,n,u),n.minLevel=o,n.maxLevel=l,n.level=0,n.add(qD(AI,n,new Hc(new Cp(.99*jD(cI,n),180,90),new sc({color:0})))),jD(AI,n).visible=!1,jD(AI,n).material.polygonOffset=!0,jD(AI,n).material.polygonOffsetUnits=3,jD(AI,n).material.polygonOffsetFactor=1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YD(e,t)}(t,e),GD(t,[{key:"tileUrl",get:function(){return jD(dI,this)},set:function(e){qD(dI,this,e),this.updatePov(jD(fI,this))}},{key:"level",get:function(){return jD(hI,this)},set:function(e){var t=this;jD(pI,this)[e]||OD(gI,this,yI).call(this,e);var n=jD(hI,this);if(qD(hI,this,e),e!==n&&void 0!==n){if(jD(AI,this).visible=e>0,jD(pI,this)[e].forEach(function(e){return e.obj&&(e.obj.material.depthWrite=!0)}),n<e&&jD(pI,this)[n].forEach(function(e){return e.obj&&(e.obj.material.depthWrite=!1)}),n>e)for(var i=e+1;i<=n;i++)jD(pI,this)[i]&&jD(pI,this)[i].forEach(function(e){e.obj&&(t.remove(e.obj),tI(e.obj),delete e.obj)});OD(gI,this,bI).call(this)}}},{key:"updatePov",value:function(e){var t,n=this;if(e&&e instanceof $c&&(qD(fI,this,e),qD(mI,this,function(i){if(!i.hullPnts){var r=360/Math.pow(2,n.level),a=i.lng,o=i.lat,s=i.latLen,l=a-r/2,c=a+r/2,u=o-s/2,d=o+s/2;i.hullPnts=[[o,a],[u,l],[d,l],[u,c],[d,c]].map(function(e){var t=XD(e,2);return nI(t[0],t[1],jD(cI,n))}).map(function(e){var t=e.x,n=e.y,i=e.z;return new as(t,n,i)})}return t||(t=new hd,e.updateMatrix(),e.updateMatrixWorld(),t.setFromProjectionMatrix((new dl).multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse))),i.hullPnts.some(function(e){return t.containsPoint(e.clone().applyMatrix4(n.matrixWorld))})}),this.tileUrl)){var i=(e.position.clone().distanceTo(this.getWorldPosition(new as))-jD(cI,this))/jD(cI,this),r=this.thresholds.findIndex(function(e){return e&&e<=i});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,r<0?this.thresholds.length:r)),OD(gI,this,bI).call(this)}}}])}(lu);function yI(e){var t=this;if(e>7)jD(pI,this)[e]=[];else{var n=jD(pI,this)[e]=lI(e,jD(uI,this));n.forEach(function(e){return e.centroid=nI(e.lat,e.lng,jD(cI,t))}),n.octree=EN().x(function(e){return e.centroid.x}).y(function(e){return e.centroid.y}).z(function(e){return e.centroid.z}).addAll(n)}}function bI(){var e=this;if(this.tileUrl&&void 0!==this.level&&jD(pI,this).hasOwnProperty(this.level)&&(jD(mI,this)||!(this.level>6))){var t=jD(pI,this)[this.level];if(jD(fI,this)){var n=this.worldToLocal(jD(fI,this).position.clone());if(t.octree){var i,r=this.worldToLocal(jD(fI,this).position.clone()),a=3*(r.length()-jD(cI,this));t=(i=t.octree).findAllWithinRadius.apply(i,KD(r).concat([a]))}else{var o=function(e){var t=e.x,n=e.y,i=e.z,r=Math.sqrt(t*t+n*n+i*i),a=Math.acos(n/r),o=Math.atan2(i,t);return{lat:90-180*a/Math.PI,lng:90-180*o/Math.PI-(o<-Math.PI/2?360:0),r:r}}(n),s=90*(o.r/jD(cI,this)-1),l=s/Math.cos(iI(o.lat)),c=[o.lng-l,o.lng+l],u=[o.lat+s,o.lat-s],d=XD(sI(this.level,jD(uI,this),c[0],u[0]),2),h=d[0],p=d[1],m=XD(sI(this.level,jD(uI,this),c[1],u[1]),2),f=m[0],A=m[1];!t.record&&(t.record={});var g=t.record;if(g.hasOwnProperty("".concat(Math.round((h+f)/2),"_").concat(Math.round((p+A)/2)))){for(var v=[],y=h;y<=f;y++)for(var b=p;b<=A;b++){var x="".concat(y,"_").concat(b);g.hasOwnProperty(x)||(g[x]=lI(this.level,jD(uI,this),y,b,y,b)[0],t.push(g[x])),v.push(g[x])}t=v}else t=lI(this.level,jD(uI,this),h,p,f,A).map(function(e){var n="".concat(e.x,"_").concat(e.y);return g.hasOwnProperty(n)?g[n]:(g[n]=e,t.push(e),e)})}}t.filter(function(e){return!e.obj}).filter(jD(mI,this)||function(){return!0}).forEach(function(t){var n=t.x,i=t.y,r=t.lng,a=t.lat,o=t.latLen,s=360/Math.pow(2,e.level);if(!t.obj){var l=s*(1-e.tileMargin),c=o*(1-e.tileMargin),u=iI(r),d=iI(-a),h=new Hc(new Cp(jD(cI,e),Math.ceil(l/e.curvatureResolution),Math.ceil(c/e.curvatureResolution),iI(90-l/2)+u,iI(l),iI(90-c/2)+d,iI(c)),new qp);if(jD(uI,e)){var p=XD([a+o/2,a-o/2].map(function(e){return.5-e/180}),2),m=p[0],f=p[1];!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=pD().domain([1,0]).range([t,n]).clamp(!0),r=pD().domain([aI(t),aI(n)]).range([1,0]).clamp(!0),a=function(e){return r(aI(i(e)))},o=e.array,s=0,l=o.length;s<l;s+=2)o[s+1]=a(o[s+1]);e.needsUpdate=!0}(h.geometry.attributes.uv,m,f)}t.obj=h}t.loading||(t.loading=!0,(new Mm).load(e.tileUrl(n,i,e.level),function(n){var i=t.obj;i&&(n.colorSpace=eo,i.material.map=n,i.material.color=null,i.material.needsUpdate=!0,e.add(i)),t.loading=!1}))})}}function xI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const i=t&&t.length,r=i?t[0]*n:e.length;let a=wI(e,0,r,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c;if(i&&(a=function(e,t,n,i){const r=[];for(let a=0,o=t.length;a<o;a++){const n=wI(e,t[a]*i,a<o-1?t[a+1]*i:e.length,i,!1);n===n.next&&(n.steiner=!0),r.push(II(n))}r.sort(PI);for(let a=0;a<r.length;a++)n=NI(r[a],n);return n}(e,t,a,n)),e.length>80*n){s=1/0,l=1/0;let t=-1/0,i=-1/0;for(let a=n;a<r;a+=n){const n=e[a],r=e[a+1];n<s&&(s=n),r<l&&(l=r),n>t&&(t=n),r>i&&(i=r)}c=Math.max(t-s,i-l),c=0!==c?32767/c:0}return _I(a,o,n,s,l,c,0),o}function wI(e,t,n,i,r){let a;if(r===QI(e,t,n,i)>0)for(let o=t;o<n;o+=i)a=GI(o/i|0,e[o],e[o+1],a);else for(let o=n-i;o>=t;o-=i)a=GI(o/i|0,e[o],e[o+1],a);return a&&OI(a,a.next)&&(HI(a),a=a.next),a}function TI(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!OI(i,i.next)&&0!==FI(i.prev,i,i.next))i=i.next;else{if(HI(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function _I(e,t,n,i,r,a,o){if(!e)return;!o&&a&&function(e,t,n,i){let r=e;do{0===r.z&&(r.z=DI(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n=1;do{let i,r=e;e=null;let a=null;for(t=0;r;){t++;let o=r,s=0;for(let e=0;e<n&&(s++,o=o.nextZ,o);e++);let l=n;for(;s>0||l>0&&o;)0!==s&&(0===l||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=o}a.nextZ=null,n*=2}while(t>1)}(r)}(e,i,r,a);let s=e;for(;e.prev!==e.next;){const l=e.prev,c=e.next;if(a?MI(e,i,r,a):SI(e))t.push(l.i,e.i,c.i),HI(e),e=c.next,s=c.next;else if((e=c)===s){o?1===o?_I(e=EI(TI(e),t),t,n,i,r,a,2):2===o&&CI(e,t,n,i,r,a):_I(TI(e),t,n,i,r,a,1);break}}}function SI(e){const t=e.prev,n=e,i=e.next;if(FI(t,n,i)>=0)return!1;const r=t.x,a=n.x,o=i.x,s=t.y,l=n.y,c=i.y,u=Math.min(r,a,o),d=Math.min(s,l,c),h=Math.max(r,a,o),p=Math.max(s,l,c);let m=i.next;for(;m!==t;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=p&&kI(r,s,a,l,o,c,m.x,m.y)&&FI(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function MI(e,t,n,i){const r=e.prev,a=e,o=e.next;if(FI(r,a,o)>=0)return!1;const s=r.x,l=a.x,c=o.x,u=r.y,d=a.y,h=o.y,p=Math.min(s,l,c),m=Math.min(u,d,h),f=Math.max(s,l,c),A=Math.max(u,d,h),g=DI(p,m,t,n,i),v=DI(f,A,t,n,i);let y=e.prevZ,b=e.nextZ;for(;y&&y.z>=g&&b&&b.z<=v;){if(y.x>=p&&y.x<=f&&y.y>=m&&y.y<=A&&y!==r&&y!==o&&kI(s,u,l,d,c,h,y.x,y.y)&&FI(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,b.x>=p&&b.x<=f&&b.y>=m&&b.y<=A&&b!==r&&b!==o&&kI(s,u,l,d,c,h,b.x,b.y)&&FI(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;y&&y.z>=g;){if(y.x>=p&&y.x<=f&&y.y>=m&&y.y<=A&&y!==r&&y!==o&&kI(s,u,l,d,c,h,y.x,y.y)&&FI(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=f&&b.y>=m&&b.y<=A&&b!==r&&b!==o&&kI(s,u,l,d,c,h,b.x,b.y)&&FI(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function EI(e,t){let n=e;do{const i=n.prev,r=n.next.next;!OI(i,r)&&UI(i,n,n.next,r)&&zI(i,r)&&zI(r,i)&&(t.push(i.i,n.i,r.i),HI(n),HI(n.next),n=e=r),n=n.next}while(n!==e);return TI(n)}function CI(e,t,n,i,r,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&BI(o,e)){let s=qI(o,e);return o=TI(o,o.next),s=TI(s,s.next),_I(o,t,n,i,r,a,0),void _I(s,t,n,i,r,a,0)}e=e.next}o=o.next}while(o!==e)}function PI(e,t){let n=e.x-t.x;if(0===n&&(n=e.y-t.y,0===n)){n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)}return n}function NI(e,t){const n=function(e,t){let n=t;const i=e.x,r=e.y;let a,o=-1/0;if(OI(e,n))return n;do{if(OI(e,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const e=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=i&&e>o&&(o=e,a=n.x<n.next.x?n:n.next,e===i))return a}n=n.next}while(n!==t);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(i>=n.x&&n.x>=l&&i!==n.x&&LI(r<c?i:o,r,l,c,r<c?o:i,r,n.x,n.y)){const t=Math.abs(r-n.y)/(i-n.x);zI(n,e)&&(t<u||t===u&&(n.x>a.x||n.x===a.x&&RI(a,n)))&&(a=n,u=t)}n=n.next}while(n!==s);return a}(e,t);if(!n)return t;const i=qI(n,e);return TI(i,i.next),TI(n,n.next)}function RI(e,t){return FI(e.prev,e,t.prev)<0&&FI(t.next,e,e.next)<0}function DI(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function II(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function LI(e,t,n,i,r,a,o,s){return(r-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(i-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function kI(e,t,n,i,r,a,o,s){return!(e===o&&t===s)&&LI(e,t,n,i,r,a,o,s)}function BI(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&UI(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(zI(e,t)&&zI(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(FI(e.prev,e,t.prev)||FI(e,t.prev,t))||OI(e,t)&&FI(e.prev,e,e.next)>0&&FI(t.prev,t,t.next)>0)}function FI(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function OI(e,t){return e.x===t.x&&e.y===t.y}function UI(e,t,n,i){const r=jI(FI(e,t,n)),a=jI(FI(e,t,i)),o=jI(FI(n,i,e)),s=jI(FI(n,i,t));return r!==a&&o!==s||(!(0!==r||!VI(e,n,t))||(!(0!==a||!VI(e,i,t))||(!(0!==o||!VI(n,e,i))||!(0!==s||!VI(n,t,i)))))}function VI(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function jI(e){return e>0?1:e<0?-1:0}function zI(e,t){return FI(e.prev,e,e.next)<0?FI(e,t,e.next)>=0&&FI(e,e.prev,t)>=0:FI(e,t,e.prev)<0||FI(e,e.next,t)<0}function qI(e,t){const n=WI(e.i,e.x,e.y),i=WI(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function GI(e,t,n,i){const r=WI(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function HI(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function WI(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function QI(e,t,n,i){let r=0;for(let a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}function YI(e){const t=[],n=[],i=e[0][0].length;let r=0,a=0;for(const o of e){for(const e of o)for(let n=0;n<i;n++)t.push(e[n]);a&&(r+=a,n.push(r)),a=o.length}return{vertices:t,holes:n,dimensions:i}}class XI{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=t[i],a=e+r,o=Math.abs(e)<Math.abs(r)?e-(a-r):r-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,r=this._n,a=0;if(r>0){for(a=e[--r];r>0&&(t=a,n=e[--r],a=t+n,i=n-(a-t),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(n=2*i,t=a+n,n==t-a&&(a=t))}return a}}function KI(){}function ZI(e,t){e&&iL.hasOwnProperty(e.type)&&iL[e.type](e,t)}var JI,$I,eL,tL,nL={Feature:function(e,t){ZI(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)ZI(n[i].geometry,t)}},iL={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){rL(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)rL(n[i],t,0)},Polygon:function(e,t){aL(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)aL(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)ZI(n[i],t)}};function rL(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function aL(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)rL(e[n],t,1);t.polygonEnd()}function oL(e,t){e&&nL.hasOwnProperty(e.type)?nL[e.type](e,t):ZI(e,t)}var sL={sphere:KI,point:KI,lineStart:function(){sL.point=cL,sL.lineEnd=lL},lineEnd:KI,polygonStart:KI,polygonEnd:KI};function lL(){sL.point=sL.lineEnd=KI}function cL(e,t){$I=e*=xD,eL=ND(t*=xD),tL=SD(t),sL.point=uL}function uL(e,t){e*=xD;var n=ND(t*=xD),i=SD(t),r=wD(e-$I),a=SD(r),o=i*ND(r),s=tL*n-eL*i*a,l=eL*n+tL*i*a;JI.add(_D(DD(o*o+s*s),l)),$I=e,eL=n,tL=i}var dL=[null,null],hL={type:"LineString",coordinates:dL};function pL(e,t){return dL[0]=e,dL[1]=t,function(e){return JI=new XI,oL(e,sL),+JI}(hL)}function mL(e,t){var n=e[0]*xD,i=e[1]*xD,r=t[0]*xD,a=t[1]*xD,o=SD(i),s=ND(i),l=SD(a),c=ND(a),u=o*SD(n),d=o*ND(n),h=l*SD(r),p=l*ND(r),m=2*LD(DD(kD(a-i)+o*l*kD(r-n))),f=ND(m),A=m?function(e){var t=ND(e*=m)/f,n=ND(m-e)/f,i=n*u+t*h,r=n*d+t*p,a=n*s+t*c;return[_D(r,i)*bD,_D(a,DD(i*i+r*r))*bD]}:function(){return[n*bD,i*bD]};return A.distance=m,A}function fL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function AL(e,t,n){return t=gL(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vL()?Reflect.construct(t,[],gL(e).constructor):t.apply(e,n))}function gL(e){return gL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gL(e)}function vL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vL=function(){return!!e})()}function yL(e,t){return yL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yL(e,t)}function bL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||wL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xL(e){return function(e){if(Array.isArray(e))return fL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wL(e,t){if(e){if("string"==typeof e)return fL(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fL(e,t):void 0}}var TL=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[],n=null;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(i){if(n){var r=180*pL(i,n)/Math.PI;if(r>e)for(var a=mL(n,i),o=n.length>2||i.length>2?kR(n[2]||0,i[2]||0):null,s=o?function(e){return[].concat(xL(a(e)),[o(e)])}:a,l=1/Math.ceil(r/e),c=l;c<1;)t.push(s(c)),c+=l}t.push(n=i)}),t},_L="undefined"!==typeof window&&window.THREE?window.THREE:{BufferGeometry:Ic,Float32BufferAttribute:Sc},SL=(new _L.BufferGeometry).setAttribute?"setAttribute":"addAttribute",ML=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=AL(this,t)).type="GeoJsonGeometry",n.parameters={geoJson:e,radius:i,resolution:r};var a=({Point:c,MultiPoint:function(e,t){var n={vertices:[],indices:[]};return e.map(function(e){return c(e,t)}).forEach(function(e){var t=bL(e,1)[0];EL(n,t)}),[n]},LineString:u,MultiLineString:function(e,t){var n={vertices:[],indices:[]};return e.map(function(e){return u(e,t)}).forEach(function(e){var t=bL(e,1)[0];EL(n,t)}),[n]},Polygon:d,MultiPolygon:function(e,t){var n={vertices:[],indices:[]},i={vertices:[],indices:[]};e.map(function(e){return d(e,t)}).forEach(function(e){var t=bL(e,2),r=t[0],a=t[1];EL(n,r),a&&EL(i,a)});var r=[n];return i.vertices.length&&r.push(i),r}}[e.type]||function(){return[]})(e.coordinates,i),o=[],s=[],l=0;function c(e,t){return[{vertices:PL(e[1],e[0],t+(e[2]||0)),indices:[]}]}function u(e,t){for(var n=YI([TL(e,r).map(function(e){var n=bL(e,3),i=n[0],r=n[1],a=n[2];return PL(r,i,t+(void 0===a?0:a))})]).vertices,i=Math.round(n.length/3),a=[],o=1;o<i;o++)a.push(o-1,o);return[{vertices:n,indices:a}]}function d(e,t){for(var n=YI(e.map(function(e){return TL(e,r).map(function(e){var n=bL(e,3),i=n[0],r=n[1],a=n[2];return PL(r,i,t+(void 0===a?0:a))})})),i=n.vertices,a=n.holes,o=a[0]||1/0,s=i.slice(0,3*o),l=i.slice(3*o),c=new Set(a),u=Math.round(i.length/3),d=[],h=[],p=1;p<u;p++)c.has(p)||(p<o?d.push(p-1,p):h.push(p-1-o,p-o));var m=[{indices:d,vertices:s}];return a.length&&m.push({indices:h,vertices:l}),m}return a.forEach(function(e){var t=o.length;EL({indices:o,vertices:s},e),n.addGroup(t,o.length-t,l++)}),o.length&&n.setIndex(o),s.length&&n[SL]("position",new _L.Float32BufferAttribute(s,3)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yL(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(_L.BufferGeometry);function EL(e,t){var n=Math.round(e.vertices.length/3);CL(e.vertices,t.vertices),CL(e.indices,t.indices.map(function(e){return e+n}))}function CL(e,t){var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wL(e))||t){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.push(r)}}catch(a){i.e(a)}finally{i.f()}}function PL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180;return[n*Math.sin(i)*Math.cos(r),n*Math.cos(i),n*Math.sin(i)*Math.sin(r)]}function NL(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}function RL(e,t,n){var i=NL(e,t-mD,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function DL(e,t,n){var i=NL(e,t-mD,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function IL(){return function(){var e,t,n,i,r,a,o,s,l,c,u,d,h=10,p=h,m=90,f=360,A=2.5;function g(){return{type:"MultiLineString",coordinates:v()}}function v(){return NL(MD(i/m)*m,n,m).map(u).concat(NL(MD(s/f)*f,o,f).map(d)).concat(NL(MD(t/h)*h,e,h).filter(function(e){return wD(e%m)>mD}).map(l)).concat(NL(MD(a/p)*p,r,p).filter(function(e){return wD(e%f)>mD}).map(c))}return g.lines=function(){return v().map(function(e){return{type:"LineString",coordinates:e}})},g.outline=function(){return{type:"Polygon",coordinates:[u(i).concat(d(o).slice(1),u(n).reverse().slice(1),d(s).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),g.precision(A)):[[i,s],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),a>r&&(n=a,a=r,r=n),g.precision(A)):[[t,a],[e,r]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(m=+e[0],f=+e[1],g):[m,f]},g.stepMinor=function(e){return arguments.length?(h=+e[0],p=+e[1],g):[h,p]},g.precision=function(h){return arguments.length?(A=+h,l=RL(a,r,90),c=DL(t,e,A),u=RL(s,o,90),d=DL(i,n,A),g):A},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}()()}function LL(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function i(e){if(e.normalized||e.isInterleavedBufferAttribute){const t=new Float32Array(e.count*e.itemSize);for(let n=0,i=0;n<e.count;n++)t[i++]=e.getX(n),t[i++]=e.getY(n),e.itemSize>2&&(t[i++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}const r=e.index?e.toNonIndexed():e,a=t.generateTangents(i(r.attributes.position),i(r.attributes.normal),i(r.attributes.uv));if(n)for(let o=3;o<a.length;o+=4)a[o]*=-1;return r.setAttribute("tangent",new Ac(a,4)),e!==r&&e.copy(r),e}function kL(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,l=new Ic;let c=0;for(let u=0;u<e.length;++u){const d=e[u];let h=0;if(n!==(null!==d.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in d.attributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(d.attributes[e]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in d.morphAttributes){if(!r.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[e]&&(o[e]=[]),o[e].push(d.morphAttributes[e])}if(t){let e;if(n)e=d.index.count;else{if(void 0===d.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;e=d.attributes.position.count}l.addGroup(c,e,u),c+=e}}if(n){let t=0;const n=[];for(let i=0;i<e.length;++i){const r=e[i].index;for(let e=0;e<r.count;++e)n.push(r.getX(e)+t);t+=e[i].attributes.position.count}l.setIndex(n)}for(const u in a){const e=BL(a[u]);if(!e)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,e)}for(const u in o){const e=o[u][0].length;if(0===e)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let t=0;t<e;++t){const e=[];for(let i=0;i<o[u].length;++i)e.push(o[u][i][t]);const n=BL(e);if(!n)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(n)}}return l}function BL(e){let t,n,i,r=-1,a=0;for(let c=0;c<e.length;++c){const o=e[c];if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=o.itemSize),n!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=o.normalized),i!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===r&&(r=o.gpuType),r!==o.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;a+=o.count*n}const o=new t(a),s=new Ac(o,n,i);let l=0;for(let c=0;c<e.length;++c){const t=e[c];if(t.isInterleavedBufferAttribute){const e=l/n;for(let i=0,r=t.count;i<r;i++)for(let a=0;a<n;a++){const n=t.getComponent(i,a);s.setComponent(i+e,a,n)}}else o.set(t.array,l);l+=t.count*n}return void 0!==r&&(s.gpuType=r),s}function FL(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?UL(e):e.isInstancedBufferAttribute?(new Zu).copy(e):(new Ac).copy(e)}function OL(e){let t,n=0,i=0;for(let c=0,u=e.length;c<u;++c){const r=e[c];if(void 0===t&&(t=r.array.constructor),t!==r.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=r.array.length,i+=r.itemSize}const r=new mu(new t(n),i);let a=0;const o=[],s=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let c=0,u=e.length;c<u;c++){const t=e[c],n=t.itemSize,i=t.count,u=new Au(r,n,a,t.normalized);o.push(u),a+=n;for(let e=0;e<i;e++)for(let i=0;i<n;i++)u[l[i]](e,t[s[i]](e))}return o}function UL(e){const t=e.data.array.constructor,n=e.count,i=e.itemSize,r=e.normalized,a=new t(n*i);let o;o=e.isInstancedInterleavedBufferAttribute?new Zu(a,i,r,e.meshPerAttribute):new Ac(a,i,r);for(let s=0;s<n;s++)o.setX(s,e.getX(s)),i>=2&&o.setY(s,e.getY(s)),i>=3&&o.setZ(s,e.getZ(s)),i>=4&&o.setW(s,e.getW(s));return o}function VL(e){const t=e.attributes,n=e.morphTargets,i=new Map;for(const r in t){const e=t[r];e.isInterleavedBufferAttribute&&(i.has(e)||i.set(e,UL(e)),t[r]=i.get(e))}for(const r in n){const e=n[r];e.isInterleavedBufferAttribute&&(i.has(e)||i.set(e,UL(e)),n[r]=i.get(e))}}function jL(e){let t=0;for(const i in e.attributes){const n=e.getAttribute(i);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}const n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,t}function zL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);const n={},i=e.getIndex(),r=e.getAttribute("position"),a=i?i.count:r.count;let o=0;const s=Object.keys(e.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"];for(let v=0,y=s.length;v<y;v++){const t=s[v],n=e.attributes[t];l[t]=new n.constructor(new n.array.constructor(n.count*n.itemSize),n.itemSize,n.normalized);const i=e.morphAttributes[t];i&&(c[t]||(c[t]=[]),i.forEach((e,n)=>{const i=new e.array.constructor(e.count*e.itemSize);c[t][n]=new e.constructor(i,e.itemSize,e.normalized)}))}const p=.5*t,m=Math.log10(1/t),f=Math.pow(10,m),A=p*f;for(let v=0;v<a;v++){const t=i?i.getX(v):v;let r="";for(let n=0,i=s.length;n<i;n++){const i=s[n],a=e.getAttribute(i),o=a.itemSize;for(let e=0;e<o;e++)r+="".concat(~~(a[d[e]](t)*f+A),",")}if(r in n)u.push(n[r]);else{for(let n=0,i=s.length;n<i;n++){const i=s[n],r=e.getAttribute(i),a=e.morphAttributes[i],u=r.itemSize,p=l[i],m=c[i];for(let e=0;e<u;e++){const n=d[e],i=h[e];if(p[i](o,r[n](t)),a)for(let e=0,r=a.length;e<r;e++)m[e][i](o,a[e][n](t))}}n[r]=o,u.push(o),o++}}const g=e.clone();for(const v in e.attributes){const e=l[v];if(g.setAttribute(v,new e.constructor(e.array.slice(0,o*e.itemSize),e.itemSize,e.normalized)),v in c)for(let t=0;t<c[v].length;t++){const e=c[v][t];g.morphAttributes[v][t]=new e.constructor(e.array.slice(0,o*e.itemSize),e.itemSize,e.normalized)}}return g.setIndex(u),g}function qL(e,t){if(t===Ga)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===Wa||t===Ha){let n=e.getIndex();if(null===n){const t=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<i.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const i=n.count-2,r=[];if(t===Wa)for(let e=1;e<=i;e++)r.push(n.getX(0)),r.push(n.getX(e)),r.push(n.getX(e+1));else for(let e=0;e<i;e++)e%2===0?(r.push(n.getX(e)),r.push(n.getX(e+1)),r.push(n.getX(e+2))):(r.push(n.getX(e+2)),r.push(n.getX(e+1)),r.push(n.getX(e)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(r),a.clearGroups(),a}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function GL(e){const t=new as,n=new as,i=new as,r=new as,a=new as,o=new as,s=new as,l=new as,c=new as;function u(e,u,d,h,p,m,f,A){t.fromBufferAttribute(u,p),n.fromBufferAttribute(u,m),i.fromBufferAttribute(u,f);const g=e.morphTargetInfluences;if(d&&g){s.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(let e=0,u=d.length;e<u;e++){const u=g[e],A=d[e];0!==u&&(r.fromBufferAttribute(A,p),a.fromBufferAttribute(A,m),o.fromBufferAttribute(A,f),h?(s.addScaledVector(r,u),l.addScaledVector(a,u),c.addScaledVector(o,u)):(s.addScaledVector(r.sub(t),u),l.addScaledVector(a.sub(n),u),c.addScaledVector(o.sub(i),u)))}t.add(s),n.add(l),i.add(c)}e.isSkinnedMesh&&(e.applyBoneTransform(p,t),e.applyBoneTransform(m,n),e.applyBoneTransform(f,i)),A[3*p+0]=t.x,A[3*p+1]=t.y,A[3*p+2]=t.z,A[3*m+0]=n.x,A[3*m+1]=n.y,A[3*m+2]=n.z,A[3*f+0]=i.x,A[3*f+1]=i.y,A[3*f+2]=i.z}const d=e.geometry,h=e.material;let p,m,f;const A=d.index,g=d.attributes.position,v=d.morphAttributes.position,y=d.morphTargetsRelative,b=d.attributes.normal,x=d.morphAttributes.position,w=d.groups,T=d.drawRange;let _,S,M,E,C,P,N;const R=new Float32Array(g.count*g.itemSize),D=new Float32Array(b.count*b.itemSize);if(null!==A)if(Array.isArray(h))for(_=0,M=w.length;_<M;_++)for(C=w[_],P=Math.max(C.start,T.start),N=Math.min(C.start+C.count,T.start+T.count),S=P,E=N;S<E;S+=3)p=A.getX(S),m=A.getX(S+1),f=A.getX(S+2),u(e,g,v,y,p,m,f,R),u(e,b,x,y,p,m,f,D);else for(P=Math.max(0,T.start),N=Math.min(A.count,T.start+T.count),_=P,M=N;_<M;_+=3)p=A.getX(_),m=A.getX(_+1),f=A.getX(_+2),u(e,g,v,y,p,m,f,R),u(e,b,x,y,p,m,f,D);else if(Array.isArray(h))for(_=0,M=w.length;_<M;_++)for(C=w[_],P=Math.max(C.start,T.start),N=Math.min(C.start+C.count,T.start+T.count),S=P,E=N;S<E;S+=3)p=S,m=S+1,f=S+2,u(e,g,v,y,p,m,f,R),u(e,b,x,y,p,m,f,D);else for(P=Math.max(0,T.start),N=Math.min(g.count,T.start+T.count),_=P,M=N;_<M;_+=3)p=_,m=_+1,f=_+2,u(e,g,v,y,p,m,f,R),u(e,b,x,y,p,m,f,D);return{positionAttribute:g,normalAttribute:b,morphedPositionAttribute:new Sc(R,3),morphedNormalAttribute:new Sc(D,3)}}function HL(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;let t=e.groups;if(t=t.sort((e,t)=>e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start),null===e.getIndex()){const t=e.getAttribute("position"),n=[];for(let e=0;e<t.count;e+=3)n.push(e,e+1,e+2);e.setIndex(n)}const n=e.getIndex(),i=[];for(let o=0;o<t.length;o++){const e=t[o],r=e.start,a=r+e.count;for(let t=r;t<a;t++)i.push(n.getX(t))}e.dispose(),e.setIndex(i);let r=0;for(let o=0;o<t.length;o++){const e=t[o];e.start=r,r+=e.count}let a=t[0];e.groups=[a];for(let o=1;o<t.length;o++){const n=t[o];a.materialIndex===n.materialIndex?a.count+=n.count:(a=n,e.groups.push(a))}return e}function WL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/3;const n=Math.cos(t),i=100*(1+1e-10),r=[new as,new as,new as],a=new as,o=new as,s=new as,l=new as;function c(e){const t=~~(e.x*i),n=~~(e.y*i),r=~~(e.z*i);return"".concat(t,",").concat(n,",").concat(r)}const u=e.index?e.toNonIndexed():e,d=u.attributes.position,h={};for(let f=0,A=d.count/3;f<A;f++){const e=3*f,t=r[0].fromBufferAttribute(d,e+0),n=r[1].fromBufferAttribute(d,e+1),i=r[2].fromBufferAttribute(d,e+2);a.subVectors(i,n),o.subVectors(t,n);const s=(new as).crossVectors(a,o).normalize();for(let a=0;a<3;a++){const e=c(r[a]);e in h||(h[e]=[]),h[e].push(s)}}const p=new Float32Array(3*d.count),m=new Ac(p,3,!1);for(let f=0,A=d.count/3;f<A;f++){const e=3*f,t=r[0].fromBufferAttribute(d,e+0),i=r[1].fromBufferAttribute(d,e+1),u=r[2].fromBufferAttribute(d,e+2);a.subVectors(u,i),o.subVectors(t,i),s.crossVectors(a,o).normalize();for(let a=0;a<3;a++){const t=h[c(r[a])];l.set(0,0,0);for(let e=0,i=t.length;e<i;e++){const i=t[e];s.dot(i)>n&&l.add(i)}l.normalize(),m.setXYZ(e+a,l.x,l.y,l.z)}}return u.setAttribute("normal",m),u}var QL=function(e){return"function"===typeof e?e:"string"===typeof e?function(t){return t[e]}:function(t){return e}};function YL(e){return YL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YL(e)}var XL=/^\s+/,KL=/\s+$/;function ZL(e,t){if(t=t||{},(e=e||"")instanceof ZL)return e;if(!(this instanceof ZL))return new ZL(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,a=null,o=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(XL,"").replace(KL,"").toLowerCase();var t,n=!1;if(mk[e])e=mk[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=_k.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=_k.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=_k.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=_k.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=_k.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=_k.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=_k.hex8.exec(e))return{r:yk(t[1]),g:yk(t[2]),b:yk(t[3]),a:Tk(t[4]),format:n?"name":"hex8"};if(t=_k.hex6.exec(e))return{r:yk(t[1]),g:yk(t[2]),b:yk(t[3]),format:n?"name":"hex"};if(t=_k.hex4.exec(e))return{r:yk(t[1]+""+t[1]),g:yk(t[2]+""+t[2]),b:yk(t[3]+""+t[3]),a:Tk(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=_k.hex3.exec(e))return{r:yk(t[1]+""+t[1]),g:yk(t[2]+""+t[2]),b:yk(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==YL(e)&&(Sk(e.r)&&Sk(e.g)&&Sk(e.b)?(t=function(e,t,n){return{r:255*gk(e,255),g:255*gk(t,255),b:255*gk(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Sk(e.h)&&Sk(e.s)&&Sk(e.v)?(i=xk(e.s),r=xk(e.v),t=function(e,t,n){e=6*gk(e,360),t=gk(t,100),n=gk(n,100);var i=Math.floor(e),r=e-i,a=n*(1-t),o=n*(1-r*t),s=n*(1-(1-r)*t),l=i%6,c=[n,o,a,a,s,n][l],u=[s,n,n,o,a,a][l],d=[a,a,s,n,n,o][l];return{r:255*c,g:255*u,b:255*d}}(e.h,i,r),o=!0,s="hsv"):Sk(e.h)&&Sk(e.s)&&Sk(e.l)&&(i=xk(e.s),a=xk(e.l),t=function(e,t,n){var i,r,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=gk(e,360),t=gk(t,100),n=gk(n,100),0===t)i=r=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=o(l,s,e+1/3),r=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*i,g:255*r,b:255*a}}(e.h,i,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=Ak(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function JL(e,t,n){e=gk(e,255),t=gk(t,255),n=gk(n,255);var i,r,a=Math.max(e,t,n),o=Math.min(e,t,n),s=(a+o)/2;if(a==o)i=r=0;else{var l=a-o;switch(r=s>.5?l/(2-a-o):l/(a+o),a){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:s}}function $L(e,t,n){e=gk(e,255),t=gk(t,255),n=gk(n,255);var i,r,a=Math.max(e,t,n),o=Math.min(e,t,n),s=a,l=a-o;if(r=0===a?0:l/a,a==o)i=0;else{switch(a){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:s}}function ek(e,t,n,i){var r=[bk(Math.round(e).toString(16)),bk(Math.round(t).toString(16)),bk(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function tk(e,t,n,i){return[bk(wk(i)),bk(Math.round(e).toString(16)),bk(Math.round(t).toString(16)),bk(Math.round(n).toString(16))].join("")}function nk(e,t){t=0===t?0:t||10;var n=ZL(e).toHsl();return n.s-=t/100,n.s=vk(n.s),ZL(n)}function ik(e,t){t=0===t?0:t||10;var n=ZL(e).toHsl();return n.s+=t/100,n.s=vk(n.s),ZL(n)}function rk(e){return ZL(e).desaturate(100)}function ak(e,t){t=0===t?0:t||10;var n=ZL(e).toHsl();return n.l+=t/100,n.l=vk(n.l),ZL(n)}function ok(e,t){t=0===t?0:t||10;var n=ZL(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),ZL(n)}function sk(e,t){t=0===t?0:t||10;var n=ZL(e).toHsl();return n.l-=t/100,n.l=vk(n.l),ZL(n)}function lk(e,t){var n=ZL(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,ZL(n)}function ck(e){var t=ZL(e).toHsl();return t.h=(t.h+180)%360,ZL(t)}function uk(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ZL(e).toHsl(),i=[ZL(e)],r=360/t,a=1;a<t;a++)i.push(ZL({h:(n.h+a*r)%360,s:n.s,l:n.l}));return i}function dk(e){var t=ZL(e).toHsl(),n=t.h;return[ZL(e),ZL({h:(n+72)%360,s:t.s,l:t.l}),ZL({h:(n+216)%360,s:t.s,l:t.l})]}function hk(e,t,n){t=t||6,n=n||30;var i=ZL(e).toHsl(),r=360/n,a=[ZL(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,a.push(ZL(i));return a}function pk(e,t){t=t||6;for(var n=ZL(e).toHsv(),i=n.h,r=n.s,a=n.v,o=[],s=1/t;t--;)o.push(ZL({h:i,s:r,v:a})),a=(a+s)%1;return o}ZL.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=Ak(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$L(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$L(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=JL(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=JL(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return ek(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,i,r){var a=[bk(Math.round(e).toString(16)),bk(Math.round(t).toString(16)),bk(Math.round(n).toString(16)),bk(wk(i))];if(r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*gk(this._r,255))+"%",g:Math.round(100*gk(this._g,255))+"%",b:Math.round(100*gk(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*gk(this._r,255))+"%, "+Math.round(100*gk(this._g,255))+"%, "+Math.round(100*gk(this._b,255))+"%)":"rgba("+Math.round(100*gk(this._r,255))+"%, "+Math.round(100*gk(this._g,255))+"%, "+Math.round(100*gk(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(fk[ek(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+tk(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=ZL(e);n="#"+tk(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return ZL(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(ak,arguments)},brighten:function(){return this._applyModification(ok,arguments)},darken:function(){return this._applyModification(sk,arguments)},desaturate:function(){return this._applyModification(nk,arguments)},saturate:function(){return this._applyModification(ik,arguments)},greyscale:function(){return this._applyModification(rk,arguments)},spin:function(){return this._applyModification(lk,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(hk,arguments)},complement:function(){return this._applyCombination(ck,arguments)},monochromatic:function(){return this._applyCombination(pk,arguments)},splitcomplement:function(){return this._applyCombination(dk,arguments)},triad:function(){return this._applyCombination(uk,[3])},tetrad:function(){return this._applyCombination(uk,[4])}},ZL.fromRatio=function(e,t){if("object"==YL(e)){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:xk(e[i]));e=n}return ZL(e,t)},ZL.equals=function(e,t){return!(!e||!t)&&ZL(e).toRgbString()==ZL(t).toRgbString()},ZL.random=function(){return ZL.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ZL.mix=function(e,t,n){n=0===n?0:n||50;var i=ZL(e).toRgb(),r=ZL(t).toRgb(),a=n/100;return ZL({r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a})},ZL.readability=function(e,t){var n=ZL(e),i=ZL(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},ZL.isReadable=function(e,t,n){var i,r,a=ZL.readability(e,t);switch(r=!1,i=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),i.level+i.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},ZL.mostReadable=function(e,t,n){var i,r,a,o,s=null,l=0;r=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var c=0;c<t.length;c++)(i=ZL.readability(e,t[c]))>l&&(l=i,s=ZL(t[c]));return ZL.isReadable(e,s,{level:a,size:o})||!r?s:(n.includeFallbackColors=!1,ZL.mostReadable(e,["#fff","#000"],n))};var mk=ZL.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fk=ZL.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(mk);function Ak(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function gk(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function vk(e){return Math.min(1,Math.max(0,e))}function yk(e){return parseInt(e,16)}function bk(e){return 1==e.length?"0"+e:""+e}function xk(e){return e<=1&&(e=100*e+"%"),e}function wk(e){return Math.round(255*parseFloat(e)).toString(16)}function Tk(e){return yk(e)/255}var _k=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Sk(e){return!!_k.CSS_UNIT.exec(e)}function Mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ek(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Ck(e,t){return e.get(Ek(e,t))}function Pk(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function Nk(e,t,n){return e.set(Ek(e,t),n),n}function Rk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Lk(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||kk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ik(e){return function(e){if(Array.isArray(e))return Mk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lk(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function kk(e,t){if(e){if("string"==typeof e)return Mk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mk(e,t):void 0}}var Bk=new WeakMap,Fk=new WeakMap,Ok=new WeakMap,Uk=new WeakMap,Vk=new WeakMap,jk=new WeakMap,zk=function(){return Rk(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pk(this,Bk,new Map),Pk(this,Fk,new Map),Pk(this,Ok,function(e){return e}),Pk(this,Uk,function(){return{}}),Pk(this,Vk,function(){}),Pk(this,jk,function(){})},[{key:"getObj",value:function(e){return Ck(Bk,this).get(Ck(Ok,this).call(this,e))}},{key:"getData",value:function(e){return Ck(Fk,this).get(e)}},{key:"entries",value:function(){return Ik(Ck(Fk,this).entries()).map(function(e){var t=Dk(e,2),n=t[0];return[t[1],n]})}},{key:"id",value:function(e){return Nk(Ok,this,QL(e)),this}},{key:"onCreateObj",value:function(e){return Nk(Uk,this,e),this}},{key:"onUpdateObj",value:function(e){return Nk(Vk,this,e),this}},{key:"onRemoveObj",value:function(e){return Nk(jk,this,e),this}},{key:"digest",value:function(e){var t=this;e.filter(function(e){return!Ck(Bk,t).has(Ck(Ok,t).call(t,e))}).forEach(function(e){var n=Ck(Uk,t).call(t,e);Ck(Bk,t).set(Ck(Ok,t).call(t,e),n),Ck(Fk,t).set(n,e)});var n=new Map(e.map(function(e){return[Ck(Ok,t).call(t,e),e]}));return Ck(Bk,this).forEach(function(e,i){n.has(i)?Ck(Vk,t).call(t,e,n.get(i)):(Ck(jk,t).call(t,e,i),Ck(Bk,t).delete(i),Ck(Fk,t).delete(e))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}(),qk=n(724);function Gk(){var e,t=0,n=1,i=1,r=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[zN(r,t,0,i)]:e}function s(){var e=-1;for(r=new Array(i);++e<i;)r[e]=((e+1)*n-(e-i)*t)/(i+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=i?[r[i-1],n]:[r[o-1],r[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return r.slice()},o.copy=function(){return Gk().domain([t,n]).range(a).unknown(e)},XR.apply(hD(o),arguments)}function Hk(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function Wk(e,t){let n,i;if(void 0===t)for(const r of e)null!=r&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(void 0===n?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}const Qk=134217729;function Yk(e,t,n,i,r){let a,o,s,l,c=t[0],u=i[0],d=0,h=0;u>c===u>-c?(a=c,c=t[++d]):(a=u,u=i[++h]);let p=0;if(d<e&&h<n)for(u>c===u>-c?(o=c+a,s=a-(o-c),c=t[++d]):(o=u+a,s=a-(o-u),u=i[++h]),a=o,0!==s&&(r[p++]=s);d<e&&h<n;)u>c===u>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++d]):(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=i[++h]),a=o,0!==s&&(r[p++]=s);for(;d<e;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++d],a=o,0!==s&&(r[p++]=s);for(;h<n;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=i[++h],a=o,0!==s&&(r[p++]=s);return 0===a&&0!==p||(r[p++]=a),p}function Xk(e){return new Float64Array(e)}const Kk=Xk(4),Zk=Xk(8),Jk=Xk(12),$k=Xk(16),eB=Xk(4);function tB(e,t,n,i,r,a){const o=(t-a)*(n-r),s=(e-r)*(i-a),l=o-s,c=Math.abs(o+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,i,r,a,o){let s,l,c,u,d,h,p,m,f,A,g,v,y,b,x,w,T,_;const S=e-r,M=n-r,E=t-a,C=i-a;b=S*C,h=Qk*S,p=h-(h-S),m=S-p,h=Qk*C,f=h-(h-C),A=C-f,x=m*A-(b-p*f-m*f-p*A),w=E*M,h=Qk*E,p=h-(h-E),m=E-p,h=Qk*M,f=h-(h-M),A=M-f,T=m*A-(w-p*f-m*f-p*A),g=x-T,d=x-g,Kk[0]=x-(g+d)+(d-T),v=b+g,d=v-b,y=b-(v-d)+(g-d),g=y-w,d=y-g,Kk[1]=y-(g+d)+(d-w),_=v+g,d=_-v,Kk[2]=v-(_-d)+(g-d),Kk[3]=_;let P=function(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}(4,Kk),N=22204460492503146e-32*o;if(P>=N||-P>=N)return P;if(d=e-S,s=e-(S+d)+(d-r),d=n-M,c=n-(M+d)+(d-r),d=t-E,l=t-(E+d)+(d-a),d=i-C,u=i-(C+d)+(d-a),0===s&&0===l&&0===c&&0===u)return P;if(N=11093356479670487e-47*o+33306690738754706e-32*Math.abs(P),P+=S*u+C*s-(E*c+M*l),P>=N||-P>=N)return P;b=s*C,h=Qk*s,p=h-(h-s),m=s-p,h=Qk*C,f=h-(h-C),A=C-f,x=m*A-(b-p*f-m*f-p*A),w=l*M,h=Qk*l,p=h-(h-l),m=l-p,h=Qk*M,f=h-(h-M),A=M-f,T=m*A-(w-p*f-m*f-p*A),g=x-T,d=x-g,eB[0]=x-(g+d)+(d-T),v=b+g,d=v-b,y=b-(v-d)+(g-d),g=y-w,d=y-g,eB[1]=y-(g+d)+(d-w),_=v+g,d=_-v,eB[2]=v-(_-d)+(g-d),eB[3]=_;const R=Yk(4,Kk,4,eB,Zk);b=S*u,h=Qk*S,p=h-(h-S),m=S-p,h=Qk*u,f=h-(h-u),A=u-f,x=m*A-(b-p*f-m*f-p*A),w=E*c,h=Qk*E,p=h-(h-E),m=E-p,h=Qk*c,f=h-(h-c),A=c-f,T=m*A-(w-p*f-m*f-p*A),g=x-T,d=x-g,eB[0]=x-(g+d)+(d-T),v=b+g,d=v-b,y=b-(v-d)+(g-d),g=y-w,d=y-g,eB[1]=y-(g+d)+(d-w),_=v+g,d=_-v,eB[2]=v-(_-d)+(g-d),eB[3]=_;const D=Yk(R,Zk,4,eB,Jk);b=s*u,h=Qk*s,p=h-(h-s),m=s-p,h=Qk*u,f=h-(h-u),A=u-f,x=m*A-(b-p*f-m*f-p*A),w=l*c,h=Qk*l,p=h-(h-l),m=l-p,h=Qk*c,f=h-(h-c),A=c-f,T=m*A-(w-p*f-m*f-p*A),g=x-T,d=x-g,eB[0]=x-(g+d)+(d-T),v=b+g,d=v-b,y=b-(v-d)+(g-d),g=y-w,d=y-g,eB[1]=y-(g+d)+(d-w),_=v+g,d=_-v,eB[2]=v-(_-d)+(g-d),eB[3]=_;const I=Yk(D,Jk,4,eB,$k);return $k[I-1]}(e,t,n,i,r,a,c)}Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(8),Xk(8),Xk(8),Xk(4),Xk(8),Xk(8),Xk(8),Xk(12);Xk(192),Xk(192);Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(8),Xk(8),Xk(8),Xk(8),Xk(8),Xk(8),Xk(8),Xk(8),Xk(8),Xk(4),Xk(4),Xk(4),Xk(8),Xk(16),Xk(16),Xk(16),Xk(32),Xk(32),Xk(48),Xk(64);Xk(1152),Xk(1152);Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(4),Xk(24),Xk(24),Xk(24),Xk(24),Xk(24),Xk(24),Xk(24),Xk(24),Xk(24),Xk(24),Xk(1152),Xk(1152),Xk(1152),Xk(1152),Xk(1152),Xk(2304),Xk(2304),Xk(3456),Xk(5760),Xk(8),Xk(8),Xk(8),Xk(16),Xk(24),Xk(48),Xk(48),Xk(96),Xk(192),Xk(384),Xk(384),Xk(384),Xk(768);Xk(96),Xk(96),Xk(96),Xk(1152);const nB=Math.pow(2,-52),iB=new Uint32Array(512);class rB{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uB,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dB;const i=e.length,r=new Float64Array(2*i);for(let a=0;a<i;a++){const i=e[a];r[2*a]=t(i),r[2*a+1]=n(i)}return new rB(r)}constructor(e){const t=e.length>>1;if(t>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:i,_hullHash:r}=this,a=e.length>>1;let o=1/0,s=1/0,l=-1/0,c=-1/0;for(let _=0;_<a;_++){const t=e[2*_],n=e[2*_+1];t<o&&(o=t),n<s&&(s=n),t>l&&(l=t),n>c&&(c=n),this._ids[_]=_}const u=(o+l)/2,d=(s+c)/2;let h,p,m;for(let _=0,S=1/0;_<a;_++){const t=aB(u,d,e[2*_],e[2*_+1]);t<S&&(h=_,S=t)}const f=e[2*h],A=e[2*h+1];for(let _=0,S=1/0;_<a;_++){if(_===h)continue;const t=aB(f,A,e[2*_],e[2*_+1]);t<S&&t>0&&(p=_,S=t)}let g=e[2*p],v=e[2*p+1],y=1/0;for(let _=0;_<a;_++){if(_===h||_===p)continue;const t=sB(f,A,g,v,e[2*_],e[2*_+1]);t<y&&(m=_,y=t)}let b=e[2*m],x=e[2*m+1];if(y===1/0){for(let i=0;i<a;i++)this._dists[i]=e[2*i]-e[0]||e[2*i+1]-e[1];lB(this._ids,this._dists,0,a-1);const t=new Uint32Array(a);let n=0;for(let e=0,i=-1/0;e<a;e++){const r=this._ids[e],a=this._dists[r];a>i&&(t[n++]=r,i=a)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(tB(f,A,g,v,b,x)<0){const e=p,t=g,n=v;p=m,g=b,v=x,m=e,b=t,x=n}const w=function(e,t,n,i,r,a){const o=n-e,s=i-t,l=r-e,c=a-t,u=o*o+s*s,d=l*l+c*c,h=.5/(o*c-s*l),p=e+(c*u-s*d)*h,m=t+(o*d-l*u)*h;return{x:p,y:m}}(f,A,g,v,b,x);this._cx=w.x,this._cy=w.y;for(let _=0;_<a;_++)this._dists[_]=aB(e[2*_],e[2*_+1],w.x,w.y);lB(this._ids,this._dists,0,a-1),this._hullStart=h;let T=3;n[h]=t[m]=p,n[p]=t[h]=m,n[m]=t[p]=h,i[h]=0,i[p]=1,i[m]=2,r.fill(-1),r[this._hashKey(f,A)]=h,r[this._hashKey(g,v)]=p,r[this._hashKey(b,x)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let _,S,M=0;M<this._ids.length;M++){const a=this._ids[M],o=e[2*a],s=e[2*a+1];if(M>0&&Math.abs(o-_)<=nB&&Math.abs(s-S)<=nB)continue;if(_=o,S=s,a===h||a===p||a===m)continue;let l=0;for(let e=0,t=this._hashKey(o,s);e<this._hashSize&&(l=r[(t+e)%this._hashSize],-1===l||l===n[l]);e++);l=t[l];let c,u=l;for(;c=n[u],tB(o,s,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0;)if(u=c,u===l){u=-1;break}if(-1===u)continue;let d=this._addTriangle(u,a,n[u],-1,-1,i[u]);i[a]=this._legalize(d+2),i[u]=d,T++;let f=n[u];for(;c=n[f],tB(o,s,e[2*f],e[2*f+1],e[2*c],e[2*c+1])<0;)d=this._addTriangle(f,a,c,i[a],-1,i[f]),i[a]=this._legalize(d+2),n[f]=f,T--,f=c;if(u===l)for(;c=t[u],tB(o,s,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0;)d=this._addTriangle(c,a,u,-1,i[u],i[c]),this._legalize(d+2),i[c]=d,n[u]=u,T--,u=c;this._hullStart=t[a]=u,n[u]=t[f]=a,n[a]=f,r[this._hashKey(o,s)]=a,r[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(T);for(let _=0,S=this._hullStart;_<T;_++)this.hull[_]=S,S=n[S];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:i}=this;let r=0,a=0;for(;;){const o=n[e],s=e-e%3;if(a=s+(e+2)%3,-1===o){if(0===r)break;e=iB[--r];continue}const l=o-o%3,c=s+(e+1)%3,u=l+(o+2)%3,d=t[a],h=t[e],p=t[c],m=t[u];if(oB(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){t[e]=m,t[o]=d;const i=n[u];if(-1===i){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,i),this._link(o,n[a]),this._link(a,u);const s=l+(o+1)%3;r<iB.length&&(iB[r++]=s)}else{if(0===r)break;e=iB[--r]}}return a}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,i,r,a){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,i),this._link(o+1,r),this._link(o+2,a),this.trianglesLen+=3,o}}function aB(e,t,n,i){const r=e-n,a=t-i;return r*r+a*a}function oB(e,t,n,i,r,a,o,s){const l=e-o,c=t-s,u=n-o,d=i-s,h=r-o,p=a-s,m=u*u+d*d,f=h*h+p*p;return l*(d*f-m*p)-c*(u*f-m*h)+(l*l+c*c)*(u*p-d*h)<0}function sB(e,t,n,i,r,a){const o=n-e,s=i-t,l=r-e,c=a-t,u=o*o+s*s,d=l*l+c*c,h=.5/(o*c-s*l),p=(c*u-s*d)*h,m=(o*d-l*u)*h;return p*p+m*m}function lB(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=e[r],a=t[i];let o=r-1;for(;o>=n&&t[e[o]]>a;)e[o+1]=e[o--];e[o+1]=i}else{let r=n+1,a=i;cB(e,n+i>>1,r),t[e[n]]>t[e[i]]&&cB(e,n,i),t[e[r]]>t[e[i]]&&cB(e,r,i),t[e[n]]>t[e[r]]&&cB(e,n,r);const o=e[r],s=t[o];for(;;){do{r++}while(t[e[r]]<s);do{a--}while(t[e[a]]>s);if(a<r)break;cB(e,r,a)}e[n+1]=e[a],e[a]=o,i-r+1>=a-n?(lB(e,t,r,i),lB(e,t,n,a-1)):(lB(e,t,n,a-1),lB(e,t,r,i))}}function cB(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function uB(e){return e[0]}function dB(e){return e[1]}function hB(e,t){var n,i,r,a,o,s,l,c,u,d=0,h=e[0],p=e[1],m=t.length;for(n=0;n<m;n++){i=0;var f=t[n],A=f.length-1;if((c=f[0])[0]!==f[A][0]&&c[1]!==f[A][1])throw new Error("First and last coordinates in a ring must be the same");for(a=c[0]-h,o=c[1]-p;i<A;i++){if(s=(u=f[i+1])[0]-h,l=u[1]-p,0===o&&0===l){if(s<=0&&a>=0||a<=0&&s>=0)return 0}else if(l>=0&&o<=0||l<=0&&o>=0){if(0===(r=tB(a,s,o,l,0,0)))return 0;(r>0&&l>0&&o<=0||r<0&&l<=0&&o>0)&&d++}c=u,o=l,a=s}}return d%2!==0}var pB,mB,fB,AB,gB,vB,yB,bB,xB,wB,TB,_B,SB,MB,EB,CB,PB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const i=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}(e),r="Feature"===(a=t).type?a.geometry:a;var a;const o=r.type,s=t.bbox;let l=r.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,s))return!1;"Polygon"===o&&(l=[l]);let c=!1;for(var u=0;u<l.length;++u){const e=hB(i,l[u]);if(0===e)return!n.ignoreBoundary;e&&(c=!0)}return c},NB=new XI,RB=new XI,DB={point:KI,lineStart:KI,lineEnd:KI,polygonStart:function(){NB=new XI,DB.lineStart=IB,DB.lineEnd=LB},polygonEnd:function(){var e=+NB;RB.add(e<0?yD+e:e),this.lineStart=this.lineEnd=this.point=KI},sphere:function(){RB.add(yD)}};function IB(){DB.point=kB}function LB(){BB(pB,mB)}function kB(e,t){DB.point=BB,pB=e,mB=t,fB=e*=xD,AB=SD(t=(t*=xD)/2+vD),gB=ND(t)}function BB(e,t){var n=(e*=xD)-fB,i=n>=0?1:-1,r=i*n,a=SD(t=(t*=xD)/2+vD),o=ND(t),s=gB*o,l=AB*a+s*SD(r),c=s*i*ND(r);NB.add(_D(c,l)),fB=e,AB=a,gB=o}function FB(e){return[_D(e[1],e[0]),LD(e[2])]}function OB(e){var t=e[0],n=e[1],i=SD(n);return[i*SD(t),i*ND(t),ND(n)]}function UB(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function VB(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jB(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function zB(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function qB(e){var t=DD(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var GB={point:HB,lineStart:QB,lineEnd:YB,polygonStart:function(){GB.point=XB,GB.lineStart=KB,GB.lineEnd=ZB,MB=new XI,DB.polygonStart()},polygonEnd:function(){DB.polygonEnd(),GB.point=HB,GB.lineStart=QB,GB.lineEnd=YB,NB<0?(vB=-(bB=180),yB=-(xB=90)):MB>mD?xB=90:MB<-mD&&(yB=-90),CB[0]=vB,CB[1]=bB},sphere:function(){vB=-(bB=180),yB=-(xB=90)}};function HB(e,t){EB.push(CB=[vB=e,bB=e]),t<yB&&(yB=t),t>xB&&(xB=t)}function WB(e,t){var n=OB([e*xD,t*xD]);if(SB){var i=VB(SB,n),r=VB([i[1],-i[0],0],i);qB(r),r=FB(r);var a,o=e-wB,s=o>0?1:-1,l=r[0]*bD*s,c=wD(o)>180;c^(s*wB<l&&l<s*e)?(a=r[1]*bD)>xB&&(xB=a):c^(s*wB<(l=(l+360)%360-180)&&l<s*e)?(a=-r[1]*bD)<yB&&(yB=a):(t<yB&&(yB=t),t>xB&&(xB=t)),c?e<wB?JB(vB,e)>JB(vB,bB)&&(bB=e):JB(e,bB)>JB(vB,bB)&&(vB=e):bB>=vB?(e<vB&&(vB=e),e>bB&&(bB=e)):e>wB?JB(vB,e)>JB(vB,bB)&&(bB=e):JB(e,bB)>JB(vB,bB)&&(vB=e)}else EB.push(CB=[vB=e,bB=e]);t<yB&&(yB=t),t>xB&&(xB=t),SB=n,wB=e}function QB(){GB.point=WB}function YB(){CB[0]=vB,CB[1]=bB,GB.point=HB,SB=null}function XB(e,t){if(SB){var n=e-wB;MB.add(wD(n)>180?n+(n>0?360:-360):n)}else TB=e,_B=t;DB.point(e,t),WB(e,t)}function KB(){DB.lineStart()}function ZB(){XB(TB,_B),DB.lineEnd(),wD(MB)>mD&&(vB=-(bB=180)),CB[0]=vB,CB[1]=bB,SB=null}function JB(e,t){return(t-=e)<0?t+360:t}function $B(e,t){return e[0]-t[0]}function eF(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function tF(e){var t,n,i,r,a,o,s;if(xB=bB=-(vB=yB=1/0),EB=[],oL(e,GB),n=EB.length){for(EB.sort($B),t=1,a=[i=EB[0]];t<n;++t)eF(i,(r=EB[t])[0])||eF(i,r[1])?(JB(i[0],r[1])>JB(i[0],i[1])&&(i[1]=r[1]),JB(r[0],i[1])>JB(i[0],i[1])&&(i[0]=r[0])):a.push(i=r);for(o=-1/0,t=0,i=a[n=a.length-1];t<=n;i=r,++t)r=a[t],(s=JB(i[1],r[0]))>o&&(o=s,vB=r[0],bB=i[1])}return EB=CB=null,vB===1/0||yB===1/0?[[NaN,NaN],[NaN,NaN]]:[[vB,yB],[bB,xB]]}function nF(e){return wD(e[0])<=AD?e[0]:RD(e[0])*((wD(e[0])+AD)%yD-AD)}function iF(e,t){var n=nF(t),i=t[1],r=ND(i),a=[ND(n),-SD(n),0],o=0,s=0,l=new XI;1===r?i=gD+mD:-1===r&&(i=-gD-mD);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,p=d[h-1],m=nF(p),f=p[1]/2+vD,A=ND(f),g=SD(f),v=0;v<h;++v,m=b,A=w,g=T,p=y){var y=d[v],b=nF(y),x=y[1]/2+vD,w=ND(x),T=SD(x),_=b-m,S=_>=0?1:-1,M=S*_,E=M>AD,C=A*w;if(l.add(_D(C*S*ND(M),g*T+C*SD(M))),o+=E?_+S*yD:_,E^m>=n^b>=n){var P=VB(OB(p),OB(y));qB(P);var N=VB(a,P);qB(N);var R=(E^_>=0?-1:1)*LD(N[2]);(i>R||i===R&&(P[0]||P[1]))&&(s+=E^_>=0?1:-1)}}return(o<-mD||o<mD&&l<-1e-12)^1&s}var rF,aF,oF,sF,lF,cF,uF,dF,hF,pF,mF,fF,AF,gF,vF,yF,bF={Feature:function(e,t){return wF(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(wF(n[i].geometry,t))return!0;return!1}},xF={Sphere:function(){return!0},Point:function(e,t){return TF(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(TF(n[i],t))return!0;return!1},LineString:function(e,t){return _F(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(_F(n[i],t))return!0;return!1},Polygon:function(e,t){return SF(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(SF(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(wF(n[i],t))return!0;return!1}};function wF(e,t){return!(!e||!xF.hasOwnProperty(e.type))&&xF[e.type](e,t)}function TF(e,t){return 0===pL(e,t)}function _F(e,t){for(var n,i,r,a=0,o=e.length;a<o;a++){if(0===(i=pL(e[a],t)))return!0;if(a>0&&(r=pL(e[a],e[a-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<fD*r)return!0;n=i}return!1}function SF(e,t){return!!iF(e.map(MF),EF(t))}function MF(e){return(e=e.map(EF)).pop(),e}function EF(e){return[e[0]*xD,e[1]*xD]}var CF={sphere:KI,point:PF,lineStart:RF,lineEnd:LF,polygonStart:function(){CF.lineStart=kF,CF.lineEnd=BF},polygonEnd:function(){CF.lineStart=RF,CF.lineEnd=LF}};function PF(e,t){e*=xD;var n=SD(t*=xD);NF(n*SD(e),n*ND(e),ND(t))}function NF(e,t,n){++rF,oF+=(e-oF)/rF,sF+=(t-sF)/rF,lF+=(n-lF)/rF}function RF(){CF.point=DF}function DF(e,t){e*=xD;var n=SD(t*=xD);gF=n*SD(e),vF=n*ND(e),yF=ND(t),CF.point=IF,NF(gF,vF,yF)}function IF(e,t){e*=xD;var n=SD(t*=xD),i=n*SD(e),r=n*ND(e),a=ND(t),o=_D(DD((o=vF*a-yF*r)*o+(o=yF*i-gF*a)*o+(o=gF*r-vF*i)*o),gF*i+vF*r+yF*a);aF+=o,cF+=o*(gF+(gF=i)),uF+=o*(vF+(vF=r)),dF+=o*(yF+(yF=a)),NF(gF,vF,yF)}function LF(){CF.point=PF}function kF(){CF.point=FF}function BF(){OF(fF,AF),CF.point=PF}function FF(e,t){fF=e,AF=t,e*=xD,t*=xD,CF.point=OF;var n=SD(t);gF=n*SD(e),vF=n*ND(e),yF=ND(t),NF(gF,vF,yF)}function OF(e,t){e*=xD;var n=SD(t*=xD),i=n*SD(e),r=n*ND(e),a=ND(t),o=vF*a-yF*r,s=yF*i-gF*a,l=gF*r-vF*i,c=CD(o,s,l),u=LD(c),d=c&&-u/c;hF.add(d*o),pF.add(d*s),mF.add(d*l),aF+=u,cF+=u*(gF+(gF=i)),uF+=u*(vF+(vF=r)),dF+=u*(yF+(yF=a)),NF(gF,vF,yF)}function UF(e){rF=aF=oF=sF=lF=cF=uF=dF=0,hF=new XI,pF=new XI,mF=new XI,oL(e,CF);var t=+hF,n=+pF,i=+mF,r=CD(t,n,i);return r<fD&&(t=cF,n=uF,i=dF,aF<mD&&(t=oF,n=sF,i=lF),(r=CD(t,n,i))<fD)?[NaN,NaN]:[_D(n,t)*bD,LD(i/r)*bD]}const VF=1e-6;class jF{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}arc(e,t,n){const i=(e=+e)+(n=+n),r=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(i,",").concat(r):(Math.abs(this._x1-i)>VF||Math.abs(this._y1-r)>VF)&&(this._+="L"+i+","+r),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=i,",").concat(this._y1=r))}rect(e,t,n,i){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+i,"h").concat(-n,"Z")}value(){return this._||null}}class zF{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class qF{constructor(e){let[t,n,i,r]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((i=+i)>=(t=+t))||!((r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=i,this.xmin=t,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:i}=this;let r,a;const o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let m,f,A=0,g=0,v=n.length;A<v;A+=3,g+=2){const i=2*n[A],s=2*n[A+1],l=2*n[A+2],c=e[i],u=e[i+1],d=e[s],h=e[s+1],p=e[l],v=e[l+1],y=d-c,b=h-u,x=p-c,w=v-u,T=2*(y*w-b*x);if(Math.abs(T)<1e-9){if(void 0===r){r=a=0;for(const n of t)r+=e[2*n],a+=e[2*n+1];r/=t.length,a/=t.length}const n=1e9*Math.sign((r-c)*w-(a-u)*x);m=(c+p)/2-n*w,f=(u+v)/2+n*x}else{const e=1/T,t=y*y+b*b,n=x*x+w*w;m=c+(w*t-b*n)*e,f=u+(y*n-x*t)*e}o[g]=m,o[g+1]=f}let s,l,c,u=t[t.length-1],d=4*u,h=e[2*u],p=e[2*u+1];i.fill(0);for(let m=0;m<t.length;++m)u=t[m],s=d,l=h,c=p,d=4*u,h=e[2*u],p=e[2*u+1],i[s+2]=i[d]=c-p,i[s+3]=i[d+1]=h-l}render(e){const t=null==e?e=new jF:void 0,{delaunay:{halfedges:n,inedges:i,hull:r},circumcenters:a,vectors:o}=this;if(r.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const i=2*Math.floor(c/3),r=2*Math.floor(t/3),o=a[i],s=a[i+1],l=a[r],u=a[r+1];this._renderSegment(o,s,l,u,e)}let s,l=r[r.length-1];for(let c=0;c<r.length;++c){s=l,l=r[c];const t=2*Math.floor(i[l]/3),n=a[t],u=a[t+1],d=4*s,h=this._project(n,u,o[d+2],o[d+3]);h&&this._renderSegment(n,u,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new jF:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new jF:void 0,i=this._clip(e);if(null===i||!i.length)return;t.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let a=2;a<r;a+=2)i[a]===i[a-2]&&i[a+1]===i[a-1]||t.lineTo(i[a],i[a+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new zF;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,i,r){let a;const o=this._regioncode(e,t),s=this._regioncode(n,i);0===o&&0===s?(r.moveTo(e,t),r.lineTo(n,i)):(a=this._clipSegment(e,t,n,i,o,s))&&(r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]))}contains(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let i=0,r=t.length;i<r;i+=2)for(let a=0,o=e.length;a<o;a+=2)if(t[i]===e[a]&&t[i+1]===e[a+1]&&t[(i+2)%r]===e[(a+o-2)%o]&&t[(i+3)%r]===e[(a+o-1)%o]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,a=n[e];if(-1===a)return null;const o=[];let s=a;do{const n=Math.floor(s/3);if(o.push(t[2*n],t[2*n+1]),s=s%3===2?s-2:s+1,r[s]!==e)break;s=i[s]}while(s!==a&&-1!==s);return o}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,i=4*e;return this._simplify(n[i]||n[i+1]?this._clipInfinite(e,t,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let i,r,a,o,s=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),d=0;for(let h=0;h<n;h+=2)if(i=l,r=c,l=t[h],c=t[h+1],a=u,u=this._regioncode(l,c),0===a&&0===u)o=d,d=0,s?s.push(l,c):s=[l,c];else{let t,n,h,p,m;if(0===a){if(null===(t=this._clipSegment(i,r,l,c,a,u)))continue;[n,h,p,m]=t}else{if(null===(t=this._clipSegment(l,c,i,r,u,a)))continue;[p,m,n,h]=t,o=d,d=this._edgecode(n,h),o&&d&&this._edge(e,o,d,s,s.length),s?s.push(n,h):s=[n,h]}o=d,d=this._edgecode(p,m),o&&d&&this._edge(e,o,d,s,s.length),s?s.push(p,m):s=[p,m]}if(s)o=d,d=this._edgecode(s[0],s[1]),o&&d&&this._edge(e,o,d,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,t,n,i,r,a){const o=r<a;for(o&&([e,t,n,i,r,a]=[n,i,e,t,a,r]);;){if(0===r&&0===a)return o?[n,i,e,t]:[e,t,n,i];if(r&a)return null;let s,l,c=r||a;8&c?(s=e+(n-e)*(this.ymax-t)/(i-t),l=this.ymax):4&c?(s=e+(n-e)*(this.ymin-t)/(i-t),l=this.ymin):2&c?(l=t+(i-t)*(this.xmax-e)/(n-e),s=this.xmax):(l=t+(i-t)*(this.xmin-e)/(n-e),s=this.xmin),r?(e=s,t=l,r=this._regioncode(e,t)):(n=s,i=l,a=this._regioncode(n,i))}}_clipInfinite(e,t,n,i,r,a){let o,s=Array.from(t);if((o=this._project(s[0],s[1],n,i))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],r,a))&&s.push(o[0],o[1]),s=this._clipFinite(e,s))for(let l,c=0,u=s.length,d=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)l=d,d=this._edgecode(s[c],s[c+1]),l&&d&&(c=this._edge(e,l,d,s,c),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,n,i,r){for(;t!==n;){let n,a;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,a=this.ymin}i[r]===n&&i[r+1]===a||!this.contains(e,n,a)||(i.splice(r,0,n,a),r+=2)}return r}_project(e,t,n,i){let r,a,o,s=1/0;if(i<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/i)<s&&(o=this.ymin,a=e+(s=r)*n)}else if(i>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/i)<s&&(o=this.ymax,a=e+(s=r)*n)}if(n>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/n)<s&&(a=this.xmax,o=t+(s=r)*i)}else if(n<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/n)<s&&(a=this.xmin,o=t+(s=r)*i)}return[a,o]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,i=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[i]||e[t+1]===e[n+1]&&e[n+1]===e[i+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const GF=2*Math.PI,HF=Math.pow;function WF(e){return e[0]}function QF(e){return e[1]}function YF(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class XF{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WF,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QF,i=arguments.length>3?arguments[3]:void 0;return new XF("length"in e?function(e,t,n,i){const r=e.length,a=new Float64Array(2*r);for(let o=0;o<r;++o){const r=e[o];a[2*o]=t.call(i,r,o,e),a[2*o+1]=n.call(i,r,o,e)}return a}(e,t,n,i):Float64Array.from(function*(e,t,n,i){let r=0;for(const a of e)yield t.call(i,a,r,e),yield n.call(i,a,r,e),++r}(e,t,n,i)))}constructor(e){this._delaunator=new rB(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const e=2*t[i],r=2*t[i+1],a=2*t[i+2];if((n[a]-n[e])*(n[r+1]-n[e+1])-(n[r]-n[e])*(n[a+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let a=0,o=t.length/2;a<o;++a){const e=YF(t[2*a],t[2*a+1],r);t[2*a]=e[0],t[2*a+1]=e[1]}this._delaunator=new rB(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let s=0,l=n.length;s<l;++s){const e=r[s%3===2?s-2:s+1];-1!==n[s]&&-1!==a[e]||(a[e]=s)}for(let s=0,l=i.length;s<l;++s)o[i[s]]=s;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,2===i.length&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new qF(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:i,halfedges:r,triangles:a,collinear:o}=this;if(o){const t=o.indexOf(e);return t>0&&(yield o[t-1]),void(t<o.length-1&&(yield o[t+1]))}const s=t[e];if(-1===s)return;let l=s,c=-1;do{if(yield c=a[l],l=l%3===2?l-2:l+1,a[l]!==e)return;if(l=r[l],-1===l){const t=n[(i[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==s)}find(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;const i=n;let r;for(;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}_step(e,t,n){const{inedges:i,hull:r,_hullIndex:a,halfedges:o,triangles:s,points:l}=this;if(-1===i[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=HF(t-l[2*e],2)+HF(n-l[2*e+1],2);const d=i[e];let h=d;do{let i=s[h];const d=HF(t-l[2*i],2)+HF(n-l[2*i+1],2);if(d<u&&(u=d,c=i),h=h%3===2?h-2:h+1,s[h]!==e)break;if(h=o[h],-1===h){if(h=r[(a[e]+1)%r.length],h!==i&&HF(t-l[2*h],2)+HF(n-l[2*h+1],2)<u)return h;break}}while(h!==d);return c}render(e){const t=null==e?e=new jF:void 0,{points:n,halfedges:i,triangles:r}=this;for(let a=0,o=i.length;a<o;++a){const t=i[a];if(t<a)continue;const o=2*r[a],s=2*r[t];e.moveTo(n[o],n[o+1]),e.lineTo(n[s],n[s+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"===typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;const n=null==e?e=new jF:void 0,{points:i}=this;for(let r=0,a=i.length;r<a;r+=2){const n=i[r],a=i[r+1];e.moveTo(n+t,a),e.arc(n,a,t,0,GF)}return n&&n.value()}renderHull(e){const t=null==e?e=new jF:void 0,{hull:n,points:i}=this,r=2*n[0],a=n.length;e.moveTo(i[r],i[r+1]);for(let o=1;o<a;++o){const t=2*n[o];e.lineTo(i[t],i[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new zF;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new jF:void 0,{points:i,triangles:r}=this,a=2*r[e*=3],o=2*r[e+1],s=2*r[e+2];return t.moveTo(i[a],i[a+1]),t.lineTo(i[o],i[o+1]),t.lineTo(i[s],i[s+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new zF;return this.renderTriangle(e,t),t.value()}}function KF(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function ZF(e,t){return wD(e)>AD&&(e-=Math.round(e/yD)*yD),[e,t]}function JF(e,t,n){return(e%=yD)?t||n?KF(eO(e),tO(t,n)):eO(e):t||n?tO(t,n):ZF}function $F(e){return function(t,n){return wD(t+=e)>AD&&(t-=Math.round(t/yD)*yD),[t,n]}}function eO(e){var t=$F(e);return t.invert=$F(-e),t}function tO(e,t){var n=SD(e),i=ND(e),r=SD(t),a=ND(t);function o(e,t){var o=SD(t),s=SD(e)*o,l=ND(e)*o,c=ND(t),u=c*n+s*i;return[_D(l*r-u*a,s*n-c*i),LD(u*r+l*a)]}return o.invert=function(e,t){var o=SD(t),s=SD(e)*o,l=ND(e)*o,c=ND(t),u=c*r-l*a;return[_D(l*r+c*a,s*n+u*i),LD(u*n-s*i)]},o}function nO(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:KI,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function iO(e,t){return wD(e[0]-t[0])<mD&&wD(e[1]-t[1])<mD}function rO(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function aO(e,t,n,i,r){var a,o,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],o=e[t];if(iO(i,o)){if(!i[2]&&!o[2]){for(r.lineStart(),a=0;a<t;++a)r.point((i=e[a])[0],i[1]);return void r.lineEnd()}o[0]+=2e-6}s.push(n=new rO(i,e,null,!0)),l.push(n.o=new rO(i,null,n,!1)),s.push(n=new rO(o,e,null,!1)),l.push(n.o=new rO(o,null,n,!0))}}),s.length){for(l.sort(t),oO(s),oO(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,u,d=s[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=c.length;a<o;++a)r.point((u=c[a])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;a>=0;--a)r.point((u=c[a])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}}function oO(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function sO(e,t,n,i){return function(r){var a,o,s,l=t(r),c=nO(),u=t(c),d=!1,h={point:p,lineStart:f,lineEnd:A,polygonStart:function(){h.point=g,h.lineStart=v,h.lineEnd=y,o=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=f,h.lineEnd=A,o=Hk(o);var e=iF(a,i);o.length?(d||(r.polygonStart(),d=!0),aO(o,cO,e,n,r)):e&&(d||(r.polygonStart(),d=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),d&&(r.polygonEnd(),d=!1),o=a=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(t,n){e(t,n)&&r.point(t,n)}function m(e,t){l.point(e,t)}function f(){h.point=m,l.lineStart()}function A(){h.point=p,l.lineEnd()}function g(e,t){s.push([e,t]),u.point(e,t)}function v(){u.lineStart(),s=[]}function y(){g(s[0][0],s[0][1]),u.lineEnd();var e,t,n,i,l=u.clean(),h=c.result(),p=h.length;if(s.pop(),a.push(s),s=null,p)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(r.polygonStart(),d=!0),r.lineStart(),e=0;e<t;++e)r.point((i=n[e])[0],i[1]);r.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(lO))}return h}}function lO(e){return e.length>1}function cO(e,t){return((e=e.x)[0]<0?e[1]-gD-mD:gD-e[1])-((t=t.x)[0]<0?t[1]-gD-mD:gD-t[1])}ZF.invert=ZF;const uO=sO(function(){return!0},function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?AD:-AD,l=wD(a-n);wD(l-AD)<mD?(e.point(n,i=(i+o)/2>0?gD:-gD),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(a,i),t=0):r!==s&&l>=AD&&(wD(n-r)<mD&&(n-=r*mD),wD(a-s)<mD&&(a-=s*mD),i=function(e,t,n,i){var r,a,o=ND(e-n);return wD(o)>mD?TD((ND(t)*(a=SD(i))*ND(n)-ND(i)*(r=SD(t))*ND(e))/(r*a*o)):(t+i)/2}(n,i,a,o),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=a,i=o),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*gD,i.point(-AD,r),i.point(0,r),i.point(AD,r),i.point(AD,0),i.point(AD,-r),i.point(0,-r),i.point(-AD,-r),i.point(-AD,0),i.point(-AD,r);else if(wD(e[0]-t[0])>mD){var a=e[0]<t[0]?AD:-AD;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])},[-AD,-gD]);function dO(e,t,n,i,r,a){if(n){var o=SD(t),s=ND(t),l=i*n;null==r?(r=t+i*yD,a=t-l/2):(r=hO(o,r),a=hO(o,a),(i>0?r<a:r>a)&&(r+=i*yD));for(var c,u=r;i>0?u>a:u<a;u-=l)c=FB([o,-s*SD(u),-s*ND(u)]),e.point(c[0],c[1])}}function hO(e,t){(t=OB(t))[0]-=e,qB(t);var n=function(e){return e>1?0:e<-1?AD:Math.acos(e)}(-t[1]);return((-t[2]<0?-n:n)+yD-mD)%yD}var pO=1e9,mO=-pO;function fO(e,t,n,i){function r(r,a){return e<=r&&r<=n&&t<=a&&a<=i}function a(r,a,s,c){var u=0,d=0;if(null==r||(u=o(r,s))!==(d=o(a,s))||l(r,a)<0^s>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+s+4)%4)!==d);else c.point(a[0],a[1])}function o(i,r){return wD(i[0]-e)<mD?r>0?0:3:wD(i[0]-n)<mD?r>0?2:1:wD(i[1]-t)<mD?r>0?1:0:r>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),i=o(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var l,c,u,d,h,p,m,f,A,g,v,y=o,b=nO(),x={point:w,lineStart:function(){x.point=T,c&&c.push(u=[]);g=!0,A=!1,m=f=NaN},lineEnd:function(){l&&(T(d,h),p&&A&&b.rejoin(),l.push(b.result()));x.point=w,A&&y.lineEnd()},polygonStart:function(){y=b,l=[],c=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=c.length;n<r;++n)for(var a,o,s=c[n],l=1,u=s.length,d=s[0],h=d[0],p=d[1];l<u;++l)a=h,o=p,h=(d=s[l])[0],p=d[1],o<=i?p>i&&(h-a)*(i-o)>(p-o)*(e-a)&&++t:p<=i&&(h-a)*(i-o)<(p-o)*(e-a)&&--t;return t}(),n=v&&t,r=(l=Hk(l)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),r&&aO(l,s,t,a,o),o.polygonEnd());y=o,l=c=u=null}};function w(e,t){r(e,t)&&y.point(e,t)}function T(a,o){var s=r(a,o);if(c&&u.push([a,o]),g)d=a,h=o,p=s,g=!1,s&&(y.lineStart(),y.point(a,o));else if(s&&A)y.point(a,o);else{var l=[m=Math.max(mO,Math.min(pO,m)),f=Math.max(mO,Math.min(pO,f))],b=[a=Math.max(mO,Math.min(pO,a)),o=Math.max(mO,Math.min(pO,o))];!function(e,t,n,i,r,a){var o,s=e[0],l=e[1],c=0,u=1,d=t[0]-s,h=t[1]-l;if(o=n-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<u&&(u=o)}else if(d>0){if(o>u)return;o>c&&(c=o)}if(o=r-s,d||!(o<0)){if(o/=d,d<0){if(o>u)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<u&&(u=o)}if(o=i-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<u&&(u=o)}else if(h>0){if(o>u)return;o>c&&(c=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>u)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<u&&(u=o)}return c>0&&(e[0]=s+c*d,e[1]=l+c*h),u<1&&(t[0]=s+u*d,t[1]=l+u*h),!0}}}}}(l,b,e,t,n,i)?s&&(y.lineStart(),y.point(a,o),v=!1):(A||(y.lineStart(),y.point(l[0],l[1])),y.point(b[0],b[1]),s||y.lineEnd(),v=!1)}m=a,f=o,A=s}return x}}const AO=e=>e;function gO(e){return function(t){var n=new vO;for(var i in e)n[i]=e[i];return n.stream=t,n}}function vO(){}vO.prototype={constructor:vO,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yO=1/0,bO=yO,xO=-yO,wO=xO,TO={point:function(e,t){e<yO&&(yO=e);e>xO&&(xO=e);t<bO&&(bO=t);t>wO&&(wO=t)},lineStart:KI,lineEnd:KI,polygonStart:KI,polygonEnd:KI,result:function(){var e=[[yO,bO],[xO,wO]];return xO=wO=-(bO=yO=1/0),e}};const _O=TO;function SO(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),oL(n,e.stream(_O)),t(_O.result()),null!=i&&e.clipExtent(i),e}function MO(e,t,n){return SO(e,function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],a=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),o=+t[0][0]+(i-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(r-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var EO=SD(30*xD);function CO(e,t){return+t?function(e,t){function n(i,r,a,o,s,l,c,u,d,h,p,m,f,A){var g=c-i,v=u-r,y=g*g+v*v;if(y>4*t&&f--){var b=o+h,x=s+p,w=l+m,T=DD(b*b+x*x+w*w),_=LD(w/=T),S=wD(wD(w)-1)<mD||wD(a-d)<mD?(a+d)/2:_D(x,b),M=e(S,_),E=M[0],C=M[1],P=E-i,N=C-r,R=v*P-g*N;(R*R/y>t||wD((g*P+v*N)/y-.5)>.3||o*h+s*p+l*m<EO)&&(n(i,r,a,o,s,l,E,C,S,b/=T,x/=T,w,f,A),A.point(E,C),n(E,C,S,b,x,w,c,u,d,h,p,m,f,A))}}return function(t){var i,r,a,o,s,l,c,u,d,h,p,m,f={point:A,lineStart:g,lineEnd:y,polygonStart:function(){t.polygonStart(),f.lineStart=b},polygonEnd:function(){t.polygonEnd(),f.lineStart=g}};function A(n,i){n=e(n,i),t.point(n[0],n[1])}function g(){u=NaN,f.point=v,t.lineStart()}function v(i,r){var a=OB([i,r]),o=e(i,r);n(u,d,c,h,p,m,u=o[0],d=o[1],c=i,h=a[0],p=a[1],m=a[2],16,t),t.point(u,d)}function y(){f.point=A,t.lineEnd()}function b(){g(),f.point=x,f.lineEnd=w}function x(e,t){v(i=e,t),r=u,a=d,o=h,s=p,l=m,f.point=v}function w(){n(u,d,c,h,p,m,r,a,i,o,s,l,16,t),f.lineEnd=y,y()}return f}}(e,t):function(e){return gO({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var PO=gO({point:function(e,t){this.stream.point(e*xD,t*xD)}});function NO(e,t,n,i,r,a){if(!a)return function(e,t,n,i,r){function a(a,o){return[t+e*(a*=i),n-e*(o*=r)]}return a.invert=function(a,o){return[(a-t)/e*i,(n-o)/e*r]},a}(e,t,n,i,r);var o=SD(a),s=ND(a),l=o*e,c=s*e,u=o/e,d=s/e,h=(s*n-o*t)/e,p=(s*t+o*n)/e;function m(e,a){return[l*(e*=i)-c*(a*=r)+t,n-c*e-l*a]}return m.invert=function(e,t){return[i*(u*e-d*t+h),r*(p-d*e-u*t)]},m}function RO(e){return function(e){var t,n,i,r,a,o,s,l,c,u,d=150,h=480,p=250,m=0,f=0,A=0,g=0,v=0,y=0,b=1,x=1,w=null,T=uO,_=null,S=AO,M=.5;function E(e){return l(e[0]*xD,e[1]*xD)}function C(e){return(e=l.invert(e[0],e[1]))&&[e[0]*bD,e[1]*bD]}function P(){var e=NO(d,0,0,b,x,y).apply(null,t(m,f)),i=NO(d,h-e[0],p-e[1],b,x,y);return n=JF(A,g,v),s=KF(t,i),l=KF(n,s),o=CO(s,M),N()}function N(){return c=u=null,E}return E.stream=function(e){return c&&u===e?c:c=PO(function(e){return gO({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(n)(T(o(S(u=e)))))},E.preclip=function(e){return arguments.length?(T=e,w=void 0,N()):T},E.postclip=function(e){return arguments.length?(S=e,_=i=r=a=null,N()):S},E.clipAngle=function(e){return arguments.length?(T=+e?function(e){var t=SD(e),n=2*xD,i=t>0,r=wD(t)>mD;function a(e,n){return SD(e)*SD(n)>t}function o(e,n,i){var r=[1,0,0],a=VB(OB(e),OB(n)),o=UB(a,a),s=a[0],l=o-s*s;if(!l)return!i&&e;var c=t*o/l,u=-t*s/l,d=VB(r,a),h=zB(r,c);jB(h,zB(a,u));var p=d,m=UB(h,p),f=UB(p,p),A=m*m-f*(UB(h,h)-1);if(!(A<0)){var g=DD(A),v=zB(p,(-m-g)/f);if(jB(v,h),v=FB(v),!i)return v;var y,b=e[0],x=n[0],w=e[1],T=n[1];x<b&&(y=b,b=x,x=y);var _=x-b,S=wD(_-AD)<mD;if(!S&&T<w&&(y=w,w=T,T=y),S||_<mD?S?w+T>0^v[1]<(wD(v[0]-b)<mD?w:T):w<=v[1]&&v[1]<=T:_>AD^(b<=v[0]&&v[0]<=x)){var M=zB(p,(-m+g)/f);return jB(M,h),[v,FB(M)]}}}function s(t,n){var r=i?e:AD-e,a=0;return t<-r?a|=1:t>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}return sO(a,function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var p,m=[d,h],f=a(d,h),A=i?f?0:s(d,h):f?s(d+(d<0?AD:-AD),h):0;if(!t&&(c=l=f)&&e.lineStart(),f!==l&&(!(p=o(t,m))||iO(t,p)||iO(m,p))&&(m[2]=1),f!==l)u=0,f?(e.lineStart(),p=o(m,t),e.point(p[0],p[1])):(p=o(t,m),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(r&&t&&i^f){var g;A&n||!(g=o(m,t,!0))||(u=0,i?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!f||t&&iO(t,m)||e.point(m[0],m[1]),t=m,l=f,n=A},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},function(t,i,r,a){dO(a,e,n,r,t,i)},i?[0,-e]:[-AD,e-AD])}(w=e*xD):(w=null,uO),N()):w*bD},E.clipExtent=function(e){return arguments.length?(S=null==e?(_=i=r=a=null,AO):fO(_=+e[0][0],i=+e[0][1],r=+e[1][0],a=+e[1][1]),N()):null==_?null:[[_,i],[r,a]]},E.scale=function(e){return arguments.length?(d=+e,P()):d},E.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],P()):[h,p]},E.center=function(e){return arguments.length?(m=e[0]%360*xD,f=e[1]%360*xD,P()):[m*bD,f*bD]},E.rotate=function(e){return arguments.length?(A=e[0]%360*xD,g=e[1]%360*xD,v=e.length>2?e[2]%360*xD:0,P()):[A*bD,g*bD,v*bD]},E.angle=function(e){return arguments.length?(y=e%360*xD,P()):y*bD},E.reflectX=function(e){return arguments.length?(b=e?-1:1,P()):b<0},E.reflectY=function(e){return arguments.length?(x=e?-1:1,P()):x<0},E.precision=function(e){return arguments.length?(o=CO(s,M=e*e),N()):DD(M)},E.fitExtent=function(e,t){return MO(E,e,t)},E.fitSize=function(e,t){return function(e,t,n){return MO(e,[[0,0],t],n)}(E,e,t)},E.fitWidth=function(e,t){return function(e,t,n){return SO(e,function(n){var i=+t,r=i/(n[1][0]-n[0][0]),a=(i-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];e.scale(150*r).translate([a,o])},n)}(E,e,t)},E.fitHeight=function(e,t){return function(e,t,n){return SO(e,function(n){var i=+t,r=i/(n[1][1]-n[0][1]),a=-r*n[0][0],o=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([a,o])},n)}(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&C,P()}}(function(){return e})()}function DO(e,t){var n=SD(t),i=1+SD(e)*n;return[n*ND(e)/i,ND(t)/i]}DO.invert=function(e){return function(t,n){var i=DD(t*t+n*n),r=e(i),a=ND(r),o=SD(r);return[_D(t*a,i*o),LD(i&&n*a/i)]}}(function(e){return 2*TD(e)});const IO=Math.PI,LO=IO/2,kO=180/IO,BO=IO/180,FO=(Math.abs,Math.atan,Math.atan2),OO=Math.cos,UO=(Math.ceil,Math.exp,Math.floor,Math.log,Math.max),VO=Math.min,jO=(Math.pow,Math.sin),zO=Math.sign||function(e){return e>0?1:e<0?-1:0},qO=Math.sqrt;Math.tan;function GO(e){return e>1?LO:e<-1?-LO:Math.asin(e)}function HO(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function WO(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function QO(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}function YO(e){var t=qO(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]}function XO(e){return[FO(e[1],e[0])*kO,GO(UO(-1,VO(1,e[2])))*kO]}function KO(e){const t=e[0]*BO,n=e[1]*BO,i=OO(n);return[i*OO(t),i*jO(t),jO(n)]}function ZO(e){return e=e.map(e=>KO(e)),HO(e[0],WO(e[2],e[1]))}function JO(e){const t=function(e){if(e.length<2)return{};let t=0;for(;isNaN(e[t][0]+e[t][1])&&t++<e.length;);const n=function(e){function t(t){return(t=e(t[0]*xD,t[1]*xD))[0]*=bD,t[1]*=bD,t}return e=JF(e[0]*xD,e[1]*xD,e.length>2?e[2]*xD:0),t.invert=function(t){return(t=e.invert(t[0]*xD,t[1]*xD))[0]*=bD,t[1]*=bD,t},t}(e[t]),i=RO(DO).scale(250).clipAngle(142).translate([0,0]).scale(1).rotate(n.invert([180,0]));e=e.map(i);const r=[];let a=1;for(let h=0,p=e.length;h<p;h++){let t=e[h][0]**2+e[h][1]**2;!isFinite(t)||t>1e32?r.push(h):t>a&&(a=t)}const o=1e6*qO(a);r.forEach(t=>e[t]=[o,0]),e.push([0,o]),e.push([-o,0]),e.push([0,-o]);const s=XF.from(e);s.projection=i;const{triangles:l,halfedges:c,inedges:u}=s,d=[];for(let h=0,p=c.length;h<p;h++)if(c[h]<0){const e=h%3==2?h-2:h+1,n=h%3==0?h+2:h-1,i=c[e],r=c[n];c[i]=r,c[r]=i,c[e]=c[n]=-1,l[h]=l[e]=l[n]=t,u[l[i]]=i%3==0?i+2:i-1,u[l[r]]=r%3==0?r+2:r-1,d.push(Math.min(h,e,n)),h+=2-h%3}else l[h]>e.length-3-1&&(l[h]=t);return s}(e),n=function(e){const{triangles:t}=e;if(!t)return[];const n=[];for(let i=0,r=t.length/3;i<r;i++){const e=t[3*i],r=t[3*i+1],a=t[3*i+2];e!==r&&r!==a&&n.push([e,a,r])}return n}(t),i=function(e,t){const n=new Set;return 2===t.length?[[0,1]]:(e.forEach(e=>{if(e[0]!==e[1]&&!(ZO(e.map(e=>t[e]))<0))for(let t,i=0;i<3;i++)t=(i+1)%3,n.add(Wk([e[i],e[t]]).join("-"))}),Array.from(n,e=>e.split("-").map(Number)))}(n,e),r=function(e,t){const n=[];e.forEach(e=>{for(let t=0;t<3;t++){const i=e[t],r=e[(t+1)%3];n[i]=n[i]||[],n[i].push(r)}}),0===e.length&&(2===t?(n[0]=[1],n[1]=[0]):1===t&&(n[0]=[]));return n}(n,e.length),a=function(e,t){function n(e,t){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}return function(i,r,a){void 0===a&&(a=0);let o,s,l=a;const c=KO([i,r]);do{o=a,a=null,s=n(c,KO(t[o])),e[o].forEach(e=>{let i=n(c,KO(t[e]));if(i<s)return s=i,a=e,void(l=e)})}while(null!==a);return l}}(r,e),o=function(e,t){return e.map(e=>{const n=e.map(e=>t[e]).map(KO);return XO(YO(QO(QO(WO(n[1],n[0]),WO(n[2],n[1])),WO(n[0],n[2]))))})}(n,e),{polygons:s,centers:l}=function(e,t,n){const i=[],r=e.slice();if(0===t.length){if(n.length<2)return{polygons:i,centers:r};if(2===n.length){const e=KO(n[0]),t=KO(n[1]),a=YO(QO(e,t)),s=YO(WO(e,t)),l=WO(a,s),c=[a,WO(a,l),WO(WO(a,l),l),WO(WO(WO(a,l),l),l)].map(XO).map(o);return i.push(c),i.push(c.slice().reverse()),{polygons:i,centers:r}}}t.forEach((e,t)=>{for(let n=0;n<3;n++){const r=e[n],a=e[(n+1)%3],o=e[(n+2)%3];i[r]=i[r]||[],i[r].push([a,o,t,[r,a,o]])}});const a=i.map(e=>{const t=[e[0][2]];let i=e[0][1];for(let n=1;n<e.length;n++)for(let r=0;r<e.length;r++)if(e[r][0]==i){i=e[r][1],t.push(e[r][2]);break}if(t.length>2)return t;if(2==t.length){const i=$O(n[e[0][3][0]],n[e[0][3][1]],r[t[0]]),a=$O(n[e[0][3][2]],n[e[0][3][0]],r[t[0]]),s=o(i),l=o(a);return[t[0],l,t[1],s]}});function o(e){let n=-1;return r.slice(t.length,1/0).forEach((i,r)=>{i[0]===e[0]&&i[1]===e[1]&&(n=r+t.length)}),n<0&&(n=r.length,r.push(e)),n}return{polygons:a,centers:r}}(o,n,e),c=function(e){const t=[];return e.forEach(e=>{if(!e)return;let n=e[e.length-1];for(let i of e)i>n&&t.push([n,i]),n=i}),t}(s),u=function(e,t){const n=new Set,i=[];e.map(e=>{if(!(ZO(e.map(e=>t[e>t.length?0:e]))>1e-12))for(let t=0;t<3;t++){let i=[e[t],e[(t+1)%3]],r="".concat(i[0],"-").concat(i[1]);n.has(r)?n.delete(r):n.add("".concat(i[1],"-").concat(i[0]))}});const r=new Map;let a;if(n.forEach(e=>{e=e.split("-").map(Number),r.set(e[0],e[1]),a=e[0]}),void 0===a)return i;let o=a;do{i.push(o);let e=r.get(o);r.set(o,-1),o=e}while(o>-1&&o!==a);return i}(n,e),d=function(e,t){return function(n){const i=new Map,r=new Map;return e.forEach((e,t)=>{const a=e.join("-");i.set(a,n[t]),r.set(a,!0)}),t.forEach(e=>{let t=0,n=-1;for(let r=0;r<3;r++){let a=Wk([e[r],e[(r+1)%3]]).join("-");i.get(a)>t&&(t=i.get(a),n=a)}r.set(n,!1)}),e.map(e=>r.get(e.join("-")))}}(i,n);return{delaunay:t,edges:i,triangles:n,centers:l,neighbors:r,polygons:s,mesh:c,hull:u,urquhart:d,find:a}}function $O(e,t,n){e=KO(e),t=KO(t),n=KO(n);const i=zO(HO(WO(t,e),n));return XO(YO(QO(e,t)).map(e=>i*e))}function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function tU(e,t,n){return t=nU(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iU()?Reflect.construct(t,[],nU(e).constructor):t.apply(e,n))}function nU(e){return nU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nU(e)}function iU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iU=function(){return!!e})()}function rU(e,t){return rU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rU(e,t)}function aU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||sU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oU(e){return function(e){if(Array.isArray(e))return eU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sU(e,t){if(e){if("string"==typeof e)return eU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,t):void 0}}function lU(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).resolution,n=void 0===t?1/0:t,i=function(e,t){return e.map(function(e){var n,i=[];return e.forEach(function(e){if(n){var r=180*pL(e,n)/Math.PI;if(r>t)for(var a=mL(n,e),o=1/Math.ceil(r/t),s=o;s<1;)i.push(a(s)),s+=o}i.push(n=e)}),i})}(e,n),r=Hk(i),a=function(e,t){var n={type:"Polygon",coordinates:e},i=tF(n),r=aU(i,2),a=aU(r[0],2),o=a[0],s=a[1],l=aU(r[1],2),c=l[0],u=l[1];if(Math.min(Math.abs(c-o),Math.abs(u-s))<t)return[];var d=o>c||u>=89||s<=-89;return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minLng,i=t.maxLng,r=t.minLat,a=t.maxLat,o=Math.round(Math.pow(360/e,2)/Math.PI),s=(1+Math.sqrt(5))/2,l=function(e){return e/s*360%360-180},c=function(e){return Math.acos(2*e/o-1)/Math.PI*180-90},u=function(e){return o*(Math.cos((e+90)*Math.PI/180)+1)/2},d=[void 0!==a?Math.ceil(u(a)):0,void 0!==r?Math.floor(u(r)):o-1],h=void 0===n&&void 0===i?function(){return!0}:void 0===n?function(e){return e<=i}:void 0===i?function(e){return e>=n}:i>=n?function(e){return e>=n&&e<=i}:function(e){return e>=n||e<=i},p=[],m=d[0];m<=d[1];m++){var f=l(m);h(f)&&p.push([f,c(m)])}return p}(t,{minLng:o,maxLng:c,minLat:s,maxLat:u}).filter(function(e){return cU(e,n,d)})}(e,n),o=[].concat(oU(r),oU(a)),s={type:"Polygon",coordinates:e},l=aU(tF(s),2),c=aU(l[0],2),u=c[0],d=c[1],h=aU(l[1],2),p=h[0],m=h[1],f=u>p||m>=89||d<=-89,A=[];if(f){var g=function(e){const t=function(e){if(t.delaunay=null,t._data=e,"object"===typeof t._data&&"FeatureCollection"===t._data.type&&(t._data=t._data.features),"object"===typeof t._data){const e=t._data.map(e=>[t._vx(e),t._vy(e),e]).filter(e=>isFinite(e[0]+e[1]));t.points=e.map(e=>[e[0],e[1]]),t.valid=e.map(e=>e[2]),t.delaunay=JO(t.points)}return t};return t._vx=function(e){return"object"==typeof e&&"type"in e?UF(e)[0]:0 in e?e[0]:void 0},t._vy=function(e){return"object"==typeof e&&"type"in e?UF(e)[1]:1 in e?e[1]:void 0},t.x=function(e){return e?(t._vx=e,t):t._vx},t.y=function(e){return e?(t._vy=e,t):t._vy},t.polygons=function(e){if(void 0!==e&&t(e),!t.delaunay)return!1;const n={type:"FeatureCollection",features:[]};return 0===t.valid.length||(t.delaunay.polygons.forEach((e,i)=>n.features.push({type:"Feature",geometry:e?{type:"Polygon",coordinates:[[...e,e[0]].map(e=>t.delaunay.centers[e])]}:null,properties:{site:t.valid[i],sitecoordinates:t.points[i],neighbours:t.delaunay.neighbors[i]}})),1===t.valid.length&&n.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:t.valid[0],sitecoordinates:t.points[0],neighbours:[]}})),n},t.triangles=function(e){return void 0!==e&&t(e),!!t.delaunay&&{type:"FeatureCollection",features:t.delaunay.triangles.map((e,n)=>(e=e.map(e=>t.points[e]),e.center=t.delaunay.centers[n],e)).filter(e=>ZO(e)>0).map(e=>({type:"Feature",properties:{circumcenter:e.center},geometry:{type:"Polygon",coordinates:[[...e,e[0]]]}}))}},t.links=function(e){if(void 0!==e&&t(e),!t.delaunay)return!1;const n=t.delaunay.edges.map(e=>pL(t.points[e[0]],t.points[e[1]])),i=t.delaunay.urquhart(n);return{type:"FeatureCollection",features:t.delaunay.edges.map((e,r)=>({type:"Feature",properties:{source:t.valid[e[0]],target:t.valid[e[1]],length:n[r],urquhart:!!i[r]},geometry:{type:"LineString",coordinates:[t.points[e[0]],t.points[e[1]]]}}))}},t.mesh=function(e){return void 0!==e&&t(e),!!t.delaunay&&{type:"MultiLineString",coordinates:t.delaunay.edges.map(e=>[t.points[e[0]],t.points[e[1]]])}},t.cellMesh=function(e){if(void 0!==e&&t(e),!t.delaunay)return!1;const{centers:n,polygons:i}=t.delaunay,r=[];for(const t of i)if(t)for(let e=t.length,i=t[e-1],a=t[0],o=0;o<e;i=a,a=t[++o])a>i&&r.push([n[i],n[a]]);return{type:"MultiLineString",coordinates:r}},t._found=void 0,t.find=function(e,n,i){if(t._found=t.delaunay.find(e,n,t._found),!i||pL([e,n],t.points[t._found])<i)return t._found},t.hull=function(e){void 0!==e&&t(e);const n=t.delaunay.hull,i=t.points;return 0===n.length?null:{type:"Polygon",coordinates:[[...n.map(e=>i[e]),i[n[0]]]]}},e?t(e):t}(o).triangles(),v=new Map(o.map(function(e,t){var n=aU(e,2),i=n[0],r=n[1];return["".concat(i,"-").concat(r),t]}));g.features.forEach(function(e){var t,n=e.geometry.coordinates[0].slice(0,3).reverse(),i=[];if(n.forEach(function(e){var t=aU(e,2),n=t[0],r=t[1],a="".concat(n,"-").concat(r);v.has(a)&&i.push(v.get(a))}),3===i.length){if(i.some(function(e){return e<r.length}))if(!cU(e.properties.circumcenter,s,f))return;(t=A).push.apply(t,i)}})}else if(a.length)for(var y=rB.from(o),b=function(e){var t,n=[2,1,0].map(function(t){return y.triangles[e+t]}),i=n.map(function(e){return o[e]});if(n.some(function(e){return e<r.length})){var a=[0,1].map(function(e){return function(e,t){let n=0,i=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}(i,function(t){return t[e]})});if(!cU(a,s,f))return 1}(t=A).push.apply(t,oU(n))},x=0,w=y.triangles.length;x<w;x+=3)b(x);else{var T=YI(i),_=T.vertices,S=T.holes;A=xI(_,void 0===S?[]:S,2)}var M=pD(Wk(o,function(e){return e[0]}),[0,1]),E=pD(Wk(o,function(e){return e[1]}),[0,1]),C=o.map(function(e){var t=aU(e,2),n=t[0],i=t[1];return[M(n),E(i)]});return{contour:i,triangles:{points:o,indices:A,uvs:C}}}function cU(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e,t){return(e&&bF.hasOwnProperty(e.type)?bF[e.type]:wF)(e,t)}(t,e):PB(e,t)}var uU=window.THREE?window.THREE:{BufferGeometry:Ic,Float32BufferAttribute:Sc},dU=(new uU.BufferGeometry).setAttribute?"setAttribute":"addAttribute",hU=function(e){function t(e,n,i,r,a,o,s){var l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(l=tU(this,t)).type="ConicPolygonGeometry",l.parameters={polygonGeoJson:e,bottomHeight:n,topHeight:i,closedBottom:r,closedTop:a,includeSides:o,curvatureResolution:s},n=n||0,i=i||1,r=void 0===r||r,a=void 0===a||a,o=void 0===o||o;var c=lU(e,{resolution:s=s||5}),u=c.contour,d=c.triangles,h=Hk(d.uvs),p=[],m=[],f=[],A=0,g=function(e){var t=Math.round(p.length/3),n=f.length;p=p.concat(e.vertices),m=m.concat(e.uvs),f=f.concat(t?e.indices.map(function(e){return e+t}):e.indices),l.addGroup(n,f.length-n,A++)};function v(e,t){var n="function"===typeof t?t:function(){return t},i=e.map(function(e){return e.map(function(e){var t=aU(e,2),i=t[0],r=t[1];return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180;return[n*Math.sin(i)*Math.cos(r),n*Math.cos(i),n*Math.sin(i)*Math.sin(r)]}(r,i,n(i,r))})});return YI(i)}function y(e){return{indices:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?d.indices:d.indices.slice().reverse(),vertices:v([d.points],e).vertices,uvs:h}}return o&&g(function(){for(var e=v(u,n),t=e.vertices,r=e.holes,a=v(u,i).vertices,o=Hk([a,t]),s=Math.round(a.length/3),l=new Set(r),c=0,d=[],h=0;h<s;h++){var p=h+1;if(p===s)p=c;else if(l.has(p)){var m=p;p=c,c=m}d.push(h,h+s,p+s),d.push(p+s,p,h)}for(var f=[],A=1;A>=0;A--)for(var g=0;g<s;g+=1)f.push(g/(s-1),A);return{indices:d,vertices:o,uvs:f}}()),r&&g(y(n,!1)),a&&g(y(i,!0)),l.setIndex(f),l[dU]("position",new uU.Float32BufferAttribute(p,3)),l[dU]("uv",new uU.Float32BufferAttribute(m,2)),l.computeVertexNormals(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rU(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(uU.BufferGeometry);function pU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function mU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||gU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fU(e){return function(e){if(Array.isArray(e))return pU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AU(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function gU(e,t){if(e){if("string"==typeof e)return pU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pU(e,t):void 0}}var vU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=(t instanceof Array?t.length?t:[void 0]:[t]).map(function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}}),a=e.reduce(function(e,t){var i=e,a=t;return r.forEach(function(e,t){var o,s=e.keyAccessor;if(e.isProp){var l=a,c=l[s],u=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(l,[s].map(AU));o=c,a=u}else o=s(a,t);t+1<r.length?(i.hasOwnProperty(o)||(i[o]={}),i=i[o]):n?(i.hasOwnProperty(o)||(i[o]=[]),i[o].push(a)):i[o]=a}),e},{});n instanceof Function&&function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i===r.length?Object.keys(t).forEach(function(e){return t[e]=n(t[e])}):Object.values(t).forEach(function(t){return e(t,i+1)})}(a);var o=a;return i&&(o=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===r.length?o.push({keys:n,vals:t}):Object.entries(t).forEach(function(t){var i=mU(t,2),r=i[0],a=i[1];return e(a,[].concat(fU(n),[r]))})}(a),t instanceof Array&&0===t.length&&1===o.length&&(o[0].keys=[])),o},yU=function(e){var t,n="undefined"!==typeof(e=e||{})?e:{},i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);var r,a=[],o="";"undefined"!==typeof document&&document.currentScript&&(o=document.currentScript.src),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"",r=function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){if(200==i.status||0==i.status&&i.response)t(i.response);else{var r=K(e);r?t(r.buffer):n()}},i.onerror=n,i.send(null)};var s=n.print||console.log.bind(console),l=n.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);i=null,n.arguments&&(a=n.arguments);var c=0;var u=!1;function d(e){var t,i=n["_"+e];return t="Cannot call unknown function "+e+", make sure it is exported",i||ue("Assertion failed: "+t),i}function h(e,t,n,i,r){var a={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,i){if(!(i>0))return 0;for(var r=n,a=n+i-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o);if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0})(e,g,t,n)})(e,t=ne(n),n)}return t},array:function(e){var t=ne(e.length);return function(e,t){A.set(e,t)}(e,t),t}};var o=d(e),s=[],l=0;if(i)for(var c=0;c<i.length;c++){var u=a[n[c]];u?(0===l&&(l=re()),s[c]=u(i[c])):s[c]=i[c]}var h=o.apply(null,s);return h=function(e){return"string"===t?m(e):"boolean"===t?Boolean(e):e}(h),0!==l&&ie(l),h}var p="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function m(e,t){return e?function(e,t,n){for(var i=t+n,r=t;e[r]&&!(r>=i);)++r;if(r-t>16&&e.subarray&&p)return p.decode(e.subarray(t,r));for(var a="";t<r;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var l=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|l:(7&o)<<18|s<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}(g,e,t):""}var f,A,g,v,y,b,x;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function w(e,t){return e%t>0&&(e+=t-e%t),e}function T(e){f=e,n.HEAP8=A=new Int8Array(e),n.HEAP16=v=new Int16Array(e),n.HEAP32=y=new Int32Array(e),n.HEAPU8=g=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=b=new Float32Array(e),n.HEAPF64=x=new Float64Array(e)}var _=n.TOTAL_MEMORY||33554432;function S(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"===typeof i?void 0===t.arg?n.dynCall_v(i):n.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}_=(f=n.buffer?n.buffer:new ArrayBuffer(_)).byteLength,T(f),y[7152]=5271520;var M=[],E=[],C=[],P=[];function N(e){M.unshift(e)}function R(e){P.unshift(e)}var D=Math.abs,I=Math.ceil,L=Math.floor,k=Math.min,B=0,F=null,O=null;n.preloadedImages={},n.preloadedAudios={};var U,V,j=null,z="data:application/octet-stream;base64,";function q(e){return String.prototype.startsWith?e.startsWith(z):0===e.indexOf(z)}j="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";function G(e){return e}function H(e){return e.replace(/\b__Z[\w\d_]+/g,function(e){return e===e?e:e+" ["+e+"]"})}function W(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(ice){e=ice}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Q(){return A.length}function Y(e){try{var t=new ArrayBuffer(e);if(t.byteLength!=e)return;return new Int8Array(t).set(A),te(t),T(t),1}catch(ice){}}var X="function"===typeof atob?atob:function(e){var t,n,i,r,a,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(c++))<<2|(r=s.indexOf(e.charAt(c++)))>>4,n=(15&r)<<4|(a=s.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(o=s.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==a&&(l+=String.fromCharCode(n)),64!==o&&(l+=String.fromCharCode(i))}while(c<e.length);return l};function K(e){if(q(e))return function(e){try{for(var t=X(e),n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}catch(r){throw new Error("Converting base64 string to bytes failed.")}}(e.slice(z.length))}var Z,J,$={a:ue,b:function(e){c=e},c:function(){return c},d:function(e,t,n,i){ue("Assertion failed: "+m(e)+", at: "+[t?m(t):"unknown filename",n,i?m(i):"unknown function"])},e:function(e){return n.___errno_location&&(y[n.___errno_location()>>2]=e),e},f:Q,g:function(e,t,n){g.set(g.subarray(t,t+n),e)},h:function(e){var t=Q(),n=16777216,i=2130706432;if(e>i)return!1;for(var r=Math.max(t,16777216);r<e;)r=r<=536870912?w(2*r,n):Math.min(w((3*r+2147483648)/4,n),i);return!!Y(r)},i:function(e){ue("OOM")},j:G,k:H,l:Y,m:W,n:function(){var e=W();return n.extraStackTrace&&(e+="\n"+n.extraStackTrace()),H(e)},o:28624,p:28608},ee=function(e,t,n){var i=new e.Int8Array(n),r=new e.Int32Array(n),a=(new e.Uint8Array(n),new e.Float32Array(n),new e.Float64Array(n)),o=0|t.o,s=0|t.p,l=e.Math.floor,c=e.Math.abs,u=e.Math.sqrt,d=e.Math.pow,h=e.Math.cos,p=e.Math.sin,m=e.Math.tan,f=e.Math.acos,A=e.Math.asin,g=e.Math.atan,v=e.Math.atan2,y=e.Math.ceil,b=e.Math.imul,x=e.Math.min,w=e.Math.max,T=e.Math.clz32,_=t.b,S=t.c,M=t.d,E=t.e,C=t.f,P=t.g,N=t.h,R=t.i,D=28640;function I(e,t,n,i){return 0|L(e|=0,t|=0,n|=0,i|=0,0)}function L(e,t,n,i,a){var o,s=0,l=0,c=0,u=0;if(o=D,D=D+16|0,l=o,!(0|k(e|=0,t|=0,n|=0,i|=0,a|=0)))return D=o,0|(i=0);do{if((0|n)>=0){if((0|n)>13780509){if(0|(s=0|ht(15,l)))break;l=0|r[(c=l)>>2],c=0|r[c+4>>2]}else u=0|nn(0|n,0|(s=((0|n)<0)<<31>>31),3,0),c=0|S(),s=0|Zt(0|n,0|s,1,0),s=0|Zt(0|(s=0|nn(0|u,0|c,0|s,0|S())),0|S(),1,0),c=0|S(),r[l>>2]=s,r[l+4>>2]=c,l=s;if(mn(0|i,0,l<<3),0|a){mn(0|a,0,l<<2),s=0|B(e,t,n,i,a,l,c,0);break}(s=0|Kt(l,4))?(u=0|B(e,t,n,i,s,l,c,0),Xt(s),s=u):s=13}else s=2}while(0);return D=o,0|(u=s)}function k(e,t,n,i,a){e|=0,t|=0,n|=0,i|=0,a|=0;var o,s,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0;if(s=D,D=D+16|0,A=s+8|0,r[(f=o=s)>>2]=e,r[f+4>>2]=t,(0|n)<0)return D=s,0|(A=2);if(r[(l=i)>>2]=e,r[l+4>>2]=t,(l=0!=(0|a))&&(r[a>>2]=0),0|qe(e,t))return D=s,0|(A=9);r[A>>2]=0;e:do{if((0|n)>=1)if(l)for(p=1,h=0,m=0,f=1,l=e;;){if(!(h|m)){if(0|(l=0|F(l,t,4,A,o)))break e;if(0|qe(l=0|r[(t=o)>>2],t=0|r[t+4>>2])){l=9;break e}}if(0|(l=0|F(l,t,0|r[26800+(m<<2)>>2],A,o)))break e;if(l=0|r[(t=o)>>2],t=0|r[t+4>>2],r[(e=i+(p<<3)|0)>>2]=l,r[e+4>>2]=t,r[a+(p<<2)>>2]=f,c=(0|(e=h+1|0))==(0|f),d=6==(0|(u=m+1|0)),0|qe(l,t)){l=9;break e}if((0|(f=f+(d&c&1)|0))>(0|n)){l=0;break}p=p+1|0,h=c?0:e,m=c?d?0:u:m}else for(p=1,h=0,m=0,f=1,l=e;;){if(!(h|m)){if(0|(l=0|F(l,t,4,A,o)))break e;if(0|qe(l=0|r[(t=o)>>2],t=0|r[t+4>>2])){l=9;break e}}if(0|(l=0|F(l,t,0|r[26800+(m<<2)>>2],A,o)))break e;if(l=0|r[(t=o)>>2],t=0|r[t+4>>2],r[(e=i+(p<<3)|0)>>2]=l,r[e+4>>2]=t,c=(0|(e=h+1|0))==(0|f),d=6==(0|(u=m+1|0)),0|qe(l,t)){l=9;break e}if((0|(f=f+(d&c&1)|0))>(0|n)){l=0;break}p=p+1|0,h=c?0:e,m=c?d?0:u:m}else l=0}while(0);return D=s,0|(A=l)}function B(e,t,n,i,a,o,s,l){n|=0,i|=0,a|=0,l|=0;var c,u,d,h=0,p=0,m=0,f=0,A=0,g=0,v=0;if(d=D,D=D+16|0,c=d+8|0,u=d,h=0|an(0|(e|=0),0|(t|=0),0|(o|=0),0|(s|=0)),m=0|S(),!(0==(0|(v=0|r[(g=f=i+(h<<3)|0)>>2]))&0==(0|(g=0|r[g+4>>2]))|(p=(0|v)==(0|e)&(0|g)==(0|t))))do{h=0|rn(0|(h=0|Zt(0|h,0|m,1,0)),0|S(),0|o,0|s),m=0|S(),p=(0|(g=0|r[(v=f=i+(h<<3)|0)>>2]))==(0|e)&(0|(v=0|r[v+4>>2]))==(0|t)}while(!(0==(0|g)&0==(0|v)|p));if(h=a+(h<<2)|0,p&&(0|r[h>>2])<=(0|l))return D=d,0|(v=0);if(r[(v=f)>>2]=e,r[v+4>>2]=t,r[h>>2]=l,(0|l)>=(0|n))return D=d,0|(v=0);switch(p=l+1|0,r[c>>2]=0,0|(h=0|F(e,t,2,c,u))){case 9:A=9;break;case 0:(h=0|B(0|r[(h=u)>>2],0|r[h+4>>2],n,i,a,o,s,p))||(A=9)}e:do{if(9==(0|A)){switch(r[c>>2]=0,0|(h=0|F(e,t,3,c,u))){case 9:break;case 0:if(0|(h=0|B(0|r[(h=u)>>2],0|r[h+4>>2],n,i,a,o,s,p)))break e;break;default:break e}switch(r[c>>2]=0,0|(h=0|F(e,t,1,c,u))){case 9:break;case 0:if(0|(h=0|B(0|r[(h=u)>>2],0|r[h+4>>2],n,i,a,o,s,p)))break e;break;default:break e}switch(r[c>>2]=0,0|(h=0|F(e,t,5,c,u))){case 9:break;case 0:if(0|(h=0|B(0|r[(h=u)>>2],0|r[h+4>>2],n,i,a,o,s,p)))break e;break;default:break e}switch(r[c>>2]=0,0|(h=0|F(e,t,4,c,u))){case 9:break;case 0:if(0|(h=0|B(0|r[(h=u)>>2],0|r[h+4>>2],n,i,a,o,s,p)))break e;break;default:break e}switch(r[c>>2]=0,0|(h=0|F(e,t,6,c,u))){case 9:break;case 0:if(0|(h=0|B(0|r[(h=u)>>2],0|r[h+4>>2],n,i,a,o,s,p)))break e;break;default:break e}return D=d,0|(v=0)}}while(0);return D=d,0|(v=h)}function F(e,t,n,i,a){e|=0,t|=0,a|=0;var o,s,l=0,c=0,u=0,d=0,h=0,p=0,m=0;if((n|=0)>>>0>6)return 0|(a=1);if(h=(0|r[(i|=0)>>2])%6|0,r[i>>2]=h,(0|h)>0){l=0;do{n=0|ye(n),l=l+1|0}while((0|l)<(0|r[i>>2]))}if(h=0|sn(0|e,0|t,45),S(),(s=127&h)>>>0>121)return 0|(a=5);o=0|We(e,t),l=0|sn(0|e,0|t,52),S(),l&=15;e:do{if(l){for(;;){if(u=0|sn(0|e,0|t,0|(c=3*(15-l|0)|0)),S(),7==(0|(u&=7))){t=5;break}if(m=0==(0|Ze(l)),l=l+-1|0,p=0|ln(7,0,0|c),t&=~S(),e=0|ln(0|r[(m?432:16)+(28*u|0)+(n<<2)>>2],0,0|c)|e&~p,t|=c=0|S(),!(n=0|r[(m?640:224)+(28*u|0)+(n<<2)>>2])){n=0;break e}if(!l){d=8;break e}}return 0|t}d=8}while(0);8==(0|d)&&(e|=0|ln(0|(m=0|r[848+(28*s|0)+(n<<2)>>2]),0,45),t=S()|-1040385&t,n=0|r[4272+(28*s|0)+(n<<2)>>2],127==(127&m)&&(m=0|ln(0|r[848+(28*s|0)+20>>2],0,45),t=S()|-1040385&t,n=0|r[4272+(28*s|0)+20>>2],e=0|Ye(m|e,t),t=0|S(),r[i>>2]=1+(0|r[i>>2]))),u=0|sn(0|e,0|t,45),S(),u&=127;e:do{if(0|V(u)){t:do{if(1==(0|We(e,t))){if((0|s)!=(0|u)){if(0|G(u,0|r[7696+(28*s|0)>>2])){e=0|Ke(e,t),c=1,t=0|S();break}M(27795,26864,436,26872)}switch(0|o){case 3:e=0|Ye(e,t),t=0|S(),r[i>>2]=1+(0|r[i>>2]),c=0;break t;case 5:e=0|Ke(e,t),t=0|S(),r[i>>2]=5+(0|r[i>>2]),c=0;break t;case 0:return 0|(m=9);default:return 0|(m=1)}}else c=0}while(0);if((0|n)>0){l=0;do{e=0|Qe(e,t),t=0|S(),l=l+1|0}while((0|l)!=(0|n))}if((0|s)!=(0|u)){if(!(0|j(u))){if(0!=(0|c)|5!=(0|We(e,t)))break;r[i>>2]=1+(0|r[i>>2]);break}switch(127&h){case 8:case 118:break e}3!=(0|We(e,t))&&(r[i>>2]=1+(0|r[i>>2]))}}else if((0|n)>0){l=0;do{e=0|Ye(e,t),t=0|S(),l=l+1|0}while((0|l)!=(0|n))}}while(0);return r[i>>2]=((0|r[i>>2])+n|0)%6|0,r[(m=a)>>2]=e,r[m+4>>2]=t,0|(m=0)}function O(e,t,n,i){n|=0,i|=0;var a,o,s,l=0,c=0;for(s=D,D=D+16|0,a=s,o=s+8|0,l=(l=0==(0|qe(e|=0,t|=0)))?1:2;;){if(r[o>>2]=0,0==(0|F(e,t,l,o,a))&((0|r[(c=a)>>2])==(0|n)?(0|r[c+4>>2])==(0|i):0)){e=4;break}if((l=l+1|0)>>>0>=7){l=7,e=4;break}}return 4==(0|e)?(D=s,0|l):0}function U(e,t,n,i,o,s,l){t|=0,n|=0,i|=0,o|=0,s|=0,l|=0;var c,u,d,h,p,m,f,A,g,v,y=0,b=0,x=0,w=0,T=0,_=0,M=0,E=0,C=0,P=0,N=0,R=0,I=0,L=0,k=0,B=0,F=0,O=0,U=0;if(v=D,D=D+64|0,f=v+48|0,A=v+32|0,g=v+24|0,c=v+8|0,u=v,(0|(b=0|r[(e|=0)>>2]))<=0)return D=v,0|(k=0);for(d=e+4|0,h=f+8|0,p=A+8|0,m=c+8|0,y=0,I=0;;){R=(x=0|r[d>>2])+(I<<4)|0,r[f>>2]=r[R>>2],r[f+4>>2]=r[R+4>>2],r[f+8>>2]=r[R+8>>2],r[f+12>>2]=r[R+12>>2],(0|I)==(b+-1|0)?(r[A>>2]=r[x>>2],r[A+4>>2]=r[x+4>>2],r[A+8>>2]=r[x+8>>2],r[A+12>>2]=r[x+12>>2]):(R=x+(I+1<<4)|0,r[A>>2]=r[R>>2],r[A+4>>2]=r[R+4>>2],r[A+8>>2]=r[R+8>>2],r[A+12>>2]=r[R+12>>2]),b=0|te(f,A,i,g);e:do{if(b)x=0,y=b;else if(x=0|r[(b=g)>>2],(0|(b=0|r[b+4>>2]))>0|0==(0|b)&x>>>0>0){N=0,R=0;t:for(;;){if(F=1/(+(x>>>0)+4294967296*+(0|b)),U=+a[f>>3],O=+((b=0|Jt(0|x,0|b,0|N,0|R))>>>0)+4294967296*+(0|S()),B=+(N>>>0)+4294967296*+(0|R),a[c>>3]=F*(U*O)+F*(+a[A>>3]*B),a[m>>3]=F*(+a[h>>3]*O)+F*(+a[p>>3]*B),0|(b=0|Je(c,i,u))){y=b;break}_=0|an(0|(C=0|r[(P=u)>>2]),0|(P=0|r[P+4>>2]),0|t,0|n),w=0|S(),x=0|r[(T=b=l+(_<<3)|0)>>2],T=0|r[T+4>>2];n:do{if(0==(0|x)&0==(0|T))L=b,k=16;else for(M=0,E=0;;){if((0|M)>(0|n)|(0|M)==(0|n)&E>>>0>t>>>0){y=1;break t}if((0|x)==(0|C)&(0|T)==(0|P))break n;if(_=0|rn(0|(b=0|Zt(0|_,0|w,1,0)),0|S(),0|t,0|n),w=0|S(),E=0|Zt(0|E,0|M,1,0),M=0|S(),0==(0|(x=0|r[(T=b=l+(_<<3)|0)>>2]))&0==(0|(T=0|r[T+4>>2]))){L=b,k=16;break}}}while(0);if(16!=(0|k)||(k=0,0==(0|C)&0==(0|P))||(r[(E=L)>>2]=C,r[E+4>>2]=P,E=s+(r[o>>2]<<3)|0,r[E>>2]=C,r[E+4>>2]=P,E=0|Zt(0|r[(E=o)>>2],0|r[E+4>>2],1,0),C=0|S(),r[(P=o)>>2]=E,r[P+4>>2]=C),N=0|Zt(0|N,0|R,1,0),R=0|S(),x=0|r[(b=g)>>2],!((0|(b=0|r[b+4>>2]))>(0|R)|(0|b)==(0|R)&x>>>0>N>>>0)){x=1;break e}}x=0}else x=1}while(0);if(I=I+1|0,!x){k=21;break}if((0|I)>=(0|(b=0|r[e>>2]))){y=0,k=21;break}}return 21==(0|k)?(D=v,0|y):0}function V(e){return(e|=0)>>>0>121?0|(e=0):0|(e=0|r[7696+(28*e|0)+16>>2])}function j(e){return 4==(0|(e|=0))|117==(0|e)|0}function z(e){return 0|r[11120+(216*(0|r[(e|=0)>>2])|0)+(72*(0|r[e+4>>2])|0)+(24*(0|r[e+8>>2])|0)+(r[e+12>>2]<<3)>>2]}function q(e){return 0|r[11120+(216*(0|r[(e|=0)>>2])|0)+(72*(0|r[e+4>>2])|0)+(24*(0|r[e+8>>2])|0)+(r[e+12>>2]<<3)+4>>2]}function G(e,t){return t|=0,(0|r[7696+(28*(e|=0)|0)+20>>2])==(0|t)?0|(t=1):0|(t=(0|r[7696+(28*e|0)+24>>2])==(0|t))}function H(e,t){return 0|r[848+(28*(e|=0)|0)+((t|=0)<<2)>>2]}function W(e,t){return t|=0,(0|r[848+(28*(e|=0)|0)>>2])==(0|t)?0|(t=0):(0|r[848+(28*e|0)+4>>2])==(0|t)?0|(t=1):(0|r[848+(28*e|0)+8>>2])==(0|t)?0|(t=2):(0|r[848+(28*e|0)+12>>2])==(0|t)?0|(t=3):(0|r[848+(28*e|0)+16>>2])==(0|t)?0|(t=4):(0|r[848+(28*e|0)+20>>2])==(0|t)?0|(t=5):0|((0|r[848+(28*e|0)+24>>2])==(0|t)?6:7)}function Q(e){var t,n,i;return t=(i=+a[(e|=0)+16>>3])-(n=+a[e+24>>3]),+(i<n?t+6.283185307179586:t)}function Y(e){return+a[(e|=0)+16>>3]<+a[e+24>>3]|0}function X(e){return+(+a[(e|=0)>>3]-+a[e+8>>3])}function K(e,t){e|=0;var n,i,r=0;return(r=+a[(t|=0)>>3])>=+a[e+8>>3]&&r<=+a[e>>3]?(n=+a[e+16>>3],r=+a[e+24>>3],t=(i=+a[t+8>>3])>=r,e=i<=n&1,n<r?t&&(e=1):t||(e=0),0|(t=0!=(0|e))):0|(t=0)}function Z(e,t){t|=0;var n,i,r,o,s,l=0,c=0,u=0,d=0;return+a[(e|=0)>>3]<+a[t+8>>3]||+a[e+8>>3]>+a[t>>3]?0|(l=0):(r=(c=+a[e+16>>3])<(d=+a[(n=e+24|0)>>3]),u=(s=+a[(l=t+16|0)>>3])<(o=+a[(i=t+24|0)>>3]),t=d-s<o-c,e=r?u|t?1:2:0,t=u?r?1:t?2:1:0,(c=+ct(c,e))<+ct(+a[i>>3],t)||(d=+ct(+a[n>>3],e))>+ct(+a[l>>3],t)?0|(u=0):0|(u=1))}function J(e,t){t|=0;var n,i,r,o,s,l=0,c=0,u=0,d=0;return+a[(e|=0)>>3]<+a[t>>3]||+a[e+8>>3]>+a[t+8>>3]?0|(l=0):(r=(o=+a[(l=e+16|0)>>3])<(c=+a[e+24>>3]),u=(d=+a[(n=t+16|0)>>3])<(s=+a[(i=t+24|0)>>3]),t=c-d<s-o,e=r?u|t?1:2:0,t=u?r?1:t?2:1:0,(c=+ct(c,e))<=+ct(+a[i>>3],t)?0|(u=(d=+ct(+a[l>>3],e))>=+ct(+a[n>>3],t)):0|(u=0))}function $(e,t){e|=0,t|=0;var n,i,o,s,l,c=0;o=D,D=D+176|0,r[(i=o)>>2]=4,c=+a[t>>3],a[i+8>>3]=c,s=+a[t+16>>3],a[i+16>>3]=s,a[i+24>>3]=c,c=+a[t+24>>3],a[i+32>>3]=c,l=+a[t+8>>3],a[i+40>>3]=l,a[i+48>>3]=c,a[i+56>>3]=l,a[i+64>>3]=s,n=(t=i+72|0)+96|0;do{r[t>>2]=0,t=t+4|0}while((0|t)<(0|n));pn(0|e,0|i,168),D=o}function ee(e,t,n){e|=0,t|=0,n|=0;var i,s,u,d,h,p,m,f=0,A=0,g=0,v=0,b=0,w=0,T=0;p=D,D=D+288|0,h=p+264|0,v=p+96|0,A=(f=g=p)+96|0;do{r[f>>2]=0,f=f+4|0}while((0|f)<(0|A));return 0|(t=0|it(t,g))?(D=p,0|(w=t)):(tt(g=0|r[(A=g)>>2],A=0|r[A+4>>2],h),nt(g,A,v),d=+ut(h,v+8|0),a[h>>3]=+a[e>>3],a[(A=h+8|0)>>3]=+a[e+16>>3],a[v>>3]=+a[e+8>>3],a[(g=v+8|0)>>3]=+a[e+24>>3],s=+ut(h,v),T=+a[A>>3]-+a[g>>3],u=+c(+T),m=+a[h>>3]-+a[v>>3],i=+c(+m),0==T|0==m||(T=+un(+u,+i),T=+y(+s*s/+dn(+T/+dn(+u,+i),3)/(d*(2.59807621135*d)*.8)),a[o>>3]=T,b=~~T>>>0,w=+c(T)>=1?T>0?~~+x(+l(T/4294967296),4294967295)>>>0:~~+y((T-+(~~T>>>0))/4294967296)>>>0:0,2146435072==(2146435072&r[o+4>>2]))?t=1:(v=0==(0|b)&0==(0|w),r[(t=n)>>2]=v?1:b,r[t+4>>2]=v?0:w,t=0),D=p,0|(w=t))}function te(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var s,u,d,h,p=0,m=0,f=0;h=D,D=D+288|0,u=h+264|0,d=h+96|0,s=(p=m=h)+96|0;do{r[p>>2]=0,p=p+4|0}while((0|p)<(0|s));return 0|(n=0|it(n,m))?(D=h,0|(i=n)):(tt(p=0|r[(n=m)>>2],n=0|r[n+4>>2],u),nt(p,n,d),f=+ut(u,d+8|0),f=+y(+ +ut(e,t)/(2*f)),a[o>>3]=f,n=~~f>>>0,p=+c(f)>=1?f>0?~~+x(+l(f/4294967296),4294967295)>>>0:~~+y((f-+(~~f>>>0))/4294967296)>>>0:0,2146435072==(2146435072&r[o+4>>2])?(D=h,0|(i=1)):(m=0==(0|n)&0==(0|p),r[i>>2]=m?1:n,r[i+4>>2]=m?0:p,D=h,0|(i=0)))}function ne(e,t,n,i){t|=0,n|=0,i|=0,r[(e|=0)>>2]=t,r[e+4>>2]=n,r[e+8>>2]=i}function ie(e,t){e|=0;var n,i,o,s,l=0,u=0,d=0,h=0,p=0,m=0,f=0;r[(s=(t|=0)+8|0)>>2]=0,i=+a[e>>3],h=+c(+i),o=+a[e+8>>3],h+=.5*(p=1.1547005383792515*+c(+o)),h-=+(0|(l=~~h)),p-=+(0|(e=~~p));do{if(h<.5){if(h<.3333333333333333){if(r[t>>2]=l,p<.5*(h+1)){r[t+4>>2]=e;break}e=e+1|0,r[t+4>>2]=e;break}if(e=(1&!(p<(f=1-h)))+e|0,r[t+4>>2]=e,f<=p&p<2*h){l=l+1|0,r[t>>2]=l;break}r[t>>2]=l;break}if(!(h<.6666666666666666)){if(l=l+1|0,r[t>>2]=l,p<.5*h){r[t+4>>2]=e;break}e=e+1|0,r[t+4>>2]=e;break}if(p<1-h){if(r[t+4>>2]=e,2*h-1<p){r[t>>2]=l;break}}else e=e+1|0,r[t+4>>2]=e;l=l+1|0,r[t>>2]=l}while(0);do{if(i<0){if(1&e){l=~~(+(0|l)-(2*(+((m=0|Jt(0|l,((0|l)<0)<<31>>31,0|(m=(e+1|0)/2|0),((0|m)<0)<<31>>31))>>>0)+4294967296*+(0|S()))+1)),r[t>>2]=l;break}l=~~(+(0|l)-2*(+((m=0|Jt(0|l,((0|l)<0)<<31>>31,0|(m=(0|e)/2|0),((0|m)<0)<<31>>31))>>>0)+4294967296*+(0|S()))),r[t>>2]=l;break}}while(0);m=t+4|0,o<0&&(l=l-((1|e<<1)/2|0)|0,r[t>>2]=l,e=0-e|0,r[m>>2]=e),u=e-l|0,(0|l)<0?(d=0-l|0,r[m>>2]=u,r[s>>2]=d,r[t>>2]=0,e=u,l=0):d=0,(0|e)<0&&(l=l-e|0,r[t>>2]=l,d=d-e|0,r[s>>2]=d,r[m>>2]=0,e=0),n=l-d|0,u=e-d|0,(0|d)<0&&(r[t>>2]=n,r[m>>2]=u,r[s>>2]=0,e=u,l=n,d=0),(0|(u=(0|d)<(0|(u=(0|e)<(0|l)?e:l))?d:u))<=0||(r[t>>2]=l-u,r[m>>2]=e-u,r[s>>2]=d-u)}function re(e){var t,n=0,i=0,a=0,o=0,s=0;n=0|r[(e|=0)>>2],i=0|r[(t=e+4|0)>>2],(0|n)<0&&(i=i-n|0,r[t>>2]=i,r[(s=e+8|0)>>2]=(0|r[s>>2])-n,r[e>>2]=0,n=0),(0|i)<0?(n=n-i|0,r[e>>2]=n,o=(0|r[(s=e+8|0)>>2])-i|0,r[s>>2]=o,r[t>>2]=0,i=0):(s=o=e+8|0,o=0|r[o>>2]),(0|o)<0&&(n=n-o|0,r[e>>2]=n,i=i-o|0,r[t>>2]=i,r[s>>2]=0,o=0),(0|(a=(0|o)<(0|(a=(0|i)<(0|n)?i:n))?o:a))<=0||(r[e>>2]=n-a,r[t>>2]=i-a,r[s>>2]=o-a)}function ae(e,t){t|=0;var n,i;i=0|r[(e|=0)+8>>2],n=+((0|r[e+4>>2])-i|0),a[t>>3]=+((0|r[e>>2])-i|0)-.5*n,a[t+8>>3]=.8660254037844386*n}function oe(e,t,n){e|=0,t|=0,r[(n|=0)>>2]=(0|r[t>>2])+(0|r[e>>2]),r[n+4>>2]=(0|r[t+4>>2])+(0|r[e+4>>2]),r[n+8>>2]=(0|r[t+8>>2])+(0|r[e+8>>2])}function se(e,t,n){e|=0,t|=0,r[(n|=0)>>2]=(0|r[e>>2])-(0|r[t>>2]),r[n+4>>2]=(0|r[e+4>>2])-(0|r[t+4>>2]),r[n+8>>2]=(0|r[e+8>>2])-(0|r[t+8>>2])}function le(e,t){t|=0;var n,i=0;i=0|b(0|r[(e|=0)>>2],t),r[e>>2]=i,n=0|b(0|r[(i=e+4|0)>>2],t),r[i>>2]=n,t=0|b(0|r[(e=e+8|0)>>2],t),r[e>>2]=t}function ce(e){var t,n,i=0,a=0,o=0,s=0,l=0;l=(0|(n=0|r[(e|=0)>>2]))<0,e=(e=(a=(0|(s=((t=(0|(o=(0|r[e+4>>2])-(l?n:0)|0))<0)?0-o|0:0)+((0|r[e+8>>2])-(l?n:0))|0))<0)?0:s)-((o=(0|(a=(0|e)<(0|(a=(0|(i=(t?0:o)-(a?s:0)|0))<(0|(s=(l?0:n)-(t?o:0)-(a?s:0)|0))?i:s))?e:a))>0)?a:0)|0,i=i-(o?a:0)|0;e:do{switch(s-(o?a:0)|0){case 0:switch(0|i){case 0:return 0|(l=0==(0|e)?0:1==(0|e)?1:7);case 1:return 0|(l=0==(0|e)?2:1==(0|e)?3:7);default:break e}case 1:switch(0|i){case 0:return 0|(l=0==(0|e)?4:1==(0|e)?5:7);case 1:if(e)break e;return 0|(e=6);default:break e}}}while(0);return 0|(l=7)}function ue(e){var t,n,i=0,a=0,o=0,s=0,l=0,c=0,u=0;if(c=0|r[(n=(e|=0)+8|0)>>2],(t=(0|r[e>>2])-c|0)>>>0>715827881|(c=(0|r[(u=e+4|0)>>2])-c|0)>>>0>715827881){if(s=2147483647-t|0,l=-2147483648-t|0,(o=(0|t)>0)?(0|s)<(0|t):(0|l)>(0|t))return 0|(u=1);if(a=t<<1,o?(2147483647-a|0)<(0|t):(-2147483648-a|0)>(0|t))return 0|(u=1);if((0|c)>0?(2147483647-c|0)<(0|c):(-2147483648-c|0)>(0|c))return 0|(u=1);if(i=3*t|0,a=c<<1,(o?(0|s)<(0|a):(0|l)>(0|a))||((0|t)>-1?(-2147483648|i)>=(0|c):(-2147483648^i)<(0|c)))return 0|(u=1)}else a=c<<1,i=3*t|0;return o=0|Qt(.14285714285714285*+(i-c|0)),r[e>>2]=o,s=0|Qt(.14285714285714285*+(a+t|0)),r[u>>2]=s,r[n>>2]=0,i=(a=(0|s)<(0|o))?o:s,(0|(a=a?s:o))<0&&((-2147483648==(0|a)||((0|i)>0?(2147483647-i|0)<(0|a):(-2147483648-i|0)>(0|a)))&&M(27795,26892,354,26903),((0|i)>-1?(-2147483648|i)>=(0|a):(-2147483648^i)<(0|a))&&M(27795,26892,354,26903)),i=s-o|0,(0|o)<0?(a=0-o|0,r[u>>2]=i,r[n>>2]=a,r[e>>2]=0,o=0):(i=s,a=0),(0|i)<0&&(o=o-i|0,r[e>>2]=o,a=a-i|0,r[n>>2]=a,r[u>>2]=0,i=0),l=o-a|0,s=i-a|0,(0|a)<0?(r[e>>2]=l,r[u>>2]=s,r[n>>2]=0,i=s,s=l,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|i)<(0|s)?i:s))?a:o))<=0||(r[e>>2]=s-o,r[u>>2]=i-o,r[n>>2]=a-o),0|(u=0)}function de(e){var t,n=0,i=0,a=0,o=0,s=0,l=0,c=0;if(o=0|r[(t=(e|=0)+8|0)>>2],(s=(0|r[e>>2])-o|0)>>>0>715827881|(o=(0|r[(l=e+4|0)>>2])-o|0)>>>0>715827881){if((i=(0|s)>0)?(2147483647-s|0)<(0|s):(-2147483648-s|0)>(0|s))return 0|(l=1);if(n=s<<1,(a=(0|o)>0)?(2147483647-o|0)<(0|o):(-2147483648-o|0)>(0|o))return 0|(l=1);if(c=o<<1,a?(2147483647-c|0)<(0|o):(-2147483648-c|0)>(0|o))return 0|(c=1);if(i?(2147483647-n|0)<(0|o):(-2147483648-n|0)>(0|o))return 0|(c=1);if(i=3*o|0,(0|o)>-1?(-2147483648|i)>=(0|s):(-2147483648^i)<(0|s))return 0|(c=1)}else i=3*o|0,n=s<<1;return a=0|Qt(.14285714285714285*+(n+o|0)),r[e>>2]=a,o=0|Qt(.14285714285714285*+(i-s|0)),r[l>>2]=o,r[t>>2]=0,n=(i=(0|o)<(0|a))?a:o,(0|(i=i?o:a))<0&&((-2147483648==(0|i)||((0|n)>0?(2147483647-n|0)<(0|i):(-2147483648-n|0)>(0|i)))&&M(27795,26892,402,26917),((0|n)>-1?(-2147483648|n)>=(0|i):(-2147483648^n)<(0|i))&&M(27795,26892,402,26917)),n=o-a|0,(0|a)<0?(i=0-a|0,r[l>>2]=n,r[t>>2]=i,r[e>>2]=0,a=0):(n=o,i=0),(0|n)<0&&(a=a-n|0,r[e>>2]=a,i=i-n|0,r[t>>2]=i,r[l>>2]=0,n=0),s=a-i|0,o=n-i|0,(0|i)<0?(r[e>>2]=s,r[l>>2]=o,r[t>>2]=0,n=o,o=s,i=0):o=a,(0|(a=(0|i)<(0|(a=(0|n)<(0|o)?n:o))?i:a))<=0||(r[e>>2]=o-a,r[l>>2]=n-a,r[t>>2]=i-a),0|(c=0)}function he(e){var t,n,i=0,a=0,o=0,s=0,l=0;a=0|r[(t=(e|=0)+8|0)>>2],o=0|Qt(.14285714285714285*+((3*(i=(0|r[e>>2])-a|0)|0)-(a=(0|r[(n=e+4|0)>>2])-a|0)|0)),r[e>>2]=o,i=0|Qt(.14285714285714285*+((a<<1)+i|0)),r[n>>2]=i,r[t>>2]=0,a=i-o|0,(0|o)<0?(l=0-o|0,r[n>>2]=a,r[t>>2]=l,r[e>>2]=0,i=a,o=0,a=l):a=0,(0|i)<0&&(o=o-i|0,r[e>>2]=o,a=a-i|0,r[t>>2]=a,r[n>>2]=0,i=0),l=o-a|0,s=i-a|0,(0|a)<0?(r[e>>2]=l,r[n>>2]=s,r[t>>2]=0,i=s,s=l,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|i)<(0|s)?i:s))?a:o))<=0||(r[e>>2]=s-o,r[n>>2]=i-o,r[t>>2]=a-o)}function pe(e){var t,n,i=0,a=0,o=0,s=0,l=0;a=0|r[(t=(e|=0)+8|0)>>2],o=0|Qt(.14285714285714285*+(((i=(0|r[e>>2])-a|0)<<1)+(a=(0|r[(n=e+4|0)>>2])-a|0)|0)),r[e>>2]=o,i=0|Qt(.14285714285714285*+((3*a|0)-i|0)),r[n>>2]=i,r[t>>2]=0,a=i-o|0,(0|o)<0?(l=0-o|0,r[n>>2]=a,r[t>>2]=l,r[e>>2]=0,i=a,o=0,a=l):a=0,(0|i)<0&&(o=o-i|0,r[e>>2]=o,a=a-i|0,r[t>>2]=a,r[n>>2]=0,i=0),l=o-a|0,s=i-a|0,(0|a)<0?(r[e>>2]=l,r[n>>2]=s,r[t>>2]=0,i=s,s=l,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|i)<(0|s)?i:s))?a:o))<=0||(r[e>>2]=s-o,r[n>>2]=i-o,r[t>>2]=a-o)}function me(e){var t,n,i,a=0,o=0,s=0,l=0;a=0|r[(e|=0)>>2],o=0|r[(n=e+4|0)>>2],s=0|r[(i=e+8|0)>>2],l=o+(3*a|0)|0,r[e>>2]=l,o=s+(3*o|0)|0,r[n>>2]=o,a=(3*s|0)+a|0,r[i>>2]=a,s=o-l|0,(0|l)<0?(a=a-l|0,r[n>>2]=s,r[i>>2]=a,r[e>>2]=0,o=s,s=0):s=l,(0|o)<0&&(s=s-o|0,r[e>>2]=s,a=a-o|0,r[i>>2]=a,r[n>>2]=0,o=0),t=s-a|0,l=o-a|0,(0|a)<0?(r[e>>2]=t,r[n>>2]=l,r[i>>2]=0,s=t,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(r[e>>2]=s-o,r[n>>2]=l-o,r[i>>2]=a-o)}function fe(e){var t,n,i,a=0,o=0,s=0,l=0;l=0|r[(e|=0)>>2],s=(3*(a=0|r[(n=e+4|0)>>2])|0)+l|0,l=(o=0|r[(i=e+8|0)>>2])+(3*l|0)|0,r[e>>2]=l,r[n>>2]=s,a=(3*o|0)+a|0,r[i>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,r[n>>2]=o,r[i>>2]=a,r[e>>2]=0,l=0):o=s,(0|o)<0&&(l=l-o|0,r[e>>2]=l,a=a-o|0,r[i>>2]=a,r[n>>2]=0,o=0),t=l-a|0,s=o-a|0,(0|a)<0?(r[e>>2]=t,r[n>>2]=s,r[i>>2]=0,l=t,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|s)<(0|l)?s:l))?a:o))<=0||(r[e>>2]=l-o,r[n>>2]=s-o,r[i>>2]=a-o)}function Ae(e,t){e|=0;var n,i,a,o=0,s=0,l=0;((t|=0)+-1|0)>>>0>=6||(l=(0|r[15440+(12*t|0)>>2])+(0|r[e>>2])|0,r[e>>2]=l,a=e+4|0,s=(0|r[15440+(12*t|0)+4>>2])+(0|r[a>>2])|0,r[a>>2]=s,i=e+8|0,t=(0|r[15440+(12*t|0)+8>>2])+(0|r[i>>2])|0,r[i>>2]=t,o=s-l|0,(0|l)<0?(t=t-l|0,r[a>>2]=o,r[i>>2]=t,r[e>>2]=0,s=0):(o=s,s=l),(0|o)<0&&(s=s-o|0,r[e>>2]=s,t=t-o|0,r[i>>2]=t,r[a>>2]=0,o=0),n=s-t|0,l=o-t|0,(0|t)<0?(r[e>>2]=n,r[a>>2]=l,r[i>>2]=0,s=n,t=0):l=o,(0|(o=(0|t)<(0|(o=(0|l)<(0|s)?l:s))?t:o))<=0||(r[e>>2]=s-o,r[a>>2]=l-o,r[i>>2]=t-o))}function ge(e){var t,n,i,a=0,o=0,s=0,l=0;l=0|r[(e|=0)>>2],s=(a=0|r[(n=e+4|0)>>2])+l|0,l=(o=0|r[(i=e+8|0)>>2])+l|0,r[e>>2]=l,r[n>>2]=s,a=o+a|0,r[i>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,r[n>>2]=o,r[i>>2]=a,r[e>>2]=0,s=0):(o=s,s=l),(0|o)<0&&(s=s-o|0,r[e>>2]=s,a=a-o|0,r[i>>2]=a,r[n>>2]=0,o=0),t=s-a|0,l=o-a|0,(0|a)<0?(r[e>>2]=t,r[n>>2]=l,r[i>>2]=0,s=t,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(r[e>>2]=s-o,r[n>>2]=l-o,r[i>>2]=a-o)}function ve(e){var t,n,i,a=0,o=0,s=0,l=0;a=0|r[(e|=0)>>2],s=0|r[(n=e+4|0)>>2],o=0|r[(i=e+8|0)>>2],l=s+a|0,r[e>>2]=l,s=o+s|0,r[n>>2]=s,a=o+a|0,r[i>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,r[n>>2]=o,r[i>>2]=a,r[e>>2]=0,s=0):(o=s,s=l),(0|o)<0&&(s=s-o|0,r[e>>2]=s,a=a-o|0,r[i>>2]=a,r[n>>2]=0,o=0),t=s-a|0,l=o-a|0,(0|a)<0?(r[e>>2]=t,r[n>>2]=l,r[i>>2]=0,s=t,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(r[e>>2]=s-o,r[n>>2]=l-o,r[i>>2]=a-o)}function ye(e){switch(0|(e|=0)){case 1:e=5;break;case 5:e=4;break;case 4:e=6;break;case 6:e=2;break;case 2:e=3;break;case 3:e=1}return 0|e}function be(e){switch(0|(e|=0)){case 1:e=3;break;case 3:e=2;break;case 2:e=6;break;case 6:e=4;break;case 4:e=5;break;case 5:e=1}return 0|e}function xe(e){var t,n,i,a=0,o=0,s=0,l=0;a=0|r[(e|=0)>>2],o=0|r[(n=e+4|0)>>2],s=0|r[(i=e+8|0)>>2],l=o+(a<<1)|0,r[e>>2]=l,o=s+(o<<1)|0,r[n>>2]=o,a=(s<<1)+a|0,r[i>>2]=a,s=o-l|0,(0|l)<0?(a=a-l|0,r[n>>2]=s,r[i>>2]=a,r[e>>2]=0,o=s,s=0):s=l,(0|o)<0&&(s=s-o|0,r[e>>2]=s,a=a-o|0,r[i>>2]=a,r[n>>2]=0,o=0),t=s-a|0,l=o-a|0,(0|a)<0?(r[e>>2]=t,r[n>>2]=l,r[i>>2]=0,s=t,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(r[e>>2]=s-o,r[n>>2]=l-o,r[i>>2]=a-o)}function we(e){var t,n,i,a=0,o=0,s=0,l=0;l=0|r[(e|=0)>>2],s=((a=0|r[(n=e+4|0)>>2])<<1)+l|0,l=(o=0|r[(i=e+8|0)>>2])+(l<<1)|0,r[e>>2]=l,r[n>>2]=s,a=(o<<1)+a|0,r[i>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,r[n>>2]=o,r[i>>2]=a,r[e>>2]=0,l=0):o=s,(0|o)<0&&(l=l-o|0,r[e>>2]=l,a=a-o|0,r[i>>2]=a,r[n>>2]=0,o=0),t=l-a|0,s=o-a|0,(0|a)<0?(r[e>>2]=t,r[n>>2]=s,r[i>>2]=0,l=t,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|s)<(0|l)?s:l))?a:o))<=0||(r[e>>2]=l-o,r[n>>2]=s-o,r[i>>2]=a-o)}function Te(e,t){t|=0;var n,i,a,o=0,s=0,l=0;return a=(0|(i=(0|r[(e|=0)>>2])-(0|r[t>>2])|0))<0,n=(0|(s=(0|r[e+4>>2])-(0|r[t+4>>2])-(a?i:0)|0))<0,t=(t=(e=(0|(l=(a?0-i|0:0)+(0|r[e+8>>2])-(0|r[t+8>>2])+(n?0-s|0:0)|0))<0)?0:l)-((s=(0|(e=(0|t)<(0|(e=(0|(o=(n?0:s)-(e?l:0)|0))<(0|(l=(a?0:i)-(n?s:0)-(e?l:0)|0))?o:l))?t:e))>0)?e:0)|0,o=o-(s?e:0)|0,0|((0|(e=(0|(e=l-(s?e:0)|0))>-1?e:0-e|0))>(0|(t=(0|(o=(0|o)>-1?o:0-o|0))>(0|(t=(0|t)>-1?t:0-t|0))?o:t))?e:t)}function _e(e,t){t|=0;var n;n=0|r[(e|=0)+8>>2],r[t>>2]=(0|r[e>>2])-n,r[t+4>>2]=(0|r[e+4>>2])-n}function Se(e,t){t|=0;var n,i,a,o=0,s=0,l=0;if(s=0|r[(e|=0)>>2],r[t>>2]=s,l=0|r[e+4>>2],r[(i=t+4|0)>>2]=l,r[(a=t+8|0)>>2]=0,e=(o=(0|l)<(0|s))?s:l,(0|(o=o?l:s))<0){if(-2147483648==(0|o)||((0|e)>0?(2147483647-e|0)<(0|o):(-2147483648-e|0)>(0|o)))return 0|(t=1);if((0|e)>-1?(-2147483648|e)>=(0|o):(-2147483648^e)<(0|o))return 0|(t=1)}return e=l-s|0,(0|s)<0?(o=0-s|0,r[i>>2]=e,r[a>>2]=o,r[t>>2]=0,s=0):(e=l,o=0),(0|e)<0&&(s=s-e|0,r[t>>2]=s,o=o-e|0,r[a>>2]=o,r[i>>2]=0,e=0),n=s-o|0,l=e-o|0,(0|o)<0?(r[t>>2]=n,r[i>>2]=l,r[a>>2]=0,e=l,l=n,o=0):l=s,(0|(s=(0|o)<(0|(s=(0|e)<(0|l)?e:l))?o:s))<=0||(r[t>>2]=l-s,r[i>>2]=e-s,r[a>>2]=o-s),0|(t=0)}function Me(e){var t,n,i,a;n=(a=0|r[(t=(e|=0)+8|0)>>2])-(0|r[e>>2])|0,r[e>>2]=n,e=(0|r[(i=e+4|0)>>2])-a|0,r[i>>2]=e,r[t>>2]=0-(e+n)}function Ee(e){var t,n,i=0,a=0,o=0,s=0,l=0;i=0-(a=0|r[(e|=0)>>2])|0,r[e>>2]=i,r[(t=e+8|0)>>2]=0,s=(o=0|r[(n=e+4|0)>>2])+a|0,(0|a)>0?(r[n>>2]=s,r[t>>2]=a,r[e>>2]=0,i=0,o=s):a=0,(0|o)<0?(l=i-o|0,r[e>>2]=l,a=a-o|0,r[t>>2]=a,r[n>>2]=0,s=l-a|0,i=0-a|0,(0|a)<0?(r[e>>2]=s,r[n>>2]=i,r[t>>2]=0,o=i,a=0):(o=0,s=l)):s=i,(0|(i=(0|a)<(0|(i=(0|o)<(0|s)?o:s))?a:i))<=0||(r[e>>2]=s-i,r[n>>2]=o-i,r[t>>2]=a-i)}function Ce(e,t,n){n|=0;var i,a,o=0,s=0;return a=D,D=D+16|0,i=a,s=-2130706433&(t|=0)|134217728,!0&268435456==(2013265920&t)?(o=0|sn(0|(e|=0),0|t,56),S(),o=0|function(e,t,n){e|=0,t|=0,n|=0;var i=0,a=0,o=0;if(o=D,D=D+16|0,a=o,i=0|qe(e,t),(n+-1|0)>>>0>5)return D=o,0|(a=-1);if(i=0!=(0|i),1==(0|n)&i)return D=o,0|(a=-1);do{if(!(0|Ot(e,t,a))){if(i){i=(5+(0|r[26352+(n<<2)>>2])-(0|r[a>>2])|0)%5|0;break}i=(6+(0|r[26384+(n<<2)>>2])-(0|r[a>>2])|0)%6|0;break}i=-1}while(0);return a=i,D=o,0|a}(e,s,7&o),-1==(0|o)?(r[n>>2]=0,D=a,0|(s=6)):(0|et(e,s,i)&&M(27795,26932,282,26947),t=0|sn(0|e,0|t,52),S(),t&=15,0|qe(e,s)?De(i,t,o,2,n):Be(i,t,o,2,n),D=a,0|(s=0))):(D=a,0|(s=6))}function Pe(e,t,n,i){t|=0,i|=0;var o,s=0,l=0,c=0,u=0;if(o=D,D=D+16|0,function(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0;s=D,D=D+32|0,o=s,function(e,t){e|=0,t|=0;var n=0,i=0,r=0;n=+a[e>>3],i=+h(+n),n=+p(+n),a[t+16>>3]=n,n=+a[e+8>>3],r=i*+h(+n),a[t>>3]=r,n=i*+p(+n),a[t+8>>3]=n}(e,o),r[t>>2]=0,a[n>>3]=5,i=+Ft(16400,o),i<+a[n>>3]&&(r[t>>2]=0,a[n>>3]=i);i=+Ft(16424,o),i<+a[n>>3]&&(r[t>>2]=1,a[n>>3]=i);i=+Ft(16448,o),i<+a[n>>3]&&(r[t>>2]=2,a[n>>3]=i);i=+Ft(16472,o),i<+a[n>>3]&&(r[t>>2]=3,a[n>>3]=i);i=+Ft(16496,o),i<+a[n>>3]&&(r[t>>2]=4,a[n>>3]=i);i=+Ft(16520,o),i<+a[n>>3]&&(r[t>>2]=5,a[n>>3]=i);i=+Ft(16544,o),i<+a[n>>3]&&(r[t>>2]=6,a[n>>3]=i);i=+Ft(16568,o),i<+a[n>>3]&&(r[t>>2]=7,a[n>>3]=i);i=+Ft(16592,o),i<+a[n>>3]&&(r[t>>2]=8,a[n>>3]=i);i=+Ft(16616,o),i<+a[n>>3]&&(r[t>>2]=9,a[n>>3]=i);i=+Ft(16640,o),i<+a[n>>3]&&(r[t>>2]=10,a[n>>3]=i);i=+Ft(16664,o),i<+a[n>>3]&&(r[t>>2]=11,a[n>>3]=i);i=+Ft(16688,o),i<+a[n>>3]&&(r[t>>2]=12,a[n>>3]=i);i=+Ft(16712,o),i<+a[n>>3]&&(r[t>>2]=13,a[n>>3]=i);i=+Ft(16736,o),i<+a[n>>3]&&(r[t>>2]=14,a[n>>3]=i);i=+Ft(16760,o),i<+a[n>>3]&&(r[t>>2]=15,a[n>>3]=i);i=+Ft(16784,o),i<+a[n>>3]&&(r[t>>2]=16,a[n>>3]=i);i=+Ft(16808,o),i<+a[n>>3]&&(r[t>>2]=17,a[n>>3]=i);i=+Ft(16832,o),i<+a[n>>3]&&(r[t>>2]=18,a[n>>3]=i);if(i=+Ft(16856,o),!(i<+a[n>>3]))return void(D=s);r[t>>2]=19,a[n>>3]=i,D=s}(e|=0,n|=0,u=o),(l=+f(+(1-.5*+a[u>>3])))<1e-16)return r[i>>2]=0,r[i+4>>2]=0,r[i+8>>2]=0,r[i+12>>2]=0,void(D=o);if(u=0|r[n>>2],s=+st((s=+a[15920+(24*u|0)>>3])-+st(+function(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0,s=0;return o=+a[t>>3],i=+h(+o),r=+a[t+8>>3]-+a[e+8>>3],s=i*+p(+r),n=+a[e>>3],+ +v(+s,+(+p(+o)*+h(+n)-+h(+r)*(i*+p(+n))))}(15600+(u<<4)|0,e))),c=0|Ze(t)?+st(s+-.3334731722518321):s,s=2.618033988749896*+m(+l),(0|t)>0){e=0;do{s*=2.6457513110645907,e=e+1|0}while((0|e)!=(0|t))}l=+h(+c)*s,a[i>>3]=l,c=+p(+c)*s,a[i+8>>3]=c,D=o}function Ne(e,t,n,i,o){t|=0,n|=0,i|=0,o|=0;var s,l=0,d=0;if(l=+function(e){e|=0;var t=0,n=0;return n=+a[e>>3],t=+a[e+8>>3],+ +u(+(n*n+t*t))}(e|=0),l<1e-16)return t=15600+(t<<4)|0,r[o>>2]=r[t>>2],r[o+4>>2]=r[t+4>>2],r[o+8>>2]=r[t+8>>2],void(r[o+12>>2]=r[t+12>>2]);if(d=+v(+ +a[e+8>>3],+ +a[e>>3]),(0|n)>0){e=0;do{l*=.37796447300922725,e=e+1|0}while((0|e)!=(0|n))}s=.3333333333333333*l,i?(n=0==(0|Ze(n)),l=+g(.381966011250105*(n?s:.37796447300922725*s))):(l=+g(.381966011250105*l),0|Ze(n)&&(d=+st(d+.3334731722518321))),function(e,t,n,i){e|=0,t=+t,n=+n,i|=0;var o=0,s=0,l=0,u=0;if(n<1e-16)return r[i>>2]=r[e>>2],r[i+4>>2]=r[e+4>>2],r[i+8>>2]=r[e+8>>2],void(r[i+12>>2]=r[e+12>>2]);s=t<0?t+6.283185307179586:t,s=t>=6.283185307179586?s+-6.283185307179586:s;do{if(!(s<1e-16)){if(o=+c(+(s+-3.141592653589793))<1e-16,t=+a[e>>3],o){t-=n,a[i>>3]=t,o=i;break}if(l=+h(+n),n=+p(+n),t=l*+p(+t)+ +h(+s)*(n*+h(+t)),t=+A(+((t=t>1?1:t)<-1?-1:t)),a[i>>3]=t,+c(+(t+-1.5707963267948966))<1e-16)return a[i>>3]=1.5707963267948966,void(a[i+8>>3]=0);if(+c(+(t+1.5707963267948966))<1e-16)return a[i>>3]=-1.5707963267948966,void(a[i+8>>3]=0);if(u=1/+h(+t),s=n*+p(+s)*u,n=+a[e>>3],t=u*((l-+p(+t)*+p(+n))/+h(+n)),l=s>1?1:s,t=t>1?1:t,(t=+a[e+8>>3]+ +v(+(l<-1?-1:l),+(t<-1?-1:t)))>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);return void(a[i+8>>3]=t)}t=+a[e>>3]+n,a[i>>3]=t,o=i}while(0);if(+c(+(t+-1.5707963267948966))<1e-16)return a[o>>3]=1.5707963267948966,void(a[i+8>>3]=0);if(+c(+(t+1.5707963267948966))<1e-16)return a[o>>3]=-1.5707963267948966,void(a[i+8>>3]=0);if(t=+a[e+8>>3],t>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);a[i+8>>3]=t}(15600+(t<<4)|0,+st(+a[15920+(24*t|0)>>3]-d),l,o)}function Re(e,t,n){t|=0,n|=0;var i,a;i=D,D=D+16|0,ae((e|=0)+4|0,a=i),Ne(a,0|r[e>>2],t,0,n),D=i}function De(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s,l,c,u,d,h,p,m,f,A,g,v,y,b,x,w,T,_,S,E,C,P,N=0,R=0,I=0,L=0,k=0,B=0;if(P=D,D=D+272|0,L=P+240|0,S=P,E=P+224|0,C=P+208|0,g=P+176|0,v=P+160|0,y=P+192|0,b=P+144|0,x=P+128|0,w=P+112|0,T=P+96|0,_=P+80|0,r[(N=P+256|0)>>2]=t,r[L>>2]=r[e>>2],r[L+4>>2]=r[e+4>>2],r[L+8>>2]=r[e+8>>2],r[L+12>>2]=r[e+12>>2],Ie(L,N,S),r[o>>2]=0,(0|(L=i+n+(5==(0|i)&1)|0))<=(0|n))D=P;else{l=E+4|0,c=g+4|0,u=n+5|0,d=16880+((s=0|r[N>>2])<<2)|0,h=16960+(s<<2)|0,p=x+8|0,m=w+8|0,f=T+8|0,A=C+4|0,I=n;e:for(;;){R=S+((0|I)%5<<4)|0,r[C>>2]=r[R>>2],r[C+4>>2]=r[R+4>>2],r[C+8>>2]=r[R+8>>2],r[C+12>>2]=r[R+12>>2];do{}while(2==(0|Le(C,s,0,1)));if((0|I)>(0|n)&0!=(0|Ze(t))){if(r[g>>2]=r[C>>2],r[g+4>>2]=r[C+4>>2],r[g+8>>2]=r[C+8>>2],r[g+12>>2]=r[C+12>>2],ae(l,v),i=0|r[g>>2],N=0|r[17040+(80*i|0)+(r[E>>2]<<2)>>2],r[g>>2]=r[18640+(80*i|0)+(20*N|0)>>2],(0|(R=0|r[18640+(80*i|0)+(20*N|0)+16>>2]))>0){e=0;do{ge(c),e=e+1|0}while((0|e)<(0|R))}switch(R=18640+(80*i|0)+(20*N|0)+4|0,r[y>>2]=r[R>>2],r[y+4>>2]=r[R+4>>2],r[y+8>>2]=r[R+8>>2],le(y,3*(0|r[d>>2])|0),oe(c,y,c),re(c),ae(c,b),k=+(0|r[h>>2]),a[x>>3]=3*k,a[p>>3]=0,B=-1.5*k,a[w>>3]=B,a[m>>3]=2.598076211353316*k,a[T>>3]=B,a[f>>3]=-2.598076211353316*k,0|r[17040+(80*(0|r[g>>2])|0)+(r[C>>2]<<2)>>2]){case 1:e=w,i=x;break;case 3:e=T,i=w;break;case 2:e=x,i=T;break;default:e=12;break e}kt(v,b,i,e,_),Ne(_,0|r[g>>2],s,1,o+8+(r[o>>2]<<4)|0),r[o>>2]=1+(0|r[o>>2])}if((0|I)<(0|u)&&(ae(A,g),Ne(g,0|r[C>>2],s,1,o+8+(r[o>>2]<<4)|0),r[o>>2]=1+(0|r[o>>2])),r[E>>2]=r[C>>2],r[E+4>>2]=r[C+4>>2],r[E+8>>2]=r[C+8>>2],r[E+12>>2]=r[C+12>>2],(0|(I=I+1|0))>=(0|L)){e=3;break}}3!=(0|e)?12==(0|e)&&M(26970,27017,572,27027):D=P}}function Ie(e,t,n){e|=0,t|=0,n|=0;var i,a=0,o=0,s=0,l=0,c=0;i=D,D=D+128|0,o=i,l=20240,c=(s=a=i+64|0)+60|0;do{r[s>>2]=r[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|c));l=20304,c=(s=o)+60|0;do{r[s>>2]=r[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|c));a=(c=0==(0|Ze(0|r[t>>2])))?a:o,xe(o=e+4|0),we(o),0|Ze(0|r[t>>2])&&(fe(o),r[t>>2]=1+(0|r[t>>2])),r[n>>2]=r[e>>2],oe(o,a,t=n+4|0),re(t),r[n+16>>2]=r[e>>2],oe(o,a+12|0,t=n+20|0),re(t),r[n+32>>2]=r[e>>2],oe(o,a+24|0,t=n+36|0),re(t),r[n+48>>2]=r[e>>2],oe(o,a+36|0,t=n+52|0),re(t),r[n+64>>2]=r[e>>2],oe(o,a+48|0,n=n+68|0),re(n),D=i}function Le(e,t,n,i){n|=0,i|=0;var a,o,s,l,c,u,d=0,h=0,p=0,m=0,f=0;if(u=D,D=D+32|0,c=u+12|0,o=u,f=(e|=0)+4|0,m=0|r[16960+((t|=0)<<2)>>2],m=(l=0!=(0|i))?3*m|0:m,d=0|r[f>>2],a=0|r[(s=e+8|0)>>2],l){if((0|(d=a+d+(i=0|r[(h=e+12|0)>>2])|0))==(0|m))return D=u,0|(f=1);p=h}else d=a+d+(i=0|r[(p=e+12|0)>>2])|0;if((0|d)<=(0|m))return D=u,0|(f=0);do{if((0|i)>0){if(i=0|r[e>>2],(0|a)>0){h=18640+(80*i|0)+60|0,i=e;break}i=18640+(80*i|0)+40|0,n?(ne(c,m,0,0),se(f,c,o),ve(o),oe(o,c,f),h=i,i=e):(h=i,i=e)}else h=18640+(80*(0|r[e>>2])|0)+20|0,i=e}while(0);if(r[i>>2]=r[h>>2],(0|r[(d=h+16|0)>>2])>0){i=0;do{ge(f),i=i+1|0}while((0|i)<(0|r[d>>2]))}return e=h+4|0,r[c>>2]=r[e>>2],r[c+4>>2]=r[e+4>>2],r[c+8>>2]=r[e+8>>2],t=0|r[16880+(t<<2)>>2],le(c,l?3*t|0:t),oe(f,c,f),re(f),i=l&&((0|r[s>>2])+(0|r[f>>2])+(0|r[p>>2])|0)==(0|m)?1:2,D=u,0|(f=i)}function ke(e,t){e|=0,t|=0;var n=0;do{n=0|Le(e,t,0,1)}while(2==(0|n));return 0|n}function Be(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s,l,c,u,d,h,p,m,f,A,g,v,y,b,x,w,T,_,S=0,E=0,C=0,P=0,N=0;if(_=D,D=D+240|0,b=_+208|0,x=_,w=_+192|0,T=_+176|0,f=_+160|0,A=_+144|0,g=_+128|0,v=_+112|0,y=_+96|0,r[(S=_+224|0)>>2]=t,r[b>>2]=r[e>>2],r[b+4>>2]=r[e+4>>2],r[b+8>>2]=r[e+8>>2],r[b+12>>2]=r[e+12>>2],Fe(b,S,x),r[o>>2]=0,(0|(m=i+n+(6==(0|i)&1)|0))<=(0|n))D=_;else{l=n+6|0,c=16960+((s=0|r[S>>2])<<2)|0,u=A+8|0,d=g+8|0,h=v+8|0,p=w+4|0,E=0,C=n,i=-1;e:for(;;){if(e=x+((S=(0|C)%6|0)<<4)|0,r[w>>2]=r[e>>2],r[w+4>>2]=r[e+4>>2],r[w+8>>2]=r[e+8>>2],r[w+12>>2]=r[e+12>>2],e=E,E=0|Le(w,s,0,1),(0|C)>(0|n)&0!=(0|Ze(t))&&(1!=(0|e)&&(0|r[w>>2])!=(0|i))){switch(ae(x+((S+5|0)%6<<4)+4|0,T),ae(x+(S<<4)+4|0,f),P=+(0|r[c>>2]),a[A>>3]=3*P,a[u>>3]=0,N=-1.5*P,a[g>>3]=N,a[d>>3]=2.598076211353316*P,a[v>>3]=N,a[h>>3]=-2.598076211353316*P,S=0|r[b>>2],0|r[17040+(80*S|0)+(((0|i)==(0|S)?r[w>>2]:i)<<2)>>2]){case 1:e=g,i=A;break;case 3:e=v,i=g;break;case 2:e=A,i=v;break;default:e=8;break e}kt(T,f,i,e,y),0|Bt(T,y)||0|Bt(f,y)||(Ne(y,0|r[b>>2],s,1,o+8+(r[o>>2]<<4)|0),r[o>>2]=1+(0|r[o>>2]))}if((0|C)<(0|l)&&(ae(p,T),Ne(T,0|r[w>>2],s,1,o+8+(r[o>>2]<<4)|0),r[o>>2]=1+(0|r[o>>2])),(0|(C=C+1|0))>=(0|m)){e=3;break}i=0|r[w>>2]}3!=(0|e)?8==(0|e)&&M(27054,27017,737,27099):D=_}}function Fe(e,t,n){e|=0,t|=0,n|=0;var i,a=0,o=0,s=0,l=0,c=0;i=D,D=D+160|0,o=i,l=20368,c=(s=a=i+80|0)+72|0;do{r[s>>2]=r[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|c));l=20448,c=(s=o)+72|0;do{r[s>>2]=r[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|c));a=(c=0==(0|Ze(0|r[t>>2])))?a:o,xe(o=e+4|0),we(o),0|Ze(0|r[t>>2])&&(fe(o),r[t>>2]=1+(0|r[t>>2])),r[n>>2]=r[e>>2],oe(o,a,t=n+4|0),re(t),r[n+16>>2]=r[e>>2],oe(o,a+12|0,t=n+20|0),re(t),r[n+32>>2]=r[e>>2],oe(o,a+24|0,t=n+36|0),re(t),r[n+48>>2]=r[e>>2],oe(o,a+36|0,t=n+52|0),re(t),r[n+64>>2]=r[e>>2],oe(o,a+48|0,t=n+68|0),re(t),r[n+80>>2]=r[e>>2],oe(o,a+60|0,n=n+84|0),re(n),D=i}function Oe(e,t){return t=0|sn(0|(e|=0),0|(t|=0),45),S(),127&t}function Ue(e,t){e|=0;var n=0,r=0,a=0,o=0;return!0&134217728==(-16777216&(t|=0))?(r=0|sn(0|e,0|t,52),S(),r&=15,n=0|sn(0|e,0|t,45),S(),(n&=127)>>>0>121?0|(e=0):0==(613566756&(o=0|ln(0|(a=0|sn(0|e,0|t,0|(o=3*(15^r)|0))),0|S(),0|o))&(0|Jt(-1227133514,-1171,0|o,0|(a=0|S()))))&0==(4681&a&S())&&15==(0|r)|0==(0|(o=0|sn(0|(0|ln(0|~e,0|~t,0|(o=19+(3*r|0)|0))),0|S(),0|o)))&0==(0|S())?0|i[20528+n|0]?0==(0|e)&0==(0|(t&=8191))?0|(o=1):(o=0|cn(0|e,0|t,0),S(),0!=((63-o|0)%3|0)|0):0|(o=1):0|(o=0)):0|(e=0)}function Ve(e,t,n,i){e|=0,n|=0,i|=0;var a=0,o=0,s=0,l=0;if(a=0|ln(0|(t|=0),0,52),o=0|S(),n=0|ln(0|n,0,45),n=0|o|S()|134225919,(0|t)<1)return o=-1,i=n,r[(t=e)>>2]=o,void(r[(e=e+4|0)>>2]=i);for(o=1,a=-1;l=0|ln(7,0,0|(s=3*(15-o|0)|0)),n&=~S(),a=a&~l|(s=0|ln(0|i,0,0|s)),n=0|n|S(),(0|o)!=(0|t);)o=o+1|0;r[(s=l=e)>>2]=a,r[(l=l+4|0)>>2]=n}function je(e,t,n,i){n|=0,i|=0;var a=0,o=0;if(o=0|sn(0|(e|=0),0|(t|=0),52),S(),n>>>0>15)return 0|(i=4);if((0|(o&=15))<(0|n))return 0|(i=12);if((0|o)==(0|n))return r[i>>2]=e,r[i+4>>2]=t,0|(i=0);if(a=0|ln(0|n,0,52),a|=e,e=S()|-15728641&t,(0|o)>(0|n))do{t=0|ln(7,0,3*(14-n|0)|0),n=n+1|0,a|=t,e=0|S()|e}while((0|n)<(0|o));return r[i>>2]=a,r[i+4>>2]=e,0|(i=0)}function ze(e,t,n,i){n|=0,i|=0;var a=0,o=0,s=0;if(o=0|sn(0|(e|=0),0|(t|=0),52),S(),!((0|n)<16&(0|(o&=15))<=(0|n)))return 0|(i=4);a=n-o|0,n=0|sn(0|e,0|t,45),S();e:do{if(0|V(127&n)){t:do{if(0|o){for(n=1;0==((s=0|ln(7,0,3*(15-n|0)|0))&e|0)&0==((0|S())&t);){if(!(n>>>0<o>>>0))break t;n=n+1|0}n=0|wt(7,0,a,((0|a)<0)<<31>>31),a=0|S();break e}}while(0);n=0|Zt(0|(n=0|nn(0|(n=0|wt(7,0,a,((0|a)<0)<<31>>31)),0|S(),5,0)),0|S(),-5,-1),n=0|Zt(0|(n=0|tn(0|n,0|S(),6,0)),0|S(),1,0),a=0|S()}else n=0|wt(7,0,a,((0|a)<0)<<31>>31),a=0|S()}while(0);return r[(s=i)>>2]=n,r[s+4>>2]=a,0|(s=0)}function qe(e,t){var n=0,i=0,r=0;if(r=0|sn(0|(e|=0),0|(t|=0),45),S(),!(0|V(127&r)))return 0|(r=0);r=0|sn(0|e,0|t,52),S(),r&=15;e:do{if(r)for(i=1;;){if(n=0|sn(0|e,0|t,3*(15-i|0)|0),S(),0|(n&=7))break e;if(!(i>>>0<r>>>0)){n=0;break}i=i+1|0}else n=0}while(0);return 0|(r=0==(0|n)&1)}function Ge(e,t,n,i){return e|=0,t|=0,(0|(i|=0))<(0|(n|=0))?(i=e,_(0|(n=t)),0|i):(n=0|ln(-1,-1,3+(3*(i-n|0)|0)|0),i=0|ln(0|~n,0|~S(),3*(15-i|0)|0),n=~S()&t,i=~i&e,_(0|n),0|i)}function He(e,t,n,i){n|=0,i|=0;var a=0;return a=0|sn(0|(e|=0),0|(t|=0),52),S(),(0|n)<16&(0|(a&=15))<=(0|n)?((0|a)<(0|n)&&(a=0|ln(-1,-1,3+(3*(n+-1-a|0)|0)|0),a=0|ln(0|~a,0|~S(),3*(15-n|0)|0),t=~S()&t,e&=~a),a=0|ln(0|n,0,52),n=-15728641&t|S(),r[i>>2]=e|a,r[i+4>>2]=n,0|(i=0)):0|(i=4)}function We(e,t){var n=0,i=0,r=0;if(r=0|sn(0|(e|=0),0|(t|=0),52),S(),!(r&=15))return 0|(r=0);for(i=1;;){if(n=0|sn(0|e,0|t,3*(15-i|0)|0),S(),0|(n&=7)){i=5;break}if(!(i>>>0<r>>>0)){n=0,i=5;break}i=i+1|0}return 5==(0|i)?0|n:0}function Qe(e,t){var n=0,i=0,r=0,a=0,o=0,s=0,l=0;if(l=0|sn(0|(e|=0),0|(t|=0),52),S(),!(l&=15))return l=e,_(0|(s=t)),0|l;for(s=1,n=0;;){i=0|ln(7,0,0|(a=3*(15-s|0)|0)),r=0|S(),o=0|sn(0|e,0|t,0|a),S(),e=(a=0|ln(0|ye(7&o),0,0|a))|e&~i,t=(o=0|S())|t&~r;e:do{if(!n)if(0==(a&i|0)&0==(o&r|0))n=0;else if(i=0|sn(0|e,0|t,52),S(),i&=15){n=1;t:for(;;){switch(o=0|sn(0|e,0|t,3*(15-n|0)|0),S(),7&o){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<i>>>0)){n=1;break e}n=n+1|0}for(n=1;;){if(r=0|sn(0|e,0|t,0|(o=3*(15-n|0)|0)),S(),a=0|ln(7,0,0|o),t&=~S(),e=e&~a|(o=0|ln(0|ye(7&r),0,0|o)),t=0|t|S(),!(n>>>0<i>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<l>>>0))break;s=s+1|0}return _(0|t),0|e}function Ye(e,t){var n=0,i=0,r=0,a=0,o=0;if(i=0|sn(0|(e|=0),0|(t|=0),52),S(),!(i&=15))return i=e,_(0|(n=t)),0|i;for(n=1;o=0|sn(0|e,0|t,0|(a=3*(15-n|0)|0)),S(),r=0|ln(7,0,0|a),t&=~S(),e=(a=0|ln(0|ye(7&o),0,0|a))|e&~r,t=0|S()|t,n>>>0<i>>>0;)n=n+1|0;return _(0|t),0|e}function Xe(e,t){var n=0,i=0,r=0,a=0,o=0,s=0,l=0;if(l=0|sn(0|(e|=0),0|(t|=0),52),S(),!(l&=15))return l=e,_(0|(s=t)),0|l;for(s=1,n=0;;){i=0|ln(7,0,0|(a=3*(15-s|0)|0)),r=0|S(),o=0|sn(0|e,0|t,0|a),S(),e=(a=0|ln(0|be(7&o),0,0|a))|e&~i,t=(o=0|S())|t&~r;e:do{if(!n)if(0==(a&i|0)&0==(o&r|0))n=0;else if(i=0|sn(0|e,0|t,52),S(),i&=15){n=1;t:for(;;){switch(o=0|sn(0|e,0|t,3*(15-n|0)|0),S(),7&o){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<i>>>0)){n=1;break e}n=n+1|0}for(n=1;;){if(a=0|ln(7,0,0|(r=3*(15-n|0)|0)),o=t&~S(),t=0|sn(0|e,0|t,0|r),S(),e=e&~a|(t=0|ln(0|be(7&t),0,0|r)),t=0|o|S(),!(n>>>0<i>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<l>>>0))break;s=s+1|0}return _(0|t),0|e}function Ke(e,t){var n=0,i=0,r=0,a=0,o=0;if(i=0|sn(0|(e|=0),0|(t|=0),52),S(),!(i&=15))return i=e,_(0|(n=t)),0|i;for(n=1;a=0|ln(7,0,0|(o=3*(15-n|0)|0)),r=t&~S(),t=0|sn(0|e,0|t,0|o),S(),e=(t=0|ln(0|be(7&t),0,0|o))|e&~a,t=0|S()|r,n>>>0<i>>>0;)n=n+1|0;return _(0|t),0|e}function Ze(e){return(0|(e|=0))%2|0}function Je(e,t,n){n|=0;var i,a=0;return i=D,D=D+16|0,a=i,(t|=0)>>>0>15?(D=i,0|(a=4)):2146435072==(2146435072&r[(e|=0)+4>>2])||2146435072==(2146435072&r[e+8+4>>2])?(D=i,0|(a=3)):(function(e,t,n){var i,r;i=D,D=D+16|0,Pe(e|=0,t|=0,n|=0,r=i),ie(r,n+4|0),D=i}(e,t,a),t=0|function(e,t){e|=0;var n,i=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0;if(n=D,D=D+64|0,c=n+40|0,a=n+24|0,o=n+12|0,s=n,ln(0|(t|=0),0,52),i=134225919|S(),!t)return(0|r[e+4>>2])>2||(0|r[e+8>>2])>2||(0|r[e+12>>2])>2?(c=0,_(0|(l=0)),D=n,0|c):(ln(0|z(e),0,45),l=0|S()|i,c=-1,_(0|l),D=n,0|c);if(r[c>>2]=r[e>>2],r[c+4>>2]=r[e+4>>2],r[c+8>>2]=r[e+8>>2],r[c+12>>2]=r[e+12>>2],l=c+4|0,(0|t)>0)for(e=-1;r[a>>2]=r[l>>2],r[a+4>>2]=r[l+4>>2],r[a+8>>2]=r[l+8>>2],1&t?(he(l),r[o>>2]=r[l>>2],r[o+4>>2]=r[l+4>>2],r[o+8>>2]=r[l+8>>2],me(o)):(pe(l),r[o>>2]=r[l>>2],r[o+4>>2]=r[l+4>>2],r[o+8>>2]=r[l+8>>2],fe(o)),se(a,o,s),re(s),u=0|ln(7,0,0|(d=3*(15-t|0)|0)),i&=~S(),e=(d=0|ln(0|ce(s),0,0|d))|e&~u,i=0|S()|i,(0|t)>1;)t=t+-1|0;else e=-1;e:do{if((0|r[l>>2])<=2&&(0|r[c+8>>2])<=2&&(0|r[c+12>>2])<=2){if(t=0|ln(0|(a=0|z(c)),0,45),t|=e,e=S()|-1040385&i,s=0|q(c),!(0|V(a))){if((0|s)<=0)break;for(o=0;;){if(a=0|sn(0|t,0|e,52),S(),a&=15)for(i=1;c=0|sn(0|t,0|e,0|(d=3*(15-i|0)|0)),S(),u=0|ln(7,0,0|d),e&=~S(),t=t&~u|(d=0|ln(0|ye(7&c),0,0|d)),e=0|e|S(),i>>>0<a>>>0;)i=i+1|0;if((0|(o=o+1|0))==(0|s))break e}}o=0|sn(0|t,0|e,52),S(),o&=15;t:do{if(o){i=1;n:for(;;){switch(d=0|sn(0|t,0|e,3*(15-i|0)|0),S(),7&d){case 1:break n;case 0:break;default:break t}if(!(i>>>0<o>>>0))break t;i=i+1|0}if(0|G(a,0|r[c>>2]))for(i=1;u=0|ln(7,0,0|(c=3*(15-i|0)|0)),d=e&~S(),e=0|sn(0|t,0|e,0|c),S(),t=t&~u|(e=0|ln(0|be(7&e),0,0|c)),e=0|d|S(),i>>>0<o>>>0;)i=i+1|0;else for(i=1;c=0|sn(0|t,0|e,0|(d=3*(15-i|0)|0)),S(),u=0|ln(7,0,0|d),e&=~S(),t=t&~u|(d=0|ln(0|ye(7&c),0,0|d)),e=0|e|S(),i>>>0<o>>>0;)i=i+1|0}}while(0);if((0|s)>0){i=0;do{t=0|Qe(t,e),e=0|S(),i=i+1|0}while((0|i)!=(0|s))}}else t=0,e=0}while(0);return d=t,_(0|(u=e)),D=n,0|d}(a,t),a=0|S(),r[n>>2]=t,r[n+4>>2]=a,0==(0|t)&0==(0|a)&&M(27795,27122,959,27145),D=i,0|(a=0))}function $e(e,t,n){var i,a=0,o=0,s=0;if(i=(n|=0)+4|0,o=0|sn(0|(e|=0),0|(t|=0),52),S(),o&=15,s=0|sn(0|e,0|t,45),S(),a=0==(0|o),0|V(127&s)){if(a)return 0|(s=1);a=1}else{if(a)return 0|(s=0);a=0==(0|r[i>>2])&&0==(0|r[n+8>>2])?0!=(0|r[n+12>>2])&1:1}for(n=1;1&n?me(i):fe(i),s=0|sn(0|e,0|t,3*(15-n|0)|0),S(),Ae(i,7&s),n>>>0<o>>>0;)n=n+1|0;return 0|a}function et(e,t,n){n|=0;var i,a,o=0,s=0,l=0,c=0,u=0,d=0;if(a=D,D=D+16|0,i=a,d=0|sn(0|(e|=0),0|(t|=0),45),S(),(d&=127)>>>0>121)return r[n>>2]=0,r[n+4>>2]=0,r[n+8>>2]=0,r[n+12>>2]=0,D=a,0|(d=5);e:do{if(0!=(0|V(d))&&(l=0|sn(0|e,0|t,52),S(),0!=(0|(l&=15)))){o=1;t:for(;;){switch(u=0|sn(0|e,0|t,3*(15-o|0)|0),S(),7&u){case 5:break t;case 0:break;default:o=t;break e}if(!(o>>>0<l>>>0)){o=t;break e}o=o+1|0}for(s=1,o=t;c=0|ln(7,0,0|(t=3*(15-s|0)|0)),u=o&~S(),o=0|sn(0|e,0|o,0|t),S(),e=e&~c|(o=0|ln(0|be(7&o),0,0|t)),o=0|u|S(),s>>>0<l>>>0;)s=s+1|0}else o=t}while(0);if(u=7696+(28*d|0)|0,r[n>>2]=r[u>>2],r[n+4>>2]=r[u+4>>2],r[n+8>>2]=r[u+8>>2],r[n+12>>2]=r[u+12>>2],!(0|$e(e,o,n)))return D=a,0|(d=0);if(c=n+4|0,r[i>>2]=r[c>>2],r[i+4>>2]=r[c+4>>2],r[i+8>>2]=r[c+8>>2],l=0|sn(0|e,0|o,52),S(),u=15&l,1&l?(fe(c),l=u+1|0):l=u,0|V(d)){e:do{if(u)for(t=1;;){if(s=0|sn(0|e,0|o,3*(15-t|0)|0),S(),0|(s&=7)){o=s;break e}if(!(t>>>0<u>>>0)){o=0;break}t=t+1|0}else o=0}while(0);o=4==(0|o)&1}else o=0;if(0|Le(n,l,o,0)){if(0|V(d))do{}while(0!=(0|Le(n,l,0,0)));(0|l)!=(0|u)&&pe(c)}else(0|l)!=(0|u)&&(r[c>>2]=r[i>>2],r[c+4>>2]=r[i+4>>2],r[c+8>>2]=r[i+8>>2]);return D=a,0|(d=0)}function tt(e,t,n){n|=0;var i,r,a=0;return r=D,D=D+16|0,0|(a=0|et(e|=0,t|=0,i=r))?(D=r,0|a):(a=0|sn(0|e,0|t,52),S(),Re(i,15&a,n),D=r,0|(a=0))}function nt(e,t,n){n|=0;var i,r=0,a=0,o=0;if(i=D,D=D+16|0,0|(r=0|et(e|=0,t|=0,o=i)))return D=i,0|(o=r);r=0|sn(0|e,0|t,45),S(),r=0==(0|V(127&r)),a=0|sn(0|e,0|t,52),S(),a&=15;e:do{if(!r){if(0|a)for(r=1;;){if(!(0==((0|ln(7,0,3*(15-r|0)|0))&e|0)&0==((0|S())&t)))break e;if(!(r>>>0<a>>>0))break;r=r+1|0}return De(o,a,0,5,n),D=i,0|0}}while(0);return Be(o,a,0,6,n),D=i,0|0}function it(e,t){t|=0;var n=0,i=0,a=0,o=0,s=0,l=0,c=0;if((e|=0)>>>0>15)return 0|(l=4);if(ln(0|e,0,52),l=134225919|S(),!e){n=0,i=0;do{0|V(i)&&(ln(0|i,0,45),s=0|l|S(),r[(e=t+(n<<3)|0)>>2]=-1,r[e+4>>2]=s,n=n+1|0),i=i+1|0}while(122!=(0|i));return 0|(n=0)}n=0,s=0;do{if(0|V(s)){for(ln(0|s,0,45),i=1,a=-1,o=0|l|S();a&=~(c=0|ln(7,0,3*(15-i|0)|0)),o&=~S(),(0|i)!=(0|e);)i=i+1|0;r[(c=t+(n<<3)|0)>>2]=a,r[c+4>>2]=o,n=n+1|0}s=s+1|0}while(122!=(0|s));return 0|(n=0)}function rt(e,t,n,i){e|=0,i|=0;var a=0,o=0,s=0;a=0|sn(0|(t|=0),0|(n|=0),52),S(),0==(0|t)&0==(0|n)|(0|i)>15|(0|(a&=15))>(0|i)?(o=-1,t=-1,n=0,a=0):(t=0|Ge(t,n,a+1|0,i),s=-15728641&S(),n=0|ln(0|i,0,52),o=a,t=(t=0==(0|qe(n|=t,s=0|s|S())))?-1:i,a=s),r[(s=e)>>2]=n,r[s+4>>2]=a,r[e+8>>2]=o,r[e+12>>2]=t}function at(e,t,n,i){n|=0,i|=0;var a=0,o=0;return a=0|sn(0|(e|=0),0|(t|=0),52),S(),a&=15,r[(o=i+8|0)>>2]=a,0==(0|e)&0==(0|t)|(0|n)>15|(0|a)>(0|n)?(r[(n=i)>>2]=0,r[n+4>>2]=0,r[o>>2]=-1,void(r[i+12>>2]=-1)):(e=0|Ge(e,t,a+1|0,n),o=-15728641&S(),a=0|ln(0|n,0,52),a|=e,o=0|o|S(),r[(e=i)>>2]=a,r[e+4>>2]=o,e=i+12|0,0|qe(a,o)?void(r[e>>2]=n):void(r[e>>2]=-1))}function ot(e){var t,n=0,i=0,a=0,o=0,s=0,l=0,c=0,u=0;if(!(0==(0|(n=0|r[(i=e|=0)>>2]))&0==(0|(i=0|r[i+4>>2])))&&(a=0|sn(0|n,0|i,52),S(),n=0|Zt(0|(c=0|ln(1,0,3*(15^(a&=15))|0)),0|S(),0|n,0|i),i=0|S(),r[(c=e)>>2]=n,r[c+4>>2]=i,!((0|a)<(0|(l=0|r[(c=e+8|0)>>2]))))){for(t=e+12|0,s=a;;){if((0|s)==(0|l)){a=5;break}if(u=(0|s)==(0|r[t>>2]),a=0|sn(0|n,0|i,0|(o=3*(15-s|0)|0)),S(),u&1==(0|(a&=7))&!0){a=7;break}if(!(7==(0|a)&!0)){a=10;break}if(n=0|Zt(0|n,0|i,0|(u=0|ln(1,0,0|o)),0|S()),i=0|S(),r[(u=e)>>2]=n,r[u+4>>2]=i,!((0|s)>(0|l))){a=10;break}s=s+-1|0}if(5==(0|a))return r[(u=e)>>2]=0,r[u+4>>2]=0,r[c>>2]=-1,void(r[t>>2]=-1);if(7==(0|a))return l=0|Zt(0|n,0|i,0|(l=0|ln(1,0,0|o)),0|S()),c=0|S(),r[(u=e)>>2]=l,r[u+4>>2]=c,void(r[t>>2]=s+-1)}}function st(e){var t;return t=(e=+e)<0?e+6.283185307179586:e,+(e>=6.283185307179586?t+-6.283185307179586:t)}function lt(e,t){return t|=0,+c(+(+a[(e|=0)>>3]-+a[t>>3]))<17453292519943298e-27?0|(t=+c(+(+a[e+8>>3]-+a[t+8>>3]))<17453292519943298e-27):0|(t=0)}function ct(e,t){switch(e=+e,0|(t|=0)){case 1:e=e<0?e+6.283185307179586:e;break;case 2:e=e>0?e+-6.283185307179586:e}return+e}function ut(e,t){e|=0;var n,i,r,o=0;return i=+a[(t|=0)>>3],n=+a[e>>3],o=(r=+p(.5*(i-n)))*r+(o=+p(.5*(+a[t+8>>3]-+a[e+8>>3])))*(+h(+i)*+h(+n)*o),2*+v(+ +u(+o),+ +u(+(1-o)))*6371.007180918475}function dt(e,t){return t|=0,(e|=0)>>>0>15?0|(t=4):(a[t>>3]=+a[20656+(e<<3)>>3],0|(t=0))}function ht(e,t){t|=0;var n=0;return(e|=0)>>>0>15?0|(t=4):(n=0|nn(0|(n=0|wt(7,0,e,((0|e)<0)<<31>>31)),0|S(),120,0),e=0|S(),r[t>>2]=2|n,r[t+4>>2]=e,0|(t=0))}function pt(e,t,n){e|=0,n|=0;var i,r,o,s,l=0,c=0,d=0,f=0,A=0,y=0;return y=+a[(t|=0)>>3],o=+a[e>>3],A=+p(.5*(y-o)),d=+a[t+8>>3],r=+a[e+8>>3],f=+p(.5*(d-r)),i=+h(+o),s=+h(+y),f=2*+v(+ +u(+(f=A*A+f*(s*i*f))),+ +u(+(1-f))),A=+a[n>>3],y=+p(.5*(A-y)),l=+a[n+8>>3],d=+p(.5*(l-d)),c=+h(+A),d=2*+v(+ +u(+(d=y*y+d*(s*c*d))),+ +u(+(1-d))),A=+p(.5*(o-A)),l=+p(.5*(r-l)),l=2*+v(+ +u(+(l=A*A+l*(i*c*l))),+ +u(+(1-l))),4*+g(+ +u(+ +m(.5*(c=.5*(f+d+l)))*+m(.5*(c-f))*+m(.5*(c-d))*+m(.5*(c-l))))}function mt(e,t,n){n|=0;var i,o,s,l=0,c=0;if(s=D,D=D+192|0,o=s,0|(c=0|tt(e|=0,t|=0,i=s+168|0)))return D=s,0|(n=c);if(0|nt(e,t,o)&&M(27795,27190,415,27199),(0|(t=0|r[o>>2]))>0){if(l=+pt(o+8|0,o+8+((1!=(0|t)&1)<<4)|0,i)+0,1!=(0|t)){e=1;do{l+=+pt(o+8+((c=e)<<4)|0,o+8+((0|(e=e+1|0))%(0|t)<<4)|0,i)}while((0|e)<(0|t))}}else l=0;return a[n>>3]=l,D=s,0|(n=0)}function ft(e){e|=0;var t,n,i=0;return(t=0|Kt(1,12))||M(27280,27235,49,27293),0|(i=0|r[(n=e+4|0)>>2])?(r[(i=i+8|0)>>2]=t,r[n>>2]=t,0|t):(0|r[e>>2]&&M(27310,27235,61,27333),r[(i=e)>>2]=t,r[n>>2]=t,0|t)}function At(e,t){e|=0,t|=0;var n,i;return(i=0|Yt(24))||M(27347,27235,78,27361),r[i>>2]=r[t>>2],r[i+4>>2]=r[t+4>>2],r[i+8>>2]=r[t+8>>2],r[i+12>>2]=r[t+12>>2],r[i+16>>2]=0,0|(n=0|r[(t=e+4|0)>>2])?(r[n+16>>2]=i,r[t>>2]=i,0|i):(0|r[e>>2]&&M(27376,27235,82,27361),r[e>>2]=i,r[t>>2]=i,0|i)}function gt(e){var t=0,n=0,i=0,a=0;if(e|=0)for(i=1;;){if(0|(t=0|r[e>>2]))do{if(0|(n=0|r[t>>2]))do{a=n,n=0|r[n+16>>2],Xt(a)}while(0!=(0|n));a=t,t=0|r[t+8>>2],Xt(a)}while(0!=(0|t));if(t=e,e=0|r[e+8>>2],i||Xt(t),!e)break;i=0}}function vt(e){var t,n,i=0,o=0,s=0,l=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0,T=0,_=0,S=0,E=0,C=0,P=0,N=0,R=0,D=0,I=0,L=0,k=0,B=0;if(0|r[(l=(e|=0)+8|0)>>2])return 0|(B=1);if(!(s=0|r[e>>2]))return 0|(B=0);i=s,o=0;do{o=o+1|0,i=0|r[i+8>>2]}while(0!=(0|i));if(o>>>0<2)return 0|(B=0);(n=0|Yt(o<<2))||M(27396,27235,317,27415),(t=0|Yt(o<<5))||M(27437,27235,321,27415),r[e>>2]=0,r[(C=e+4|0)>>2]=0,r[l>>2]=0,o=0,L=0,E=0,A=0;e:for(;;){if(f=0|r[s>>2]){u=0,d=f;do{if(p=+a[d+8>>3],i=d,d=0|r[d+16>>2],h=+a[(l=(m=0==(0|d))?f:d)+8>>3],+c(+(p-h))>3.141592653589793){B=14;break}u+=(h-p)*(+a[i>>3]+ +a[l>>3])}while(!m);if(14==(0|B)){B=0,u=0,i=f;do{S=+a[i+8>>3],D=0|r[(I=i+16|0)>>2],_=+a[(D=0==(0|D)?f:D)+8>>3],u+=(+a[i>>3]+ +a[D>>3])*((_<0?_+6.283185307179586:_)-(S<0?S+6.283185307179586:S)),i=0|r[(0==(0|i)?s:I)>>2]}while(0!=(0|i))}u>0?(r[n+(L<<2)>>2]=s,L=L+1|0,l=E,i=A):B=19}else B=19;if(19==(0|B)){B=0;do{if(!o){if(A){l=C,d=A+8|0,i=s,o=e;break}if(0|r[e>>2]){B=27;break e}l=C,d=e,i=s,o=e;break}if(0|r[(i=o+8|0)>>2]){B=21;break e}if(!(o=0|Kt(1,12))){B=23;break e}r[i>>2]=o,l=o+4|0,d=o,i=A}while(0);if(r[d>>2]=s,r[l>>2]=s,d=t+(E<<5)|0,m=0|r[s>>2]){for(a[(f=t+(E<<5)+8|0)>>3]=17976931348623157e292,a[(A=t+(E<<5)+24|0)>>3]=17976931348623157e292,a[d>>3]=-17976931348623157e292,a[(g=t+(E<<5)+16|0)>>3]=-17976931348623157e292,w=17976931348623157e292,T=-17976931348623157e292,l=0,v=m,p=17976931348623157e292,b=17976931348623157e292,x=-17976931348623157e292,h=-17976931348623157e292;u=+a[v>>3],S=+a[v+8>>3],v=0|r[v+16>>2],_=+a[((y=0==(0|v))?m:v)+8>>3],u<p&&(a[f>>3]=u,p=u),S<b&&(a[A>>3]=S,b=S),u>x?a[d>>3]=u:u=x,S>h&&(a[g>>3]=S,h=S),w=S>0&S<w?S:w,T=S<0&S>T?S:T,l|=+c(+(S-_))>3.141592653589793,!y;)x=u;l&&(a[g>>3]=T,a[A>>3]=w)}else r[d>>2]=0,r[d+4>>2]=0,r[d+8>>2]=0,r[d+12>>2]=0,r[d+16>>2]=0,r[d+20>>2]=0,r[d+24>>2]=0,r[d+28>>2]=0;l=E+1|0}if(s=0|r[(I=s+8|0)>>2],r[I>>2]=0,!s){B=45;break}E=l,A=i}if(21==(0|B))M(27213,27235,35,27247);else if(23==(0|B))M(27267,27235,37,27247);else if(27==(0|B))M(27310,27235,61,27333);else if(45==(0|B)){e:do{if((0|L)>0){for(I=0==(0|l),R=l<<2,D=0==(0|e),N=0,i=0;;){if(P=0|r[n+(N<<2)>>2],I)B=73;else{if(!(E=0|Yt(R))){B=50;break}if(!(C=0|Yt(R))){B=52;break}t:do{if(D)o=0;else{for(l=0,o=0,d=e;s=t+(l<<5)|0,0|yt(0|r[d>>2],s,0|r[P>>2])?(r[E+(o<<2)>>2]=d,r[C+(o<<2)>>2]=s,y=o+1|0):y=o,d=0|r[d+8>>2];)l=l+1|0,o=y;if((0|y)>0)if(s=0|r[E>>2],1==(0|y))o=s;else for(g=0,v=-1,o=s,A=s;;){for(m=0|r[A>>2],s=0,d=0;f=(0|(l=0|r[r[E+(d<<2)>>2]>>2]))==(0|m)?s:s+(1&yt(l,0|r[C+(d<<2)>>2],0|r[m>>2]))|0,(0|(d=d+1|0))!=(0|y);)s=f;if(o=(l=(0|f)>(0|v))?A:o,(0|(s=g+1|0))==(0|y))break t;g=s,v=l?f:v,A=0|r[E+(s<<2)>>2]}else o=0}}while(0);if(Xt(E),Xt(C),o){if(s=0|r[(l=o+4|0)>>2])o=s+8|0;else if(0|r[o>>2]){B=70;break}r[o>>2]=P,r[l>>2]=P}else B=73}if(73==(0|B)){if(B=0,0|(i=0|r[P>>2]))do{C=i,i=0|r[i+16>>2],Xt(C)}while(0!=(0|i));Xt(P),i=1}if((0|(N=N+1|0))>=(0|L)){k=i;break e}}50==(0|B)?M(27452,27235,249,27471):52==(0|B)?M(27490,27235,252,27471):70==(0|B)&&M(27310,27235,61,27333)}else k=0}while(0);return Xt(n),Xt(t),0|(B=k)}return 0}function yt(e,t,n){e|=0;var i=0,o=0,s=0,l=0,c=0,u=0,d=0,h=0;if(!(0|K(t|=0,n|=0)))return 0|(e=0);if(t=0|Y(t),i=+a[n>>3],o=t&(o=+a[n+8>>3])<0?o+6.283185307179586:o,!(e=0|r[e>>2]))return 0|(e=0);if(t){t=0,d=o,n=e;e:for(;;){for(;l=+a[n>>3],o=+a[n+8>>3],h=0|r[(n=n+16|0)>>2],s=+a[(h=0==(0|h)?e:h)>>3],c=+a[h+8>>3],l>s?(u=l,l=c):(u=s,s=l,l=o,o=c),(i=i==s|i==u?i+2220446049250313e-31:i)<s|i>u;)if(!(n=0|r[n>>2])){n=22;break e}if(((u=(c=l<0?l+6.283185307179586:l)+(i-s)/(u-s)*((l=o<0?o+6.283185307179586:o)-c))<0?u+6.283185307179586:u)>(d=c==d|l==d?d+-2220446049250313e-31:d)&&(t^=1),!(n=0|r[n>>2])){n=22;break}}if(22==(0|n))return 0|t}else{t=0,d=o,n=e;e:for(;;){for(;l=+a[n>>3],o=+a[n+8>>3],h=0|r[(n=n+16|0)>>2],s=+a[(h=0==(0|h)?e:h)>>3],c=+a[h+8>>3],l>s?(u=l,l=c):(u=s,s=l,l=o,o=c),(i=i==s|i==u?i+2220446049250313e-31:i)<s|i>u;)if(!(n=0|r[n>>2])){n=22;break e}if(l+(i-s)/(u-s)*(o-l)>(d=l==d|o==d?d+-2220446049250313e-31:d)&&(t^=1),!(n=0|r[n>>2])){n=22;break}}if(22==(0|n))return 0|t}return 0}function bt(e,t,n,a,o){n|=0,a|=0,o|=0;var s,l,c,u,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0;if(u=D,D=D+32|0,b=u+16|0,c=u,d=0|sn(0|(e|=0),0|(t|=0),52),S(),d&=15,g=0|sn(0|n,0|a,52),S(),(0|d)!=(15&g))return D=u,0|(b=12);if(f=0|sn(0|e,0|t,45),S(),f&=127,A=0|sn(0|n,0|a,45),S(),f>>>0>121|(A&=127)>>>0>121)return D=u,0|(b=5);if(g=(0|f)!=(0|A)){if(7==(0|(p=0|W(f,A))))return D=u,0|(b=1);7==(0|(m=0|W(A,f)))?M(27514,27538,161,27548):(v=p,h=m)}else v=0,h=0;s=0|V(f),l=0|V(A),r[b>>2]=0,r[b+4>>2]=0,r[b+8>>2]=0,r[b+12>>2]=0;do{if(v){if(p=(0|(A=0|r[4272+(28*f|0)+(v<<2)>>2]))>0,l)if(p){f=0,m=n,p=a;do{m=0|Xe(m,p),p=0|S(),1==(0|(h=0|be(h)))&&(h=0|be(1)),f=f+1|0}while((0|f)!=(0|A));A=h,f=m,m=p}else A=h,f=n,m=a;else if(p){f=0,m=n,p=a;do{m=0|Ke(m,p),p=0|S(),h=0|be(h),f=f+1|0}while((0|f)!=(0|A));A=h,f=m,m=p}else A=h,f=n,m=a;if($e(f,m,b),g||M(27563,27538,191,27548),(p=0!=(0|s))&(h=0!=(0|l))&&M(27590,27538,192,27548),p){if(7==(0|(h=0|We(e,t)))){d=5;break}if(0|i[22e3+(7*h|0)+v|0]){d=1;break}f=m=0|r[21168+(28*h|0)+(v<<2)>>2]}else if(h){if(7==(0|(h=0|We(f,m)))){d=5;break}if(0|i[22e3+(7*h|0)+A|0]){d=1;break}f=0,m=0|r[21168+(28*A|0)+(h<<2)>>2]}else f=0,m=0;if((f|m|0)<0)d=5;else{if((0|m)>0){p=b+4|0,h=0;do{ve(p),h=h+1|0}while((0|h)!=(0|m))}if(r[c>>2]=0,r[c+4>>2]=0,r[c+8>>2]=0,Ae(c,v),0|d)for(;0|Ze(d)?me(c):fe(c),(0|d)>1;)d=d+-1|0;if((0|f)>0){d=0;do{ve(c),d=d+1|0}while((0|d)!=(0|f))}oe(y=b+4|0,c,y),re(y),y=51}}else if($e(n,a,b),0!=(0|s)&0!=(0|l))if((0|A)!=(0|f)&&M(27621,27538,261,27548),7==(0|(h=0|We(e,t)))|7==(0|(d=0|We(n,a))))d=5;else if(0|i[22e3+(7*h|0)+d|0])d=1;else if((0|(h=0|r[21168+(28*h|0)+(d<<2)>>2]))>0){p=b+4|0,d=0;do{ve(p),d=d+1|0}while((0|d)!=(0|h));y=51}else y=51;else y=51}while(0);return 51==(0|y)&&(d=b+4|0,r[o>>2]=r[d>>2],r[o+4>>2]=r[d+4>>2],r[o+8>>2]=r[d+8>>2],d=0),D=u,0|(b=d)}function xt(e,t,n,i){n|=0,i|=0;var a,o,s,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0;if(s=D,D=D+48|0,a=s+36|0,u=s+24|0,d=s+12|0,h=s,l=0|sn(0|(e|=0),0|(t|=0),52),S(),l&=15,m=0|sn(0|e,0|t,45),S(),(m&=127)>>>0>121)return D=s,0|(i=5);if(o=0|V(m),ln(0|l,0,52),g=134225919|S(),r[(c=i)>>2]=-1,r[c+4>>2]=g,!l)return 7==(0|(l=0|ce(n)))||127==(0|(l=0|H(m,l)))?(D=s,0|(g=1)):(f=0|ln(0|l,0,45),A=0|S(),A=-1040385&r[(m=i)+4>>2]|A,r[(g=i)>>2]=r[m>>2]|f,r[g+4>>2]=A,D=s,0|(g=0));for(r[a>>2]=r[n>>2],r[a+4>>2]=r[n+4>>2],r[a+8>>2]=r[n+8>>2],n=l;;){if(c=n,n=n+-1|0,r[u>>2]=r[a>>2],r[u+4>>2]=r[a+4>>2],r[u+8>>2]=r[a+8>>2],0|Ze(c)){if(0|(l=0|ue(a))){n=13;break}r[d>>2]=r[a>>2],r[d+4>>2]=r[a+4>>2],r[d+8>>2]=r[a+8>>2],me(d)}else{if(0|(l=0|de(a))){n=13;break}r[d>>2]=r[a>>2],r[d+4>>2]=r[a+4>>2],r[d+8>>2]=r[a+8>>2],fe(d)}if(se(u,d,h),re(h),y=0|r[(l=i)>>2],l=0|r[l+4>>2],v=0|ln(7,0,0|(b=3*(15-c|0)|0)),l&=~S(),b=0|ln(0|ce(h),0,0|b),l=0|S()|l,r[(g=i)>>2]=b|y&~v,r[g+4>>2]=l,(0|c)<=1){n=14;break}}e:do{if(13!=(0|n)&&14==(0|n))if((0|r[a>>2])<=1&&(0|r[a+4>>2])<=1&&(0|r[a+8>>2])<=1){h=127==(0|(l=0|H(m,n=0|ce(a))))?0:0|V(l);t:do{if(n){if(o){if(7==(0|(l=0|We(e,t)))){l=5;break e}if((0|(c=0|r[21376+(28*l|0)+(n<<2)>>2]))>0){l=n,n=0;do{l=0|ye(l),n=n+1|0}while((0|n)!=(0|c))}else l=n;if(1==(0|l)){l=9;break e}127==(0|(n=0|H(m,l)))&&M(27648,27538,411,27678),0|V(n)?M(27693,27538,412,27678):(A=n,f=c,p=l)}else A=l,f=0,p=n;if((0|(d=0|r[4272+(28*m|0)+(p<<2)>>2]))<=-1&&M(27724,27538,419,27678),!h){if((0|f)<0){l=5;break e}if(0|f){l=0,n=0|r[(c=i)>>2],c=0|r[c+4>>2];do{n=0|Ye(n,c),c=0|S(),r[(b=i)>>2]=n,r[b+4>>2]=c,l=l+1|0}while((0|l)<(0|f))}if((0|d)<=0){l=A,n=58;break}for(l=0,n=0|r[(c=i)>>2],c=0|r[c+4>>2];;)if(n=0|Ye(n,c),c=0|S(),r[(b=i)>>2]=n,r[b+4>>2]=c,(0|(l=l+1|0))==(0|d)){l=A,n=58;break t}}if(7==(0|(u=0|W(A,m)))&&M(27514,27538,428,27678),n=0|r[(l=i)>>2],l=0|r[l+4>>2],(0|d)>0){c=0;do{n=0|Ye(n,l),l=0|S(),r[(b=i)>>2]=n,r[b+4>>2]=l,c=c+1|0}while((0|c)!=(0|d))}if(7==(0|(l=0|We(n,l)))&&M(27795,27538,440,27678),n=0|j(A),(0|(n=0|r[(n?21792:21584)+(28*u|0)+(l<<2)>>2]))<0&&M(27795,27538,454,27678),n){l=0,c=0|r[(u=i)>>2],u=0|r[u+4>>2];do{c=0|Qe(c,u),u=0|S(),r[(b=i)>>2]=c,r[b+4>>2]=u,l=l+1|0}while((0|l)<(0|n));l=A,n=58}else l=A,n=58}else if(0!=(0|o)&0!=(0|h)){if(7==(0|(n=0|We(e,t)))|7==(0|(c=0|We(0|r[(c=i)>>2],0|r[c+4>>2])))){l=5;break e}if((0|(c=0|r[21376+(28*n|0)+(c<<2)>>2]))<0){l=5;break e}if(c){n=0,u=0|r[(d=i)>>2],d=0|r[d+4>>2];do{u=0|Ye(u,d),d=0|S(),r[(b=i)>>2]=u,r[b+4>>2]=d,n=n+1|0}while((0|n)<(0|c));n=58}else n=59}else n=58}while(0);if(58==(0|n)&&h&&(n=59),59==(0|n)&&1==(0|We(0|r[(b=i)>>2],0|r[b+4>>2]))){l=9;break}v=0|r[(b=i)>>2],b=-1040385&r[b+4>>2],y=0|ln(0|l,0,45),b=0|b|S(),r[(l=i)>>2]=v|y,r[l+4>>2]=b,l=0}else l=1}while(0);return D=s,0|(b=l)}function wt(e,t,n,i){e|=0,t|=0;var r=0,a=0,o=0;if(0==(0|(n|=0))&0==(0|(i|=0)))return a=1,_(0|(r=0)),0|a;a=e,r=t,e=1,t=0;do{e=0|nn(0|((o=0==(1&n)&!0)?1:a),0|(o?0:r),0|e,0|t),t=0|S(),n=0|on(0|n,0|i,1),i=0|S(),a=0|nn(0|a,0|r,0|a,0|r),r=0|S()}while(!(0==(0|n)&0==(0|i)));return _(0|t),0|e}function Tt(e,t,n,i){n|=0,i|=0;var o,s=0,l=0,c=0,u=0,d=0,p=0;o=D,D=D+16|0,l=o,c=0|sn(0|(e|=0),0|(t|=0),52),S(),c&=15;do{if(c){if(!(s=0|tt(e,t,l))){d=+a[l>>3],u=1/+h(+d),p=+a[25968+(c<<3)>>3],a[n>>3]=d+p,a[n+8>>3]=d-p,d=+a[l+8>>3],u*=p,a[n+16>>3]=u+d,a[n+24>>3]=d-u;break}return D=o,0|(c=s)}if(s=0|sn(0|e,0|t,45),S(),(s&=127)>>>0>121)return D=o,0|(c=5);l=22064+(s<<5)|0,r[n>>2]=r[l>>2],r[n+4>>2]=r[l+4>>2],r[n+8>>2]=r[l+8>>2],r[n+12>>2]=r[l+12>>2],r[n+16>>2]=r[l+16>>2],r[n+20>>2]=r[l+20>>2],r[n+24>>2]=r[l+24>>2],r[n+28>>2]=r[l+28>>2];break}while(0);return function(e,t){t=+t;var n,i,r,o,s,l,c,u=0,d=0;u=(o=+a[(r=16+(e|=0)|0)>>3])-(i=+a[(n=e+24|0)>>3]),u=o<i?u+6.283185307179586:u,d=+a[e>>3],u=.5*(u*t-u),d+=t=.5*((c=d-(l=+a[(s=e+8|0)>>3]))*t-c),a[e>>3]=d>1.5707963267948966?1.5707963267948966:d,t=l-t,a[s>>3]=t<-1.5707963267948966?-1.5707963267948966:t,t=(t=o+u)>3.141592653589793?t+-6.283185307179586:t,a[r>>3]=t<-3.141592653589793?t+6.283185307179586:t,t=(t=i-u)>3.141592653589793?t+-6.283185307179586:t,a[n>>3]=t<-3.141592653589793?t+6.283185307179586:t}(n,i?1.4:1.1),(0|r[(i=26096+(c<<3)|0)>>2])==(0|e)&&(0|r[i+4>>2])==(0|t)&&(a[n>>3]=1.5707963267948966),(0|r[(c=26224+(c<<3)|0)>>2])==(0|e)&&(0|r[c+4>>2])==(0|t)&&(a[n+8>>3]=-1.5707963267948966),1.5707963267948966!=+a[n>>3]&&-1.5707963267948966!=+a[n+8>>3]?(D=o,0|(c=0)):(a[n+16>>3]=3.141592653589793,a[n+24>>3]=-3.141592653589793,D=o,0|(c=0))}function _t(e,t,n,a){e|=0,t|=0,n|=0,a|=0;var o,s,l,c=0,u=0,d=0,h=0;l=D,D=D+48|0,o=l+40|0,s=l,Ve(u=l+32|0,0,0,0),d=0|r[u>>2],u=0|r[u+4>>2];do{if(n>>>0<=15){if(0|(c=0|Pt(a))){r[(a=s)>>2]=0,r[a+4>>2]=0,r[s+8>>2]=c,r[s+12>>2]=-1,d=s+29|0,r[(a=s+16|0)>>2]=0,r[a+4>>2]=0,r[a+8>>2]=0,i[a+12|0]=0,i[d|0]=0|i[o|0],i[d+1|0]=0|i[o+1|0],i[d+2|0]=0|i[o+2|0];break}if(c=0|Kt(1+(0|r[t+8>>2])|0,32)){Nt(t,c),r[(h=s)>>2]=d,r[h+4>>2]=u,r[s+8>>2]=0,r[s+12>>2]=n,r[s+16>>2]=a,r[s+20>>2]=t,r[s+24>>2]=c,i[s+28|0]=0,i[(d=s+29|0)|0]=0|i[o|0],i[d+1|0]=0|i[o+1|0],i[d+2|0]=0|i[o+2|0];break}r[(a=s)>>2]=0,r[a+4>>2]=0,r[s+8>>2]=13,r[s+12>>2]=-1,d=s+29|0,r[(a=s+16|0)>>2]=0,r[a+4>>2]=0,r[a+8>>2]=0,i[a+12|0]=0,i[d|0]=0|i[o|0],i[d+1|0]=0|i[o+1|0],i[d+2|0]=0|i[o+2|0];break}r[(d=s)>>2]=0,r[d+4>>2]=0,r[s+8>>2]=4,r[s+12>>2]=-1,h=s+29|0,r[(d=s+16|0)>>2]=0,r[d+4>>2]=0,r[d+8>>2]=0,i[d+12|0]=0,i[h|0]=0|i[o|0],i[h+1|0]=0|i[o+1|0],i[h+2|0]=0|i[o+2|0]}while(0);St(s),r[e>>2]=r[s>>2],r[e+4>>2]=r[s+4>>2],r[e+8>>2]=r[s+8>>2],r[e+12>>2]=r[s+12>>2],r[e+16>>2]=r[s+16>>2],r[e+20>>2]=r[s+20>>2],r[e+24>>2]=r[s+24>>2],r[e+28>>2]=r[s+28>>2],D=l}function St(e){var t,n,a,o,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0;if(o=D,D=D+336|0,t=o+168|0,n=o,0==(0|(l=0|r[(c=e|=0)>>2]))&0==(0|(c=0|r[c+4>>2])))D=o;else{if(0|i[(s=e+28|0)|0]?(l=0|Mt(l,c),c=0|S()):i[s|0]=1,!(0|r[r[(a=e+20|0)>>2]>>2]))return 0|(l=0|r[(s=e+24|0)>>2])&&Xt(l),r[(w=e)>>2]=0,r[w+4>>2]=0,r[e+8>>2]=0,r[a>>2]=0,r[e+12>>2]=-1,r[e+16>>2]=0,r[s>>2]=0,void(D=o);u=15&(s=0|r[(w=e+16|0)>>2]);e:do{if(0==(0|l)&0==(0|c))x=e+24|0;else{y=e+12|0,g=3==(0|u),A=255&s,m=3==(1|u),v=e+24|0,f=(u+-1|0)>>>0<3,h=3==(2|u),p=n+8|0;t:for(;;){if(d=0|sn(0|l,0|c,52),S(),(0|(d&=15))==(0|r[y>>2])){switch(15&A){case 0:case 2:case 3:if(0|(u=0|tt(l,c,t))){b=15;break t}if(0|Rt(0|r[a>>2],0|r[v>>2],t)){b=19;break t}}if(m&&(u=0|r[4+(0|r[a>>2])>>2],r[t>>2]=r[u>>2],r[t+4>>2]=r[u+4>>2],r[t+8>>2]=r[u+8>>2],r[t+12>>2]=r[u+12>>2],0|K(26832,t))){if(0|Je(0|r[4+(0|r[a>>2])>>2],d,n)){b=25;break}if((0|r[(u=n)>>2])==(0|l)&&(0|r[u+4>>2])==(0|c)){b=29;break}}if(f){if(0|(u=0|nt(l,c,t))){b=32;break}if(0|Tt(l,c,n,0)){b=36;break}if(h&&0|Dt(0|r[a>>2],0|r[v>>2],t,n)){b=42;break}if(m&&0|Lt(0|r[a>>2],0|r[v>>2],t,n)){b=42;break}}if(g){if(s=0|Tt(l,c,t,1),u=0|r[v>>2],0|s){b=45;break}if(0|Z(u,t)){if($(n,t),0|J(t,0|r[v>>2])){b=53;break}if(0|Rt(0|r[a>>2],0|r[v>>2],p)){b=53;break}if(0|Lt(0|r[a>>2],0|r[v>>2],n,t)){b=53;break}}}}do{if((0|d)<(0|r[y>>2])){if(s=0|Tt(l,c,t,1),u=0|r[v>>2],0|s){b=58;break t}if(!(0|Z(u,t))){b=73;break}if(0|J(0|r[v>>2],t)&&($(n,t),0|Dt(0|r[a>>2],0|r[v>>2],n,t))){b=65;break t}if(0|(l=0|He(l,c,d+1|0,n))){b=67;break t}l=0|r[(c=n)>>2],c=0|r[c+4>>2]}else b=73}while(0);if(73==(0|b)&&(b=0,l=0|Mt(l,c),c=0|S()),0==(0|l)&0==(0|c)){x=v;break e}}switch(0|b){case 15:0|(s=0|r[v>>2])&&Xt(s),r[(b=e)>>2]=0,r[b+4>>2]=0,r[a>>2]=0,r[y>>2]=-1,r[w>>2]=0,r[v>>2]=0,r[e+8>>2]=u,b=20;break;case 19:r[e>>2]=l,r[e+4>>2]=c,b=20;break;case 25:M(27795,27761,470,27772);break;case 29:case 42:return r[e>>2]=l,r[e+4>>2]=c,void(D=o);case 32:return 0|(s=0|r[v>>2])&&Xt(s),r[(x=e)>>2]=0,r[x+4>>2]=0,r[a>>2]=0,r[y>>2]=-1,r[w>>2]=0,r[v>>2]=0,r[e+8>>2]=u,void(D=o);case 36:M(27795,27761,493,27772);break;case 45:0|u&&Xt(u),r[(b=e)>>2]=0,r[b+4>>2]=0,r[a>>2]=0,r[y>>2]=-1,r[w>>2]=0,r[v>>2]=0,r[e+8>>2]=s,b=55;break;case 53:r[e>>2]=l,r[e+4>>2]=c,b=55;break;case 58:0|u&&Xt(u),r[(b=e)>>2]=0,r[b+4>>2]=0,r[a>>2]=0,r[y>>2]=-1,r[w>>2]=0,r[v>>2]=0,r[e+8>>2]=s,b=71;break;case 65:r[e>>2]=l,r[e+4>>2]=c,b=71;break;case 67:return 0|(s=0|r[v>>2])&&Xt(s),r[(x=e)>>2]=0,r[x+4>>2]=0,r[a>>2]=0,r[y>>2]=-1,r[w>>2]=0,r[v>>2]=0,r[e+8>>2]=l,void(D=o)}if(20==(0|b))return void(D=o);if(55==(0|b))return void(D=o);if(71==(0|b))return void(D=o)}}while(0);0|(s=0|r[x>>2])&&Xt(s),r[(b=e)>>2]=0,r[b+4>>2]=0,r[e+8>>2]=0,r[a>>2]=0,r[e+12>>2]=-1,r[w>>2]=0,r[x>>2]=0,D=o}}function Mt(e,t){var n,i=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,h=0;n=D,D=D+16|0,h=n,a=0|sn(0|(e|=0),0|(t|=0),52),S(),a&=15,i=0|sn(0|e,0|t,45),S();do{if(a){for(;i=0|ln(a+4095|0,0,52),o=S()|-15728641&t,i=i|e|(l=0|ln(7,0,0|(s=3*(15-a|0)|0))),o|=c=0|S(),u=0|sn(0|e,0|t,0|s),S(),a=a+-1|0,!((u&=7)>>>0<6);){if(!a){d=4;break}t=o,e=i}if(4==(0|d)){i=0|sn(0|i,0|o,45),S();break}return h=0|ln(((h=0==(0|u)&0!=(0|qe(i,o)))?2:1)+u|0,0,0|s),d=0|S()|t&~c,h|=e&~l,_(0|d),D=n,0|h}}while(0);return(i&=127)>>>0>120?(h=0,_(0|(d=0)),D=n,0|h):(Ve(h,0,i+1|0,0),d=0|r[h+4>>2],h=0|r[h>>2],_(0|d),D=n,0|h)}function Et(e,t,n){e|=0;var i,o=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0;if(!(0|K(t|=0,n|=0)))return 0|(m=0);if(t=0|Y(t),o=+a[n>>3],s=t&(s=+a[n+8>>3])<0?s+6.283185307179586:s,(0|(m=0|r[e>>2]))<=0)return 0|(m=0);if(i=0|r[e+4>>2],t){t=0,p=s,n=-1,e=0;e:for(;;){for(h=e;c=+a[i+(h<<4)>>3],s=+a[i+(h<<4)+8>>3],l=+a[i+((e=(n+2|0)%(0|m)|0)<<4)>>3],u=+a[i+(e<<4)+8>>3],c>l?(d=c,c=u):(d=l,l=c,c=s,s=u),(o=o==l|o==d?o+2220446049250313e-31:o)<l|o>d;){if((0|(n=h+1|0))>=(0|m)){n=22;break e}e=h,h=n,n=e}if(((d=(u=c<0?c+6.283185307179586:c)+(o-l)/(d-l)*((c=s<0?s+6.283185307179586:s)-u))<0?d+6.283185307179586:d)>(p=u==p|c==p?p+-2220446049250313e-31:p)&&(t^=1),(0|(e=h+1|0))>=(0|m)){n=22;break}n=h}if(22==(0|n))return 0|t}else{t=0,p=s,n=-1,e=0;e:for(;;){for(h=e;c=+a[i+(h<<4)>>3],s=+a[i+(h<<4)+8>>3],l=+a[i+((e=(n+2|0)%(0|m)|0)<<4)>>3],u=+a[i+(e<<4)+8>>3],c>l?(d=c,c=u):(d=l,l=c,c=s,s=u),(o=o==l|o==d?o+2220446049250313e-31:o)<l|o>d;){if((0|(n=h+1|0))>=(0|m)){n=22;break e}e=h,h=n,n=e}if(c+(o-l)/(d-l)*(s-c)>(p=c==p|s==p?p+-2220446049250313e-31:p)&&(t^=1),(0|(e=h+1|0))>=(0|m)){n=22;break}n=h}if(22==(0|n))return 0|t}return 0}function Ct(e,t){t|=0;var n,i,o,s,l,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0;if(!(i=0|r[(e|=0)>>2]))return r[t>>2]=0,r[t+4>>2]=0,r[t+8>>2]=0,r[t+12>>2]=0,r[t+16>>2]=0,r[t+20>>2]=0,r[t+24>>2]=0,void(r[t+28>>2]=0);if(a[(o=t+8|0)>>3]=17976931348623157e292,a[(s=t+24|0)>>3]=17976931348623157e292,a[t>>3]=-17976931348623157e292,a[(l=t+16|0)>>3]=-17976931348623157e292,!((0|i)<=0)){for(n=0|r[e+4>>2],g=17976931348623157e292,v=-17976931348623157e292,y=0,e=-1,p=17976931348623157e292,m=17976931348623157e292,A=-17976931348623157e292,d=-17976931348623157e292,b=0;u=+a[n+(b<<4)>>3],f=+a[n+(b<<4)+8>>3],h=+a[n+(((0|(e=e+2|0))==(0|i)?0:e)<<4)+8>>3],u<p&&(a[o>>3]=u,p=u),f<m&&(a[s>>3]=f,m=f),u>A?a[t>>3]=u:u=A,f>d&&(a[l>>3]=f,d=f),g=f>0&f<g?f:g,v=f<0&f>v?f:v,y|=+c(+(f-h))>3.141592653589793,(0|(e=b+1|0))!=(0|i);)x=b,A=u,b=e,e=x;y&&(a[l>>3]=v,a[s>>3]=g)}}function Pt(e){return 0|((e|=0)>>>0<4?0:15)}function Nt(e,t){t|=0;var n,i=0,o=0,s=0,l=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0,T=0,_=0,S=0,M=0;if(v=0|r[(e|=0)>>2]){if(a[(y=t+8|0)>>3]=17976931348623157e292,a[(b=t+24|0)>>3]=17976931348623157e292,a[t>>3]=-17976931348623157e292,a[(x=t+16|0)>>3]=-17976931348623157e292,(0|v)>0){for(s=0|r[e+4>>2],A=17976931348623157e292,g=-17976931348623157e292,o=0,i=-1,h=17976931348623157e292,p=17976931348623157e292,f=-17976931348623157e292,u=-17976931348623157e292,w=0;l=+a[s+(w<<4)>>3],m=+a[s+(w<<4)+8>>3],d=+a[s+(((0|(S=i+2|0))==(0|v)?0:S)<<4)+8>>3],l<h&&(a[y>>3]=l,h=l),m<p&&(a[b>>3]=m,p=m),l>f?a[t>>3]=l:l=f,m>u&&(a[x>>3]=m,u=m),A=m>0&m<A?m:A,g=m<0&m>g?m:g,o|=+c(+(m-d))>3.141592653589793,(0|(i=w+1|0))!=(0|v);)S=w,f=l,w=i,i=S;o&&(a[x>>3]=g,a[b>>3]=A)}}else r[t>>2]=0,r[t+4>>2]=0,r[t+8>>2]=0,r[t+12>>2]=0,r[t+16>>2]=0,r[t+20>>2]=0,r[t+24>>2]=0,r[t+28>>2]=0;if(!((0|(i=0|r[(S=e+8|0)>>2]))<=0)){n=e+12|0,_=0;do{if(s=0|r[n>>2],o=_,b=t+((_=_+1|0)<<5)|0,x=0|r[s+(o<<3)>>2]){if(a[(w=t+(_<<5)+8|0)>>3]=17976931348623157e292,a[(e=t+(_<<5)+24|0)>>3]=17976931348623157e292,a[b>>3]=-17976931348623157e292,a[(T=t+(_<<5)+16|0)>>3]=-17976931348623157e292,(0|x)>0){for(v=0|r[s+(o<<3)+4>>2],A=17976931348623157e292,g=-17976931348623157e292,s=0,o=-1,y=0,h=17976931348623157e292,p=17976931348623157e292,m=-17976931348623157e292,u=-17976931348623157e292;l=+a[v+(y<<4)>>3],f=+a[v+(y<<4)+8>>3],d=+a[v+(((0|(o=o+2|0))==(0|x)?0:o)<<4)+8>>3],l<h&&(a[w>>3]=l,h=l),f<p&&(a[e>>3]=f,p=f),l>m?a[b>>3]=l:l=m,f>u&&(a[T>>3]=f,u=f),A=f>0&f<A?f:A,g=f<0&f>g?f:g,s|=+c(+(f-d))>3.141592653589793,(0|(o=y+1|0))!=(0|x);)M=y,y=o,m=l,o=M;s&&(a[T>>3]=g,a[e>>3]=A)}}else r[b>>2]=0,r[b+4>>2]=0,r[b+8>>2]=0,r[b+12>>2]=0,r[b+16>>2]=0,r[b+20>>2]=0,r[b+24>>2]=0,r[b+28>>2]=0,i=0|r[S>>2]}while((0|_)<(0|i))}}function Rt(e,t,n){var i=0,a=0,o=0;if(!(0|Et(e|=0,t|=0,n|=0)))return 0|(a=0);if((0|r[(a=e+8|0)>>2])<=0)return 0|(a=1);for(i=e+12|0,e=0;;){if(o=e,e=e+1|0,0|Et((0|r[i>>2])+(o<<3)|0,t+(e<<5)|0,n)){e=0,i=6;break}if((0|e)>=(0|r[a>>2])){e=1,i=6;break}}return 6==(0|i)?0|e:0}function Dt(e,t,n,i){i|=0;var a,o,s=0,l=0,c=0,u=0,d=0;if(o=D,D=D+16|0,a=o,!(0|Et(e|=0,t|=0,c=(n|=0)+8|0)))return D=o,0|(u=0);u=e+8|0;e:do{if((0|r[u>>2])>0){for(l=e+12|0,s=0;;){if(d=s,s=s+1|0,0|Et((0|r[l>>2])+(d<<3)|0,t+(s<<5)|0,c)){s=0;break}if((0|s)>=(0|r[u>>2]))break e}return D=o,0|s}}while(0);if(0|It(e,t,n,i))return D=o,0|(d=0);r[a>>2]=r[n>>2],r[a+4>>2]=c,s=0|r[u>>2];e:do{if((0|s)>0)for(e=e+12|0,c=0,l=s;;){if(s=0|r[e>>2],(0|r[s+(c<<3)>>2])>0){if(0|Et(a,i,0|r[s+(c<<3)+4>>2])){s=0;break e}if(s=c+1|0,0|It((0|r[e>>2])+(c<<3)|0,t+(s<<5)|0,n,i)){s=0;break e}l=0|r[u>>2]}else s=c+1|0;if(!((0|s)<(0|l))){s=1;break}c=s}else s=1}while(0);return D=o,0|(d=s)}function It(e,t,n,i){e|=0,n|=0;var o,s,l,c,u,d,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0,T=0,_=0,S=0,M=0;if(d=D,D=D+176|0,c=d+172|0,h=d+168|0,u=d,!(0|Z(t|=0,i|=0)))return D=d,0|(e=0);if(function(e,t,n,i){var o,s,l,c,u;t|=0,n|=0,i|=0,e=(s=+a[16+(e|=0)>>3])<(u=+a[e+24>>3]),o=(c=+a[t+16>>3])<(l=+a[t+24>>3]),t=u-c<l-s,r[n>>2]=e?o|t?1:2:0,r[i>>2]=o?e?1:t?2:1:0}(t,i,c,h),pn(0|u,0|n,168),(0|r[n>>2])>0){t=0;do{w=+ct(+a[(S=u+8+(t<<4)+8|0)>>3],0|r[h>>2]),a[S>>3]=w,t=t+1|0}while((0|t)<(0|r[n>>2]))}s=+a[i>>3],l=+a[i+8>>3],w=+ct(+a[i+16>>3],0|r[h>>2]),o=+ct(+a[i+24>>3],0|r[h>>2]);e:do{if((0|r[e>>2])>0){if(i=e+4|0,(0|(h=0|r[u>>2]))<=0)for(t=0;;)if((0|(t=t+1|0))>=(0|r[e>>2])){t=0;break e}for(n=0;;){if(t=0|r[i>>2],b=+a[t+(n<<4)>>3],x=+ct(+a[t+(n<<4)+8>>3],0|r[c>>2]),t=0|r[i>>2],S=(0|(n=n+1|0))%(0|r[e>>2])|0,p=+a[t+(S<<4)>>3],m=+ct(+a[t+(S<<4)+8>>3],0|r[c>>2]),!(b>=s)|!(p>=s)&&!(b<=l)|!(p<=l)&&!(x<=o)|!(m<=o)&&!(x>=w)|!(m>=w)){y=p-b,g=m-x,t=0;do{if(M=t,S=(0|(t=t+1|0))==(0|h)?0:t,p=+a[u+8+(M<<4)+8>>3],m=+a[u+8+(S<<4)+8>>3]-p,f=+a[u+8+(M<<4)>>3],!(0==(v=y*m-g*(A=+a[u+8+(S<<4)>>3]-f))||(T=x-p,_=b-f,A=(T*A-m*_)/v,A<0|A>1))&&(v=(y*T-g*_)/v)>=0&v<=1){t=1;break e}}while((0|t)<(0|h))}if((0|n)>=(0|r[e>>2])){t=0;break}}}else t=0}while(0);return D=d,0|(M=t)}function Lt(e,t,n,i){var a=0,o=0,s=0;if(0|It(e|=0,t|=0,n|=0,i|=0))return 0|(o=1);if((0|r[(o=e+8|0)>>2])<=0)return 0|(o=0);for(a=e+12|0,e=0;;){if(s=e,e=e+1|0,0|It((0|r[a>>2])+(s<<3)|0,t+(e<<5)|0,n,i)){e=1,a=6;break}if((0|e)>=(0|r[o>>2])){e=0,a=6;break}}return 6==(0|a)?0|e:0}function kt(e,t,n,i,r){t|=0,n|=0,i|=0,r|=0;var o,s,l,c,u,d,h,p=0;c=+a[(e|=0)>>3],l=+a[t>>3]-c,s=+a[e+8>>3],o=+a[t+8>>3]-s,d=+a[n>>3],p=((p=+a[i>>3]-d)*(s-(h=+a[n+8>>3]))-(c-d)*(u=+a[i+8>>3]-h))/(l*u-o*p),a[r>>3]=c+l*p,a[r+8>>3]=s+o*p}function Bt(e,t){return t|=0,+c(+(+a[(e|=0)>>3]-+a[t>>3]))<1.1920928955078125e-7?0|(t=+c(+(+a[e+8>>3]-+a[t+8>>3]))<1.1920928955078125e-7):0|(t=0)}function Ft(e,t){t|=0;var n,i,r;return+((r=+a[(e|=0)>>3]-+a[t>>3])*r+(i=+a[e+8>>3]-+a[t+8>>3])*i+(n=+a[e+16>>3]-+a[t+16>>3])*n)}function Ot(e,t,n){n|=0;var i,a,o,s,l=0,c=0,u=0;if(s=D,D=D+32|0,u=s,0|(l=0|et(e|=0,t|=0,a=s+16|0)))return D=s,0|(n=l);i=0|Oe(e,t),o=0|We(e,t),function(e,t){e=7696+(28*(e|=0)|0)|0,r[(t|=0)>>2]=r[e>>2],r[t+4>>2]=r[e+4>>2],r[t+8>>2]=r[e+8>>2],r[t+12>>2]=r[e+12>>2]}(i,u),l=0|function(e,t){e|=0;var n=0,i=0;if((t|=0)>>>0>20)return-1;do{if((0|r[11120+(216*t|0)>>2])!=(0|e))if((0|r[11120+(216*t|0)+8>>2])!=(0|e))if((0|r[11120+(216*t|0)+16>>2])!=(0|e))if((0|r[11120+(216*t|0)+24>>2])!=(0|e))if((0|r[11120+(216*t|0)+32>>2])!=(0|e))if((0|r[11120+(216*t|0)+40>>2])!=(0|e))if((0|r[11120+(216*t|0)+48>>2])!=(0|e))if((0|r[11120+(216*t|0)+56>>2])!=(0|e))if((0|r[11120+(216*t|0)+64>>2])!=(0|e))if((0|r[11120+(216*t|0)+72>>2])!=(0|e))if((0|r[11120+(216*t|0)+80>>2])!=(0|e))if((0|r[11120+(216*t|0)+88>>2])!=(0|e))if((0|r[11120+(216*t|0)+96>>2])!=(0|e))if((0|r[11120+(216*t|0)+104>>2])!=(0|e))if((0|r[11120+(216*t|0)+112>>2])!=(0|e))if((0|r[11120+(216*t|0)+120>>2])!=(0|e))if((0|r[11120+(216*t|0)+128>>2])!=(0|e)){if((0|r[11120+(216*t|0)+136>>2])!=(0|e)){if((0|r[11120+(216*t|0)+144>>2])==(0|e)){e=0,n=2,i=0;break}if((0|r[11120+(216*t|0)+152>>2])==(0|e)){e=0,n=2,i=1;break}if((0|r[11120+(216*t|0)+160>>2])==(0|e)){e=0,n=2,i=2;break}if((0|r[11120+(216*t|0)+168>>2])==(0|e)){e=1,n=2,i=0;break}if((0|r[11120+(216*t|0)+176>>2])==(0|e)){e=1,n=2,i=1;break}if((0|r[11120+(216*t|0)+184>>2])==(0|e)){e=1,n=2,i=2;break}if((0|r[11120+(216*t|0)+192>>2])==(0|e)){e=2,n=2,i=0;break}if((0|r[11120+(216*t|0)+200>>2])==(0|e)){e=2,n=2,i=1;break}if((0|r[11120+(216*t|0)+208>>2])==(0|e)){e=2,n=2,i=2;break}return-1}e=2,n=1,i=2}else e=2,n=1,i=1;else e=2,n=1,i=0;else e=1,n=1,i=2;else e=1,n=1,i=1;else e=1,n=1,i=0;else e=0,n=1,i=2;else e=0,n=1,i=1;else e=0,n=1,i=0;else e=2,n=0,i=2;else e=2,n=0,i=1;else e=2,n=0,i=0;else e=1,n=0,i=2;else e=1,n=0,i=1;else e=1,n=0,i=0;else e=0,n=0,i=2;else e=0,n=0,i=1;else e=0,n=0,i=0}while(0);return 0|r[11120+(216*t|0)+(72*n|0)+(24*e|0)+(i<<3)+4>>2]}(i,0|r[a>>2]);e:do{if(0|V(i)){switch(0|i){case 4:e=0;break;case 14:e=1;break;case 24:e=2;break;case 38:e=3;break;case 49:e=4;break;case 58:e=5;break;case 63:e=6;break;case 72:e=7;break;case 83:e=8;break;case 97:e=9;break;case 107:e=10;break;case 117:e=11;break;default:l=1;break e}if(c=0|r[26416+(24*e|0)+8>>2],t=0|r[26416+(24*e|0)+16>>2],(0|(e=0|r[a>>2]))!=(0|r[u>>2])&&(u=0|j(i))|(0|(e=0|r[a>>2]))==(0|t)&&(l=(l+1|0)%6|0),3==(0|o)&(0|e)==(0|t)){l=(l+5|0)%6|0,c=22;break}5==(0|o)&(0|e)==(0|c)?(l=(l+1|0)%6|0,c=22):c=22}else c=22}while(0);return 22==(0|c)&&(r[n>>2]=l,l=0),D=s,0|(n=l)}function Ut(e,t,n,i){n|=0,i|=0;var a,o,s,l,c,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0;if(c=D,D=D+32|0,b=c+24|0,l=c+20|0,s=c+8|0,o=c+16|0,a=c,m=(m=0==(0|qe(e|=0,t|=0)))?6:5,A=0|sn(0|e,0|t,52),S(),m>>>0<=n>>>0)return D=c,0|(i=2);!(g=0==(0|(A&=15)))&&0==((v=0|ln(7,0,3*(15^A)|0))&e|0)&0==((0|S())&t)?u=n:d=4;e:do{if(4==(0|d)){if((0|((u=0!=(0|qe(e,t)))?4:5))<(0|n))return D=c,0|(i=1);if(0|Ot(e,t,b))return D=c,0|(i=1);if(d=(0|r[b>>2])+n|0,7==(0|(v=0|r[(u=u?26704+((0|d)%5<<2)|0:26736+((0|d)%6<<2)|0)>>2])))return D=c,0|(i=1);r[l>>2]=0,u=0|F(e,t,v,l,s);do{if(!u){if(f=0|r[(p=s)>>2],d=(h=(p=0|r[p+4>>2])>>>0<t>>>0|(0|p)==(0|t)&f>>>0<e>>>0)?f:e,h=h?p:t,!g&&0==(f&(g=0|ln(7,0,3*(15^A)|0))|0)&0==(p&(0|S())))u=n;else{if(p=(n+-1+m|0)%(0|m)|0,u=0|qe(e,t),(0|p)<0&&M(27795,27797,246,27806),(0|((m=0!=(0|u))?4:5))<(0|p)&&M(27795,27797,246,27806),0|Ot(e,t,b)&&M(27795,27797,246,27806),u=(0|r[b>>2])+p|0,7==(0|(p=0|r[(u=m?26704+((0|u)%5<<2)|0:26736+((0|u)%6<<2)|0)>>2]))&&M(27795,27797,246,27806),r[o>>2]=0,0|(u=0|F(e,t,p,o,a)))break;m=0|r[(f=a)>>2],f=0|r[f+4>>2];do{if(f>>>0<h>>>0|(0|f)==(0|h)&m>>>0<d>>>0){if(d=0|qe(m,f)?0|O(m,f,e,t):0|r[26800+(((0|r[o>>2])+(0|r[26768+(p<<2)>>2])|0)%6<<2)>>2],u=0|qe(m,f),(d+-1|0)>>>0>5){u=-1,d=m,h=f;break}if(1==(0|d)&(u=0!=(0|u))){u=-1,d=m,h=f;break}do{if(!(0|Ot(m,f,b))){if(u){u=(5+(0|r[26352+(d<<2)>>2])-(0|r[b>>2])|0)%5|0;break}u=(6+(0|r[26384+(d<<2)>>2])-(0|r[b>>2])|0)%6|0;break}u=-1}while(0);d=m,h=f}else u=n}while(0);f=0|r[(p=s)>>2],p=0|r[p+4>>2]}if((0|d)==(0|f)&(0|h)==(0|p)){if(e=(m=0!=(0|qe(f,p)))?0|O(f,p,e,t):0|r[26800+(((0|r[l>>2])+(0|r[26768+(v<<2)>>2])|0)%6<<2)>>2],u=0|qe(f,p),(e+-1|0)>>>0<=5&&!(1==(0|e)&(y=0!=(0|u))))do{if(!(0|Ot(f,p,b))){if(y){u=(5+(0|r[26352+(e<<2)>>2])-(0|r[b>>2])|0)%5|0;break}u=(6+(0|r[26384+(e<<2)>>2])-(0|r[b>>2])|0)%6|0;break}u=-1}while(0);else u=-1;u=6==(0|(u=u+1|0))|m&5==(0|u)?0:u}t=h,e=d;break e}}while(0);return D=c,0|(i=u)}}while(0);return y=0|ln(0|u,0,56),b=S()|-2130706433&t|536870912,r[i>>2]=y|e,r[i+4>>2]=b,D=c,0|(i=0)}function Vt(e,t,n){e|=0,n|=0;var i=0;(0|(t|=0))>0?(i=0|Kt(t,4),r[e>>2]=i,i||M(27819,27842,40,27856)):r[e>>2]=0,r[e+4>>2]=t,r[e+8>>2]=0,r[e+12>>2]=n}function jt(e){var t,n,i,o=0,s=0,l=0,u=0;t=(e|=0)+4|0,n=e+12|0,i=e+8|0;e:for(;;){for(s=0|r[t>>2],o=0;;){if((0|o)>=(0|s))break e;if(l=0|r[e>>2],u=0|r[l+(o<<2)>>2])break;o=o+1|0}o=l+(~~(+c(+ +d(10,+ +(15-(0|r[n>>2])|0))*(+a[u>>3]+ +a[u+8>>3]))%+(0|s))>>>0<<2)|0,s=0|r[o>>2];t:do{if(0|s){if(l=u+32|0,(0|s)==(0|u))r[o>>2]=r[l>>2];else{if(!(o=0|r[(s=s+32|0)>>2]))break;for(;(0|o)!=(0|u);)if(!(o=0|r[(s=o+32|0)>>2]))break t;r[s>>2]=r[l>>2]}Xt(u),r[i>>2]=(0|r[i>>2])-1}}while(0)}Xt(0|r[e>>2])}function zt(e){var t,n=0,i=0;for(t=0|r[(e|=0)+4>>2],i=0;;){if((0|i)>=(0|t)){n=0,i=4;break}if(n=0|r[(0|r[e>>2])+(i<<2)>>2]){i=4;break}i=i+1|0}return 4==(0|i)?0|n:0}function qt(e,t){t|=0;var n=0,i=0,o=0,s=0;if(n=~~(+c(+ +d(10,+ +(15-(0|r[(e|=0)+12>>2])|0))*(+a[t>>3]+ +a[t+8>>3]))%+(0|r[e+4>>2]))>>>0,n=(0|r[e>>2])+(n<<2)|0,!(i=0|r[n>>2]))return 0|(s=1);s=t+32|0;do{if((0|i)!=(0|t)){if(!(n=0|r[i+32>>2]))return 0|(s=1);for(o=n;;){if((0|o)==(0|t)){o=8;break}if(!(n=0|r[o+32>>2])){n=1,o=10;break}i=o,o=n}if(8==(0|o)){r[i+32>>2]=r[s>>2];break}if(10==(0|o))return 0|n}else r[n>>2]=r[s>>2]}while(0);return Xt(t),r[(s=e+8|0)>>2]=(0|r[s>>2])-1,0|(s=0)}function Gt(e,t,n){e|=0,t|=0,n|=0;var i,o=0,s=0,l=0;(i=0|Yt(40))||M(27872,27842,98,27885),r[i>>2]=r[t>>2],r[i+4>>2]=r[t+4>>2],r[i+8>>2]=r[t+8>>2],r[i+12>>2]=r[t+12>>2],r[(s=i+16|0)>>2]=r[n>>2],r[s+4>>2]=r[n+4>>2],r[s+8>>2]=r[n+8>>2],r[s+12>>2]=r[n+12>>2],r[i+32>>2]=0,s=~~(+c(+ +d(10,+ +(15-(0|r[e+12>>2])|0))*(+a[t>>3]+ +a[t+8>>3]))%+(0|r[e+4>>2]))>>>0,s=(0|r[e>>2])+(s<<2)|0,o=0|r[s>>2];do{if(o){for(;!(0|lt(o,t)&&0|lt(o+16|0,n));)if(s=0|r[o+32>>2],!(0|r[(o=0==(0|s)?o:s)+32>>2])){l=10;break}if(10==(0|l)){r[o+32>>2]=i;break}return Xt(i),0|(l=o)}r[s>>2]=i}while(0);return r[(l=e+8|0)>>2]=1+(0|r[l>>2]),0|(l=i)}function Ht(e,t,n){t|=0,n|=0;var i=0,o=0;if(o=~~(+c(+ +d(10,+ +(15-(0|r[(e|=0)+12>>2])|0))*(+a[t>>3]+ +a[t+8>>3]))%+(0|r[e+4>>2]))>>>0,!(o=0|r[(0|r[e>>2])+(o<<2)>>2]))return 0|(n=0);if(!n){for(e=o;;){if(0|lt(e,t)){i=10;break}if(!(e=0|r[e+32>>2])){e=0,i=10;break}}if(10==(0|i))return 0|e}for(e=o;;){if(0|lt(e,t)&&0|lt(e+16|0,n)){i=10;break}if(!(e=0|r[e+32>>2])){e=0,i=10;break}}return 10==(0|i)?0|e:0}function Wt(e,t){t|=0;var n=0;if(n=~~(+c(+ +d(10,+ +(15-(0|r[(e|=0)+12>>2])|0))*(+a[t>>3]+ +a[t+8>>3]))%+(0|r[e+4>>2]))>>>0,!(e=0|r[(0|r[e>>2])+(n<<2)>>2]))return 0|(n=0);for(;;){if(0|lt(e,t)){t=5;break}if(!(e=0|r[e+32>>2])){e=0,t=5;break}}return 5==(0|t)?0|e:0}function Qt(e){return 0|+fn(+(e=+e))}function Yt(e){e|=0;var t,n=0,i=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0;t=D,D=D+16|0,m=t;do{if(e>>>0<245){if(e=(d=e>>>0<11?16:e+11&-8)>>>3,3&(i=(p=0|r[6977])>>>e))return a=0|r[(i=(e=27948+((n=(1&i^1)+e|0)<<1<<2)|0)+8|0)>>2],(0|(s=0|r[(o=a+8|0)>>2]))==(0|e)?r[6977]=p&~(1<<n):(r[s+12>>2]=e,r[i>>2]=s),w=n<<3,r[a+4>>2]=3|w,r[(w=a+w+4|0)>>2]=1|r[w>>2],D=t,0|(w=o);if(d>>>0>(h=0|r[6979])>>>0){if(0|i)return n=((n=i<<e&((n=2<<e)|0-n))&0-n)-1|0,s=0|r[(e=(n=27948+((a=((i=(n>>>=c=n>>>12&16)>>>5&8)|c|(s=(n>>>=i)>>>2&4)|(e=(n>>>=s)>>>1&2)|(a=(n>>>=e)>>>1&1))+(n>>>a)|0)<<1<<2)|0)+8|0)>>2],(0|(i=0|r[(c=s+8|0)>>2]))==(0|n)?(e=p&~(1<<a),r[6977]=e):(r[i+12>>2]=n,r[e>>2]=i,e=p),l=(w=a<<3)-d|0,r[s+4>>2]=3|d,r[(o=s+d|0)+4>>2]=1|l,r[s+w>>2]=l,0|h&&(a=0|r[6982],i=27948+((n=h>>>3)<<1<<2)|0,e&(n=1<<n)?n=0|r[(e=i+8|0)>>2]:(r[6977]=e|n,n=i,e=i+8|0),r[e>>2]=a,r[n+12>>2]=a,r[a+8>>2]=n,r[a+12>>2]=i),r[6979]=l,r[6982]=o,D=t,0|(w=c);if(s=0|r[6978]){for(i=(s&0-s)-1|0,i=u=0|r[28212+(((a=(i>>>=o=i>>>12&16)>>>5&8)|o|(l=(i>>>=a)>>>2&4)|(c=(i>>>=l)>>>1&2)|(u=(i>>>=c)>>>1&1))+(i>>>u)<<2)>>2],c=u,u=(-8&r[u+4>>2])-d|0;(e=0|r[i+16>>2])||(e=0|r[i+20>>2]);)i=e,c=(o=(l=(-8&r[e+4>>2])-d|0)>>>0<u>>>0)?e:c,u=o?l:u;if((l=c+d|0)>>>0>c>>>0){o=0|r[c+24>>2],n=0|r[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|r[(e=c+20|0)>>2])&&!(n=0|r[(e=c+16|0)>>2])){i=0;break}for(;;)if(i=0|r[(a=n+20|0)>>2])n=i,e=a;else{if(!(i=0|r[(a=n+16|0)>>2]))break;n=i,e=a}r[e>>2]=0,i=n}else i=0|r[c+8>>2],r[i+12>>2]=n,r[n+8>>2]=i,i=n}while(0);do{if(0|o){if(n=0|r[c+28>>2],(0|c)==(0|r[(e=28212+(n<<2)|0)>>2])){if(r[e>>2]=i,!i){r[6978]=s&~(1<<n);break}}else if(r[((0|r[(w=o+16|0)>>2])==(0|c)?w:o+20)>>2]=i,!i)break;r[i+24>>2]=o,0|(n=0|r[c+16>>2])&&(r[i+16>>2]=n,r[n+24>>2]=i),0|(n=0|r[c+20>>2])&&(r[i+20>>2]=n,r[n+24>>2]=i)}}while(0);return u>>>0<16?(w=u+d|0,r[c+4>>2]=3|w,r[(w=c+w+4|0)>>2]=1|r[w>>2]):(r[c+4>>2]=3|d,r[l+4>>2]=1|u,r[l+u>>2]=u,0|h&&(a=0|r[6982],i=27948+((n=h>>>3)<<1<<2)|0,(n=1<<n)&p?n=0|r[(e=i+8|0)>>2]:(r[6977]=n|p,n=i,e=i+8|0),r[e>>2]=a,r[n+12>>2]=a,r[a+8>>2]=n,r[a+12>>2]=i),r[6979]=u,r[6982]=l),D=t,0|(w=c+8|0)}p=d}else p=d}else p=d}else if(e>>>0<=4294967231)if(d=-8&(e=e+11|0),a=0|r[6978]){o=0-d|0,u=(e>>>=8)?d>>>0>16777215?31:d>>>((u=14-((c=((g=e<<(p=(e+1048320|0)>>>16&8))+520192|0)>>>16&4)|p|(u=((g<<=c)+245760|0)>>>16&2))+(g<<u>>>15)|0)+7|0)&1|u<<1:0,i=0|r[28212+(u<<2)>>2];e:do{if(i)for(e=0,c=d<<(31==(0|u)?0:25-(u>>>1)|0),s=0;;){if((l=(-8&r[i+4>>2])-d|0)>>>0<o>>>0){if(!l){e=i,o=0,g=65;break e}e=i,o=l}if(s=0==(0|(g=0|r[i+20>>2]))|(0|g)==(0|(i=0|r[i+16+(c>>>31<<2)>>2]))?s:g,!i){i=s,g=61;break}c<<=1}else i=0,e=0,g=61}while(0);if(61==(0|g)){if(0==(0|i)&0==(0|e)){if(!(e=((e=2<<u)|0-e)&a)){p=d;break}p=(e&0-e)-1|0,e=0,i=0|r[28212+(((s=(p>>>=l=p>>>12&16)>>>5&8)|l|(c=(p>>>=s)>>>2&4)|(u=(p>>>=c)>>>1&2)|(i=(p>>>=u)>>>1&1))+(p>>>i)<<2)>>2]}i?g=65:(c=e,l=o)}if(65==(0|g))for(s=i;;){if(o=(i=(p=(-8&r[s+4>>2])-d|0)>>>0<o>>>0)?p:o,e=i?s:e,(i=0|r[s+16>>2])||(i=0|r[s+20>>2]),!i){c=e,l=o;break}s=i}if(0!=(0|c)&&l>>>0<((0|r[6979])-d|0)>>>0&&(h=c+d|0)>>>0>c>>>0){s=0|r[c+24>>2],n=0|r[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|r[(e=c+20|0)>>2])&&!(n=0|r[(e=c+16|0)>>2])){n=0;break}for(;;)if(i=0|r[(o=n+20|0)>>2])n=i,e=o;else{if(!(i=0|r[(o=n+16|0)>>2]))break;n=i,e=o}r[e>>2]=0}else w=0|r[c+8>>2],r[w+12>>2]=n,r[n+8>>2]=w}while(0);do{if(s){if(e=0|r[c+28>>2],(0|c)==(0|r[(i=28212+(e<<2)|0)>>2])){if(r[i>>2]=n,!n){a&=~(1<<e),r[6978]=a;break}}else if(r[((0|r[(w=s+16|0)>>2])==(0|c)?w:s+20)>>2]=n,!n)break;r[n+24>>2]=s,0|(e=0|r[c+16>>2])&&(r[n+16>>2]=e,r[e+24>>2]=n),(e=0|r[c+20>>2])&&(r[n+20>>2]=e,r[e+24>>2]=n)}}while(0);e:do{if(l>>>0<16)w=l+d|0,r[c+4>>2]=3|w,r[(w=c+w+4|0)>>2]=1|r[w>>2];else{if(r[c+4>>2]=3|d,r[h+4>>2]=1|l,r[h+l>>2]=l,n=l>>>3,l>>>0<256){i=27948+(n<<1<<2)|0,(e=0|r[6977])&(n=1<<n)?n=0|r[(e=i+8|0)>>2]:(r[6977]=e|n,n=i,e=i+8|0),r[e>>2]=h,r[n+12>>2]=h,r[h+8>>2]=n,r[h+12>>2]=i;break}if(n=28212+((i=(n=l>>>8)?l>>>0>16777215?31:l>>>((i=14-((b=((w=n<<(x=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|x|(i=((w<<=b)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1:0)<<2)|0,r[h+28>>2]=i,r[(e=h+16|0)+4>>2]=0,r[e>>2]=0,!(a&(e=1<<i))){r[6978]=a|e,r[n>>2]=h,r[h+24>>2]=n,r[h+12>>2]=h,r[h+8>>2]=h;break}n=0|r[n>>2];t:do{if((-8&r[n+4>>2])!=(0|l)){for(a=l<<(31==(0|i)?0:25-(i>>>1)|0);e=0|r[(i=n+16+(a>>>31<<2)|0)>>2];){if((-8&r[e+4>>2])==(0|l)){n=e;break t}a<<=1,n=e}r[i>>2]=h,r[h+24>>2]=n,r[h+12>>2]=h,r[h+8>>2]=h;break e}}while(0);w=0|r[(x=n+8|0)>>2],r[w+12>>2]=h,r[x>>2]=h,r[h+8>>2]=w,r[h+12>>2]=n,r[h+24>>2]=0}}while(0);return D=t,0|(w=c+8|0)}p=d}else p=d;else p=-1}while(0);if((i=0|r[6979])>>>0>=p>>>0)return n=i-p|0,e=0|r[6982],n>>>0>15?(w=e+p|0,r[6982]=w,r[6979]=n,r[w+4>>2]=1|n,r[e+i>>2]=n,r[e+4>>2]=3|p):(r[6979]=0,r[6982]=0,r[e+4>>2]=3|i,r[(w=e+i+4|0)>>2]=1|r[w>>2]),D=t,0|(w=e+8|0);if((l=0|r[6980])>>>0>p>>>0)return b=l-p|0,r[6980]=b,x=(w=0|r[6983])+p|0,r[6983]=x,r[x+4>>2]=1|b,r[w+4>>2]=3|p,D=t,0|(w=w+8|0);if(0|r[7095]?e=0|r[7097]:(r[7097]=4096,r[7096]=4096,r[7098]=-1,r[7099]=-1,r[7100]=0,r[7088]=0,r[7095]=-16&m^1431655768,e=4096),c=p+48|0,(d=(s=e+(u=p+47|0)|0)&(o=0-e|0))>>>0<=p>>>0)return D=t,0|(w=0);if(0|(e=0|r[7087])&&(m=(h=0|r[7085])+d|0)>>>0<=h>>>0|m>>>0>e>>>0)return D=t,0|(w=0);e:do{if(4&r[7088])n=0,g=143;else{i=0|r[6983];t:do{if(i){for(a=28356;!((m=0|r[a>>2])>>>0<=i>>>0&&(m+(0|r[a+4>>2])|0)>>>0>i>>>0);){if(!(e=0|r[a+8>>2])){g=128;break t}a=e}if((n=s-l&o)>>>0<2147483647)if((0|(e=0|An(0|n)))==((0|r[a>>2])+(0|r[a+4>>2])|0)){if(-1!=(0|e)){l=n,s=e,g=145;break e}}else a=e,g=136;else n=0}else g=128}while(0);do{if(128==(0|g))if(-1!=(0|(i=0|An(0)))&&(n=i,A=(n=(0==((A=(f=0|r[7096])+-1|0)&n|0)?0:(A+n&0-f)-n|0)+d|0)+(f=0|r[7085])|0,n>>>0>p>>>0&n>>>0<2147483647)){if(0|(m=0|r[7087])&&A>>>0<=f>>>0|A>>>0>m>>>0){n=0;break}if((0|(e=0|An(0|n)))==(0|i)){l=n,s=i,g=145;break e}a=e,g=136}else n=0}while(0);do{if(136==(0|g)){if(i=0-n|0,!(c>>>0>n>>>0&n>>>0<2147483647&-1!=(0|a))){if(-1==(0|a)){n=0;break}l=n,s=a,g=145;break e}if((e=u-n+(e=0|r[7097])&0-e)>>>0>=2147483647){l=n,s=a,g=145;break e}if(-1==(0|An(0|e))){An(0|i),n=0;break}l=e+n|0,s=a,g=145;break e}}while(0);r[7088]=4|r[7088],g=143}}while(0);if(143==(0|g)&&d>>>0<2147483647&&!(-1==(0|(b=0|An(0|d)))|1^(y=(v=(A=0|An(0))-b|0)>>>0>(p+40|0)>>>0)|b>>>0<A>>>0&-1!=(0|b)&-1!=(0|A)^1)&&(l=y?v:n,s=b,g=145),145==(0|g)){n=(0|r[7085])+l|0,r[7085]=n,n>>>0>(0|r[7086])>>>0&&(r[7086]=n),u=0|r[6983];e:do{if(u){for(n=28356;;){if((0|s)==((e=0|r[n>>2])+(i=0|r[n+4>>2])|0)){g=154;break}if(!(a=0|r[n+8>>2]))break;n=a}if(154==(0|g)&&(x=n+4|0,0==(8&r[n+12>>2]))&&s>>>0>u>>>0&e>>>0<=u>>>0){r[x>>2]=i+l,x=u+(b=0==(7&(b=u+8|0))?0:0-b&7)|0,b=(w=(0|r[6980])+l|0)-b|0,r[6983]=x,r[6980]=b,r[x+4>>2]=1|b,r[u+w+4>>2]=40,r[6984]=r[7099];break}for(s>>>0<(0|r[6981])>>>0&&(r[6981]=s),i=s+l|0,n=28356;;){if((0|r[n>>2])==(0|i)){g=162;break}if(!(e=0|r[n+8>>2]))break;n=e}if(162==(0|g)&&0==(8&r[n+12>>2])){r[n>>2]=s,r[(h=n+4|0)>>2]=(0|r[h>>2])+l,d=(h=s+(0==(7&(h=s+8|0))?0:0-h&7)|0)+p|0,c=(n=i+(0==(7&(n=i+8|0))?0:0-n&7)|0)-h-p|0,r[h+4>>2]=3|p;t:do{if((0|u)==(0|n))w=(0|r[6980])+c|0,r[6980]=w,r[6983]=d,r[d+4>>2]=1|w;else{if((0|r[6982])==(0|n)){w=(0|r[6979])+c|0,r[6979]=w,r[6982]=d,r[d+4>>2]=1|w,r[d+w>>2]=w;break}if(1==(3&(e=0|r[n+4>>2]))){l=-8&e,a=e>>>3;n:do{if(e>>>0<256){if(e=0|r[n+8>>2],(0|(i=0|r[n+12>>2]))==(0|e)){r[6977]=r[6977]&~(1<<a);break}r[e+12>>2]=i,r[i+8>>2]=e;break}s=0|r[n+24>>2],e=0|r[n+12>>2];do{if((0|e)==(0|n)){if(e=0|r[(a=(i=n+16|0)+4|0)>>2])i=a;else if(!(e=0|r[i>>2])){e=0;break}for(;;)if(a=0|r[(o=e+20|0)>>2])e=a,i=o;else{if(!(a=0|r[(o=e+16|0)>>2]))break;e=a,i=o}r[i>>2]=0}else w=0|r[n+8>>2],r[w+12>>2]=e,r[e+8>>2]=w}while(0);if(!s)break;a=28212+((i=0|r[n+28>>2])<<2)|0;do{if((0|r[a>>2])==(0|n)){if(r[a>>2]=e,0|e)break;r[6978]=r[6978]&~(1<<i);break n}if(r[((0|r[(w=s+16|0)>>2])==(0|n)?w:s+20)>>2]=e,!e)break n}while(0);if(r[e+24>>2]=s,0|(a=0|r[(i=n+16|0)>>2])&&(r[e+16>>2]=a,r[a+24>>2]=e),!(i=0|r[i+4>>2]))break;r[e+20>>2]=i,r[i+24>>2]=e}while(0);n=n+l|0,o=l+c|0}else o=c;if(r[(n=n+4|0)>>2]=-2&r[n>>2],r[d+4>>2]=1|o,r[d+o>>2]=o,n=o>>>3,o>>>0<256){i=27948+(n<<1<<2)|0,(e=0|r[6977])&(n=1<<n)?n=0|r[(e=i+8|0)>>2]:(r[6977]=e|n,n=i,e=i+8|0),r[e>>2]=d,r[n+12>>2]=d,r[d+8>>2]=n,r[d+12>>2]=i;break}n=o>>>8;do{if(n){if(o>>>0>16777215){a=31;break}a=o>>>((a=14-((b=((w=n<<(x=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|x|(a=((w<<=b)+245760|0)>>>16&2))+(w<<a>>>15)|0)+7|0)&1|a<<1}else a=0}while(0);if(n=28212+(a<<2)|0,r[d+28>>2]=a,r[(e=d+16|0)+4>>2]=0,r[e>>2]=0,!((e=0|r[6978])&(i=1<<a))){r[6978]=e|i,r[n>>2]=d,r[d+24>>2]=n,r[d+12>>2]=d,r[d+8>>2]=d;break}n=0|r[n>>2];n:do{if((-8&r[n+4>>2])!=(0|o)){for(a=o<<(31==(0|a)?0:25-(a>>>1)|0);e=0|r[(i=n+16+(a>>>31<<2)|0)>>2];){if((-8&r[e+4>>2])==(0|o)){n=e;break n}a<<=1,n=e}r[i>>2]=d,r[d+24>>2]=n,r[d+12>>2]=d,r[d+8>>2]=d;break t}}while(0);w=0|r[(x=n+8|0)>>2],r[w+12>>2]=d,r[x>>2]=d,r[d+8>>2]=w,r[d+12>>2]=n,r[d+24>>2]=0}}while(0);return D=t,0|(w=h+8|0)}for(n=28356;!((e=0|r[n>>2])>>>0<=u>>>0&&(w=e+(0|r[n+4>>2])|0)>>>0>u>>>0);)n=0|r[n+8>>2];n=(e=(e=(o=w+-47|0)+(0==(7&(e=o+8|0))?0:0-e&7)|0)>>>0<(o=u+16|0)>>>0?u:e)+8|0,x=s+(b=0==(7&(b=s+8|0))?0:0-b&7)|0,b=(i=l+-40|0)-b|0,r[6983]=x,r[6980]=b,r[x+4>>2]=1|b,r[s+i+4>>2]=40,r[6984]=r[7099],r[(i=e+4|0)>>2]=27,r[n>>2]=r[7089],r[n+4>>2]=r[7090],r[n+8>>2]=r[7091],r[n+12>>2]=r[7092],r[7089]=s,r[7090]=l,r[7092]=0,r[7091]=n,n=e+24|0;do{x=n,r[(n=n+4|0)>>2]=7}while((x+8|0)>>>0<w>>>0);if((0|e)!=(0|u)){if(s=e-u|0,r[i>>2]=-2&r[i>>2],r[u+4>>2]=1|s,r[e>>2]=s,n=s>>>3,s>>>0<256){i=27948+(n<<1<<2)|0,(e=0|r[6977])&(n=1<<n)?n=0|r[(e=i+8|0)>>2]:(r[6977]=e|n,n=i,e=i+8|0),r[e>>2]=u,r[n+12>>2]=u,r[u+8>>2]=n,r[u+12>>2]=i;break}if(i=28212+((a=(n=s>>>8)?s>>>0>16777215?31:s>>>((a=14-((b=((w=n<<(x=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|x|(a=((w<<=b)+245760|0)>>>16&2))+(w<<a>>>15)|0)+7|0)&1|a<<1:0)<<2)|0,r[u+28>>2]=a,r[u+20>>2]=0,r[o>>2]=0,!((n=0|r[6978])&(e=1<<a))){r[6978]=n|e,r[i>>2]=u,r[u+24>>2]=i,r[u+12>>2]=u,r[u+8>>2]=u;break}n=0|r[i>>2];t:do{if((-8&r[n+4>>2])!=(0|s)){for(a=s<<(31==(0|a)?0:25-(a>>>1)|0);e=0|r[(i=n+16+(a>>>31<<2)|0)>>2];){if((-8&r[e+4>>2])==(0|s)){n=e;break t}a<<=1,n=e}r[i>>2]=u,r[u+24>>2]=n,r[u+12>>2]=u,r[u+8>>2]=u;break e}}while(0);w=0|r[(x=n+8|0)>>2],r[w+12>>2]=u,r[x>>2]=u,r[u+8>>2]=w,r[u+12>>2]=n,r[u+24>>2]=0}}else 0==(0|(w=0|r[6981]))|s>>>0<w>>>0&&(r[6981]=s),r[7089]=s,r[7090]=l,r[7092]=0,r[6986]=r[7095],r[6985]=-1,r[6990]=27948,r[6989]=27948,r[6992]=27956,r[6991]=27956,r[6994]=27964,r[6993]=27964,r[6996]=27972,r[6995]=27972,r[6998]=27980,r[6997]=27980,r[7e3]=27988,r[6999]=27988,r[7002]=27996,r[7001]=27996,r[7004]=28004,r[7003]=28004,r[7006]=28012,r[7005]=28012,r[7008]=28020,r[7007]=28020,r[7010]=28028,r[7009]=28028,r[7012]=28036,r[7011]=28036,r[7014]=28044,r[7013]=28044,r[7016]=28052,r[7015]=28052,r[7018]=28060,r[7017]=28060,r[7020]=28068,r[7019]=28068,r[7022]=28076,r[7021]=28076,r[7024]=28084,r[7023]=28084,r[7026]=28092,r[7025]=28092,r[7028]=28100,r[7027]=28100,r[7030]=28108,r[7029]=28108,r[7032]=28116,r[7031]=28116,r[7034]=28124,r[7033]=28124,r[7036]=28132,r[7035]=28132,r[7038]=28140,r[7037]=28140,r[7040]=28148,r[7039]=28148,r[7042]=28156,r[7041]=28156,r[7044]=28164,r[7043]=28164,r[7046]=28172,r[7045]=28172,r[7048]=28180,r[7047]=28180,r[7050]=28188,r[7049]=28188,r[7052]=28196,r[7051]=28196,x=s+(b=0==(7&(b=s+8|0))?0:0-b&7)|0,b=(w=l+-40|0)-b|0,r[6983]=x,r[6980]=b,r[x+4>>2]=1|b,r[s+w+4>>2]=40,r[6984]=r[7099]}while(0);if((n=0|r[6980])>>>0>p>>>0)return b=n-p|0,r[6980]=b,x=(w=0|r[6983])+p|0,r[6983]=x,r[x+4>>2]=1|b,r[w+4>>2]=3|p,D=t,0|(w=w+8|0)}return r[(w=27904)>>2]=12,D=t,0|(w=0)}function Xt(e){var t=0,n=0,i=0,a=0,o=0,s=0,l=0,c=0;if(e|=0){n=e+-8|0,a=0|r[6981],c=n+(t=-8&(e=0|r[e+-4>>2]))|0;do{if(1&e)l=n,s=n;else{if(i=0|r[n>>2],!(3&e))return;if(o=i+t|0,(s=n+(0-i)|0)>>>0<a>>>0)return;if((0|r[6982])==(0|s)){if(3!=(3&(t=0|r[(e=c+4|0)>>2]))){l=s,t=o;break}return r[6979]=o,r[e>>2]=-2&t,r[s+4>>2]=1|o,void(r[s+o>>2]=o)}if(n=i>>>3,i>>>0<256){if(e=0|r[s+8>>2],(0|(t=0|r[s+12>>2]))==(0|e)){r[6977]=r[6977]&~(1<<n),l=s,t=o;break}r[e+12>>2]=t,r[t+8>>2]=e,l=s,t=o;break}a=0|r[s+24>>2],e=0|r[s+12>>2];do{if((0|e)==(0|s)){if(e=0|r[(n=(t=s+16|0)+4|0)>>2])t=n;else if(!(e=0|r[t>>2])){e=0;break}for(;;)if(n=0|r[(i=e+20|0)>>2])e=n,t=i;else{if(!(n=0|r[(i=e+16|0)>>2]))break;e=n,t=i}r[t>>2]=0}else l=0|r[s+8>>2],r[l+12>>2]=e,r[e+8>>2]=l}while(0);if(a){if(t=0|r[s+28>>2],(0|r[(n=28212+(t<<2)|0)>>2])==(0|s)){if(r[n>>2]=e,!e){r[6978]=r[6978]&~(1<<t),l=s,t=o;break}}else if(r[((0|r[(l=a+16|0)>>2])==(0|s)?l:a+20)>>2]=e,!e){l=s,t=o;break}r[e+24>>2]=a,0|(n=0|r[(t=s+16|0)>>2])&&(r[e+16>>2]=n,r[n+24>>2]=e),(t=0|r[t+4>>2])?(r[e+20>>2]=t,r[t+24>>2]=e,l=s,t=o):(l=s,t=o)}else l=s,t=o}}while(0);if(!(s>>>0>=c>>>0)&&1&(i=0|r[(e=c+4|0)>>2])){if(2&i)r[e>>2]=-2&i,r[l+4>>2]=1|t,r[s+t>>2]=t,a=t;else{if((0|r[6983])==(0|c)){if(c=(0|r[6980])+t|0,r[6980]=c,r[6983]=l,r[l+4>>2]=1|c,(0|l)!=(0|r[6982]))return;return r[6982]=0,void(r[6979]=0)}if((0|r[6982])==(0|c))return c=(0|r[6979])+t|0,r[6979]=c,r[6982]=s,r[l+4>>2]=1|c,void(r[s+c>>2]=c);a=(-8&i)+t|0,n=i>>>3;do{if(i>>>0<256){if(t=0|r[c+8>>2],(0|(e=0|r[c+12>>2]))==(0|t)){r[6977]=r[6977]&~(1<<n);break}r[t+12>>2]=e,r[e+8>>2]=t;break}o=0|r[c+24>>2],e=0|r[c+12>>2];do{if((0|e)==(0|c)){if(e=0|r[(n=(t=c+16|0)+4|0)>>2])t=n;else if(!(e=0|r[t>>2])){n=0;break}for(;;)if(n=0|r[(i=e+20|0)>>2])e=n,t=i;else{if(!(n=0|r[(i=e+16|0)>>2]))break;e=n,t=i}r[t>>2]=0,n=e}else n=0|r[c+8>>2],r[n+12>>2]=e,r[e+8>>2]=n,n=e}while(0);if(0|o){if(e=0|r[c+28>>2],(0|r[(t=28212+(e<<2)|0)>>2])==(0|c)){if(r[t>>2]=n,!n){r[6978]=r[6978]&~(1<<e);break}}else if(r[((0|r[(i=o+16|0)>>2])==(0|c)?i:o+20)>>2]=n,!n)break;r[n+24>>2]=o,0|(t=0|r[(e=c+16|0)>>2])&&(r[n+16>>2]=t,r[t+24>>2]=n),0|(e=0|r[e+4>>2])&&(r[n+20>>2]=e,r[e+24>>2]=n)}}while(0);if(r[l+4>>2]=1|a,r[s+a>>2]=a,(0|l)==(0|r[6982]))return void(r[6979]=a)}if(e=a>>>3,a>>>0<256)return n=27948+(e<<1<<2)|0,(t=0|r[6977])&(e=1<<e)?e=0|r[(t=n+8|0)>>2]:(r[6977]=t|e,e=n,t=n+8|0),r[t>>2]=l,r[e+12>>2]=l,r[l+8>>2]=e,void(r[l+12>>2]=n);e=28212+((i=(e=a>>>8)?a>>>0>16777215?31:a>>>((i=14-((o=((c=e<<(s=(e+1048320|0)>>>16&8))+520192|0)>>>16&4)|s|(i=((c<<=o)+245760|0)>>>16&2))+(c<<i>>>15)|0)+7|0)&1|i<<1:0)<<2)|0,r[l+28>>2]=i,r[l+20>>2]=0,r[l+16>>2]=0,t=0|r[6978],n=1<<i;e:do{if(t&n){e=0|r[e>>2];t:do{if((-8&r[e+4>>2])!=(0|a)){for(i=a<<(31==(0|i)?0:25-(i>>>1)|0);t=0|r[(n=e+16+(i>>>31<<2)|0)>>2];){if((-8&r[t+4>>2])==(0|a)){e=t;break t}i<<=1,e=t}r[n>>2]=l,r[l+24>>2]=e,r[l+12>>2]=l,r[l+8>>2]=l;break e}}while(0);c=0|r[(s=e+8|0)>>2],r[c+12>>2]=l,r[s>>2]=l,r[l+8>>2]=c,r[l+12>>2]=e,r[l+24>>2]=0}else r[6978]=t|n,r[e>>2]=l,r[l+24>>2]=e,r[l+12>>2]=l,r[l+8>>2]=l}while(0);if(c=(0|r[6985])-1|0,r[6985]=c,!(0|c)){for(e=28364;e=0|r[e>>2];)e=e+8|0;r[6985]=-1}}}}function Kt(e,t){t|=0;var n=0;return(e|=0)?(n=0|b(t,e),(t|e)>>>0>65535&&(n=((n>>>0)/(e>>>0)|0)==(0|t)?n:-1)):n=0,(e=0|Yt(n))&&3&r[e+-4>>2]?(mn(0|e,0,0|n),0|e):0|e}function Zt(e,t,n,i){return 0|(_((t|=0)+(i|=0)+((n=(e|=0)+(n|=0)>>>0)>>>0<e>>>0|0)>>>0|0),n)}function Jt(e,t,n,i){return 0|(_(0|(i=(t|=0)-(i|=0)-((n|=0)>>>0>(e|=0)>>>0|0)>>>0)),e-n>>>0)}function $t(e){return 0|((e|=0)?31-(0|T(e^e-1)):32)}function en(e,t,n,i,a){a|=0;var o=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0;if(d=e|=0,s=n|=0,l=p=i|=0,!(u=c=t|=0))return o=0!=(0|a),l?o?(r[a>>2]=0|e,r[a+4>>2]=0&t,a=0,0|(_(0|(p=0)),a)):(a=0,0|(_(0|(p=0)),a)):(o&&(r[a>>2]=(d>>>0)%(s>>>0),r[a+4>>2]=0),a=(d>>>0)/(s>>>0)>>>0,0|(_(0|(p=0)),a));o=0==(0|l);do{if(s){if(!o){if((o=(0|T(0|l))-(0|T(0|u))|0)>>>0<=31){s=h=o+1|0,e=d>>>(h>>>0)&(t=o-31>>31)|u<<(l=31-o|0),t&=u>>>(h>>>0),o=0,l=d<<l;break}return a?(r[a>>2]=0|e,r[a+4>>2]=c|0&t,a=0,0|(_(0|(p=0)),a)):(a=0,0|(_(0|(p=0)),a))}if((o=s-1|0)&s|0){s=l=33+(0|T(0|s))-(0|T(0|u))|0,e=(h=32-l|0)-1>>31&u>>>((m=l-32|0)>>>0)|(u<<h|d>>>(l>>>0))&(t=m>>31),t&=u>>>(l>>>0),o=d<<(f=64-l|0)&(c=h>>31),l=(u<<f|d>>>(m>>>0))&c|d<<h&l-33>>31;break}return 0|a&&(r[a>>2]=o&d,r[a+4>>2]=0),1==(0|s)?(f=0|e,0|(_(0|(m=c|0&t)),f)):(m=u>>>((f=0|$t(0|s))>>>0)|0,f=u<<32-f|d>>>(f>>>0),0|(_(0|m),f))}if(o)return 0|a&&(r[a>>2]=(u>>>0)%(s>>>0),r[a+4>>2]=0),f=(u>>>0)/(s>>>0)>>>0,0|(_(0|(m=0)),f);if(!d)return 0|a&&(r[a>>2]=0,r[a+4>>2]=(u>>>0)%(l>>>0)),f=(u>>>0)/(l>>>0)>>>0,0|(_(0|(m=0)),f);if(!((o=l-1|0)&l))return 0|a&&(r[a>>2]=0|e,r[a+4>>2]=o&u|0&t),m=0,f=u>>>((0|$t(0|l))>>>0),0|(_(0|m),f);if((o=(0|T(0|l))-(0|T(0|u))|0)>>>0<=30){s=t=o+1|0,e=u<<(l=31-o|0)|d>>>(t>>>0),t=u>>>(t>>>0),o=0,l=d<<l;break}return a?(r[a>>2]=0|e,r[a+4>>2]=c|0&t,f=0,0|(_(0|(m=0)),f)):(f=0,0|(_(0|(m=0)),f))}while(0);if(s){u=0|Zt(0|(h=0|n),0|(d=p|0&i),-1,-1),n=0|S(),c=l,l=0;do{i=c,c=o>>>31|c<<1,o=l|o<<1,Jt(0|u,0|n,0|(i=e<<1|i>>>31),0|(p=e>>>31|t<<1)),l=1&(m=(f=0|S())>>31|((0|f)<0?-1:0)<<1),e=0|Jt(0|i,0|p,m&h|0,(((0|f)<0?-1:0)>>31|((0|f)<0?-1:0)<<1)&d),t=0|S(),s=s-1|0}while(0!=(0|s));u=c,c=0}else u=l,c=0,l=0;return s=0,0|a&&(r[a>>2]=e,r[a+4>>2]=t),f=o<<1&-2|l,0|(_(0|(m=(0|o)>>>31|(u|s)<<1|c)),f)}function tn(e,t,n,i){n|=0;var r,a,o,s,l;return a=(i|=0)>>31|((0|i)<0?-1:0)<<1,r=((0|i)<0?-1:0)>>31|((0|i)<0?-1:0)<<1,o=0|Jt((l=(t|=0)>>31|((0|t)<0?-1:0)<<1)^(e|=0)|0,(s=((0|t)<0?-1:0)>>31|((0|t)<0?-1:0)<<1)^t|0,0|l,0|s),e=a^l,t=r^s,0|Jt((0|en(o,0|S(),0|Jt(a^n|0,r^i|0,0|a,0|r),0|S(),0))^e,(0|S())^t,0|e,0|t)}function nn(e,t,n,i){t|=0,i|=0;var r,a;return n=0|function(e,t){var n,i,r,a=0;return e=((n=0|b(a=65535&(t|=0),r=65535&(e|=0)))>>>16)+(0|b(a,i=e>>>16))|0,t=0|b(a=t>>>16,r),0|(_((e>>>16)+(0|b(a,i))+(((65535&e)+t|0)>>>16)|0),e+t<<16|65535&n)}(r=e|=0,a=n|=0),e=0|S(),0|(_((0|b(t,a))+(0|b(i,r))+e|0&e),n)}function rn(e,t,n,i){n|=0;var a,o,s,l,c,u;return a=D,D=D+16|0,l=0|a,u=(i|=0)>>31|((0|i)<0?-1:0)<<1,c=((0|i)<0?-1:0)>>31|((0|i)<0?-1:0)<<1,en(e=0|Jt((s=(t|=0)>>31|((0|t)<0?-1:0)<<1)^(e|=0)|0,(o=((0|t)<0?-1:0)>>31|((0|t)<0?-1:0)<<1)^t|0,0|s,0|o),t=0|S(),0|Jt(u^n|0,c^i|0,0|u,0|c),0|S(),l),i=0|Jt(r[l>>2]^s|0,r[l+4>>2]^o|0,0|s,0|o),n=0|S(),D=a,0|(_(0|n),i)}function an(e,t,n,i){var a,o;return o=D,D=D+16|0,en(e|=0,t|=0,n|=0,i|=0,a=0|o),D=o,0|(_(0|r[a+4>>2]),r[a>>2])}function on(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(_(t>>n|0),e>>>n|(t&(1<<n)-1)<<32-n):(_(0|((0|t)<0?-1:0)),t>>n-32)}function sn(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(_(t>>>n|0),e>>>n|(t&(1<<n)-1)<<32-n):(_(0),t>>>n-32|0)}function ln(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(_(t<<n|(e&(1<<n)-1<<32-n)>>>32-n),e<<n):(_(e<<n-32),0)}function cn(e,t,n){return e|=0,32==(0|(t=0|T(t|=0)))&&(t=t+(0|T(e))|0),_(0),0|t}function un(e,t){return t=+t,(e=+e)!=e?+t:t!=t?+e:+w(+e,+t)}function dn(e,t){return t=+t,(e=+e)!=e?+t:t!=t?+e:+x(+e,+t)}function hn(e){return(e=+e)>=0?+l(e+.5):+y(e-.5)}function pn(e,t,n){e|=0,t|=0;var a,o,s=0;if((0|(n|=0))>=8192)return P(0|e,0|t,0|n),0|e;if(o=0|e,a=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|o;i[e|0]=0|i[t|0],e=e+1|0,t=t+1|0,n=n-1|0}for(s=(n=-4&a)-64|0;(0|e)<=(0|s);)r[e>>2]=r[t>>2],r[e+4>>2]=r[t+4>>2],r[e+8>>2]=r[t+8>>2],r[e+12>>2]=r[t+12>>2],r[e+16>>2]=r[t+16>>2],r[e+20>>2]=r[t+20>>2],r[e+24>>2]=r[t+24>>2],r[e+28>>2]=r[t+28>>2],r[e+32>>2]=r[t+32>>2],r[e+36>>2]=r[t+36>>2],r[e+40>>2]=r[t+40>>2],r[e+44>>2]=r[t+44>>2],r[e+48>>2]=r[t+48>>2],r[e+52>>2]=r[t+52>>2],r[e+56>>2]=r[t+56>>2],r[e+60>>2]=r[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|n);)r[e>>2]=r[t>>2],e=e+4|0,t=t+4|0}else for(n=a-4|0;(0|e)<(0|n);)i[e|0]=0|i[t|0],i[e+1|0]=0|i[t+1|0],i[e+2|0]=0|i[t+2|0],i[e+3|0]=0|i[t+3|0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|a);)i[e|0]=0|i[t|0],e=e+1|0,t=t+1|0;return 0|o}function mn(e,t,n){t|=0;var a,o=0,s=0,l=0;if(a=(e|=0)+(n|=0)|0,t&=255,(0|n)>=67){for(;3&e;)i[e|0]=t,e=e+1|0;for(l=t|t<<8|t<<16|t<<24,s=(o=-4&a)-64|0;(0|e)<=(0|s);)r[e>>2]=l,r[e+4>>2]=l,r[e+8>>2]=l,r[e+12>>2]=l,r[e+16>>2]=l,r[e+20>>2]=l,r[e+24>>2]=l,r[e+28>>2]=l,r[e+32>>2]=l,r[e+36>>2]=l,r[e+40>>2]=l,r[e+44>>2]=l,r[e+48>>2]=l,r[e+52>>2]=l,r[e+56>>2]=l,r[e+60>>2]=l,e=e+64|0;for(;(0|e)<(0|o);)r[e>>2]=l,e=e+4|0}for(;(0|e)<(0|a);)i[e|0]=t,e=e+1|0;return a-n|0}function fn(e){return(e=+e)>=0?+l(e+.5):+y(e-.5)}function An(e){e|=0;var t,n,i;return i=0|C(),(0|e)>0&(0|(t=(n=0|r[s>>2])+e|0))<(0|n)|(0|t)<0?(R(0|t),E(12),-1):(0|t)>(0|i)&&!(0|N(0|t))?(E(12),-1):(r[s>>2]=t,0|n)}return{___divdi3:tn,___muldi3:nn,___remdi3:rn,___uremdi3:an,_areNeighborCells:function(e,t,n,i,a){a|=0;var o,s,l,c=0,u=0,d=0,h=0;if(l=D,D=D+64|0,s=l,o=l+56|0,!(!0&134217728==(2013265920&(t|=0))&!0&134217728==(2013265920&(i|=0))))return D=l,0|(a=5);if((0|(e|=0))==(0|(n|=0))&(0|t)==(0|i))return r[a>>2]=0,D=l,0|(a=0);if(u=0|sn(0|e,0|t,52),S(),u&=15,h=0|sn(0|n,0|i,52),S(),(0|u)!=(15&h))return D=l,0|(a=12);if(c=u+-1|0,u>>>0>1){je(e,t,c,s),je(n,i,c,o),d=0|r[(h=s)>>2],h=0|r[h+4>>2];e:do{if((0|d)==(0|r[o>>2])&&(0|h)==(0|r[o+4>>2])){c=0|sn(0|e,0|t,0|(u=3*(15^u)|0)),S(),c&=7,u=0|sn(0|n,0|i,0|u),S(),u&=7;do{if(0==(0|c)|0==(0|u))r[a>>2]=1,c=0;else if(7==(0|c))c=5;else{if(1==(0|c)|1==(0|u)&&0|qe(d,h)){c=5;break}if((0|r[15536+(c<<2)>>2])!=(0|u)&&(0|r[15568+(c<<2)>>2])!=(0|u))break e;r[a>>2]=1,c=0}}while(0);return D=l,0|(a=c)}}while(0)}u=(c=s)+56|0;do{r[c>>2]=0,c=c+4|0}while((0|c)<(0|u));return I(e,t,1,s),c=(0|r[(t=s)>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)||(0|r[(t=s+8|0)>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)||(0|r[(t=s+16|0)>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)||(0|r[(t=s+24|0)>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)||(0|r[(t=s+32|0)>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)||(0|r[(t=s+40|0)>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)?1:1&((0|r[(c=s+48|0)>>2])==(0|n)?(0|r[c+4>>2])==(0|i):0),r[a>>2]=c,D=l,0|(a=0)},_bitshift64Ashr:on,_bitshift64Lshr:sn,_bitshift64Shl:ln,_calloc:Kt,_cellAreaKm2:function(e,t,n){return 0|(e=0|mt(e|=0,t|=0,n|=0))||(a[n>>3]=6371.007180918475*+a[n>>3]*6371.007180918475),0|e},_cellAreaM2:function(e,t,n){return 0|(e=0|mt(e|=0,t|=0,n|=0))||(a[n>>3]=6371.007180918475*+a[n>>3]*6371.007180918475*1e3*1e3),0|e},_cellAreaRads2:mt,_cellToBoundary:nt,_cellToCenterChild:He,_cellToChildPos:function(e,t,n,i){n|=0,i|=0;var a,o=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0;if(a=D,D=D+16|0,v=a,y=0|sn(0|(e|=0),0|(t|=0),52),S(),y&=15,n>>>0>15)return D=a,0|(y=4);if((0|y)<(0|n))return D=a,0|(y=12);if((0|y)!=(0|n))if(s=0|ln(0|n,0,52),s|=e,c=S()|-15728641&t,(0|y)>(0|n)){u=n;do{g=0|ln(7,0,3*(14-u|0)|0),u=u+1|0,s|=g,c=0|S()|c}while((0|u)<(0|y));g=s}else g=s;else g=e,c=t;A=0|sn(0|g,0|c,45),S();e:do{if(0|V(127&A)){if(u=0|sn(0|g,0|c,52),S(),0|(u&=15))for(s=1;;){if(!(0==((A=0|ln(7,0,3*(15-s|0)|0))&g|0)&0==((0|S())&c))){d=33;break e}if(!(s>>>0<u>>>0))break;s=s+1|0}if(r[(A=i)>>2]=0,r[A+4>>2]=0,(0|y)>(0|n)){for(A=-15728641&t,f=y;;){if(m=f,(f=f+-1|0)>>>0>15|(0|y)<(0|f)){d=19;break}if((0|y)!=(0|f))if(s=0|ln(0|f,0,52),s|=e,u=0|S()|A,(0|y)<(0|m))p=s;else{d=f;do{p=0|ln(7,0,3*(14-d|0)|0),d=d+1|0,s|=p,u=0|S()|u}while((0|d)<(0|y));p=s}else p=e,u=t;if(h=0|sn(0|p,0|u,45),S(),0|V(127&h)){h=0|sn(0|p,0|u,52),S(),h&=15;t:do{if(h)for(d=1;;){if(s=0|sn(0|p,0|u,3*(15-d|0)|0),S(),0|(s&=7))break t;if(!(d>>>0<h>>>0)){s=0;break}d=d+1|0}else s=0}while(0);s=0==(0|s)&1}else s=0;if(u=0|sn(0|e,0|t,3*(15-m|0)|0),S(),7==(0|(u&=7))){o=5,d=42;break}if(1==(0|u)&(s=0!=(0|s))){o=5,d=42;break}if(0|(p=u+((0!=(0|u)&s)<<31>>31)|0)&&(d=0|wt(7,0,d=y-m|0,((0|d)<0)<<31>>31),h=0|S(),s?(s=0|Zt(0|(s=0|nn(0|d,0|h,5,0)),0|S(),-5,-1),s=0|Zt(0|(s=0|tn(0|s,0|S(),6,0)),0|S(),1,0),u=0|S()):(s=d,u=h),m=0|Zt(0|s,0|u,0|(m=0|nn(0|d,0|h,0|(m=p+-1|0),((0|m)<0)<<31>>31)),0|S()),h=0|Zt(0|m,0|(p=0|S()),0|r[(h=i)>>2],0|r[h+4>>2]),p=0|S(),r[(m=i)>>2]=h,r[m+4>>2]=p),(0|f)<=(0|n)){d=37;break}}if(19==(0|d))M(27795,27122,1276,27158);else{if(37==(0|d)){o=0|r[(l=i)+4>>2],l=0|r[l>>2];break}if(42==(0|d))return D=a,0|o}}else o=0,l=0}else d=33}while(0);e:do{if(33==(0|d)){if(r[(A=i)>>2]=0,r[A+4>>2]=0,(0|y)>(0|n)){for(s=y;;){if(o=0|sn(0|e,0|t,3*(15-s|0)|0),S(),7==(0|(o&=7))){o=5;break}if(o=0|nn(0|(l=0|wt(7,0,l=y-s|0,((0|l)<0)<<31>>31)),0|S(),0|o,0),l=0|S(),l=0|Zt(0|r[(A=i)>>2],0|r[A+4>>2],0|o,0|l),o=0|S(),r[(A=i)>>2]=l,r[A+4>>2]=o,(0|(s=s+-1|0))<=(0|n))break e}return D=a,0|o}o=0,l=0}}while(0);return 0|ze(g,c,y,v)&&M(27795,27122,1236,27173),((0|o)>-1|-1==(0|o)&l>>>0>4294967295)&((0|(v=0|r[(y=v)+4>>2]))>(0|o)|((0|v)==(0|o)?(0|r[y>>2])>>>0>l>>>0:0))?(D=a,0|(y=0)):(M(27795,27122,1316,27158),0)},_cellToChildren:function(e,t,n,i){i|=0;var a,o,s=0,l=0;if(o=D,D=D+16|0,rt(a=o,e|=0,t|=0,n|=0),0==(0|(e=0|r[(t=a)>>2]))&0==(0|(t=0|r[t+4>>2])))return D=o,0;s=0,n=0;do{r[(l=i+(s<<3)|0)>>2]=e,r[l+4>>2]=t,s=0|Zt(0|s,0|n,1,0),n=0|S(),ot(a),e=0|r[(l=a)>>2],t=0|r[l+4>>2]}while(!(0==(0|e)&0==(0|t)));return D=o,0},_cellToChildrenSize:ze,_cellToLatLng:tt,_cellToLocalIj:function(e,t,n,i,r,a){var o,s;return e|=0,t|=0,n|=0,i|=0,a|=0,s=D,D=D+16|0,o=s,(r|=0)?e=15:(e=0|bt(e,t,n,i,o))||(_e(o,a),e=0),D=s,0|e},_cellToParent:je,_cellToVertex:Ut,_cellToVertexes:function(e,t,n){n|=0;var i,a=0,o=0;return o=0==(0|qe(e|=0,t|=0)),i=0==(0|(a=0|Ut(e,t,0,n))),o?i?0|(a=0|Ut(e,t,1,n+8|0))||0|(a=0|Ut(e,t,2,n+16|0))||0|(a=0|Ut(e,t,3,n+24|0))||(a=0|Ut(e,t,4,n+32|0))?0|(o=a):0|Ut(e,t,5,n+40|0):0|(o=a):i?0|(a=0|Ut(e,t,1,n+8|0))||0|(a=0|Ut(e,t,2,n+16|0))||0|(a=0|Ut(e,t,3,n+24|0))||0|(a=0|Ut(e,t,4,n+32|0))?0|(o=a):(r[(o=n+40|0)>>2]=0,r[o+4>>2]=0,0|(o=0)):0|(o=a)},_cellsToDirectedEdge:function(e,t,n,i,a){return a|=0,7==(0|(n=0|O(e|=0,t|=0,n|=0,i|=0)))?0|(a=11):(i=0|ln(0|n,0,56),t=-2130706433&t|S()|268435456,r[a>>2]=e|i,r[a+4>>2]=t,0|(a=0))},_cellsToLinkedMultiPolygon:function(e,t,n){n|=0;var i,a,o,s=0;if(o=D,D=D+32|0,i=o,e=0|function(e,t,n){e|=0,n|=0;var i,a,o=0,s=0,l=0,c=0,u=0,d=0;if(a=D,D=D+176|0,i=a,(0|(t|=0))<1)return Vt(n,0,0),D=a,0;for(u=0|sn(0|r[(u=e)>>2],0|r[u+4>>2],52),S(),Vt(n,(0|t)>6?t:6,15&u),u=0;!(0|(o=0|nt(0|r[(o=e+(u<<3)|0)>>2],0|r[o+4>>2],i)));){if((0|(o=0|r[i>>2]))>0){c=0;do{l=i+8+(c<<4)|0,(s=0|Ht(n,o=i+8+((0|(c=c+1|0))%(0|o)<<4)|0,l))?qt(n,s):Gt(n,l,o),o=0|r[i>>2]}while((0|c)<(0|o))}if((0|(u=u+1|0))>=(0|t)){o=0,d=13;break}}return 13==(0|d)?(D=a,0|o):(jt(n),D=a,0|(d=o))}(e|=0,t|=0,a=o+16|0),0|e)return D=o,0|(n=e);if(r[n>>2]=0,r[n+4>>2]=0,r[n+8>>2]=0,0|(e=0|zt(a)))do{t=0|ft(n);do{At(t,e),s=e+16|0,r[i>>2]=r[s>>2],r[i+4>>2]=r[s+4>>2],r[i+8>>2]=r[s+8>>2],r[i+12>>2]=r[s+12>>2],qt(a,e),e=0|Wt(a,i)}while(0!=(0|e));e=0|zt(a)}while(0!=(0|e));return jt(a),(e=0|vt(n))?(gt(n),D=o,0|(s=e)):(D=o,0|(s=0))},_childPosToCell:function(e,t,n,i,a,o){e|=0,t|=0,o|=0;var s,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0;if(s=D,D=D+16|0,l=s,(a|=0)>>>0>15)return D=s,0|(o=4);if(c=0|sn(0|(n|=0),0|(i|=0),52),S(),(0|(c&=15))>(0|a))return D=s,0|(o=12);if(0|ze(n,i,a,l)&&M(27795,27122,1236,27173),!(((0|t)>-1|-1==(0|t)&e>>>0>4294967295)&((0|(d=0|r[(h=l)+4>>2]))>(0|t)|((0|d)==(0|t)?(0|r[h>>2])>>>0>e>>>0:0))))return D=s,0|(o=2);h=a-c|0,a=0|ln(0|a,0,52),u=S()|-15728641&i,r[(d=o)>>2]=a|n,r[d+4>>2]=u,d=0|sn(0|n,0|i,45),S();e:do{if(0|V(127&d)){if(0|c)for(l=1;;){if(!(0==((d=0|ln(7,0,3*(15-l|0)|0))&n|0)&0==((0|S())&i)))break e;if(!(l>>>0<c>>>0))break;l=l+1|0}if((0|h)<1)return D=s,0|(o=0);for(d=15^c,i=-1,u=1,l=1;;){c=0|wt(7,0,c=h-u|0,((0|c)<0)<<31>>31),n=0|S();do{if(l){if(l=0|tn(0|(l=0|Zt(0|(l=0|nn(0|c,0|n,5,0)),0|S(),-5,-1)),0|S(),6,0),(0|t)>(0|(a=0|S()))|(0|t)==(0|a)&e>>>0>l>>>0){t=0|Jt(0|(t=0|Zt(0|e,0|t,-1,-1)),0|S(),0|l,0|a),l=0|S(),f=0|r[(p=o)>>2],p=0|r[p+4>>2],m=0|ln(7,0,0|(A=3*(d+i|0)|0)),p&=~S(),A=0|ln(0|(a=0|Zt(0|(i=0|tn(0|t,0|l,0|c,0|n)),0|(e=0|S()),2,0)),0|S(),0|A),p=0|S()|p,r[(a=o)>>2]=A|f&~m,r[a+4>>2]=p,e=0|Jt(0|t,0|l,0|(e=0|nn(0|i,0|e,0|c,0|n)),0|S()),l=0,t=0|S();break}m=0|r[(A=o)>>2],A=0|r[A+4>>2],f=0|ln(7,0,3*(d+i|0)|0),A&=~S(),r[(l=o)>>2]=m&~f,r[l+4>>2]=A,l=1;break}a=0|r[(m=o)>>2],m=0|r[m+4>>2],p=0|ln(7,0,0|(i=3*(d+i|0)|0)),m&=~S(),i=0|ln(0|(A=0|tn(0|e,0|t,0|c,0|n)),0|(l=0|S()),0|i),m=0|S()|m,r[(f=o)>>2]=i|a&~p,r[f+4>>2]=m,e=0|Jt(0|e,0|t,0|(l=0|nn(0|A,0|l,0|c,0|n)),0|S()),l=0,t=0|S()}while(0);if(!((0|h)>(0|u))){t=0;break}i=~u,u=u+1|0}return D=s,0|t}}while(0);if((0|h)<1)return D=s,0|(A=0);for(a=15^c,l=1;;){if(f=0|wt(7,0,f=h-l|0,((0|f)<0)<<31>>31),A=0|S(),n=0|r[(u=o)>>2],u=0|r[u+4>>2],i=0|ln(7,0,0|(c=3*(a-l|0)|0)),u&=~S(),c=0|ln(0|(p=0|tn(0|e,0|t,0|f,0|A)),0|(m=0|S()),0|c),u=0|S()|u,r[(d=o)>>2]=c|n&~i,r[d+4>>2]=u,e=0|Jt(0|e,0|t,0|(A=0|nn(0|p,0|m,0|f,0|A)),0|S()),t=0|S(),(0|h)<=(0|l)){t=0;break}l=l+1|0}return D=s,0|t},_compactCells:function(e,t,n,i){t|=0;var a,o=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0,T=0,_=0,E=0,C=0,P=0,N=0,R=0,D=0;if(0==(0|(n|=0))&0==(0|(i|=0)))return 0|(D=0);if(s=0|r[(o=e|=0)>>2],!0&0==(15728640&(o=0|r[o+4>>2]))){if(!((0|i)>0|0==(0|i)&n>>>0>0))return 0|(D=0);if(r[(D=t)>>2]=s,r[D+4>>2]=o,1==(0|n)&0==(0|i))return 0|(D=0);o=1,s=0;do{R=0|r[(N=e+(o<<3)|0)+4>>2],r[(D=t+(o<<3)|0)>>2]=r[N>>2],r[D+4>>2]=R,o=0|Zt(0|o,0|s,1,0),s=0|S()}while((0|s)<(0|i)|(0|s)==(0|i)&o>>>0<n>>>0);return 0|(o=0)}if(!(R=0|Yt(a=n<<3)))return 0|(D=13);if(pn(0|R,0|e,0|a),!(N=0|Kt(n,8)))return Xt(R),0|(D=13);e:for(;;){C=0|sn(0|(d=0|r[(o=R)>>2]),0|(o=0|r[o+4>>2]),52),S(),P=(C&=15)+-1|0,E=0!=(0|C),_=(0|i)>0|0==(0|i)&n>>>0>0;t:do{if(E&_){if(b=0|ln(0|P,0,52),x=0|S(),P>>>0>15){if(!(0==(0|d)&0==(0|o))){D=16;break e}for(s=0,e=0;;){if(s=0|Zt(0|s,0|e,1,0),!((0|(e=0|S()))<(0|i)|(0|e)==(0|i)&s>>>0<n>>>0))break t;if(!(0==(0|(T=0|r[(l=R+(s<<3)|0)>>2]))&0==(0|(l=0|r[l+4>>2])))){o=l,D=16;break e}}}for(c=d,e=o,s=0,l=0;;){if(!(0==(0|c)&0==(0|e))){if(!(!0&0==(117440512&e))){D=21;break e}if(h=0|sn(0|c,0|e,52),S(),(0|(h&=15))<(0|P)){o=12,D=27;break e}if((0|h)!=(0|P)&&(c|=b,e=-15728641&e|x,h>>>0>=C>>>0)){u=P;do{T=0|ln(7,0,3*(14-u|0)|0),u=u+1|0,c|=T,e=0|S()|e}while(u>>>0<h>>>0)}if(m=0|an(0|c,0|e,0|n,0|i),f=0|S(),!(0==(0|(p=0|r[(h=u=N+(m<<3)|0)>>2]))&0==(0|(h=0|r[h+4>>2])))){v=0,y=0;do{if((0|v)>(0|i)|(0|v)==(0|i)&y>>>0>n>>>0){D=31;break e}if((0|p)==(0|c)&(-117440513&h)==(0|e)){A=0|sn(0|p,0|h,56),S(),g=(A&=7)+1|0,T=0|sn(0|p,0|h,45),S();n:do{if(0|V(127&T)){if(p=0|sn(0|p,0|h,52),S(),!(p&=15)){h=6;break}for(h=1;;){if(!(0==((T=0|ln(7,0,3*(15-h|0)|0))&c|0)&0==((0|S())&e))){h=7;break n}if(!(h>>>0<p>>>0)){h=6;break}h=h+1|0}}else h=7}while(0);if((A+2|0)>>>0>h>>>0){D=41;break e}T=0|ln(0|g,0,56),e=S()|-117440513&e,r[(w=u)>>2]=0,r[w+4>>2]=0,c|=T}else m=0|rn(0|(m=0|Zt(0|m,0|f,1,0)),0|S(),0|n,0|i),f=0|S();y=0|Zt(0|y,0|v,1,0),v=0|S(),p=0|r[(h=u=N+(m<<3)|0)>>2],h=0|r[h+4>>2]}while(!(0==(0|p)&0==(0|h)))}r[(T=u)>>2]=c,r[T+4>>2]=e}if(s=0|Zt(0|s,0|l,1,0),!((0|(l=0|S()))<(0|i)|(0|l)==(0|i)&s>>>0<n>>>0))break t;c=0|r[(e=R+(s<<3)|0)>>2],e=0|r[e+4>>2]}}}while(0);if(T=0|Zt(0|n,0|i,5,0),(w=0|S())>>>0<0|0==(0|w)&T>>>0<11){D=85;break}if(T=0|tn(0|n,0|i,6,0),S(),!(T=0|Kt(T,8))){D=48;break}do{if(_){for(g=0,e=0,A=0,v=0;;){if(0==(0|(s=0|r[(l=h=N+(g<<3)|0)>>2]))&0==(0|(l=0|r[l+4>>2])))w=A;else{p=0|sn(0|s,0|l,56),S(),c=(p&=7)+1|0,m=-117440513&l,w=0|sn(0|s,0|l,45),S();t:do{if(0|V(127&w)){if(f=0|sn(0|s,0|l,52),S(),0|(f&=15))for(u=1;;){if(!(0==(s&(w=0|ln(7,0,3*(15-u|0)|0))|0)&0==(m&(0|S()))))break t;if(!(u>>>0<f>>>0))break;u=u+1|0}s|=l=0|ln(0|c,0,56),l=0|S()|m,r[(c=h)>>2]=s,r[c+4>>2]=l,c=p+2|0}}while(0);7==(0|c)?(r[(w=T+(e<<3)|0)>>2]=s,r[w+4>>2]=-117440513&l,e=0|Zt(0|e,0|A,1,0),w=0|S()):w=A}if(g=0|Zt(0|g,0|v,1,0),!((0|(v=0|S()))<(0|i)|(0|v)==(0|i)&g>>>0<n>>>0))break;A=w}if(_){if(y=P>>>0>15,b=0|ln(0|P,0,52),x=0|S(),!E){for(s=0,u=0,c=0,l=0;0==(0|d)&0==(0|o)||(r[(P=t+(s<<3)|0)>>2]=d,r[P+4>>2]=o,s=0|Zt(0|s,0|u,1,0),u=0|S()),c=0|Zt(0|c,0|l,1,0),(0|(l=0|S()))<(0|i)|(0|l)==(0|i)&c>>>0<n>>>0;)d=0|r[(o=R+(c<<3)|0)>>2],o=0|r[o+4>>2];o=w;break}for(s=0,u=0,l=0,c=0;;){do{if(!(0==(0|d)&0==(0|o))){if(f=0|sn(0|d,0|o,52),S(),y|(0|(f&=15))<(0|P)){D=80;break e}if((0|f)!=(0|P)){if(h=d|b,p=-15728641&o|x,f>>>0>=C>>>0){m=P;do{E=0|ln(7,0,3*(14-m|0)|0),m=m+1|0,h|=E,p=0|S()|p}while(m>>>0<f>>>0)}}else h=d,p=o;A=0|an(0|h,0|p,0|n,0|i),m=0,f=0,v=0|S();do{if((0|m)>(0|i)|(0|m)==(0|i)&f>>>0>n>>>0){D=81;break e}if((-117440513&(g=0|r[(E=N+(A<<3)|0)+4>>2]))==(0|p)&&(0|r[E>>2])==(0|h)){D=65;break}A=0|rn(0|(E=0|Zt(0|A,0|v,1,0)),0|S(),0|n,0|i),v=0|S(),f=0|Zt(0|f,0|m,1,0),m=0|S(),E=N+(A<<3)|0}while((0|r[E>>2])!=(0|h)||(0|r[E+4>>2])!=(0|p));if(65==(0|D)&&(D=0,!0&100663296==(117440512&g)))break;r[(E=t+(s<<3)|0)>>2]=d,r[E+4>>2]=o,s=0|Zt(0|s,0|u,1,0),u=0|S()}}while(0);if(l=0|Zt(0|l,0|c,1,0),!((0|(c=0|S()))<(0|i)|(0|c)==(0|i)&l>>>0<n>>>0))break;d=0|r[(o=R+(l<<3)|0)>>2],o=0|r[o+4>>2]}o=w}else s=0,o=w}else s=0,e=0,o=0}while(0);if(mn(0|N,0,0|a),pn(0|R,0|T,e<<3),Xt(T),0==(0|e)&0==(0|o)){D=89;break}t=t+(s<<3)|0,i=o,n=e}if(16==(0|D))!0&0==(117440512&o)?(o=4,D=27):D=21;else if(31==(0|D))M(27795,27122,529,27132);else{if(41==(0|D))return Xt(R),Xt(N),0|(D=10);if(48==(0|D))return Xt(R),Xt(N),0|(D=13);80==(0|D)?M(27795,27122,620,27132):81==(0|D)?M(27795,27122,632,27132):85==(0|D)&&(pn(0|t,0|R,n<<3),D=89)}return 21==(0|D)?(Xt(R),Xt(N),0|(D=5)):27==(0|D)?(Xt(R),Xt(N),0|(D=o)):89==(0|D)?(Xt(R),Xt(N),0|(D=0)):0},_destroyLinkedMultiPolygon:gt,_directedEdgeToBoundary:Ce,_directedEdgeToCells:function(e,t,n){e|=0;var i,a,o,s=0;return i=D,D=D+16|0,s=i,!0&268435456==(2013265920&(t|=0))?(a=-2130706433&t|134217728,r[(o=n|=0)>>2]=e,r[o+4>>2]=a,r[s>>2]=0,t=0|sn(0|e,0|t,56),S(),s=0|F(e,a,7&t,s,n+8|0),D=i,0|s):(D=i,0|(s=6))},_edgeLengthKm:function(e,t,n){n|=0;var i,o=0,s=0,l=0,c=0,d=0,m=0,f=0;if(i=D,D=D+176|0,0|(e=0|Ce(e|=0,t|=0,c=i)))return c=e,l=+a[n>>3],l*=6371.007180918475,a[n>>3]=l,D=i,0|c;if(a[n>>3]=0,(0|(e=0|r[c>>2]))<=1)return c=0,l=0,l*=6371.007180918475,a[n>>3]=l,D=i,0|c;t=e+-1|0,e=0,o=+a[c+8>>3],s=+a[c+16>>3],l=0;do{m=o,o=+a[c+8+((e=e+1|0)<<4)>>3],f=+p(.5*(o-m)),d=s,s=+a[c+8+(e<<4)+8>>3],d=f*f+(d=+p(.5*(s-d)))*(+h(+m)*+h(+o)*d),l+=2*+v(+ +u(+d),+ +u(+(1-d)))}while((0|e)!=(0|t));return a[n>>3]=l,c=0,f=l,f*=6371.007180918475,a[n>>3]=f,D=i,0|c},_edgeLengthM:function(e,t,n){n|=0;var i,o=0,s=0,l=0,c=0,d=0,m=0,f=0;if(i=D,D=D+176|0,0|(e=0|Ce(e|=0,t|=0,c=i)))return c=e,l=+a[n>>3],l*=6371.007180918475,l*=1e3,a[n>>3]=l,D=i,0|c;if(a[n>>3]=0,(0|(e=0|r[c>>2]))<=1)return c=0,l=0,l*=6371.007180918475,l*=1e3,a[n>>3]=l,D=i,0|c;t=e+-1|0,e=0,o=+a[c+8>>3],s=+a[c+16>>3],l=0;do{m=o,o=+a[c+8+((e=e+1|0)<<4)>>3],f=+p(.5*(o-m)),d=s,s=+a[c+8+(e<<4)+8>>3],d=f*f+(d=+p(.5*(s-d)))*(+h(+m)*+h(+o)*d),l+=2*+v(+ +u(+d),+ +u(+(1-d)))}while((0|e)!=(0|t));return a[n>>3]=l,c=0,f=l,f*=6371.007180918475,f*=1e3,a[n>>3]=f,D=i,0|c},_edgeLengthRads:function(e,t,n){n|=0;var i,o=0,s=0,l=0,c=0,d=0,m=0,f=0;if(i=D,D=D+176|0,0|(e=0|Ce(e|=0,t|=0,c=i)))return D=i,0|(c=e);if(a[n>>3]=0,(0|(e=0|r[c>>2]))<=1)return D=i,0|(c=0);t=e+-1|0,e=0,o=+a[c+8>>3],s=+a[c+16>>3],l=0;do{m=o,o=+a[c+8+((e=e+1|0)<<4)>>3],f=+p(.5*(o-m)),d=s,s=+a[c+8+(e<<4)+8>>3],d=f*f+(d=+p(.5*(s-d)))*(+h(+o)*+h(+m)*d),l+=2*+v(+ +u(+d),+ +u(+(1-d)))}while((0|e)<(0|t));return a[n>>3]=l,D=i,0|(c=0)},_emscripten_replace_memory:function(e){return i=new Int8Array(e),new Uint8Array(e),r=new Int32Array(e),new Float32Array(e),a=new Float64Array(e),n=e,!0},_free:Xt,_getBaseCellNumber:Oe,_getDirectedEdgeDestination:function(e,t,n){e|=0,t|=0,n|=0;var i,a,o=0;return i=D,D=D+16|0,r[(o=i)>>2]=0,!0&268435456==(2013265920&t)?(a=0|sn(0|e,0|t,56),S(),o=0|F(e,-2130706433&t|134217728,7&a,o,n),D=i,0|o):(D=i,0|(o=6))},_getDirectedEdgeOrigin:function(e,t,n){return e|=0,n|=0,!0&268435456==(2013265920&(t|=0))?(r[n>>2]=e,r[n+4>>2]=-2130706433&t|134217728,0|(n=0)):0|(n=6)},_getHexagonAreaAvgKm2:dt,_getHexagonAreaAvgM2:function(e,t){return t|=0,(e|=0)>>>0>15?0|(t=4):(a[t>>3]=+a[20784+(e<<3)>>3],0|(t=0))},_getHexagonEdgeLengthAvgKm:function(e,t){return t|=0,(e|=0)>>>0>15?0|(t=4):(a[t>>3]=+a[20912+(e<<3)>>3],0|(t=0))},_getHexagonEdgeLengthAvgM:function(e,t){return t|=0,(e|=0)>>>0>15?0|(t=4):(a[t>>3]=+a[21040+(e<<3)>>3],0|(t=0))},_getIcosahedronFaces:function e(t,n,i){i|=0;var a,o=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0;a=D,D=D+128|0,h=a+112|0,l=a+96|0,p=a,s=0|sn(0|(t|=0),0|(n|=0),52),S(),u=15&s,r[h>>2]=u,c=0|sn(0|t,0|n,45),S(),c&=127;e:do{if(0|V(c)){if(0|u)for(o=1;;){if(!(0==((d=0|ln(7,0,3*(15-o|0)|0))&t|0)&0==((0|S())&n))){s=0;break e}if(!(o>>>0<u>>>0))break;o=o+1|0}if(!(1&s))return d=0|ln(u+1|0,0,52),p=S()|-15728641&n,p=0|e((d|t)&~(h=0|ln(7,0,3*(14-u|0)|0)),p&~S(),i),D=a,0|p;s=1}else s=0}while(0);if(!(o=0|et(t,n,l))){s?(Ie(l,h,p),d=5):(Fe(l,h,p),d=6);e:do{if(0|V(c))if(u)for(o=1;;){if(!(0==((c=0|ln(7,0,3*(15-o|0)|0))&t|0)&0==((0|S())&n))){t=2;break e}if(!(o>>>0<u>>>0)){t=5;break}o=o+1|0}else t=5;else t=2}while(0);mn(0|i,-1,t<<2);e:do{if(s)for(l=0;;){if(ke(c=p+(l<<4)|0,0|r[h>>2]),c=0|r[c>>2],-1==(0|(u=0|r[i>>2]))|(0|u)==(0|c))o=i;else{s=0;do{if((s=s+1|0)>>>0>=t>>>0){o=1;break e}u=0|r[(o=i+(s<<2)|0)>>2]}while(!(-1==(0|u)|(0|u)==(0|c)))}if(r[o>>2]=c,(l=l+1|0)>>>0>=d>>>0){o=0;break}}else for(l=0;;){if(Le(c=p+(l<<4)|0,0|r[h>>2],0,1),c=0|r[c>>2],-1==(0|(u=0|r[i>>2]))|(0|u)==(0|c))o=i;else{s=0;do{if((s=s+1|0)>>>0>=t>>>0){o=1;break e}u=0|r[(o=i+(s<<2)|0)>>2]}while(!(-1==(0|u)|(0|u)==(0|c)))}if(r[o>>2]=c,(l=l+1|0)>>>0>=d>>>0){o=0;break}}}while(0)}return D=a,0|(p=o)},_getNumCells:ht,_getPentagons:it,_getRes0Cells:function(e){e|=0;var t=0,n=0,i=0;t=0;do{ln(0|t,0,45),i=134225919|S(),r[(n=e+(t<<3)|0)>>2]=-1,r[n+4>>2]=i,t=t+1|0}while(122!=(0|t));return 0},_getResolution:function(e,t){return t=0|sn(0|(e|=0),0|(t|=0),52),S(),15&t},_greatCircleDistanceKm:ut,_greatCircleDistanceM:function(e,t){e|=0;var n,i,r,o=0;return i=+a[(t|=0)>>3],n=+a[e>>3],o=(r=+p(.5*(i-n)))*r+(o=+p(.5*(+a[t+8>>3]-+a[e+8>>3])))*(+h(+i)*+h(+n)*o),2*+v(+ +u(+o),+ +u(+(1-o)))*6371.007180918475*1e3},_greatCircleDistanceRads:function(e,t){e|=0;var n,i,r,o=0;return i=+a[(t|=0)>>3],n=+a[e>>3],o=(r=+p(.5*(i-n)))*r+(o=+p(.5*(+a[t+8>>3]-+a[e+8>>3])))*(+h(+i)*+h(+n)*o),2*+v(+ +u(+o),+ +u(+(1-o)))},_gridDisk:I,_gridDiskDistances:L,_gridDistance:function(e,t,n,i,a){n|=0,i|=0,a|=0;var o,s,l=0,c=0;return s=D,D=D+32|0,c=s,0|(o=0|bt(e|=0,t|=0,e,t,l=s+12|0))?(D=s,0|(c=o)):0|(e=0|bt(e,t,n,i,c))?(D=s,0|(c=e)):(l=0|Te(l,c),r[(c=a)>>2]=l,r[c+4>>2]=((0|l)<0)<<31>>31,D=s,0|(c=0))},_gridPathCells:function(e,t,n,i,a){n|=0,i|=0,a|=0;var o,s,l=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0,T=0,_=0,E=0,C=0;if(s=D,D=D+48|0,u=s+12|0,E=s,!(l=0|bt(e|=0,t|=0,e,t,o=s+24|0))&&!(l=0|bt(e,t,n,i,u))){_=((0|(T=0|Te(o,u)))<0)<<31>>31,r[o>>2]=0,r[o+4>>2]=0,r[o+8>>2]=0,r[u>>2]=0,r[u+4>>2]=0,r[u+8>>2]=0,0|bt(e,t,e,t,o)&&M(27795,27538,692,27747),0|bt(e,t,n,i,u)&&M(27795,27538,697,27747),Me(o),Me(u),m=0==(0|T)?0:1/+(0|T),n=0|r[o>>2],y=m*+((0|r[u>>2])-n|0),i=0|r[(b=o+4|0)>>2],x=m*+((0|r[u+4>>2])-i|0),l=0|r[(w=o+8|0)>>2],m*=+((0|r[u+8>>2])-l|0),r[E>>2]=n,r[(f=E+4|0)>>2]=i,r[(A=E+8|0)>>2]=l;e:do{if((0|T)<0)l=0;else for(g=0,v=0;;){C=y*(h=+(v>>>0)+4294967296*+(0|g))+ +(0|n),d=x*h+ +(0|i),h=m*h+ +(0|l),n=~~+hn(+C),u=~~+hn(+d),l=~~+hn(+h),C=+c(+(+(0|n)-C)),d=+c(+(+(0|u)-d)),h=+c(+(+(0|l)-h));do{if(!(C>d&C>h)){if(p=0-n|0,d>h){i=p-l|0;break}i=u,l=p-u|0;break}n=0-(u+l)|0,i=u}while(0);if(r[E>>2]=n,r[f>>2]=i,r[A>>2]=l,Ee(E),0|(l=0|xt(e,t,E,a+(v<<3)|0)))break e;if(!((0|g)<(0|_)|(0|g)==(0|_)&v>>>0<T>>>0)){l=0;break e}n=0|Zt(0|v,0|g,1,0),g=i=0|S(),v=n,n=0|r[o>>2],i=0|r[b>>2],l=0|r[w>>2]}}while(0);return D=s,0|(E=l)}return D=s,0|(E=l)},_gridPathCellsSize:function(e,t,n,i,a){n|=0,i|=0,a|=0;var o,s=0,l=0,c=0;return o=D,D=D+32|0,c=o,(s=0|bt(e|=0,t|=0,e,t,l=o+12|0))||(s=0|bt(e,t,n,i,c))?(D=o,0|(c=s)):(i=0|Zt(0|(i=0|Te(l,c)),((0|i)<0)<<31>>31,1,0),l=0|S(),r[(c=a)>>2]=i,r[c+4>>2]=l,D=o,0|(c=0))},_gridRingUnsafe:function(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var a,o,s=0,l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0;if(o=D,D=D+16|0,f=o+8|0,r[(m=a=o)>>2]=e,r[m+4>>2]=t,!n)return r[(f=i)>>2]=e,r[f+4>>2]=t,D=o,0|(f=0);r[f>>2]=0;e:do{if(0|qe(e,t))e=9;else{if(l=(0|n)>0){s=0,m=e;do{if(0|(e=0|F(m,t,4,f,a)))break e;if(s=s+1|0,0|qe(m=0|r[(t=a)>>2],t=0|r[t+4>>2])){e=9;break e}}while((0|s)<(0|n));if(r[(p=i)>>2]=m,r[p+4>>2]=t,p=n+-1|0,l){h=0,e=1;do{if(s=26800+(h<<2)|0,5==(0|h))for(c=0|r[s>>2],l=0,s=e;;){if(0|(e=0|F(0|r[(e=a)>>2],0|r[e+4>>2],c,f,a)))break e;if((0|l)!=(0|p)){if(u=0|r[(d=a)>>2],d=0|r[d+4>>2],r[(e=i+(s<<3)|0)>>2]=u,r[e+4>>2]=d,0|qe(u,d)){e=9;break e}e=s+1|0}else e=s;if((0|(l=l+1|0))>=(0|n))break;s=e}else for(c=a,d=0|r[s>>2],u=0,s=e,l=0|r[c>>2],c=0|r[c+4>>2];;){if(0|(e=0|F(l,c,d,f,a)))break e;if(l=0|r[(c=a)>>2],c=0|r[c+4>>2],r[(e=i+(s<<3)|0)>>2]=l,r[e+4>>2]=c,e=s+1|0,0|qe(l,c)){e=9;break e}if((0|(u=u+1|0))>=(0|n))break;s=e}h=h+1|0}while(h>>>0<6);c=m,s=0|r[(e=a)>>2],l=t,e=0|r[e+4>>2]}else c=m,s=m,l=t,e=t}else r[(c=i)>>2]=e,r[c+4>>2]=t,c=e,s=e,l=t,e=t;e=(0|c)==(0|s)&(0|l)==(0|e)?0:9}}while(0);return D=o,0|(f=e)},_i64Add:Zt,_i64Subtract:Jt,_isPentagon:qe,_isResClassIII:function(e,t){return t=0|sn(0|(e|=0),0|(t|=0),52),S(),1&t},_isValidCell:Ue,_isValidDirectedEdge:function(e,t){var n=0;switch(n=0|sn(0|(e|=0),0|(t|=0),56),S(),7&n){case 0:case 7:return 0|(n=0)}return n=-2130706433&t|134217728,!0&268435456==(2013265920&t)?!0&16777216==(117440512&t)&0!=(0|qe(e,n))?0|(n=0):0|(n=0|Ue(e,n)):0|(n=0)},_isValidVertex:function(e,t){e|=0;var n,i,a=0,o=0;return i=D,D=D+16|0,n=i,!0&536870912==(2013265920&(t|=0))&&0|Ue(e,a=-2130706433&t|134217728)?(o=0|sn(0|e,0|t,56),S(),a=(o=0==(0|Ut(e,a,7&o,n)))&((0|r[(a=n)>>2])==(0|e)?(0|r[a+4>>2])==(0|t):0)&1,D=i,0|a):(D=i,0|(a=0))},_latLngToCell:Je,_llvm_ctlz_i64:cn,_llvm_maxnum_f64:un,_llvm_minnum_f64:dn,_llvm_round_f64:hn,_localIjToCell:function(e,t,n,i,r){var a,o;return e|=0,t|=0,n|=0,r|=0,o=D,D=D+16|0,a=o,(i|=0)?n=15:(n=0|Se(n,a))||(n=0|xt(e,t,a,r)),D=o,0|n},_malloc:Yt,_maxFaceCount:function(e,t,n){n|=0;var i=0,a=0;if(a=0|sn(0|(e|=0),0|(t|=0),45),S(),!(0|V(127&a)))return a=2,r[n>>2]=a,0;if(a=0|sn(0|e,0|t,52),S(),!(a&=15))return a=5,r[n>>2]=a,0;for(i=1;;){if(!(0==((0|ln(7,0,3*(15-i|0)|0))&e|0)&0==((0|S())&t))){i=2,e=6;break}if(!(i>>>0<a>>>0)){i=5,e=6;break}i=i+1|0}return 6==(0|e)?(r[n>>2]=i,0):0},_maxGridDiskSize:function(e,t){t|=0;var n=0,i=0,a=0;return(0|(e|=0))<0?0|(t=2):(0|e)>13780509?0|(t=0|ht(15,t)):(a=0|nn(0|e,0|(n=((0|e)<0)<<31>>31),3,0),i=0|S(),n=0|Zt(0|e,0|n,1,0),n=0|Zt(0|(n=0|nn(0|a,0|i,0|n,0|S())),0|S(),1,0),e=0|S(),r[t>>2]=n,r[t+4>>2]=e,0|(t=0))},_maxPolygonToCellsSize:function(e,t,n,i){e|=0,t|=0,i|=0;var a,o=0,s=0,l=0,c=0,u=0;if(a=D,D=D+48|0,o=a+16|0,s=a+8|0,l=a,0|(n=0|Pt(n|=0)))return D=a,0|(l=n);if(c=0|r[(u=e)+4>>2],r[(n=s)>>2]=r[u>>2],r[n+4>>2]=c,Ct(s,o),!(n=0|ee(o,t,l))){if(t=0|r[s>>2],(0|(s=0|r[e+8>>2]))>0){o=0|r[e+12>>2],n=0;do{t=(0|r[o+(n<<3)>>2])+t|0,n=n+1|0}while((0|n)<(0|s))}o=0|r[(n=l)>>2],(0|(n=0|r[n+4>>2]))<(0|(s=((0|t)<0)<<31>>31))|(0|n)==(0|s)&o>>>0<t>>>0?(r[(n=l)>>2]=t,r[n+4>>2]=s,n=s):t=o,c=0|Zt(0|t,0|n,12,0),u=0|S(),r[(n=l)>>2]=c,r[n+4>>2]=u,r[(n=i)>>2]=c,r[n+4>>2]=u,n=0}return D=a,0|(u=n)},_maxPolygonToCellsSizeExperimental:function(e,t,n,o){t|=0,n|=0,o|=0;var s,l,u=0,d=0,p=0,m=0,f=0,A=0,g=0,v=0;if(l=D,D=D+48|0,f=l+32|0,m=l+40|0,s=l,!(0|r[(e|=0)>>2]))return r[(A=o)>>2]=0,r[A+4>>2]=0,D=l,0|(A=0);Ve(f,0,0,0),u=0|r[(p=f)>>2],p=0|r[p+4>>2];do{if(t>>>0>15)r[(A=s)>>2]=0,r[A+4>>2]=0,r[s+8>>2]=4,r[s+12>>2]=-1,n=s+29|0,r[(A=s+16|0)>>2]=0,r[A+4>>2]=0,r[A+8>>2]=0,i[A+12|0]=0,i[n|0]=0|i[m|0],i[n+1|0]=0|i[m+1|0],i[n+2|0]=0|i[m+2|0],n=4,A=9;else{if(0|(n=0|Pt(n))){r[(f=s)>>2]=0,r[f+4>>2]=0,r[s+8>>2]=n,r[s+12>>2]=-1,A=s+29|0,r[(f=s+16|0)>>2]=0,r[f+4>>2]=0,r[f+8>>2]=0,i[f+12|0]=0,i[A|0]=0|i[m|0],i[A+1|0]=0|i[m+1|0],i[A+2|0]=0|i[m+2|0],A=9;break}if(!(n=0|Kt(1+(0|r[e+8>>2])|0,32))){r[(A=s)>>2]=0,r[A+4>>2]=0,r[s+8>>2]=13,r[s+12>>2]=-1,n=s+29|0,r[(A=s+16|0)>>2]=0,r[A+4>>2]=0,r[A+8>>2]=0,i[A+12|0]=0,i[n|0]=0|i[m|0],i[n+1|0]=0|i[m+1|0],i[n+2|0]=0|i[m+2|0],n=13,A=9;break}Nt(e,n),r[(v=s)>>2]=u,r[v+4>>2]=p,r[(p=s+8|0)>>2]=0,r[s+12>>2]=t,r[s+20>>2]=e,r[s+24>>2]=n,i[s+28|0]=0,i[(u=s+29|0)|0]=0|i[m|0],i[u+1|0]=0|i[m+1|0],i[u+2|0]=0|i[m+2|0],r[s+16>>2]=3,g=+X(n),g*=+Q(n),d=+c(+ +a[n>>3]),d=g/+h(+ +dn(+d,+ +c(+ +a[n+8>>3])))*6371.007180918475*6371.007180918475,n=0|r[(u=s+12|0)>>2];e:do{if((0|n)>0)do{if(dt(n+-1|0,f),!(d/+a[f>>3]>10))break e;n=(v=0|r[u>>2])+-1|0,r[u>>2]=n}while((0|v)>1)}while(0);if(St(s),r[(u=o)>>2]=0,r[u+4>>2]=0,!(0==(0|(n=0|r[(u=s)>>2]))&0==(0|(u=0|r[u+4>>2]))))do{ze(n,u,t,f),m=f,m=0|Zt(0|r[(e=o)>>2],0|r[e+4>>2],0|r[m>>2],0|r[m+4>>2]),e=0|S(),r[(v=o)>>2]=m,r[v+4>>2]=e,St(s),n=0|r[(v=s)>>2],u=0|r[v+4>>2]}while(!(0==(0|n)&0==(0|u)));n=0|r[p>>2]}}while(0);return D=l,0|(v=n)},_memcpy:pn,_memset:mn,_originToDirectedEdges:function(e,t,n){n|=0;var i,a=0;return i=0==(0|qe(e|=0,t|=0)),t&=-2130706433,r[(a=n)>>2]=i?e:0,r[a+4>>2]=i?285212672|t:0,r[(a=n+8|0)>>2]=e,r[a+4>>2]=301989888|t,r[(a=n+16|0)>>2]=e,r[a+4>>2]=318767104|t,r[(a=n+24|0)>>2]=e,r[a+4>>2]=335544320|t,r[(a=n+32|0)>>2]=e,r[a+4>>2]=352321536|t,r[(n=n+40|0)>>2]=e,r[n+4>>2]=369098752|t,0},_pentagonCount:function(){return 12},_polygonToCells:function(e,t,n,i){e|=0,t|=0,i|=0;var a,o,s,l,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0,v=0,y=0,b=0,x=0,w=0,T=0,_=0,M=0,E=0,C=0,P=0,N=0,R=0,I=0,L=0,F=0,O=0,V=0;if(l=D,D=D+112|0,a=l+80|0,p=l+72|0,o=l,s=l+56|0,0|(c=0|Pt(n|=0)))return D=l,0|(V=c);if(!(V=0|Yt(32+(r[(m=e+8|0)>>2]<<5)|0)))return D=l,0|(V=13);if(Nt(e,V),!(c=0|Pt(n))){if(O=0|r[(F=e)+4>>2],r[(c=p)>>2]=r[F>>2],r[c+4>>2]=O,Ct(p,a),c=0|ee(a,t,o))F=0,O=0;else{if(c=0|r[p>>2],(0|(u=0|r[m>>2]))>0){d=0|r[e+12>>2],n=0;do{c=(0|r[d+(n<<3)>>2])+c|0,n=n+1|0}while((0|n)!=(0|u));n=c}else n=c;u=0|r[(c=o)>>2],(0|(c=0|r[c+4>>2]))<(0|(d=((0|n)<0)<<31>>31))|(0|c)==(0|d)&u>>>0<n>>>0?(r[(c=o)>>2]=n,r[c+4>>2]=d,c=d):n=u,F=0|Zt(0|n,0|c,12,0),O=0|S(),r[(c=o)>>2]=F,r[c+4>>2]=O,c=0}if(!c){if(!(n=0|Kt(F,8)))return Xt(V),D=l,0|(V=13);if(!(h=0|Kt(F,8)))return Xt(V),Xt(n),D=l,0|(V=13);r[(I=a)>>2]=0,r[I+4>>2]=0,L=0|r[(I=e)+4>>2],r[(c=p)>>2]=r[I>>2],r[c+4>>2]=L,c=0|U(p,F,O,t,a,n,h);e:do{if(c)Xt(n),Xt(h),Xt(V);else{t:do{if((0|r[m>>2])>0){for(d=e+12|0,u=0;c=0|U((0|r[d>>2])+(u<<3)|0,F,O,t,a,n,h),u=u+1|0,!(0|c);)if((0|u)>=(0|r[m>>2]))break t;Xt(n),Xt(h),Xt(V);break e}}while(0);(0|O)>0|0==(0|O)&F>>>0>0&&mn(0|h,0,F<<3),I=0|r[(L=a)+4>>2];t:do{if((0|I)>0|0==(0|I)&(0|r[L>>2])>>>0>0){P=n,N=h,R=n,I=h,L=n,c=n,M=n,E=h,C=h,n=h;n:for(;;){for(x=0,w=0,T=0,_=0,u=0,d=0;;){p=(h=o)+56|0;do{r[h>>2]=0,h=h+4|0}while((0|h)<(0|p));if(0|k(m=0|r[(t=P+(x<<3)|0)>>2],t=0|r[t+4>>2],1,o,0)){p=(h=o)+56|0;do{r[h>>2]=0,h=h+4|0}while((0|h)<(0|p));0|(h=0|Kt(7,4))&&(B(m,t,1,o,h,7,0,0),Xt(h))}for(b=0;;){v=0|r[(y=o+(b<<3)|0)>>2],y=0|r[y+4>>2];i:do{if(0==(0|v)&0==(0|y))h=u,p=d;else{if(f=0|an(0|v,0|y,0|F,0|O),m=0|S(),!(0==(0|(p=0|r[(t=h=i+(f<<3)|0)>>2]))&0==(0|(t=0|r[t+4>>2])))){A=0,g=0;do{if((0|A)>(0|O)|(0|A)==(0|O)&g>>>0>F>>>0)break n;if((0|p)==(0|v)&(0|t)==(0|y)){h=u,p=d;break i}f=0|rn(0|(h=0|Zt(0|f,0|m,1,0)),0|S(),0|F,0|O),m=0|S(),g=0|Zt(0|g,0|A,1,0),A=0|S(),p=0|r[(t=h=i+(f<<3)|0)>>2],t=0|r[t+4>>2]}while(!(0==(0|p)&0==(0|t)))}if(0==(0|v)&0==(0|y)){h=u,p=d;break}tt(v,y,s),0|Rt(e,V,s)&&(g=0|Zt(0|u,0|d,1,0),d=0|S(),r[(A=h)>>2]=v,r[A+4>>2]=y,r[(u=N+(u<<3)|0)>>2]=v,r[u+4>>2]=y,u=g),h=u,p=d}}while(0);if((b=b+1|0)>>>0>=7)break;u=h,d=p}if(x=0|Zt(0|x,0|w,1,0),w=0|S(),T=0|Zt(0|T,0|_,1,0),_=0|S(),u=0|r[(d=a)>>2],!((0|_)<(0|(d=0|r[d+4>>2]))|(0|_)==(0|d)&T>>>0<u>>>0))break;u=h,d=p}if((0|d)>0|0==(0|d)&u>>>0>0){u=0,d=0;do{r[(_=P+(u<<3)|0)>>2]=0,r[_+4>>2]=0,u=0|Zt(0|u,0|d,1,0),d=0|S(),T=0|r[(_=a)+4>>2]}while((0|d)<(0|T)|((0|d)==(0|T)?u>>>0<(0|r[_>>2])>>>0:0))}if(r[(_=a)>>2]=h,r[_+4>>2]=p,!((0|p)>0|0==(0|p)&h>>>0>0))break t;b=n,x=C,w=L,T=E,_=N,n=M,C=c,E=R,M=b,c=x,L=I,I=w,R=T,N=P,P=_}Xt(R),Xt(I),Xt(V),c=1;break e}c=h}while(0);Xt(V),Xt(n),Xt(c),c=0}}while(0);return D=l,0|(V=c)}}return Xt(V),D=l,0|(V=c)},_polygonToCellsExperimental:function(e,t,n,i,a,o){i|=0,a|=0,o|=0;var s,l,c,u=0,d=0,h=0,p=0,m=0,f=0,A=0,g=0;c=D,D=D+160|0,d=c+64|0,m=c+112|0,g=c,_t(p=c+80|0,e|=0,t|=0,n|=0),rt(d,0|r[(h=p)>>2],0|r[h+4>>2],t),s=0|r[(h=d)>>2],h=0|r[h+4>>2],u=0|r[p+8>>2],r[(f=m+4|0)>>2]=r[p>>2],r[f+4>>2]=r[p+4>>2],r[f+8>>2]=r[p+8>>2],r[f+12>>2]=r[p+12>>2],r[f+16>>2]=r[p+16>>2],r[f+20>>2]=r[p+20>>2],r[f+24>>2]=r[p+24>>2],r[f+28>>2]=r[p+28>>2],r[(f=g)>>2]=s,r[f+4>>2]=h,r[(f=g+8|0)>>2]=u,t=m,n=(e=g+12|0)+36|0;do{r[e>>2]=r[t>>2],e=e+4|0,t=t+4|0}while((0|e)<(0|n));if(r[(m=g+48|0)>>2]=r[d>>2],r[m+4>>2]=r[d+4>>2],r[m+8>>2]=r[d+8>>2],r[m+12>>2]=r[d+12>>2],0==(0|s)&0==(0|h))return D=c,0|(g=u);n=g+16|0,l=g+24|0,p=g+28|0,u=0,d=0,t=s,e=h;do{if(!((0|u)<(0|a)|(0|u)==(0|a)&d>>>0<i>>>0)){A=4;break}if(h=d,d=0|Zt(0|d,0|u,1,0),u=0|S(),r[(h=o+(h<<3)|0)>>2]=t,r[h+4>>2]=e,ot(m),0==(0|(t=0|r[(e=m)>>2]))&0==(0|(e=0|r[e+4>>2]))){if(St(n),0==(0|(e=0|r[(t=n)>>2]))&0==(0|(t=0|r[t+4>>2]))){A=10;break}at(e,t,0|r[p>>2],m),t=0|r[(e=m)>>2],e=0|r[e+4>>2]}r[(h=g)>>2]=t,r[h+4>>2]=e}while(!(0==(0|t)&0==(0|e)));return 4==(0|A)?(0|(t=0|r[(e=g+40|0)>>2])&&Xt(t),r[(A=g+16|0)>>2]=0,r[A+4>>2]=0,r[l>>2]=0,r[g+36>>2]=0,r[p>>2]=-1,r[g+32>>2]=0,r[e>>2]=0,at(0,0,0,m),r[g>>2]=0,r[g+4>>2]=0,r[f>>2]=0,D=c,0|(g=14)):(10==(0|A)&&(r[g>>2]=0,r[g+4>>2]=0,r[f>>2]=r[l>>2]),g=0|r[f>>2],D=c,0|g)},_readInt64AsDoubleFromPointer:function(e){return+(+((0|r[(e|=0)>>2])>>>0)+4294967296*+(0|r[e+4>>2]))},_res0CellCount:function(){return 122},_round:fn,_sbrk:An,_sizeOfCellBoundary:function(){return 168},_sizeOfCoordIJ:function(){return 8},_sizeOfGeoLoop:function(){return 8},_sizeOfGeoPolygon:function(){return 16},_sizeOfH3Index:function(){return 8},_sizeOfLatLng:function(){return 16},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompactCells:function(e,t,n,i,a,o,s){e|=0,i|=0,a|=0,o|=0;var l,c=0,u=0,d=0,h=0,p=0,m=0,f=0,A=0;if(l=D,D=D+16|0,A=l,!((0|(n|=0))>0|0==(0|n)&(t|=0)>>>0>0))return D=l,0|(A=0);if((0|(s|=0))>=16)return D=l,0|(A=12);m=0,f=0,p=0,c=0;e:for(;;){if(h=0|sn(0|(u=0|r[(d=e+(m<<3)|0)>>2]),0|(d=0|r[d+4>>2]),52),S(),(15&h)>(0|s)){c=12,u=11;break}if(rt(A,u,d,s),0==(0|(d=0|r[(h=A)>>2]))&0==(0|(h=0|r[h+4>>2])))u=p;else{u=p;do{if(!((0|c)<(0|o)|(0|c)==(0|o)&u>>>0<a>>>0)){u=10;break e}r[(p=i+(u<<3)|0)>>2]=d,r[p+4>>2]=h,u=0|Zt(0|u,0|c,1,0),c=0|S(),ot(A),d=0|r[(p=A)>>2],h=0|r[p+4>>2]}while(!(0==(0|d)&0==(0|h)))}if(m=0|Zt(0|m,0|f,1,0),!((0|(f=0|S()))<(0|n)|(0|f)==(0|n)&m>>>0<t>>>0)){c=0,u=11;break}p=u}return 10==(0|u)?(D=l,0|(A=14)):11==(0|u)?(D=l,0|c):0},_uncompactCellsSize:function(e,t,n,i,a){e|=0,t|=0,n|=0,i|=0,a|=0;var o,s,l=0,c=0,u=0,d=0,h=0,p=0;s=D,D=D+16|0,o=s;e:do{if((0|n)>0|0==(0|n)&t>>>0>0){for(h=0,c=0,l=0,p=0;;){if(!(0==(0|(u=0|r[(d=e+(h<<3)|0)>>2]))&0==(0|(d=0|r[d+4>>2])))&&(d=0==(0|ze(u,d,i,o)),c=0|Zt(0|r[(u=o)>>2],0|r[u+4>>2],0|c,0|l),l=0|S(),!d)){l=12;break}if(h=0|Zt(0|h,0|p,1,0),!((0|(p=0|S()))<(0|n)|(0|p)==(0|n)&h>>>0<t>>>0))break e}return D=s,0|l}c=0,l=0}while(0);return r[a>>2]=c,r[a+4>>2]=l,D=s,0|(a=0)},_vertexToLatLng:function(e,t,n){n|=0;var i,a,o,s,l=0,c=0;return s=D,D=D+192|0,a=s,o=s+168|0,l=0|sn(0|(e|=0),0|(t|=0),56),S(),l&=7,0|(i=0|et(e,c=-2130706433&t|134217728,o))?(D=s,0|(c=i)):(t=0|sn(0|e,0|t,52),S(),t&=15,0|qe(e,c)?De(o,t,l,1,a):Be(o,t,l,1,a),c=a+8|0,r[n>>2]=r[c>>2],r[n+4>>2]=r[c+4>>2],r[n+8>>2]=r[c+8>>2],r[n+12>>2]=r[c+12>>2],D=s,0|(c=0))},establishStackSpace:function(e,t){D=e|=0},stackAlloc:function(e){var t;return t=D,D=(D=D+(e|=0)|0)+15&-16,0|t},stackRestore:function(e){D=e|=0},stackSave:function(){return 0|D}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},$,f),te=(n.___divdi3=ee.___divdi3,n.___muldi3=ee.___muldi3,n.___remdi3=ee.___remdi3,n.___uremdi3=ee.___uremdi3,n._areNeighborCells=ee._areNeighborCells,n._bitshift64Ashr=ee._bitshift64Ashr,n._bitshift64Lshr=ee._bitshift64Lshr,n._bitshift64Shl=ee._bitshift64Shl,n._calloc=ee._calloc,n._cellAreaKm2=ee._cellAreaKm2,n._cellAreaM2=ee._cellAreaM2,n._cellAreaRads2=ee._cellAreaRads2,n._cellToBoundary=ee._cellToBoundary,n._cellToCenterChild=ee._cellToCenterChild,n._cellToChildPos=ee._cellToChildPos,n._cellToChildren=ee._cellToChildren,n._cellToChildrenSize=ee._cellToChildrenSize,n._cellToLatLng=ee._cellToLatLng,n._cellToLocalIj=ee._cellToLocalIj,n._cellToParent=ee._cellToParent,n._cellToVertex=ee._cellToVertex,n._cellToVertexes=ee._cellToVertexes,n._cellsToDirectedEdge=ee._cellsToDirectedEdge,n._cellsToLinkedMultiPolygon=ee._cellsToLinkedMultiPolygon,n._childPosToCell=ee._childPosToCell,n._compactCells=ee._compactCells,n._destroyLinkedMultiPolygon=ee._destroyLinkedMultiPolygon,n._directedEdgeToBoundary=ee._directedEdgeToBoundary,n._directedEdgeToCells=ee._directedEdgeToCells,n._edgeLengthKm=ee._edgeLengthKm,n._edgeLengthM=ee._edgeLengthM,n._edgeLengthRads=ee._edgeLengthRads,n._emscripten_replace_memory=ee._emscripten_replace_memory),ne=(n._free=ee._free,n._getBaseCellNumber=ee._getBaseCellNumber,n._getDirectedEdgeDestination=ee._getDirectedEdgeDestination,n._getDirectedEdgeOrigin=ee._getDirectedEdgeOrigin,n._getHexagonAreaAvgKm2=ee._getHexagonAreaAvgKm2,n._getHexagonAreaAvgM2=ee._getHexagonAreaAvgM2,n._getHexagonEdgeLengthAvgKm=ee._getHexagonEdgeLengthAvgKm,n._getHexagonEdgeLengthAvgM=ee._getHexagonEdgeLengthAvgM,n._getIcosahedronFaces=ee._getIcosahedronFaces,n._getNumCells=ee._getNumCells,n._getPentagons=ee._getPentagons,n._getRes0Cells=ee._getRes0Cells,n._getResolution=ee._getResolution,n._greatCircleDistanceKm=ee._greatCircleDistanceKm,n._greatCircleDistanceM=ee._greatCircleDistanceM,n._greatCircleDistanceRads=ee._greatCircleDistanceRads,n._gridDisk=ee._gridDisk,n._gridDiskDistances=ee._gridDiskDistances,n._gridDistance=ee._gridDistance,n._gridPathCells=ee._gridPathCells,n._gridPathCellsSize=ee._gridPathCellsSize,n._gridRingUnsafe=ee._gridRingUnsafe,n._i64Add=ee._i64Add,n._i64Subtract=ee._i64Subtract,n._isPentagon=ee._isPentagon,n._isResClassIII=ee._isResClassIII,n._isValidCell=ee._isValidCell,n._isValidDirectedEdge=ee._isValidDirectedEdge,n._isValidVertex=ee._isValidVertex,n._latLngToCell=ee._latLngToCell,n._llvm_ctlz_i64=ee._llvm_ctlz_i64,n._llvm_maxnum_f64=ee._llvm_maxnum_f64,n._llvm_minnum_f64=ee._llvm_minnum_f64,n._llvm_round_f64=ee._llvm_round_f64,n._localIjToCell=ee._localIjToCell,n._malloc=ee._malloc,n._maxFaceCount=ee._maxFaceCount,n._maxGridDiskSize=ee._maxGridDiskSize,n._maxPolygonToCellsSize=ee._maxPolygonToCellsSize,n._maxPolygonToCellsSizeExperimental=ee._maxPolygonToCellsSizeExperimental,n._memcpy=ee._memcpy,n._memset=ee._memset,n._originToDirectedEdges=ee._originToDirectedEdges,n._pentagonCount=ee._pentagonCount,n._polygonToCells=ee._polygonToCells,n._polygonToCellsExperimental=ee._polygonToCellsExperimental,n._readInt64AsDoubleFromPointer=ee._readInt64AsDoubleFromPointer,n._res0CellCount=ee._res0CellCount,n._round=ee._round,n._sbrk=ee._sbrk,n._sizeOfCellBoundary=ee._sizeOfCellBoundary,n._sizeOfCoordIJ=ee._sizeOfCoordIJ,n._sizeOfGeoLoop=ee._sizeOfGeoLoop,n._sizeOfGeoPolygon=ee._sizeOfGeoPolygon,n._sizeOfH3Index=ee._sizeOfH3Index,n._sizeOfLatLng=ee._sizeOfLatLng,n._sizeOfLinkedGeoPolygon=ee._sizeOfLinkedGeoPolygon,n._uncompactCells=ee._uncompactCells,n._uncompactCellsSize=ee._uncompactCellsSize,n._vertexToLatLng=ee._vertexToLatLng,n.establishStackSpace=ee.establishStackSpace,n.stackAlloc=ee.stackAlloc),ie=n.stackRestore=ee.stackRestore,re=n.stackSave=ee.stackSave;if(n.asm=ee,n.cwrap=function(e,t,n,i){var r=(n=n||[]).every(function(e){return"number"===e});return"string"!==t&&r&&!i?d(e):function(){return h(e,t,n,arguments)}},n.setValue=function(e,t,n,i){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":A[e|0]=t;break;case"i16":v[e>>1]=t;break;case"i32":y[e>>2]=t;break;case"i64":V=[t>>>0,(U=t,+D(U)>=1?U>0?(0|k(+L(U/4294967296),4294967295))>>>0:~~+I((U-+(~~U>>>0))/4294967296)>>>0:0)],y[e>>2]=V[0],y[e+4>>2]=V[1];break;case"float":b[e>>2]=t;break;case"double":x[e>>3]=t;break;default:ue("invalid type for setValue: "+n)}},n.getValue=function(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return A[e|0];case"i16":return v[e>>1];case"i32":case"i64":return y[e>>2];case"float":return b[e>>2];case"double":return x[e>>3];default:ue("invalid type for getValue: "+t)}return null},j){q(j)||(Z=j,j=n.locateFile?n.locateFile(Z,o):o+Z),B++,n.monitorRunDependencies&&n.monitorRunDependencies(B);var ae=function(e){e.byteLength&&(e=new Uint8Array(e)),g.set(e,8),n.memoryInitializerRequest&&delete n.memoryInitializerRequest.response,function(){if(B--,n.monitorRunDependencies&&n.monitorRunDependencies(B),0==B&&(null!==F&&(clearInterval(F),F=null),O)){var e=O;O=null,e()}}()},oe=function(){r(j,ae,function(){throw"could not load memory initializer "+j})},se=K(j);if(se)ae(se.buffer);else if(n.memoryInitializerRequest){var le=function(){var e=n.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var i=K(n.memoryInitializerRequestURL);if(!i)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+j),void oe();t=i.buffer}ae(t)};n.memoryInitializerRequest.response?setTimeout(le,0):n.memoryInitializerRequest.addEventListener("load",le)}else oe()}function ce(e){function t(){J||(J=!0,u||(S(E),S(C),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)R(n.postRun.shift());S(P)}()))}e=e||a,B>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)N(n.preRun.shift());S(M)}(),B>0||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t()))}function ue(e){throw n.onAbort&&n.onAbort(e),s(e+=""),l(e),u=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(O=function e(){J||ce(),J||(O=e)},n.run=ce,n.abort=ue,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return ce(),e}("object"===typeof yU?yU:{}),bU="number",xU={0:"Success",1:"The operation failed but a more specific error is not available",2:"Argument was outside of acceptable range",3:"Latitude or longitude arguments were outside of acceptable range",4:"Resolution argument was outside of acceptable range",5:"Cell argument was not valid",6:"Directed edge argument was not valid",7:"Undirected edge argument was not valid",8:"Vertex argument was not valid",9:"Pentagon distortion was encountered",10:"Duplicate input",11:"Cell arguments were not neighbors",12:"Cell arguments had incompatible resolutions",13:"Memory allocation failed",14:"Bounds of provided memory were insufficient",15:"Mode or flags argument was not valid"},wU={1e3:"Unknown unit",1001:"Array length out of bounds",1002:"Got unexpected null value for H3 index"};function TU(e,t,n){var i=n&&"value"in n,r=new Error((e[t]||"Unknown error")+" (code: "+t+(i?", value: "+n.value:"")+")");return r.code=t,r}function _U(e,t){return TU(xU,e,2===arguments.length?{value:t}:{})}function SU(e,t){return TU(wU,e,2===arguments.length?{value:t}:{})}function MU(e){if(0!==e)throw _U(e)}var EU={};[["sizeOfH3Index",bU],["sizeOfLatLng",bU],["sizeOfCellBoundary",bU],["sizeOfGeoLoop",bU],["sizeOfGeoPolygon",bU],["sizeOfLinkedGeoPolygon",bU],["sizeOfCoordIJ",bU],["readInt64AsDoubleFromPointer",bU],["isValidCell",bU,[bU,bU]],["latLngToCell",bU,[bU,bU,bU,bU]],["cellToLatLng",bU,[bU,bU,bU]],["cellToBoundary",bU,[bU,bU,bU]],["maxGridDiskSize",bU,[bU,bU]],["gridDisk",bU,[bU,bU,bU,bU]],["gridDiskDistances",bU,[bU,bU,bU,bU,bU]],["gridRingUnsafe",bU,[bU,bU,bU,bU]],["maxPolygonToCellsSize",bU,[bU,bU,bU,bU]],["polygonToCells",bU,[bU,bU,bU,bU]],["maxPolygonToCellsSizeExperimental",bU,[bU,bU,bU,bU]],["polygonToCellsExperimental",bU,[bU,bU,bU,bU,bU,bU]],["cellsToLinkedMultiPolygon",bU,[bU,bU,bU]],["destroyLinkedMultiPolygon",null,[bU]],["compactCells",bU,[bU,bU,bU,bU]],["uncompactCells",bU,[bU,bU,bU,bU,bU,bU]],["uncompactCellsSize",bU,[bU,bU,bU,bU,bU]],["isPentagon",bU,[bU,bU]],["isResClassIII",bU,[bU,bU]],["getBaseCellNumber",bU,[bU,bU]],["getResolution",bU,[bU,bU]],["maxFaceCount",bU,[bU,bU,bU]],["getIcosahedronFaces",bU,[bU,bU,bU]],["cellToParent",bU,[bU,bU,bU,bU]],["cellToChildren",bU,[bU,bU,bU,bU]],["cellToCenterChild",bU,[bU,bU,bU,bU]],["cellToChildrenSize",bU,[bU,bU,bU,bU]],["cellToChildPos",bU,[bU,bU,bU,bU]],["childPosToCell",bU,[bU,bU,bU,bU,bU,bU]],["areNeighborCells",bU,[bU,bU,bU,bU,bU]],["cellsToDirectedEdge",bU,[bU,bU,bU,bU,bU]],["getDirectedEdgeOrigin",bU,[bU,bU,bU]],["getDirectedEdgeDestination",bU,[bU,bU,bU]],["isValidDirectedEdge",bU,[bU,bU]],["directedEdgeToCells",bU,[bU,bU,bU]],["originToDirectedEdges",bU,[bU,bU,bU]],["directedEdgeToBoundary",bU,[bU,bU,bU]],["gridDistance",bU,[bU,bU,bU,bU,bU]],["gridPathCells",bU,[bU,bU,bU,bU,bU]],["gridPathCellsSize",bU,[bU,bU,bU,bU,bU]],["cellToLocalIj",bU,[bU,bU,bU,bU,bU,bU]],["localIjToCell",bU,[bU,bU,bU,bU,bU]],["getHexagonAreaAvgM2",bU,[bU,bU]],["getHexagonAreaAvgKm2",bU,[bU,bU]],["getHexagonEdgeLengthAvgM",bU,[bU,bU]],["getHexagonEdgeLengthAvgKm",bU,[bU,bU]],["greatCircleDistanceM",bU,[bU,bU]],["greatCircleDistanceKm",bU,[bU,bU]],["greatCircleDistanceRads",bU,[bU,bU]],["cellAreaM2",bU,[bU,bU,bU]],["cellAreaKm2",bU,[bU,bU,bU]],["cellAreaRads2",bU,[bU,bU,bU]],["edgeLengthM",bU,[bU,bU,bU]],["edgeLengthKm",bU,[bU,bU,bU]],["edgeLengthRads",bU,[bU,bU,bU]],["getNumCells",bU,[bU,bU]],["getRes0Cells",bU,[bU]],["res0CellCount",bU],["getPentagons",bU,[bU,bU]],["pentagonCount",bU],["cellToVertex",bU,[bU,bU,bU,bU]],["cellToVertexes",bU,[bU,bU,bU]],["vertexToLatLng",bU,[bU,bU,bU]],["isValidVertex",bU,[bU,bU]]].forEach(function(e){EU[e[0]]=yU.cwrap.apply(yU,e)});var CU=16,PU=EU.sizeOfH3Index(),NU=EU.sizeOfLatLng(),RU=EU.sizeOfCellBoundary(),DU=EU.sizeOfGeoPolygon(),IU=EU.sizeOfGeoLoop();EU.sizeOfLinkedGeoPolygon(),EU.sizeOfCoordIJ();function LU(e){if("number"!==typeof e||e<0||e>15||Math.floor(e)!==e)throw _U(4,e);return e}function kU(e){if(!e)throw SU(1002);return e}var BU=Math.pow(2,32)-1;function FU(e){if(e>BU)throw SU(1001,e);return e}var OU=/[^0-9a-fA-F]/;function UU(e){if(Array.isArray(e)&&2===e.length&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if("string"!==typeof e||OU.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),CU);return[parseInt(e.substring(e.length-8),CU),t]}function VU(e){if(e>=0)return e.toString(CU);var t=jU(8,(e&=2147483647).toString(CU));return t=(parseInt(t[0],CU)+8).toString(CU)+t.substring(1)}function jU(e,t){for(var n=e-t.length,i="",r=0;r<n;r++)i+="0";return i+=t}Math.pow(2,32);function zU(e,t,n){for(var i=e.length,r=yU._calloc(i,NU),a=n?1:0,o=n?0:1,s=0;s<2*i;s+=2)yU.HEAPF64.set([e[s/2][a],e[s/2][o]].map(nV),r/8+s);return yU.HEAPU32.set([i,r],t/4),t}function qU(e,t){var n,i=e.length-1,r=yU._calloc(DU),a=0+IU,o=a+4;if(zU(e[0],r+0,t),i>0){n=yU._calloc(i,IU);for(var s=0;s<i;s++)zU(e[s+1],n+IU*s,t)}return yU.setValue(r+a,i,"i32"),yU.setValue(r+o,n,"i32"),r}function GU(e){var t=0+IU,n=t+4;yU._free(yU.getValue(e+0+4,"i8*"));var i=yU.getValue(e+t,"i32");if(i>0){for(var r=yU.getValue(e+n,"i32"),a=0;a<i;a++)yU._free(yU.getValue(r+IU*a+4,"i8*"));yU._free(r)}yU._free(e)}function HU(e,t){void 0===t&&(t=0);var n=yU.getValue(e+PU*t,"i32"),i=yU.getValue(e+PU*t+4,"i32");return i?function(e,t){return VU(t)+jU(8,VU(e))}(n,i):null}function WU(e){return EU.readInt64AsDoubleFromPointer(e)}function QU(e,t){for(var n=[],i=0;i<t;i++){var r=HU(e,i);null!==r&&n.push(r)}return n}function YU(e){return 180*yU.getValue(e,"double")/Math.PI}function XU(e){return[YU(e),YU(e+8)]}function KU(e){return[YU(e+8),YU(e)]}function ZU(e,t,n){for(var i=yU.getValue(e,"i32"),r=e+8,a=[],o=t?KU:XU,s=0;s<2*i;s+=2)a.push(o(r+8*s));return n&&a.push(a[0]),a}function JU(e,t,n){var i=yU._malloc(NU);yU.HEAPF64.set([e,t].map(nV),i/8);var r=yU._malloc(PU);try{return MU(EU.latLngToCell(i,n,r)),kU(HU(r))}finally{yU._free(r),yU._free(i)}}function $U(e){var t=yU._malloc(NU),n=UU(e),i=n[0],r=n[1];try{return MU(EU.cellToLatLng(i,r,t)),XU(t)}finally{yU._free(t)}}function eV(e,t){var n=yU._malloc(RU),i=UU(e),r=i[0],a=i[1];try{return MU(EU.cellToBoundary(r,a,n)),ZU(n,t,t)}finally{yU._free(n)}}function tV(e,t,n){if(LU(t),n=Boolean(n),0===e.length||0===e[0].length)return[];var i=qU("number"===typeof e[0][0]?[e]:e,n),r=yU._malloc(8);try{MU(EU.maxPolygonToCellsSize(i,t,0,r));var a=FU(WU(r)),o=yU._calloc(a,PU);try{return MU(EU.polygonToCells(i,t,0,o)),QU(o,a)}finally{yU._free(o)}}finally{yU._free(r),GU(i)}}function nV(e){return e*Math.PI/180}const iV=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class rV{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=!0===e.object.isSkinnedMesh,this.refreshUniforms=iV,this.renderId=0}firstInitialization(e){return!1===this.renderObjects.has(e)&&(this.getRenderObjectData(e),!0)}needsVelocity(e){const t=e.getMRT();return null!==t&&t.has("velocity")}getRenderObjectData(e){let t=this.renderObjects.get(e);if(void 0===t){const{geometry:n,material:i,object:r}=e;if(t={material:this.getMaterialData(i),geometry:{id:n.id,attributes:this.getAttributesData(n.attributes),indexVersion:n.index?n.index.version:null,drawRange:{start:n.drawRange.start,count:n.drawRange.count}},worldMatrix:r.matrixWorld.clone()},r.center&&(t.center=r.center.clone()),r.morphTargetInfluences&&(t.morphTargetInfluences=r.morphTargetInfluences.slice()),null!==e.bundle&&(t.version=e.bundle.version),t.material.transmission>0){const{width:n,height:i}=e.context;t.bufferWidth=n,t.bufferHeight=i}this.renderObjects.set(e,t)}return t}getAttributesData(e){const t={};for(const n in e){const i=e[n];t[n]={version:i.version}}return t}containsNode(e){const t=e.material;for(const n in t)if(t[n]&&t[n].isNode)return!0;return null!==e.renderer.overrideNodes.modelViewMatrix||null!==e.renderer.overrideNodes.modelNormalViewMatrix}getMaterialData(e){const t={};for(const n of this.refreshUniforms){const i=e[n];null!==i&&void 0!==i&&("object"===typeof i&&void 0!==i.clone?!0===i.isTexture?t[n]={id:i.id,version:i.version}:t[n]=i.clone():t[n]=i)}return t}equals(e){const{object:t,material:n,geometry:i}=e,r=this.getRenderObjectData(e);if(!0!==r.worldMatrix.equals(t.matrixWorld))return r.worldMatrix.copy(t.matrixWorld),!1;const a=r.material;for(const m in a){const e=a[m],t=n[m];if(void 0!==e.equals){if(!1===e.equals(t))return e.copy(t),!1}else if(!0===t.isTexture){if(e.id!==t.id||e.version!==t.version)return e.id=t.id,e.version=t.version,!1}else if(e!==t)return a[m]=t,!1}if(a.transmission>0){const{width:t,height:n}=e.context;if(r.bufferWidth!==t||r.bufferHeight!==n)return r.bufferWidth=t,r.bufferHeight=n,!1}const o=r.geometry,s=i.attributes,l=o.attributes,c=Object.keys(l),u=Object.keys(s);if(o.id!==i.id)return o.id=i.id,!1;if(c.length!==u.length)return r.geometry.attributes=this.getAttributesData(s),!1;for(const m of c){const e=l[m],t=s[m];if(void 0===t)return delete l[m],!1;if(e.version!==t.version)return e.version=t.version,!1}const d=i.index,h=o.indexVersion,p=d?d.version:null;if(h!==p)return o.indexVersion=p,!1;if(o.drawRange.start!==i.drawRange.start||o.drawRange.count!==i.drawRange.count)return o.drawRange.start=i.drawRange.start,o.drawRange.count=i.drawRange.count,!1;if(r.morphTargetInfluences){let e=!1;for(let n=0;n<r.morphTargetInfluences.length;n++)r.morphTargetInfluences[n]!==t.morphTargetInfluences[n]&&(e=!0);if(e)return!0}return r.center&&!1===r.center.equals(t.center)?(r.center.copy(t.center),!0):(null!==e.bundle&&(r.version=e.bundle.version),!0)}needsRefresh(e,t){if(this.hasNode||this.hasAnimation||this.firstInitialization(e)||this.needsVelocity(t.renderer))return!0;const{renderId:n}=t;if(this.renderId!==n)return this.renderId=n,!0;const i=!0===e.object.static,r=null!==e.bundle&&!0===e.bundle.static&&this.getRenderObjectData(e).version===e.bundle.version;if(i||r)return!1;return!0!==this.equals(e)}}function aV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^t,i=1103547991^t;if(e instanceof Array)for(let r,a=0;a<e.length;a++)r=e[a],n=Math.imul(n^r,2654435761),i=Math.imul(i^r,1597334677);else for(let r,a=0;a<e.length;a++)r=e.charCodeAt(a),n=Math.imul(n^r,2654435761),i=Math.imul(i^r,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&i)+(n>>>0)}const oV=e=>aV(e),sV=e=>aV(e),lV=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aV(t)};function cV(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];!0===e.isNode&&(n.push(e.id),e=e.getSelf());for(const{property:i,childNode:r}of uV(e))n.push(aV(i.slice(0,-4)),r.getCacheKey(t));return aV(n)}function uV(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){for(const n in e){if(!0===n.startsWith("_"))continue;const i=e[n];if(!0===Array.isArray(i))for(let e=0;e<i.length;e++){const r=i[e];r&&(!0===r.isNode||t&&"function"===typeof r.toJSON)&&(yield{property:n,index:e,childNode:r})}else if(i&&!0===i.isNode)yield{property:n,childNode:i};else if("object"===typeof i)for(const e in i){const r=i[e];r&&(!0===r.isNode||t&&"function"===typeof r.toJSON)&&(yield{property:n,index:e,childNode:r})}}}()}const dV=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),hV=new WeakMap;function pV(e){return dV.get(e)}function mV(e){if(/[iu]?vec\d/.test(e))return e.startsWith("ivec")?Int32Array:e.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(e))return Float32Array;if(/float/.test(e))return Float32Array;if(/uint/.test(e))return Uint32Array;if(/int/.test(e))return Int32Array;throw new Error("THREE.NodeUtils: Unsupported type: ".concat(e))}function fV(e){return/float|int|uint/.test(e)?1:/vec2/.test(e)?2:/vec3/.test(e)?3:/vec4/.test(e)||/mat2/.test(e)?4:/mat3/.test(e)?9:/mat4/.test(e)?16:void console.error("THREE.TSL: Unsupported type:",e)}function AV(e){return/float|int|uint/.test(e)?1:/vec2/.test(e)?2:/vec3/.test(e)?3:/vec4/.test(e)||/mat2/.test(e)?4:/mat3/.test(e)?12:/mat4/.test(e)?16:void console.error("THREE.TSL: Unsupported type:",e)}function gV(e){return/float|int|uint/.test(e)?4:/vec2/.test(e)?8:/vec3/.test(e)||/vec4/.test(e)?16:/mat2/.test(e)?8:/mat3/.test(e)?48:/mat4/.test(e)?64:void console.error("THREE.TSL: Unsupported type:",e)}function vV(e){if(void 0===e||null===e)return null;const t=typeof e;return!0===e.isNode?"node":"number"===t?"float":"boolean"===t?"bool":"string"===t?"string":"function"===t?"shader":!0===e.isVector2?"vec2":!0===e.isVector3?"vec3":!0===e.isVector4?"vec4":!0===e.isMatrix2?"mat2":!0===e.isMatrix3?"mat3":!0===e.isMatrix4?"mat4":!0===e.isColor?"color":e instanceof ArrayBuffer?"ArrayBuffer":null}function yV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=e?e.slice(-4):void 0;return 1===n.length&&("vec2"===r?n=[n[0],n[0]]:"vec3"===r?n=[n[0],n[0],n[0]]:"vec4"===r&&(n=[n[0],n[0],n[0],n[0]])),"color"===e?new ic(...n):"vec2"===r?new is(...n):"vec3"===r?new as(...n):"vec4"===r?new Rs(...n):"mat2"===r?new Zf(...n):"mat3"===r?new ls(...n):"mat4"===r?new dl(...n):"bool"===e?n[0]||!1:"float"===e||"int"===e||"uint"===e?n[0]||0:"string"===e?n[0]||"":"ArrayBuffer"===e?wV(n[0]):null}function bV(e){let t=hV.get(e);return void 0===t&&(t={},hV.set(e,t)),t}function xV(e){let t="";const n=new Uint8Array(e);for(let i=0;i<n.length;i++)t+=String.fromCharCode(n[i]);return btoa(t)}function wV(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0)).buffer}const TV={VERTEX:"vertex",FRAGMENT:"fragment"},_V={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},SV={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},MV=["fragment","vertex"],EV=["setup","analyze","generate"],CV=[...MV,"compute"],PV=["x","y","z","w"],NV={analyze:"setup",generate:"analyze"};let RV=0;class DV extends Ho{static get type(){return"Node"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.nodeType=e,this.updateType=_V.NONE,this.updateBeforeType=_V.NONE,this.updateAfterType=_V.NONE,this.uuid=ns.generateUUID(),this.version=0,this.global=!1,this.parents=!1,this.isNode=!0,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:RV++})}set needsUpdate(e){!0===e&&this.version++}get type(){return this.constructor.type}onUpdate(e,t){return this.updateType=t,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,_V.FRAME)}onRenderUpdate(e){return this.onUpdate(e,_V.RENDER)}onObjectUpdate(e){return this.onUpdate(e,_V.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of uV(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const t of this.getChildren())t.traverse(e)}getCacheKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e=e||this.version!==this._cacheKeyVersion,!0!==e&&null!==this._cacheKey||(this._cacheKey=lV(cV(this,e),this.customCacheKey()),this._cacheKeyVersion=this.version),this._cacheKey}customCacheKey(){return 0}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const t=this.getNodeType(e);return e.getElementType(t)}getMemberType(){return"void"}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode?t.outputNode.getNodeType(e):this.nodeType}getShared(e){const t=this.getHash(e);return e.getNodeFromHash(t)||this}setup(e){const t=e.getNodeProperties(this);let n=0;for(const i of this.getChildren())t["node"+n++]=i;return t.outputNode||null}analyze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.increaseUsage(this);if(!0===this.parents){const n=e.getDataFromNode(this,"any");n.stages=n.stages||{},n.stages[e.shaderStage]=n.stages[e.shaderStage]||[],n.stages[e.shaderStage].push(t)}if(1===n){const t=e.getNodeProperties(this);for(const n of Object.values(t))n&&!0===n.isNode&&n.build(e,this)}}generate(e,t){const{outputNode:n}=e.getNodeProperties(this);if(n&&!0===n.isNode)return n.build(e,t)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getShared(e);if(this!==n)return n.build(e,t);const i=e.getDataFromNode(this);i.buildStages=i.buildStages||{},i.buildStages[e.buildStage]=!0;const r=NV[e.buildStage];if(r&&!0!==i.buildStages[r]){const t=e.getBuildStage();e.setBuildStage(r),this.build(e),e.setBuildStage(t)}e.addNode(this),e.addChain(this);let a=null;const o=e.getBuildStage();if("setup"===o){this.updateReference(e);const t=e.getNodeProperties(this);if(!0!==t.initialized){t.initialized=!0,t.outputNode=this.setup(e)||t.outputNode||null;for(const n of Object.values(t))if(n&&!0===n.isNode){if(!0===n.parents){const t=e.getNodeProperties(n);t.parents=t.parents||[],t.parents.push(this)}n.build(e)}}a=t.outputNode}else if("analyze"===o)this.analyze(e,t);else if("generate"===o){if(1===this.generate.length){const n=this.getNodeType(e),i=e.getDataFromNode(this);a=i.snippet,void 0===a?void 0===i.generated?(i.generated=!0,a=this.generate(e)||"",i.snippet=a):(console.warn("THREE.Node: Recursion detected.",this),a=""):void 0!==i.flowCodes&&void 0!==e.context.nodeBlock&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),a=e.format(a,n,t)}else a=this.generate(e,t)||""}return e.removeChain(this),e.addSequentialNode(this),a}getSerializeChildren(){return uV(this)}serialize(e){const t=this.getSerializeChildren(),n={};for(const{property:i,index:r,childNode:a}of t)void 0!==r?(void 0===n[i]&&(n[i]=Number.isInteger(r)?[]:{}),n[i][r]=a.toJSON(e.meta).uuid):n[i]=a.toJSON(e.meta).uuid;Object.keys(n).length>0&&(e.inputNodes=n)}deserialize(e){if(void 0!==e.inputNodes){const t=e.meta.nodes;for(const n in e.inputNodes)if(Array.isArray(e.inputNodes[n])){const i=[];for(const r of e.inputNodes[n])i.push(t[r]);this[n]=i}else if("object"===typeof e.inputNodes[n]){const i={};for(const r in e.inputNodes[n]){const a=e.inputNodes[n][r];i[r]=t[a]}this[n]=i}else{const i=e.inputNodes[n];this[n]=t[i]}}}toJSON(e){const{uuid:t,type:n}=this,i=void 0===e||"string"===typeof e;i&&(e={textures:{},images:{},nodes:{}});let r=e.nodes[t];function a(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(void 0===r&&(r={uuid:t,type:n,meta:e,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},!0!==i&&(e.nodes[r.uuid]=r),this.serialize(r),delete r.meta),i){const t=a(e.textures),n=a(e.images),i=a(e.nodes);t.length>0&&(r.textures=t),n.length>0&&(r.images=n),i.length>0&&(r.nodes=i)}return r}}class IV extends DV{static get type(){return"ArrayElementNode"}constructor(e,t){super(),this.node=e,this.indexNode=t,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const t=this.indexNode.getNodeType(e),n=this.node.build(e),i=this.indexNode.build(e,!e.isVector(t)&&e.isInteger(t)?t:"uint");return"".concat(n,"[ ").concat(i," ]")}}class LV extends DV{static get type(){return"ConvertNode"}constructor(e,t){super(),this.node=e,this.convertTo=t}getNodeType(e){const t=this.node.getNodeType(e);let n=null;for(const i of this.convertTo.split("|"))null!==n&&e.getTypeLength(t)!==e.getTypeLength(i)||(n=i);return n}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,t){const n=this.node,i=this.getNodeType(e),r=n.build(e,i);return e.format(r,i,t)}}class kV extends DV{static get type(){return"TempNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,t){if("generate"===e.getBuildStage()){const n=e.getVectorType(this.getNodeType(e,t)),i=e.getDataFromNode(this);if(void 0!==i.propertyName)return e.format(i.propertyName,n,t);if("void"!==n&&"void"!==t&&this.hasDependencies(e)){const r=super.build(e,n),a=e.getVarFromNode(this,null,n),o=e.getPropertyName(a);return e.addLineFlowCode("".concat(o," = ").concat(r),this),i.snippet=r,i.propertyName=o,e.format(i.propertyName,n,t)}}return super.build(e,t)}}class BV extends kV{static get type(){return"JoinNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.nodes=e}getNodeType(e){return null!==this.nodeType?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((t,n)=>t+e.getTypeLength(n.getNodeType(e)),0))}generate(e,t){const n=this.getNodeType(e),i=e.getTypeLength(n),r=this.nodes,a=e.getComponentType(n),o=[];let s=0;for(const c of r){if(s>=i){console.error("THREE.TSL: Length of parameters exceeds maximum length of function '".concat(n,"()' type."));break}let t,r=c.getNodeType(e),l=e.getTypeLength(r);s+l>i&&(console.error("THREE.TSL: Length of '".concat(n,"()' data exceeds maximum length of output type.")),l=i-s,r=e.getTypeFromLength(l)),s+=l,t=c.build(e,r);const u=e.getComponentType(r);u!==a&&(t=e.format(t,u,a)),o.push(t)}const l="".concat(e.getType(n),"( ").concat(o.join(", ")," )");return e.format(l,n,t)}}const FV=PV.join("");class OV extends DV{static get type(){return"SplitNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";super(),this.node=e,this.components=t,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const t of this.components)e=Math.max(PV.indexOf(t)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,t){const n=this.node,i=e.getTypeLength(n.getNodeType(e));let r=null;if(i>1){let a=null;this.getVectorLength()>=i&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const o=n.build(e,a);r=this.components.length===i&&this.components===FV.slice(0,this.components.length)?e.format(o,a,t):e.format("".concat(o,".").concat(this.components),this.getNodeType(e),t)}else r=n.build(e,t);return r}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class UV extends kV{static get type(){return"SetNode"}constructor(e,t,n){super(),this.sourceNode=e,this.components=t,this.targetNode=n}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:t,components:n,targetNode:i}=this,r=this.getNodeType(e),a=e.getComponentType(i.getNodeType(e)),o=e.getTypeFromLength(n.length,a),s=i.build(e,o),l=t.build(e,r),c=e.getTypeLength(r),u=[];for(let d=0;d<c;d++){const e=PV[d];e===n[0]?(u.push(s),d+=n.length-1):u.push(l+"."+e)}return"".concat(e.getType(r),"( ").concat(u.join(", ")," )")}}class VV extends kV{static get type(){return"FlipNode"}constructor(e,t){super(),this.sourceNode=e,this.components=t}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:t,sourceNode:n}=this,i=this.getNodeType(e),r=n.build(e),a=e.getVarFromNode(this),o=e.getPropertyName(a);e.addLineFlowCode(o+" = "+r,this);const s=e.getTypeLength(i),l=[];let c=0;for(let u=0;u<s;u++){const e=PV[u];e===t[c]?(l.push("1.0 - "+o+"."+e),c++):l.push(o+"."+e)}return"".concat(e.getType(i),"( ").concat(l.join(", ")," )")}}class jV extends DV{static get type(){return"InputNode"}constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return null===this.nodeType?vV(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=vV(this.value),e.nodeType=this.nodeType,"ArrayBuffer"===e.valueType&&(e.value=xV(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?yV(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}const zV=/float|u?int/;class qV extends jV{static get type(){return"ConstNode"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,t){const n=this.getNodeType(e);return zV.test(n)&&zV.test(t)?e.generateConst(t,this.value):e.format(this.generateConst(e),n,t)}}class GV extends DV{static get type(){return"MemberNode"}constructor(e,t){super(),this.node=e,this.property=t,this.isMemberNode=!0}getNodeType(e){return this.node.getMemberType(e,this.property)}generate(e){return this.node.build(e)+"."+this.property}}let HV=null;const WV=new Map;function QV(e,t){if(WV.has(e))console.warn("THREE.TSL: Redefinition of method chaining '".concat(e,"'."));else{if("function"!==typeof t)throw new Error("THREE.TSL: Node element ".concat(e," is not a function"));WV.set(e,t)}}const YV=e=>e.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),XV=e=>YV(e).split("").sort().join(""),KV={setup(e,t){const n=t.shift();return e(xj(n),...t)},get(e,t,n){if("string"===typeof t&&void 0===e[t]){if(!0!==e.isStackNode&&"assign"===t)return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return HV.assign(n,...t),n};if(WV.has(t)){const i=WV.get(t);return e.isStackNode?function(){return n.add(i(...arguments))}:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(n,...t)}}if("self"===t)return e;if(t.endsWith("Assign")&&WV.has(t.slice(0,t.length-6))){const i=WV.get(t.slice(0,t.length-6));return e.isStackNode?function(){return n.assign(arguments.length<=0?void 0:arguments[0],i(...arguments))}:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.assign(i(n,...t))}}if(!0===/^[xyzwrgbastpq]{1,4}$/.test(t))return t=YV(t),bj(new OV(n,t));if(!0===/^set[XYZWRGBASTPQ]{1,4}$/.test(t))return t=XV(t.slice(3).toLowerCase()),n=>bj(new UV(e,t,bj(n)));if(!0===/^flip[XYZWRGBASTPQ]{1,4}$/.test(t))return t=XV(t.slice(4).toLowerCase()),()=>bj(new VV(bj(e),t));if("width"===t||"height"===t||"depth"===t)return"width"===t?t="x":"height"===t?t="y":"depth"===t&&(t="z"),bj(new OV(e,t));if(!0===/^\d+$/.test(t))return bj(new IV(n,new qV(Number(t),"uint")));if(!0===/^get$/.test(t))return e=>bj(new GV(n,e))}return Reflect.get(e,t,n)},set:(e,t,n,i)=>"string"!==typeof t||void 0!==e[t]||!0!==/^[xyzwrgbastpq]{1,4}$/.test(t)&&"width"!==t&&"height"!==t&&"depth"!==t&&!0!==/^\d+$/.test(t)?Reflect.set(e,t,n,i):(i[t].assign(n),!0)},ZV=new WeakMap,JV=new WeakMap,$V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(const n in e)e[n]=bj(e[n],t);return e},ej=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.length;for(let i=0;i<n;i++)e[i]=bj(e[i],t);return e},tj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=e=>bj(null!==i?Object.assign(e,i):e);let a,o,s,l=t;function c(t){let n;return n=l?/[a-z]/i.test(l)?l+"()":l:e.type,void 0!==o&&t.length<o?(console.error('THREE.TSL: "'.concat(n,'" parameter length is less than minimum required.')),t.concat(new Array(o-t.length).fill(0))):void 0!==s&&t.length>s?(console.error('THREE.TSL: "'.concat(n,'" parameter length exceeds limit.')),t.slice(0,s)):t}return null===t?a=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r(new e(...wj(c(n))))}:null!==n?(n=bj(n),a=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r(new e(t,...wj(c(a)),n))}):a=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r(new e(t,...wj(c(i))))},a.setParameterLength=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?o=s=t[0]:2===t.length&&([o,s]=t),a},a.setName=e=>(l=e,a),a},nj=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return bj(new e(...wj(n)))};class ij extends DV{constructor(e,t){super(),this.shaderNode=e,this.inputNodes=t,this.isShaderCallNodeInternal=!0}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getMemberType(e,t){return this.getOutputNode(e).getMemberType(e,t)}call(e){const{shaderNode:t,inputNodes:n}=this,i=e.getNodeProperties(t),r=t.namespace&&t.namespace===e.namespace?e.getNamespace("once"):"once";if(i[r])return i[r];let a=null;if(t.layout){let i=JV.get(e.constructor);void 0===i&&(i=new WeakMap,JV.set(e.constructor,i));let r=i.get(t);void 0===r&&(r=bj(e.buildFunctionNode(t)),i.set(t,r)),e.addInclude(r),a=bj(r.call(n))}else{const i=t.jsFunc,r=null!==n||i.length>1?i(n||[],e):i(e);a=bj(r)}return t.once&&(i[r]=a),a}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}getOutputNode(e){const t=e.getNodeProperties(this),n=e.getOutputNamespace();return t[n]=t[n]||this.setupOutput(e),t[n]}build(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;const i=e.getBuildStage(),r=e.getNodeProperties(this),a=e.getOutputNamespace(),o=this.getOutputNode(e);if("setup"===i){const t=e.getNamespace("initialized");!0!==r[t]&&(r[t]=!0,r[a]=this.getOutputNode(e),r[a].build(e)),n=r[a]}else"analyze"===i?o.build(e,t):"generate"===i&&(n=o.build(e,t)||"");return n}}class rj extends DV{constructor(e,t){super(t),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1,this.namespace=null}setLayout(e){return this.layout=e,this}call(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return xj(e),bj(new ij(this,e))}setup(){return this.call()}}const aj=[!1,!0],oj=[0,1,2,3],sj=[-1,-2],lj=[.5,1.5,1/3,1e-6,1e6,Math.PI,2*Math.PI,1/Math.PI,2/Math.PI,1/(2*Math.PI),Math.PI/2],cj=new Map;for(const n of aj)cj.set(n,new qV(n));const uj=new Map;for(const n of oj)uj.set(n,new qV(n,"uint"));const dj=new Map([...uj].map(e=>new qV(e.value,"int")));for(const n of sj)dj.set(n,new qV(n,"int"));const hj=new Map([...dj].map(e=>new qV(e.value)));for(const n of lj)hj.set(n,new qV(n));for(const n of lj)hj.set(-n,new qV(-n));const pj={bool:cj,uint:uj,ints:dj,float:hj},mj=new Map([...cj,...hj]),fj=(e,t)=>mj.has(e)?mj.get(e):!0===e.isNode?e:new qV(e,t),Aj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if((0===i.length||!["bool","float","int","uint"].includes(e)&&i.every(e=>"object"!==typeof e))&&(i=[yV(e,...i)]),1===i.length&&null!==t&&t.has(i[0]))return bj(t.get(i[0]));if(1===i.length){const t=fj(i[0],e);return(e=>{try{return e.getNodeType()}catch(t){return}})(t)===e?bj(t):bj(new LV(t,e))}const a=i.map(e=>fj(e));return bj(new BV(a,e))}},gj=e=>"object"===typeof e&&null!==e?e.value:e,vj=e=>void 0!==e&&null!==e?e.nodeType||e.convertTo||("string"===typeof e?e:null):null;function yj(e,t){return new Proxy(new rj(e,t),KV)}const bj=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=vV(e);if("node"===n){let t=ZV.get(e);return void 0===t&&(t=new Proxy(e,KV),ZV.set(e,t),ZV.set(t,t)),t}return null===t&&("float"===n||"boolean"===n)||n&&"shader"!==n&&"string"!==n?bj(fj(e,t)):"shader"===n?Mj(e):e}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},xj=function(e){return new $V(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},wj=function(e){return new ej(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},Tj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tj(...t)},_j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nj(...t)};let Sj=0;const Mj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;null!==t&&("object"===typeof t?n=t.return:("string"===typeof t?n=t:console.error("THREE.TSL: Invalid layout type."),t=null));const i=new yj(e,n),r=function(){let e;for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];xj(r);e=r[0]&&(r[0].isNode||Object.getPrototypeOf(r[0])!==Object.prototype)?[...r]:r[0];const o=i.call(e);return"void"===n&&o.toStack(),o};if(r.shaderNode=i,r.id=i.id,r.getNodeType=function(){return i.getNodeType(...arguments)},r.getCacheKey=function(){return i.getCacheKey(...arguments)},r.setLayout=e=>(i.setLayout(e),r),r.once=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.once=!0,i.namespace=e,r},null!==t){if("object"!==typeof t.inputs){const e={name:"fn"+Sj++,type:n,inputs:[]};for(const n in t)"return"!==n&&e.inputs.push({name:n,type:t[n]});t=e}r.setLayout(t)}return r},Ej=e=>{HV=e},Cj=()=>HV,Pj=function(){return HV.If(...arguments)};function Nj(e){return HV&&HV.add(e),e}QV("toStack",Nj);const Rj=new Aj("color"),Dj=new Aj("float",pj.float),Ij=new Aj("int",pj.ints),Lj=new Aj("uint",pj.uint),kj=new Aj("bool",pj.bool),Bj=new Aj("vec2"),Fj=new Aj("ivec2"),Oj=new Aj("uvec2"),Uj=new Aj("bvec2"),Vj=new Aj("vec3"),jj=new Aj("ivec3"),zj=new Aj("uvec3"),qj=new Aj("bvec3"),Gj=new Aj("vec4"),Hj=new Aj("ivec4"),Wj=new Aj("uvec4"),Qj=new Aj("bvec4"),Yj=new Aj("mat2"),Xj=new Aj("mat3"),Kj=new Aj("mat4");QV("toColor",Rj),QV("toFloat",Dj),QV("toInt",Ij),QV("toUint",Lj),QV("toBool",kj),QV("toVec2",Bj),QV("toIVec2",Fj),QV("toUVec2",Oj),QV("toBVec2",Uj),QV("toVec3",Vj),QV("toIVec3",jj),QV("toUVec3",zj),QV("toBVec3",qj),QV("toVec4",Gj),QV("toIVec4",Hj),QV("toUVec4",Wj),QV("toBVec4",Qj),QV("toMat2",Yj),QV("toMat3",Xj),QV("toMat4",Kj);const Zj=Tj(IV).setParameterLength(2),Jj=(e,t)=>bj(new LV(bj(e),t));QV("element",Zj),QV("convert",Jj);QV("append",e=>(console.warn("THREE.TSL: .append() has been renamed to .toStack()."),Nj(e)));class $j extends DV{static get type(){return"PropertyNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.name=t,this.varying=n,this.isPropertyNode=!0,this.global=!0}getHash(e){return this.name||super.getHash(e)}generate(e){let t;return!0===this.varying?(t=e.getVaryingFromNode(this,this.name),t.needsInterpolation=!0):t=e.getVarFromNode(this,this.name),e.getPropertyName(t)}}const ez=(e,t)=>bj(new $j(e,t)),tz=(e,t)=>bj(new $j(e,t,!0)),nz=_j($j,"vec4","DiffuseColor"),iz=_j($j,"vec3","EmissiveColor"),rz=_j($j,"float","Roughness"),az=_j($j,"float","Metalness"),oz=_j($j,"float","Clearcoat"),sz=_j($j,"float","ClearcoatRoughness"),lz=_j($j,"vec3","Sheen"),cz=_j($j,"float","SheenRoughness"),uz=_j($j,"float","Iridescence"),dz=_j($j,"float","IridescenceIOR"),hz=_j($j,"float","IridescenceThickness"),pz=_j($j,"float","AlphaT"),mz=_j($j,"float","Anisotropy"),fz=_j($j,"vec3","AnisotropyT"),Az=_j($j,"vec3","AnisotropyB"),gz=_j($j,"color","SpecularColor"),vz=_j($j,"float","SpecularF90"),yz=_j($j,"float","Shininess"),bz=_j($j,"vec4","Output"),xz=_j($j,"float","dashSize"),wz=_j($j,"float","gapSize"),Tz=_j($j,"float","pointWidth"),_z=_j($j,"float","IOR"),Sz=_j($j,"float","Transmission"),Mz=_j($j,"float","Thickness"),Ez=_j($j,"float","AttenuationDistance"),Cz=_j($j,"color","AttenuationColor"),Pz=_j($j,"float","Dispersion");class Nz extends DV{static get type(){return"UniformGroupNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super("string"),this.name=e,this.shared=t,this.order=n,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const Rz=e=>new Nz(e),Dz=function(e){return new Nz(e,!0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},Iz=Dz("frame"),Lz=Dz("render"),kz=Rz("object");class Bz extends jV{static get type(){return"UniformNode"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.isUniformNode=!0,this.name="",this.groupNode=kz}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,t){const n=this.getSelf();return e=e.bind(n),super.onUpdate(t=>{const i=e(t,n);void 0!==i&&(this.value=i)},t)}generate(e,t){const n=this.getNodeType(e),i=this.getUniformHash(e);let r=e.getNodeFromHash(i);void 0===r&&(e.setHashNode(this,i),r=this);const a=r.getInputType(e),o=e.getUniformFromNode(r,a,e.shaderStage,this.name||e.context.label),s=e.getPropertyName(o);return void 0!==e.context.label&&delete e.context.label,e.format(s,n,t)}}const Fz=(e,t)=>{const n=vj(t||e),i=e&&!0===e.isNode?e.node&&e.node.value||e.value:e;return bj(new Bz(i,n))};class Oz extends kV{static get type(){return"ArrayNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.count=t,this.values=n,this.isArrayNode=!0}getNodeType(e){return null===this.nodeType&&(this.nodeType=this.values[0].getNodeType(e)),this.nodeType}getElementType(e){return this.getNodeType(e)}generate(e){const t=this.getNodeType(e);return e.generateArray(t,this.count,this.values)}}const Uz=function(){let e;if(1===arguments.length){const t=arguments.length<=0?void 0:arguments[0];e=new Oz(null,t.length,t)}else{e=new Oz(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}return bj(e)};QV("toArray",(e,t)=>Uz(Array(t).fill(e)));class Vz extends kV{static get type(){return"AssignNode"}constructor(e,t){super(),this.targetNode=e,this.sourceNode=t,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(e,t){return"void"!==t?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:t}=this;if(!1===e.isAvailable("swizzleAssign")&&t.isSplitNode&&t.components.length>1){const n=e.getTypeLength(t.node.getNodeType(e));return PV.join("").slice(0,n)!==t.components}return!1}setup(e){const{targetNode:t,sourceNode:n}=this,i=e.getNodeProperties(this);i.sourceNode=n,i.targetNode=t.context({assign:!0})}generate(e,t){const{targetNode:n,sourceNode:i}=e.getNodeProperties(this),r=this.needsSplitAssign(e),a=n.getNodeType(e),o=n.build(e),s=i.build(e,a),l=i.getNodeType(e),c=e.getDataFromNode(this);let u;if(!0===c.initialized)"void"!==t&&(u=o);else if(r){const i=e.getVarFromNode(this,null,a),r=e.getPropertyName(i);e.addLineFlowCode("".concat(r," = ").concat(s),this);const l=n.node,c=l.node.context({assign:!0}).build(e);for(let t=0;t<l.components.length;t++){const n=l.components[t];e.addLineFlowCode("".concat(c,".").concat(n," = ").concat(r,"[ ").concat(t," ]"),this)}"void"!==t&&(u=o)}else u="".concat(o," = ").concat(s),"void"!==t&&"void"!==l||(e.addLineFlowCode(u,this),"void"!==t&&(u=o));return c.initialized=!0,e.format(u,a,t)}}const jz=Tj(Vz).setParameterLength(2);QV("assign",jz);class zz extends kV{static get type(){return"FunctionCallNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.functionNode=e,this.parameters=t}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const t=[],n=this.functionNode,i=n.getInputs(e),r=this.parameters,a=(t,n)=>{const i=n.type;let r;return r="pointer"===i?"&"+t.build(e):t.build(e,i),r};if(Array.isArray(r)){if(r.length>i.length)console.error("THREE.TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),r.length=i.length;else if(r.length<i.length)for(console.error("THREE.TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");r.length<i.length;)r.push(Dj(0));for(let e=0;e<r.length;e++)t.push(a(r[e],i[e]))}else for(const s of i){const e=r[s.name];void 0!==e?t.push(a(e,s)):(console.error("THREE.TSL: Input '".concat(s.name,"' not found in 'Fn()'.")),t.push(a(Dj(0),s)))}const o=n.build(e,"property");return"".concat(o,"( ").concat(t.join(", ")," )")}}const qz=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n=n.length>1||n[0]&&!0===n[0].isNode?wj(n):xj(n[0]),bj(new zz(bj(e),n))};QV("call",qz);const Gz={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class Hz extends kV{static get type(){return"OperatorNode"}constructor(e,t,n){if(super(),(arguments.length<=3?0:arguments.length-3)>0){var i;let r=new Hz(e,t,n);for(let t=0;t<(arguments.length<=3?0:arguments.length-3)-1;t++)r=new Hz(e,r,t+3<3||arguments.length<=t+3?void 0:arguments[t+3]);t=r,n=(i=(arguments.length<=3?0:arguments.length-3)-1+3)<3||arguments.length<=i?void 0:arguments[i]}this.op=e,this.aNode=t,this.bNode=n,this.isOperatorNode=!0}getOperatorMethod(e,t){return e.getMethod(Gz[this.op],t)}getNodeType(e){const t=this.op,n=this.aNode,i=this.bNode,r=n.getNodeType(e),a=i?i.getNodeType(e):null;if("void"===r||"void"===a)return"void";if("%"===t)return r;if("~"===t||"&"===t||"|"===t||"^"===t||">>"===t||"<<"===t)return e.getIntegerType(r);if("!"===t||"&&"===t||"||"===t||"^^"===t)return"bool";if("=="===t||"!="===t||"<"===t||">"===t||"<="===t||">="===t){const t=Math.max(e.getTypeLength(r),e.getTypeLength(a));return t>1?"bvec".concat(t):"bool"}if(e.isMatrix(r)){if("float"===a)return r;if(e.isVector(a))return e.getVectorFromMatrix(r);if(e.isMatrix(a))return r}else if(e.isMatrix(a)){if("float"===r)return a;if(e.isVector(r))return e.getVectorFromMatrix(a)}return e.getTypeLength(a)>e.getTypeLength(r)?a:r}generate(e,t){const n=this.op,{aNode:i,bNode:r}=this,a=this.getNodeType(e);let o=null,s=null;"void"!==a?(o=i.getNodeType(e),s=r?r.getNodeType(e):null,"<"===n||">"===n||"<="===n||">="===n||"=="===n||"!="===n?e.isVector(o)?s=o:e.isVector(s)?o=s:o!==s&&(o=s="float"):">>"===n||"<<"===n?(o=a,s=e.changeComponentType(s,"uint")):"%"===n?(o=a,s=e.isInteger(o)&&e.isInteger(s)?s:o):e.isMatrix(o)?"float"===s?s="float":e.isVector(s)?s=e.getVectorFromMatrix(o):e.isMatrix(s)||(o=s=a):o=e.isMatrix(s)?"float"===o?"float":e.isVector(o)?e.getVectorFromMatrix(s):s=a:s=a):o=s=a;const l=i.build(e,o),c=r?r.build(e,s):null,u=e.getFunctionOperator(n);if("void"!==t){const i=e.renderer.coordinateSystem===Vo;if("=="===n||"!="===n||"<"===n||">"===n||"<="===n||">="===n)return i&&e.isVector(o)?e.format("".concat(this.getOperatorMethod(e,t),"( ").concat(l,", ").concat(c," )"),a,t):e.format("( ".concat(l," ").concat(n," ").concat(c," )"),a,t);if("%"===n)return e.isInteger(s)?e.format("( ".concat(l," % ").concat(c," )"),a,t):e.format("".concat(this.getOperatorMethod(e,a),"( ").concat(l,", ").concat(c," )"),a,t);if("!"===n||"~"===n)return e.format("(".concat(n).concat(l,")"),o,t);if(u)return e.format("".concat(u,"( ").concat(l,", ").concat(c," )"),a,t);if(e.isMatrix(o)&&"float"===s)return e.format("( ".concat(c," ").concat(n," ").concat(l," )"),a,t);if("float"===o&&e.isMatrix(s))return e.format("".concat(l," ").concat(n," ").concat(c),a,t);{let r="( ".concat(l," ").concat(n," ").concat(c," )");return!i&&"bool"===a&&e.isVector(o)&&e.isVector(s)&&(r="all".concat(r)),e.format(r,a,t)}}if("void"!==o)return u?e.format("".concat(u,"( ").concat(l,", ").concat(c," )"),a,t):e.isMatrix(o)&&"float"===s?e.format("".concat(c," ").concat(n," ").concat(l),a,t):e.format("".concat(l," ").concat(n," ").concat(c),a,t)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const Wz=Tj(Hz,"+").setParameterLength(2,1/0).setName("add"),Qz=Tj(Hz,"-").setParameterLength(2,1/0).setName("sub"),Yz=Tj(Hz,"*").setParameterLength(2,1/0).setName("mul"),Xz=Tj(Hz,"/").setParameterLength(2,1/0).setName("div"),Kz=Tj(Hz,"%").setParameterLength(2).setName("mod"),Zz=Tj(Hz,"==").setParameterLength(2).setName("equal"),Jz=Tj(Hz,"!=").setParameterLength(2).setName("notEqual"),$z=Tj(Hz,"<").setParameterLength(2).setName("lessThan"),eq=Tj(Hz,">").setParameterLength(2).setName("greaterThan"),tq=Tj(Hz,"<=").setParameterLength(2).setName("lessThanEqual"),nq=Tj(Hz,">=").setParameterLength(2).setName("greaterThanEqual"),iq=Tj(Hz,"&&").setParameterLength(2,1/0).setName("and"),rq=Tj(Hz,"||").setParameterLength(2,1/0).setName("or"),aq=Tj(Hz,"!").setParameterLength(1).setName("not"),oq=Tj(Hz,"^^").setParameterLength(2).setName("xor"),sq=Tj(Hz,"&").setParameterLength(2).setName("bitAnd"),lq=Tj(Hz,"~").setParameterLength(2).setName("bitNot"),cq=Tj(Hz,"|").setParameterLength(2).setName("bitOr"),uq=Tj(Hz,"^").setParameterLength(2).setName("bitXor"),dq=Tj(Hz,"<<").setParameterLength(2).setName("shiftLeft"),hq=Tj(Hz,">>").setParameterLength(2).setName("shiftRight"),pq=Mj(e=>{let[t]=e;return t.addAssign(1),t}),mq=Mj(e=>{let[t]=e;return t.subAssign(1),t}),fq=Mj(e=>{let[t]=e;const n=Ij(t).toConst();return t.addAssign(1),n}),Aq=Mj(e=>{let[t]=e;const n=Ij(t).toConst();return t.subAssign(1),n});QV("add",Wz),QV("sub",Qz),QV("mul",Yz),QV("div",Xz),QV("mod",Kz),QV("equal",Zz),QV("notEqual",Jz),QV("lessThan",$z),QV("greaterThan",eq),QV("lessThanEqual",tq),QV("greaterThanEqual",nq),QV("and",iq),QV("or",rq),QV("not",aq),QV("xor",oq),QV("bitAnd",sq),QV("bitNot",lq),QV("bitOr",cq),QV("bitXor",uq),QV("shiftLeft",dq),QV("shiftRight",hq),QV("incrementBefore",pq),QV("decrementBefore",mq),QV("increment",fq),QV("decrement",Aq);const gq=(e,t)=>(console.warn('THREE.TSL: "remainder()" is deprecated. Use "mod( int( ... ) )" instead.'),Kz(e,t)),vq=(e,t)=>(console.warn('THREE.TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),Kz(Ij(e),Ij(t)));QV("remainder",gq),QV("modInt",vq);class yq extends kV{static get type(){return"MathNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(super(),(e===yq.MAX||e===yq.MIN)&&arguments.length>3){let r=new yq(e,t,n);for(let t=2;t<arguments.length-1;t++)r=new yq(e,r,arguments[t]);t=r,n=arguments[arguments.length-1],i=null}this.method=e,this.aNode=t,this.bNode=n,this.cNode=i,this.isMathNode=!0}getInputType(e){const t=this.aNode.getNodeType(e),n=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,r=e.isMatrix(t)?0:e.getTypeLength(t),a=e.isMatrix(n)?0:e.getTypeLength(n),o=e.isMatrix(i)?0:e.getTypeLength(i);return r>a&&r>o?t:a>o?n:o>r?i:t}getNodeType(e){const t=this.method;return t===yq.LENGTH||t===yq.DISTANCE||t===yq.DOT?"float":t===yq.CROSS?"vec3":t===yq.ALL||t===yq.ANY?"bool":t===yq.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}setup(e){const{aNode:t,bNode:n,method:i}=this;let r=null;if(i===yq.ONE_MINUS)r=Qz(1,t);else if(i===yq.RECIPROCAL)r=Xz(1,t);else if(i===yq.DIFFERENCE)r=Gq(Qz(t,n));else if(i===yq.TRANSFORM_DIRECTION){let i=t,a=n;e.isMatrix(i.getNodeType(e))?a=Gj(Vj(a),0):i=Gj(Vj(i),0);const o=Yz(i,a).xyz;r=Bq(o)}return null!==r?r:super.setup(e)}generate(e,t){if(e.getNodeProperties(this).outputNode)return super.generate(e,t);let n=this.method;const i=this.getNodeType(e),r=this.getInputType(e),a=this.aNode,o=this.bNode,s=this.cNode,l=e.renderer.coordinateSystem;if(n===yq.NEGATE)return e.format("( - "+a.build(e,r)+" )",i,t);{const c=[];return n===yq.CROSS?c.push(a.build(e,i),o.build(e,i)):l===Vo&&n===yq.STEP?c.push(a.build(e,1===e.getTypeLength(a.getNodeType(e))?"float":r),o.build(e,r)):l!==Vo||n!==yq.MIN&&n!==yq.MAX?n===yq.REFRACT?c.push(a.build(e,r),o.build(e,r),s.build(e,"float")):n===yq.MIX?c.push(a.build(e,r),o.build(e,r),s.build(e,1===e.getTypeLength(s.getNodeType(e))?"float":r)):(l===jo&&n===yq.ATAN&&null!==o&&(n="atan2"),"fragment"===e.shaderStage||n!==yq.DFDX&&n!==yq.DFDY||(console.warn("THREE.TSL: '".concat(n,"' is not supported in the ").concat(e.shaderStage," stage.")),n="/*"+n+"*/"),c.push(a.build(e,r)),null!==o&&c.push(o.build(e,r)),null!==s&&c.push(s.build(e,r))):c.push(a.build(e,r),o.build(e,1===e.getTypeLength(o.getNodeType(e))?"float":r)),e.format("".concat(e.getMethod(n,i),"( ").concat(c.join(", ")," )"),i,t)}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}yq.ALL="all",yq.ANY="any",yq.RADIANS="radians",yq.DEGREES="degrees",yq.EXP="exp",yq.EXP2="exp2",yq.LOG="log",yq.LOG2="log2",yq.SQRT="sqrt",yq.INVERSE_SQRT="inversesqrt",yq.FLOOR="floor",yq.CEIL="ceil",yq.NORMALIZE="normalize",yq.FRACT="fract",yq.SIN="sin",yq.COS="cos",yq.TAN="tan",yq.ASIN="asin",yq.ACOS="acos",yq.ATAN="atan",yq.ABS="abs",yq.SIGN="sign",yq.LENGTH="length",yq.NEGATE="negate",yq.ONE_MINUS="oneMinus",yq.DFDX="dFdx",yq.DFDY="dFdy",yq.ROUND="round",yq.RECIPROCAL="reciprocal",yq.TRUNC="trunc",yq.FWIDTH="fwidth",yq.TRANSPOSE="transpose",yq.BITCAST="bitcast",yq.EQUALS="equals",yq.MIN="min",yq.MAX="max",yq.STEP="step",yq.REFLECT="reflect",yq.DISTANCE="distance",yq.DIFFERENCE="difference",yq.DOT="dot",yq.CROSS="cross",yq.POW="pow",yq.TRANSFORM_DIRECTION="transformDirection",yq.MIX="mix",yq.CLAMP="clamp",yq.REFRACT="refract",yq.SMOOTHSTEP="smoothstep",yq.FACEFORWARD="faceforward";const bq=Dj(1e-6),xq=Dj(1e6),wq=Dj(Math.PI),Tq=Dj(2*Math.PI),_q=Tj(yq,yq.ALL).setParameterLength(1),Sq=Tj(yq,yq.ANY).setParameterLength(1),Mq=Tj(yq,yq.RADIANS).setParameterLength(1),Eq=Tj(yq,yq.DEGREES).setParameterLength(1),Cq=Tj(yq,yq.EXP).setParameterLength(1),Pq=Tj(yq,yq.EXP2).setParameterLength(1),Nq=Tj(yq,yq.LOG).setParameterLength(1),Rq=Tj(yq,yq.LOG2).setParameterLength(1),Dq=Tj(yq,yq.SQRT).setParameterLength(1),Iq=Tj(yq,yq.INVERSE_SQRT).setParameterLength(1),Lq=Tj(yq,yq.FLOOR).setParameterLength(1),kq=Tj(yq,yq.CEIL).setParameterLength(1),Bq=Tj(yq,yq.NORMALIZE).setParameterLength(1),Fq=Tj(yq,yq.FRACT).setParameterLength(1),Oq=Tj(yq,yq.SIN).setParameterLength(1),Uq=Tj(yq,yq.COS).setParameterLength(1),Vq=Tj(yq,yq.TAN).setParameterLength(1),jq=Tj(yq,yq.ASIN).setParameterLength(1),zq=Tj(yq,yq.ACOS).setParameterLength(1),qq=Tj(yq,yq.ATAN).setParameterLength(1,2),Gq=Tj(yq,yq.ABS).setParameterLength(1),Hq=Tj(yq,yq.SIGN).setParameterLength(1),Wq=Tj(yq,yq.LENGTH).setParameterLength(1),Qq=Tj(yq,yq.NEGATE).setParameterLength(1),Yq=Tj(yq,yq.ONE_MINUS).setParameterLength(1),Xq=Tj(yq,yq.DFDX).setParameterLength(1),Kq=Tj(yq,yq.DFDY).setParameterLength(1),Zq=Tj(yq,yq.ROUND).setParameterLength(1),Jq=Tj(yq,yq.RECIPROCAL).setParameterLength(1),$q=Tj(yq,yq.TRUNC).setParameterLength(1),eG=Tj(yq,yq.FWIDTH).setParameterLength(1),tG=Tj(yq,yq.TRANSPOSE).setParameterLength(1),nG=Tj(yq,yq.BITCAST).setParameterLength(2),iG=(e,t)=>(console.warn('THREE.TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),Zz(e,t)),rG=Tj(yq,yq.MIN).setParameterLength(2,1/0),aG=Tj(yq,yq.MAX).setParameterLength(2,1/0),oG=Tj(yq,yq.STEP).setParameterLength(2),sG=Tj(yq,yq.REFLECT).setParameterLength(2),lG=Tj(yq,yq.DISTANCE).setParameterLength(2),cG=Tj(yq,yq.DIFFERENCE).setParameterLength(2),uG=Tj(yq,yq.DOT).setParameterLength(2),dG=Tj(yq,yq.CROSS).setParameterLength(2),hG=Tj(yq,yq.POW).setParameterLength(2),pG=Tj(yq,yq.POW,2).setParameterLength(1),mG=Tj(yq,yq.POW,3).setParameterLength(1),fG=Tj(yq,yq.POW,4).setParameterLength(1),AG=Tj(yq,yq.TRANSFORM_DIRECTION).setParameterLength(2),gG=e=>Yz(Hq(e),hG(Gq(e),1/3)),vG=e=>uG(e,e),yG=Tj(yq,yq.MIX).setParameterLength(3),bG=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return bj(new yq(yq.CLAMP,bj(e),bj(t),bj(n)))},xG=e=>bG(e),wG=Tj(yq,yq.REFRACT).setParameterLength(3),TG=Tj(yq,yq.SMOOTHSTEP).setParameterLength(3),_G=Tj(yq,yq.FACEFORWARD).setParameterLength(3),SG=Mj(e=>{let[t]=e;const n=uG(t.xy,Bj(12.9898,78.233)),i=Kz(n,wq);return Fq(Oq(i).mul(43758.5453))}),MG=(e,t,n)=>yG(t,n,e),EG=(e,t,n)=>TG(t,n,e),CG=(e,t)=>(console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),qq(e,t)),PG=_G,NG=Iq;QV("all",_q),QV("any",Sq),QV("equals",iG),QV("radians",Mq),QV("degrees",Eq),QV("exp",Cq),QV("exp2",Pq),QV("log",Nq),QV("log2",Rq),QV("sqrt",Dq),QV("inverseSqrt",Iq),QV("floor",Lq),QV("ceil",kq),QV("normalize",Bq),QV("fract",Fq),QV("sin",Oq),QV("cos",Uq),QV("tan",Vq),QV("asin",jq),QV("acos",zq),QV("atan",qq),QV("abs",Gq),QV("sign",Hq),QV("length",Wq),QV("lengthSq",vG),QV("negate",Qq),QV("oneMinus",Yq),QV("dFdx",Xq),QV("dFdy",Kq),QV("round",Zq),QV("reciprocal",Jq),QV("trunc",$q),QV("fwidth",eG),QV("atan2",CG),QV("min",rG),QV("max",aG),QV("step",oG),QV("reflect",sG),QV("distance",lG),QV("dot",uG),QV("cross",dG),QV("pow",hG),QV("pow2",pG),QV("pow3",mG),QV("pow4",fG),QV("transformDirection",AG),QV("mix",MG),QV("clamp",bG),QV("refract",wG),QV("smoothstep",EG),QV("faceForward",_G),QV("difference",cG),QV("saturate",xG),QV("cbrt",gG),QV("transpose",tG),QV("rand",SG);class RG extends DV{static get type(){return"ConditionalNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.condNode=e,this.ifNode=t,this.elseNode=n}getNodeType(e){const{ifNode:t,elseNode:n}=e.getNodeProperties(this);if(void 0===t)return this.setup(e),this.getNodeType(e);const i=t.getNodeType(e);if(null!==n){const t=n.getNodeType(e);if(e.getTypeLength(t)>e.getTypeLength(i))return t}return i}setup(e){const t=this.condNode.cache(),n=this.ifNode.cache(),i=this.elseNode?this.elseNode.cache():null,r=e.context.nodeBlock;e.getDataFromNode(n).parentNodeBlock=r,null!==i&&(e.getDataFromNode(i).parentNodeBlock=r);const a=e.getNodeProperties(this);a.condNode=t,a.ifNode=n.context({nodeBlock:n}),a.elseNode=i?i.context({nodeBlock:i}):null}generate(e,t){const n=this.getNodeType(e),i=e.getDataFromNode(this);if(void 0!==i.nodeProperty)return i.nodeProperty;const{condNode:r,ifNode:a,elseNode:o}=e.getNodeProperties(this),s=e.currentFunctionNode,l="void"!==t,c=l?ez(n).build(e):"";i.nodeProperty=c;const u=r.build(e,"bool");e.addFlowCode("\n".concat(e.tab,"if ( ").concat(u," ) {\n\n")).addFlowTab();let d=a.build(e,n);if(d&&(l?d=c+" = "+d+";":(d="return "+d+";",null===s&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),d="// "+d))),e.removeFlowTab().addFlowCode(e.tab+"\t"+d+"\n\n"+e.tab+"}"),null!==o){e.addFlowCode(" else {\n\n").addFlowTab();let t=o.build(e,n);t&&(l?t=c+" = "+t+";":(t="return "+t+";",null===s&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),t="// "+t))),e.removeFlowTab().addFlowCode(e.tab+"\t"+t+"\n\n"+e.tab+"}\n\n")}else e.addFlowCode("\n\n");return e.format(c,n,t)}}const DG=Tj(RG).setParameterLength(2,3);QV("select",DG);const IG=function(){return console.warn("THREE.TSL: cond() has been renamed to select()."),DG(...arguments)};QV("cond",IG);class LG extends DV{static get type(){return"ContextNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.isContextNode=!0,this.node=e,this.value=t}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}analyze(e){const t=e.getContext();e.setContext(h(h({},e.context),this.value)),this.node.build(e),e.setContext(t)}setup(e){const t=e.getContext();e.setContext(h(h({},e.context),this.value)),this.node.build(e),e.setContext(t)}generate(e,t){const n=e.getContext();e.setContext(h(h({},e.context),this.value));const i=this.node.build(e,t);return e.setContext(n),i}}const kG=Tj(LG).setParameterLength(1,2),BG=(e,t)=>kG(e,{label:t});QV("context",kG),QV("label",BG);class FG extends DV{static get type(){return"VarNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this.node=e,this.name=t,this.global=!0,this.isVarNode=!0,this.readOnly=n,this.parents=!0}getMemberType(e,t){return this.node.getMemberType(e,t)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:t,name:n,readOnly:i}=this,{renderer:r}=e,a=!0===r.backend.isWebGPUBackend;let o=!1,s=!1;i&&(o=e.isDeterministic(t),s=a?i:o);const l=e.getVectorType(this.getNodeType(e)),c=t.build(e,l),u=e.getVarFromNode(this,n,l,void 0,s),d=e.getPropertyName(u);let h=d;if(s)if(a)h=o?"const ".concat(d):"let ".concat(d);else{const n=e.getArrayCount(t);h="const ".concat(e.getVar(u.type,d,n))}return e.addLineFlowCode("".concat(h," = ").concat(c),this),d}}const OG=Tj(FG),UG=function(e){return OG(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).toStack()},VG=function(e){return OG(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,!0).toStack()};QV("toVar",UG),QV("toConst",VG);const jG=e=>(console.warn('TSL: "temp( node )" is deprecated. Use "Var( node )" or "node.toVar()" instead.'),OG(e));QV("temp",jG);class zG extends DV{static get type(){return"VaryingNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.node=e,this.name=t,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.interpolationType=e,this.interpolationSampling=t,this}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const t=e.getNodeProperties(this);let n=t.varying;if(void 0===n){const i=this.name,r=this.getNodeType(e),a=this.interpolationType,o=this.interpolationSampling;t.varying=n=e.getVaryingFromNode(this,i,r,a,o),t.node=this.node}return n.needsInterpolation||(n.needsInterpolation="fragment"===e.shaderStage),n}setup(e){this.setupVarying(e),e.flowNodeFromShaderStage(TV.VERTEX,this.node)}analyze(e){this.setupVarying(e),e.flowNodeFromShaderStage(TV.VERTEX,this.node)}generate(e){const t=e.getNodeProperties(this),n=this.setupVarying(e);if(void 0===t.propertyName){const i=this.getNodeType(e),r=e.getPropertyName(n,TV.VERTEX);e.flowNodeFromShaderStage(TV.VERTEX,this.node,i,r),t.propertyName=r}return e.getPropertyName(n)}}const qG=Tj(zG).setParameterLength(1,2),GG=e=>qG(e);QV("toVarying",qG),QV("toVertexStage",GG),QV("varying",function(){return console.warn("THREE.TSL: .varying() has been renamed to .toVarying()."),qG(...arguments)}),QV("vertexStage",function(){return console.warn("THREE.TSL: .vertexStage() has been renamed to .toVertexStage()."),qG(...arguments)});const HG=Mj(e=>{let[t]=e;const n=t.mul(.9478672986).add(.0521327014).pow(2.4),i=t.mul(.0773993808),r=t.lessThanEqual(.04045);return yG(n,i,r)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),WG=Mj(e=>{let[t]=e;const n=t.pow(.41666).mul(1.055).sub(.055),i=t.mul(12.92),r=t.lessThanEqual(.0031308);return yG(n,i,r)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),QG="WorkingColorSpace";class YG extends kV{static get type(){return"ColorSpaceNode"}constructor(e,t,n){super("vec4"),this.colorNode=e,this.source=t,this.target=n}resolveColorSpace(e,t){return t===QG?bs.workingColorSpace:"OutputColorSpace"===t?e.context.outputColorSpace||e.renderer.outputColorSpace:t}setup(e){const{colorNode:t}=this,n=this.resolveColorSpace(e,this.source),i=this.resolveColorSpace(e,this.target);let r=t;return!1!==bs.enabled&&n!==i&&n&&i?(bs.getTransfer(n)===io&&(r=Gj(HG(r.rgb),r.a)),bs.getPrimaries(n)!==bs.getPrimaries(i)&&(r=Gj(Xj(bs._getMatrix(new ls,n,i)).mul(r.rgb),r.a)),bs.getTransfer(i)===io&&(r=Gj(WG(r.rgb),r.a)),r):r}}const XG=(e,t)=>bj(new YG(bj(e),QG,t)),KG=(e,t)=>bj(new YG(bj(e),t,QG));QV("workingToColorSpace",XG),QV("colorSpaceToWorking",KG);let ZG=class extends IV{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),n=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(t,n,i)}};class JG extends DV{static get type(){return"ReferenceBaseNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.property=e,this.uniformType=t,this.object=n,this.count=i,this.properties=e.split("."),this.reference=n,this.node=null,this.group=null,this.updateType=_V.OBJECT}setGroup(e){return this.group=e,this}element(e){return bj(new ZG(this,bj(e)))}setNodeType(e){const t=Fz(null,e).getSelf();null!==this.group&&t.setGroup(this.group),this.node=t}getNodeType(e){return null===this.node&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.reference;const{properties:t}=this;let n=e[t[0]];for(let i=1;i<t.length;i++)n=n[t[i]];return n}updateReference(e){return this.reference=null!==this.object?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){null===this.node&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}class $G extends JG{static get type(){return"RendererReferenceNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,n),this.renderer=n,this.setGroup(Lz)}updateReference(e){return this.reference=null!==this.renderer?this.renderer:e.renderer,this.reference}}const eH=function(e,t){return bj(new $G(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null))};class tH extends kV{static get type(){return"ToneMappingNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super("vec3"),this.toneMapping=e,this.exposureNode=t,this.colorNode=n}customCacheKey(){return lV(this.toneMapping)}setup(e){const t=this.colorNode||e.context.color,n=this.toneMapping;if(n===ir)return t;let i=null;const r=e.renderer.library.getToneMappingFunction(n);return null!==r?i=Gj(r(t.rgb,this.exposureNode),t.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",n),i=t),i}}const nH=(e,t,n)=>bj(new tH(e,bj(t),bj(n))),iH=eH("toneMappingExposure","float");QV("toneMapping",(e,t,n)=>nH(t,n,e));class rH extends jV{static get type(){return"BufferAttributeNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferStride=n,this.bufferOffset=i,this.usage=Po,this.instanced=!1,this.attribute=null,this.global=!0,e&&!0===e.isBufferAttribute&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(0===this.bufferStride&&0===this.bufferOffset){let t=e.globalCache.getData(this.value);return void 0===t&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getNodeType(e){return null===this.bufferType&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(null!==this.attribute)return;const t=this.getNodeType(e),n=this.value,i=e.getTypeLength(t),r=this.bufferStride||i,a=this.bufferOffset,o=!0===n.isInterleavedBuffer?n:new mu(n,r),s=new Au(o,i,a);o.setUsage(this.usage),this.attribute=s,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const t=this.getNodeType(e),n=e.getBufferAttributeFromNode(this,t),i=e.getPropertyName(n);let r=null;if("vertex"===e.shaderStage||"compute"===e.shaderStage)this.name=i,r=i;else{r=qG(this).build(e,t)}return r}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&!0===this.attribute.isBufferAttribute&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const aH=function(e){return bj(new rH(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0))},oH=function(e){return aH(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0).setUsage(No)},sH=function(e){return aH(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0).setInstanced(!0)},lH=function(e){return oH(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0).setInstanced(!0)};QV("toAttribute",e=>aH(e.value));class cH extends DV{static get type(){return"ComputeNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[64];super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=t,this.workgroupSize=n,this.dispatchCount=0,this.version=1,this.name="",this.updateBeforeType=_V.OBJECT,this.onInitFunction=null,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}label(e){return this.name=e,this}updateDispatchCount(){const{count:e,workgroupSize:t}=this;let n=t[0];for(let i=1;i<t.length;i++)n*=t[i];this.dispatchCount=Math.ceil(e/n)}onInit(e){return this.onInitFunction=e,this}updateBefore(e){let{renderer:t}=e;t.compute(this)}setup(e){const t=this.computeNode.build(e);if(t){e.getNodeProperties(this).outputComputeNode=t.outputNode,t.outputNode=null}return t}generate(e,t){const{shaderStage:n}=e;if("compute"===n){const t=this.computeNode.build(e,"void");""!==t&&e.addLineFlowCode(t,this)}else{const n=e.getNodeProperties(this).outputComputeNode;if(n)return n.build(e,t)}}}const uH=(e,t,n)=>bj(new cH(bj(e),t,n));QV("compute",uH);class dH extends DV{static get type(){return"CacheNode"}constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(),this.node=e,this.parent=t,this.isCacheNode=!0}getNodeType(e){const t=e.getCache(),n=e.getCacheFromNode(this,this.parent);e.setCache(n);const i=this.node.getNodeType(e);return e.setCache(t),i}build(e){const t=e.getCache(),n=e.getCacheFromNode(this,this.parent);e.setCache(n);for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];const o=this.node.build(e,...r);return e.setCache(t),o}}const hH=(e,t)=>bj(new dH(bj(e),t)),pH=(e,t)=>e.context({namespace:t});QV("cache",hH);class mH extends DV{static get type(){return"BypassNode"}constructor(e,t){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=t}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const t=this.callNode.build(e,"void");return""!==t&&e.addLineFlowCode(t,this),this.outputNode.build(e)}}const fH=Tj(mH).setParameterLength(2);QV("bypass",fH);class AH extends DV{static get type(){return"RemapNode"}constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dj(0),r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dj(1);super(),this.node=e,this.inLowNode=t,this.inHighNode=n,this.outLowNode=i,this.outHighNode=r,this.doClamp=!0}setup(){const{node:e,inLowNode:t,inHighNode:n,outLowNode:i,outHighNode:r,doClamp:a}=this;let o=e.sub(t).div(n.sub(t));return!0===a&&(o=o.clamp()),o.mul(r.sub(i)).add(i)}}const gH=Tj(AH,null,null,{doClamp:!1}).setParameterLength(3,5),vH=Tj(AH).setParameterLength(3,5);QV("remap",gH),QV("remapClamp",vH);class yH extends DV{static get type(){return"ExpressionNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"void"),this.snippet=e}generate(e,t){const n=this.getNodeType(e),i=this.snippet;if("void"!==n)return e.format(i,n,t);e.addLineFlowCode(i,this)}}const bH=Tj(yH).setParameterLength(1,2),xH=e=>(e?DG(e,bH("discard")):bH("discard")).toStack();QV("discard",xH);class wH extends kV{static get type(){return"RenderOutputNode"}constructor(e,t,n){super("vec4"),this.colorNode=e,this.toneMapping=t,this.outputColorSpace=n,this.isRenderOutputNode=!0}setup(e){let{context:t}=e,n=this.colorNode||t.color;const i=(null!==this.toneMapping?this.toneMapping:t.toneMapping)||ir,r=(null!==this.outputColorSpace?this.outputColorSpace:t.outputColorSpace)||$a;return i!==ir&&(n=n.toneMapping(i)),r!==$a&&r!==bs.workingColorSpace&&(n=n.workingToColorSpace(r)),n}}const TH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return bj(new wH(bj(e),t,n))};QV("renderOutput",TH);class _H extends kV{static get type(){return"DebugNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.node=e,this.callback=t}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const t=this.callback,n=this.node.build(e),i="--- TSL debug - "+e.shaderStage+" shader ---",r="-".repeat(i.length);let a="";return a+="// #"+i+"#\n",a+=e.flow.code.replace(/^\t/gm,"")+"\n",a+="/* ... */ "+n+" /* ... */\n",a+="// #"+r+"#\n",null!==t?t(e,a):console.log(a),n}}const SH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return bj(new _H(bj(e),t))};QV("debug",SH);class MH extends DV{static get type(){return"AttributeNode"}constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let t=this.nodeType;if(null===t){const n=this.getAttributeName(e);if(e.hasGeometryAttribute(n)){const i=e.geometry.getAttribute(n);t=e.getTypeFromAttribute(i)}else t="float"}return t}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const t=this.getAttributeName(e),n=this.getNodeType(e);if(!0===e.hasGeometryAttribute(t)){const i=e.geometry.getAttribute(t),r=e.getTypeFromAttribute(i),a=e.getAttribute(t,r);if("vertex"===e.shaderStage)return e.format(a.name,r,n);return qG(this).build(e,n)}return console.warn('AttributeNode: Vertex attribute "'.concat(t,'" not found on geometry.')),e.generateConst(n)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const EH=function(e){return bj(new MH(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null))},CH=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return EH("uv"+(e>0?e:""),"vec2")};class PH extends DV{static get type(){return"TextureSizeNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=t}generate(e,t){const n=this.textureNode.build(e,"property"),i=null===this.levelNode?"0":this.levelNode.build(e,"int");return e.format("".concat(e.getMethod("textureDimensions"),"( ").concat(n,", ").concat(i," )"),this.getNodeType(e),t)}}const NH=Tj(PH).setParameterLength(1,2);class RH extends Bz{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=_V.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,t=e.images,n=t&&t.length>0?t[0]&&t[0].image||t[0]:e.image;if(n&&void 0!==n.width){const{width:e,height:t}=n;this.value=Math.log2(Math.max(e,t))}}}const DH=Tj(RH).setParameterLength(1),IH=new Ns;class LH extends Bz{static get type(){return"TextureNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IH,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(e),this.isTextureNode=!0,this.uvNode=t,this.levelNode=n,this.biasNode=i,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=_V.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this.setUpdateMatrix(null===t)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return!0===this.value.isDepthTexture?"float":this.value.type===Fr?"uvec4":this.value.type===Br?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return CH(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return null===this._matrixUniform&&(this._matrixUniform=Fz(this.value.matrix)),this._matrixUniform.mul(Vj(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?_V.OBJECT:_V.NONE,this}setupUV(e,t){const n=this.value;return e.isFlipY()&&(n.image instanceof ImageBitmap&&!0===n.flipY||!0===n.isRenderTargetTexture||!0===n.isFramebufferTexture||!0===n.isDepthTexture)&&(t=this.sampler?t.flipY():t.setY(Ij(NH(this,this.levelNode).y).sub(t.y).sub(1))),t}setup(e){const t=e.getNodeProperties(this);t.referenceNode=this.referenceNode;const n=this.value;if(!n||!0!==n.isTexture)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");let i=this.uvNode;null!==i&&!0!==e.context.forceUVContext||!e.context.getUV||(i=e.context.getUV(this,e)),i||(i=this.getDefaultUV()),!0===this.updateMatrix&&(i=this.getTransformedUV(i)),i=this.setupUV(e,i);let r=this.levelNode;null===r&&e.context.getTextureLevel&&(r=e.context.getTextureLevel(this)),t.uvNode=i,t.levelNode=r,t.biasNode=this.biasNode,t.compareNode=this.compareNode,t.gradNode=this.gradNode,t.depthNode=this.depthNode}generateUV(e,t){return t.build(e,!0===this.sampler?"vec2":"ivec2")}generateSnippet(e,t,n,i,r,a,o,s){const l=this.value;let c;return c=i?e.generateTextureLevel(l,t,n,i,a):r?e.generateTextureBias(l,t,n,r,a):s?e.generateTextureGrad(l,t,n,s,a):o?e.generateTextureCompare(l,t,n,o,a):!1===this.sampler?e.generateTextureLoad(l,t,n,a):e.generateTexture(l,t,n,a),c}generate(e,t){const n=this.value,i=e.getNodeProperties(this),r=super.generate(e,"property");if(/^sampler/.test(t))return r+"_sampler";if(e.isReference(t))return r;{const a=e.getDataFromNode(this);let o=a.propertyName;if(void 0===o){const{uvNode:t,levelNode:n,biasNode:s,compareNode:l,depthNode:c,gradNode:u}=i,d=this.generateUV(e,t),h=n?n.build(e,"float"):null,p=s?s.build(e,"float"):null,m=c?c.build(e,"int"):null,f=l?l.build(e,"float"):null,A=u?[u[0].build(e,"vec2"),u[1].build(e,"vec2")]:null,g=e.getVarFromNode(this);o=e.getPropertyName(g);const v=this.generateSnippet(e,r,d,h,p,m,f,A);e.addLineFlowCode("".concat(o," = ").concat(v),this),a.snippet=v,a.propertyName=o}let s=o;const l=this.getNodeType(e);return e.needsToWorkingColorSpace(n)&&(s=KG(bH(s,l),n.colorSpace).setup(e).build(e,l)),e.format(s,l,t)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return console.warn("THREE.TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const t=this.clone();return t.uvNode=bj(e),t.referenceNode=this.getSelf(),bj(t)}blur(e){const t=this.clone();t.biasNode=bj(e).mul(DH(t)),t.referenceNode=this.getSelf();const n=t.value;return!1===t.generateMipmaps&&(n&&!1===n.generateMipmaps||n.minFilter===wr||n.magFilter===wr)&&(console.warn("THREE.TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),t.biasNode=null),bj(t)}level(e){const t=this.clone();return t.levelNode=bj(e),t.referenceNode=this.getSelf(),bj(t)}size(e){return NH(this,e)}bias(e){const t=this.clone();return t.biasNode=bj(e),t.referenceNode=this.getSelf(),bj(t)}compare(e){const t=this.clone();return t.compareNode=bj(e),t.referenceNode=this.getSelf(),bj(t)}grad(e,t){const n=this.clone();return n.gradNode=[bj(e),bj(t)],n.referenceNode=this.getSelf(),bj(n)}depth(e){const t=this.clone();return t.depthNode=bj(e),t.referenceNode=this.getSelf(),bj(t)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,t=this._matrixUniform;null!==t&&(t.value=e.matrix),!0===e.matrixAutoUpdate&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e}}const kH=Tj(LH).setParameterLength(1,4).setName("texture"),BH=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IH,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t&&!0===t.isTextureNode?(e=bj(t.clone()),e.referenceNode=t.getSelf(),null!==n&&(e.uvNode=bj(n)),null!==i&&(e.levelNode=bj(i)),null!==r&&(e.biasNode=bj(r))):e=kH(t,n,i,r),e},FH=function(){return BH(...arguments).setSampler(!1)};class OH extends Bz{static get type(){return"BufferNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferCount=n}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const UH=(e,t,n)=>bj(new OH(e,t,n));class VH extends IV{static get type(){return"UniformArrayElementNode"}constructor(e,t){super(e,t),this.isArrayBufferElementNode=!0}generate(e){const t=super.generate(e),n=this.getNodeType(),i=this.node.getPaddedType();return e.format(t,i,n)}}class jH extends OH{static get type(){return"UniformArrayNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.array=e,this.elementType=null===t?vV(e[0]):t,this.paddedType=this.getPaddedType(),this.updateType=_V.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let t="vec4";return"mat2"===e?t="mat2":!0===/mat/.test(e)?t="mat4":"i"===e.charAt(0)?t="ivec4":"u"===e.charAt(0)&&(t="uvec4"),t}update(){const{array:e,value:t}=this,n=this.elementType;if("float"===n||"int"===n||"uint"===n)for(let i=0;i<e.length;i++){t[4*i]=e[i]}else if("color"===n)for(let i=0;i<e.length;i++){const n=4*i,r=e[i];t[n]=r.r,t[n+1]=r.g,t[n+2]=r.b||0}else if("mat2"===n)for(let i=0;i<e.length;i++){const n=4*i,r=e[i];t[n]=r.elements[0],t[n+1]=r.elements[1],t[n+2]=r.elements[2],t[n+3]=r.elements[3]}else if("mat3"===n)for(let i=0;i<e.length;i++){const n=16*i,r=e[i];t[n]=r.elements[0],t[n+1]=r.elements[1],t[n+2]=r.elements[2],t[n+4]=r.elements[3],t[n+5]=r.elements[4],t[n+6]=r.elements[5],t[n+8]=r.elements[6],t[n+9]=r.elements[7],t[n+10]=r.elements[8],t[n+15]=1}else if("mat4"===n)for(let i=0;i<e.length;i++){const n=16*i,r=e[i];for(let e=0;e<r.elements.length;e++)t[n+e]=r.elements[e]}else for(let i=0;i<e.length;i++){const n=4*i,r=e[i];t[n]=r.x,t[n+1]=r.y,t[n+2]=r.z||0,t[n+3]=r.w||0}}setup(e){const t=this.array.length,n=this.elementType;let i=Float32Array;const r=this.paddedType,a=e.getTypeLength(r);return"i"===n.charAt(0)&&(i=Int32Array),"u"===n.charAt(0)&&(i=Uint32Array),this.value=new i(t*a),this.bufferCount=t,this.bufferType=r,super.setup(e)}element(e){return bj(new VH(this,bj(e)))}}const zH=(e,t)=>bj(new jH(e,t));const qH=Tj(class extends DV{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}).setParameterLength(1),GH=Fz(0,"uint").label("u_cameraIndex").setGroup(Dz("cameraIndex")).toVarying("v_cameraIndex"),HH=Fz("float").label("cameraNear").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.near}),WH=Fz("float").label("cameraFar").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.far}),QH=Mj(e=>{let t,{camera:n}=e;if(n.isArrayCamera&&n.cameras.length>0){const e=[];for(const t of n.cameras)e.push(t.projectionMatrix);t=zH(e).setGroup(Lz).label("cameraProjectionMatrices").element(n.isMultiViewCamera?qH("gl_ViewID_OVR"):GH).toVar("cameraProjectionMatrix")}else t=Fz("mat4").label("cameraProjectionMatrix").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.projectionMatrix});return t}).once()(),YH=Mj(e=>{let t,{camera:n}=e;if(n.isArrayCamera&&n.cameras.length>0){const e=[];for(const t of n.cameras)e.push(t.projectionMatrixInverse);t=zH(e).setGroup(Lz).label("cameraProjectionMatricesInverse").element(n.isMultiViewCamera?qH("gl_ViewID_OVR"):GH).toVar("cameraProjectionMatrixInverse")}else t=Fz("mat4").label("cameraProjectionMatrixInverse").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.projectionMatrixInverse});return t}).once()(),XH=Mj(e=>{let t,{camera:n}=e;if(n.isArrayCamera&&n.cameras.length>0){const e=[];for(const t of n.cameras)e.push(t.matrixWorldInverse);t=zH(e).setGroup(Lz).label("cameraViewMatrices").element(n.isMultiViewCamera?qH("gl_ViewID_OVR"):GH).toVar("cameraViewMatrix")}else t=Fz("mat4").label("cameraViewMatrix").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.matrixWorldInverse});return t}).once()(),KH=Fz("mat4").label("cameraWorldMatrix").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.matrixWorld}),ZH=Fz("mat3").label("cameraNormalMatrix").setGroup(Lz).onRenderUpdate(e=>{let{camera:t}=e;return t.normalMatrix}),JH=Fz(new as).label("cameraPosition").setGroup(Lz).onRenderUpdate((e,t)=>{let{camera:n}=e;return t.value.setFromMatrixPosition(n.matrixWorld)}),$H=new nl;class eW extends DV{static get type(){return"Object3DNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.scope=e,this.object3d=t,this.updateType=_V.OBJECT,this.uniformNode=new Bz(null)}getNodeType(){const e=this.scope;return e===eW.WORLD_MATRIX?"mat4":e===eW.POSITION||e===eW.VIEW_POSITION||e===eW.DIRECTION||e===eW.SCALE?"vec3":e===eW.RADIUS?"float":void 0}update(e){const t=this.object3d,n=this.uniformNode,i=this.scope;if(i===eW.WORLD_MATRIX)n.value=t.matrixWorld;else if(i===eW.POSITION)n.value=n.value||new as,n.value.setFromMatrixPosition(t.matrixWorld);else if(i===eW.SCALE)n.value=n.value||new as,n.value.setFromMatrixScale(t.matrixWorld);else if(i===eW.DIRECTION)n.value=n.value||new as,t.getWorldDirection(n.value);else if(i===eW.VIEW_POSITION){const i=e.camera;n.value=n.value||new as,n.value.setFromMatrixPosition(t.matrixWorld),n.value.applyMatrix4(i.matrixWorldInverse)}else if(i===eW.RADIUS){const i=e.object.geometry;null===i.boundingSphere&&i.computeBoundingSphere(),$H.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),n.value=$H.radius}}generate(e){const t=this.scope;return t===eW.WORLD_MATRIX?this.uniformNode.nodeType="mat4":t===eW.POSITION||t===eW.VIEW_POSITION||t===eW.DIRECTION||t===eW.SCALE?this.uniformNode.nodeType="vec3":t===eW.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}eW.WORLD_MATRIX="worldMatrix",eW.POSITION="position",eW.SCALE="scale",eW.VIEW_POSITION="viewPosition",eW.DIRECTION="direction",eW.RADIUS="radius";const tW=Tj(eW,eW.DIRECTION).setParameterLength(1),nW=Tj(eW,eW.WORLD_MATRIX).setParameterLength(1),iW=Tj(eW,eW.POSITION).setParameterLength(1),rW=Tj(eW,eW.SCALE).setParameterLength(1),aW=Tj(eW,eW.VIEW_POSITION).setParameterLength(1),oW=Tj(eW,eW.RADIUS).setParameterLength(1);class sW extends eW{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const lW=_j(sW,sW.DIRECTION),cW=_j(sW,sW.WORLD_MATRIX),uW=_j(sW,sW.POSITION),dW=_j(sW,sW.SCALE),hW=_j(sW,sW.VIEW_POSITION),pW=_j(sW,sW.RADIUS),mW=Fz(new ls).onObjectUpdate((e,t)=>{let{object:n}=e;return t.value.getNormalMatrix(n.matrixWorld)}),fW=Fz(new dl).onObjectUpdate((e,t)=>{let{object:n}=e;return t.value.copy(n.matrixWorld).invert()}),AW=Mj(e=>e.renderer.overrideNodes.modelViewMatrix||gW).once()().toVar("modelViewMatrix"),gW=XH.mul(cW),vW=Mj(e=>(e.context.isHighPrecisionModelViewMatrix=!0,Fz("mat4").onObjectUpdate(e=>{let{object:t,camera:n}=e;return t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld)}))).once()().toVar("highpModelViewMatrix"),yW=Mj(e=>{const t=e.context.isHighPrecisionModelViewMatrix;return Fz("mat3").onObjectUpdate(e=>{let{object:n,camera:i}=e;return!0!==t&&n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld),n.normalMatrix.getNormalMatrix(n.modelViewMatrix)})}).once()().toVar("highpModelNormalViewMatrix"),bW=EH("position","vec3"),xW=bW.toVarying("positionLocal"),wW=bW.toVarying("positionPrevious"),TW=Mj(e=>cW.mul(xW).xyz.toVarying(e.getNamespace("v_positionWorld")),"vec3").once("POSITION")(),_W=Mj(e=>xW.transformDirection(cW).toVarying(e.getNamespace("v_positionWorldDirection")).normalize().toVar("positionWorldDirection"),"vec3").once("POSITION")(),SW=Mj(e=>e.context.setupPositionView().toVarying(e.getNamespace("v_positionView")),"vec3").once("POSITION")(),MW=SW.negate().toVarying("v_positionViewDirection").normalize().toVar("positionViewDirection");class EW extends DV{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){const{renderer:t,material:n}=e;return t.coordinateSystem===Vo&&n.side===vi?"false":e.getFrontFacing()}}const CW=_j(EW),PW=Dj(CW).mul(2).sub(1),NW=EH("normal","vec3"),RW=Mj(e=>!1===e.geometry.hasAttribute("normal")?(console.warn('THREE.TSL: Vertex attribute "normal" not found on geometry.'),Vj(0,1,0)):NW,"vec3").once()().toVar("normalLocal"),DW=SW.dFdx().cross(SW.dFdy()).normalize().toVar("normalFlat"),IW=Mj(e=>{let t;return t=!0===e.material.flatShading?DW:qG(UW(RW),"v_normalView").normalize(),t},"vec3").once()().toVar("normalView"),LW=Mj(e=>{let t=IW.transformDirection(XH);return!0!==e.material.flatShading&&(t=qG(t,"v_normalWorld")),t},"vec3").once()().normalize().toVar("normalWorld"),kW=Mj(e=>{let t=e.context.setupNormal().context({getUV:null});return!0!==e.material.flatShading&&(t=t.mul(PW)),t},"vec3").once()().toVar("transformedNormalView"),BW=kW.transformDirection(XH).toVar("transformedNormalWorld"),FW=Mj(e=>{let t=e.context.setupClearcoatNormal().context({getUV:null});return!0!==e.material.flatShading&&(t=t.mul(PW)),t},"vec3").once()().toVar("transformedClearcoatNormalView"),OW=Mj(e=>{let[t,n=cW]=e;const i=Xj(n),r=t.div(Vj(i[0].dot(i[0]),i[1].dot(i[1]),i[2].dot(i[2])));return i.mul(r).xyz}),UW=Mj((e,t)=>{let[n]=e;const i=t.renderer.overrideNodes.modelNormalViewMatrix;if(null!==i)return i.transformDirection(n);const r=mW.mul(n);return XH.transformDirection(r)}),VW=new xl,jW=new dl,zW=Fz(0).onReference(e=>{let{material:t}=e;return t}).onObjectUpdate(e=>{let{material:t}=e;return t.refractionRatio}),qW=Fz(1).onReference(e=>{let{material:t}=e;return t}).onObjectUpdate(function(e){let{material:t,scene:n}=e;return t.envMap?t.envMapIntensity:n.environmentIntensity}),GW=Fz(new dl).onReference(function(e){return e.material}).onObjectUpdate(function(e){let{material:t,scene:n}=e;const i=null!==n.environment&&null===t.envMap?n.environmentRotation:t.envMapRotation;return i?(VW.copy(i),jW.makeRotationFromEuler(VW)):jW.identity(),jW}),HW=MW.negate().reflect(kW),WW=MW.negate().refract(kW,zW),QW=HW.transformDirection(XH).toVar("reflectVector"),YW=WW.transformDirection(XH).toVar("reflectVector"),XW=new ou;class KW extends LH{static get type(){return"CubeTextureNode"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===mr?QW:e.mapping===fr?YW:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',e.mapping),Vj(0,0,0))}setUpdateMatrix(){}setupUV(e,t){const n=this.value;return e.renderer.coordinateSystem!==jo&&n.isRenderTargetTexture||(t=Vj(t.x.negate(),t.yz)),GW.mul(t)}generateUV(e,t){return t.build(e,"vec3")}}const ZW=Tj(KW).setParameterLength(1,4).setName("cubeTexture"),JW=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XW,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t&&!0===t.isCubeTextureNode?(e=bj(t.clone()),e.referenceNode=t.getSelf(),null!==n&&(e.uvNode=bj(n)),null!==i&&(e.levelNode=bj(i)),null!==r&&(e.biasNode=bj(r))):e=ZW(t,n,i,r),e};class $W extends IV{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),n=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(t,n,i)}}class eQ extends DV{static get type(){return"ReferenceNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.property=e,this.uniformType=t,this.object=n,this.count=i,this.properties=e.split("."),this.reference=n,this.node=null,this.group=null,this.name=null,this.updateType=_V.OBJECT}element(e){return bj(new $W(this,bj(e)))}setGroup(e){return this.group=e,this}label(e){return this.name=e,this}setNodeType(e){let t=null;t=null!==this.count?UH(null,e,this.count):Array.isArray(this.getValueFromReference())?zH(null,e):"texture"===e?BH(null):"cubeTexture"===e?JW(null):Fz(null,e),null!==this.group&&t.setGroup(this.group),null!==this.name&&t.label(this.name),this.node=t.getSelf()}getNodeType(e){return null===this.node&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.reference;const{properties:t}=this;let n=e[t[0]];for(let i=1;i<t.length;i++)n=n[t[i]];return n}updateReference(e){return this.reference=null!==this.object?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){null===this.node&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const tQ=(e,t,n)=>bj(new eQ(e,t,n)),nQ=(e,t,n,i)=>bj(new eQ(e,t,i,n));class iQ extends eQ{static get type(){return"MaterialReferenceNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,n),this.material=n,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=null!==this.material?this.material:e.material,this.reference}}const rQ=function(e,t){return bj(new iQ(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null))},aQ=Mj(e=>(!1===e.geometry.hasAttribute("tangent")&&e.geometry.computeTangents(),EH("tangent","vec4")))(),oQ=aQ.xyz.toVar("tangentLocal"),sQ=AW.mul(Gj(oQ,0)).xyz.toVarying("v_tangentView").normalize().toVar("tangentView"),lQ=sQ.transformDirection(XH).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),cQ=sQ.toVar("transformedTangentView"),uQ=cQ.transformDirection(XH).normalize().toVar("transformedTangentWorld"),dQ=Mj((e,t)=>{let[n,i]=e,r=n.mul(aQ.w).xyz;return!0!==t.material.flatShading&&(r=qG(r,i)),r}).once(),hQ=dQ(NW.cross(aQ),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),pQ=dQ(RW.cross(oQ),"v_bitangentLocal").normalize().toVar("bitangentLocal"),mQ=dQ(IW.cross(sQ),"v_bitangentView").normalize().toVar("bitangentView"),fQ=dQ(LW.cross(lQ),"v_bitangentWorld").normalize().toVar("bitangentWorld"),AQ=dQ(kW.cross(cQ),"v_transformedBitangentView").normalize().toVar("transformedBitangentView"),gQ=AQ.transformDirection(XH).normalize().toVar("transformedBitangentWorld"),vQ=Xj(sQ,mQ,IW),yQ=MW.mul(vQ),bQ=(()=>{let e=Az.cross(MW);return e=e.cross(Az).normalize(),e=yG(e,kW,mz.mul(rz.oneMinus()).oneMinus().pow2().pow2()).normalize(),e})(),xQ=Mj(e=>{const{eye_pos:t,surf_norm:n,mapN:i,uv:r}=e,a=t.dFdx(),o=t.dFdy(),s=r.dFdx(),l=r.dFdy(),c=n,u=o.cross(c),d=c.cross(a),h=u.mul(s.x).add(d.mul(l.x)),p=u.mul(s.y).add(d.mul(l.y)),m=h.dot(h).max(p.dot(p)),f=PW.mul(m.inverseSqrt());return Wz(h.mul(i.x,f),p.mul(i.y,f),c.mul(i.z)).normalize()});class wQ extends kV{static get type(){return"NormalMapNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super("vec3"),this.node=e,this.scaleNode=t,this.normalMapType=Za}setup(e){const{normalMapType:t,scaleNode:n}=this;let i=this.node.mul(2).sub(1);null!==n&&(i=Vj(i.xy.mul(n),i.z));let r=null;if(t===Ja)r=UW(i);else if(t===Za){r=!0===e.hasGeometryAttribute("tangent")?vQ.mul(i).normalize():xQ({eye_pos:SW,surf_norm:IW,mapN:i,uv:CH()})}return r}}const TQ=Tj(wQ).setParameterLength(1,2),_Q=Mj(e=>{let{textureNode:t,bumpScale:n}=e;const i=e=>t.cache().context({getUV:t=>e(t.uvNode||CH()),forceUVContext:!0}),r=Dj(i(e=>e));return Bj(Dj(i(e=>e.add(e.dFdx()))).sub(r),Dj(i(e=>e.add(e.dFdy()))).sub(r)).mul(n)}),SQ=Mj(e=>{const{surf_pos:t,surf_norm:n,dHdxy:i}=e,r=t.dFdx().normalize(),a=n,o=t.dFdy().normalize().cross(a),s=a.cross(r),l=r.dot(o).mul(PW),c=l.sign().mul(i.x.mul(o).add(i.y.mul(s)));return l.abs().mul(n).sub(c).normalize()});class MQ extends kV{static get type(){return"BumpMapNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super("vec3"),this.textureNode=e,this.scaleNode=t}setup(){const e=null!==this.scaleNode?this.scaleNode:1,t=_Q({textureNode:this.textureNode,bumpScale:e});return SQ({surf_pos:SW,surf_norm:IW,dHdxy:t})}}const EQ=Tj(MQ).setParameterLength(1,2),CQ=new Map;class PQ extends DV{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,t){let n=CQ.get(e);return void 0===n&&(n=rQ(e,t),CQ.set(e,n)),n}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache("map"===e?"map":e+"Map","texture")}setup(e){const t=e.context.material,n=this.scope;let i=null;if(n===PQ.COLOR){const e=void 0!==t.color?this.getColor(n):Vj();i=t.map&&!0===t.map.isTexture?e.mul(this.getTexture("map")):e}else if(n===PQ.OPACITY){const e=this.getFloat(n);i=t.alphaMap&&!0===t.alphaMap.isTexture?e.mul(this.getTexture("alpha")):e}else if(n===PQ.SPECULAR_STRENGTH)i=t.specularMap&&!0===t.specularMap.isTexture?this.getTexture("specular").r:Dj(1);else if(n===PQ.SPECULAR_INTENSITY){const e=this.getFloat(n);i=t.specularIntensityMap&&!0===t.specularIntensityMap.isTexture?e.mul(this.getTexture(n).a):e}else if(n===PQ.SPECULAR_COLOR){const e=this.getColor(n);i=t.specularColorMap&&!0===t.specularColorMap.isTexture?e.mul(this.getTexture(n).rgb):e}else if(n===PQ.ROUGHNESS){const e=this.getFloat(n);i=t.roughnessMap&&!0===t.roughnessMap.isTexture?e.mul(this.getTexture(n).g):e}else if(n===PQ.METALNESS){const e=this.getFloat(n);i=t.metalnessMap&&!0===t.metalnessMap.isTexture?e.mul(this.getTexture(n).b):e}else if(n===PQ.EMISSIVE){const e=this.getFloat("emissiveIntensity"),r=this.getColor(n).mul(e);i=t.emissiveMap&&!0===t.emissiveMap.isTexture?r.mul(this.getTexture(n)):r}else if(n===PQ.NORMAL)t.normalMap?(i=TQ(this.getTexture("normal"),this.getCache("normalScale","vec2")),i.normalMapType=t.normalMapType):i=t.bumpMap?EQ(this.getTexture("bump").r,this.getFloat("bumpScale")):IW;else if(n===PQ.CLEARCOAT){const e=this.getFloat(n);i=t.clearcoatMap&&!0===t.clearcoatMap.isTexture?e.mul(this.getTexture(n).r):e}else if(n===PQ.CLEARCOAT_ROUGHNESS){const e=this.getFloat(n);i=t.clearcoatRoughnessMap&&!0===t.clearcoatRoughnessMap.isTexture?e.mul(this.getTexture(n).r):e}else if(n===PQ.CLEARCOAT_NORMAL)i=t.clearcoatNormalMap?TQ(this.getTexture(n),this.getCache(n+"Scale","vec2")):IW;else if(n===PQ.SHEEN){const e=this.getColor("sheenColor").mul(this.getFloat("sheen"));i=t.sheenColorMap&&!0===t.sheenColorMap.isTexture?e.mul(this.getTexture("sheenColor").rgb):e}else if(n===PQ.SHEEN_ROUGHNESS){const e=this.getFloat(n);i=t.sheenRoughnessMap&&!0===t.sheenRoughnessMap.isTexture?e.mul(this.getTexture(n).a):e,i=i.clamp(.07,1)}else if(n===PQ.ANISOTROPY)if(t.anisotropyMap&&!0===t.anisotropyMap.isTexture){const e=this.getTexture(n);i=Yj(pY.x,pY.y,pY.y.negate(),pY.x).mul(e.rg.mul(2).sub(Bj(1)).normalize().mul(e.b))}else i=pY;else if(n===PQ.IRIDESCENCE_THICKNESS){const e=tQ("1","float",t.iridescenceThicknessRange);if(t.iridescenceThicknessMap){const r=tQ("0","float",t.iridescenceThicknessRange);i=e.sub(r).mul(this.getTexture(n).g).add(r)}else i=e}else if(n===PQ.TRANSMISSION){const e=this.getFloat(n);i=t.transmissionMap?e.mul(this.getTexture(n).r):e}else if(n===PQ.THICKNESS){const e=this.getFloat(n);i=t.thicknessMap?e.mul(this.getTexture(n).g):e}else if(n===PQ.IOR)i=this.getFloat(n);else if(n===PQ.LIGHT_MAP)i=this.getTexture(n).rgb.mul(this.getFloat("lightMapIntensity"));else if(n===PQ.AO)i=this.getTexture(n).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(n===PQ.LINE_DASH_OFFSET)i=t.dashOffset?this.getFloat(n):Dj(0);else{const t=this.getNodeType(e);i=this.getCache(n,t)}return i}}PQ.ALPHA_TEST="alphaTest",PQ.COLOR="color",PQ.OPACITY="opacity",PQ.SHININESS="shininess",PQ.SPECULAR="specular",PQ.SPECULAR_STRENGTH="specularStrength",PQ.SPECULAR_INTENSITY="specularIntensity",PQ.SPECULAR_COLOR="specularColor",PQ.REFLECTIVITY="reflectivity",PQ.ROUGHNESS="roughness",PQ.METALNESS="metalness",PQ.NORMAL="normal",PQ.CLEARCOAT="clearcoat",PQ.CLEARCOAT_ROUGHNESS="clearcoatRoughness",PQ.CLEARCOAT_NORMAL="clearcoatNormal",PQ.EMISSIVE="emissive",PQ.ROTATION="rotation",PQ.SHEEN="sheen",PQ.SHEEN_ROUGHNESS="sheenRoughness",PQ.ANISOTROPY="anisotropy",PQ.IRIDESCENCE="iridescence",PQ.IRIDESCENCE_IOR="iridescenceIOR",PQ.IRIDESCENCE_THICKNESS="iridescenceThickness",PQ.IOR="ior",PQ.TRANSMISSION="transmission",PQ.THICKNESS="thickness",PQ.ATTENUATION_DISTANCE="attenuationDistance",PQ.ATTENUATION_COLOR="attenuationColor",PQ.LINE_SCALE="scale",PQ.LINE_DASH_SIZE="dashSize",PQ.LINE_GAP_SIZE="gapSize",PQ.LINE_WIDTH="linewidth",PQ.LINE_DASH_OFFSET="dashOffset",PQ.POINT_SIZE="size",PQ.DISPERSION="dispersion",PQ.LIGHT_MAP="light",PQ.AO="ao";const NQ=_j(PQ,PQ.ALPHA_TEST),RQ=_j(PQ,PQ.COLOR),DQ=_j(PQ,PQ.SHININESS),IQ=_j(PQ,PQ.EMISSIVE),LQ=_j(PQ,PQ.OPACITY),kQ=_j(PQ,PQ.SPECULAR),BQ=_j(PQ,PQ.SPECULAR_INTENSITY),FQ=_j(PQ,PQ.SPECULAR_COLOR),OQ=_j(PQ,PQ.SPECULAR_STRENGTH),UQ=_j(PQ,PQ.REFLECTIVITY),VQ=_j(PQ,PQ.ROUGHNESS),jQ=_j(PQ,PQ.METALNESS),zQ=_j(PQ,PQ.NORMAL),qQ=_j(PQ,PQ.CLEARCOAT),GQ=_j(PQ,PQ.CLEARCOAT_ROUGHNESS),HQ=_j(PQ,PQ.CLEARCOAT_NORMAL),WQ=_j(PQ,PQ.ROTATION),QQ=_j(PQ,PQ.SHEEN),YQ=_j(PQ,PQ.SHEEN_ROUGHNESS),XQ=_j(PQ,PQ.ANISOTROPY),KQ=_j(PQ,PQ.IRIDESCENCE),ZQ=_j(PQ,PQ.IRIDESCENCE_IOR),JQ=_j(PQ,PQ.IRIDESCENCE_THICKNESS),$Q=_j(PQ,PQ.TRANSMISSION),eY=_j(PQ,PQ.THICKNESS),tY=_j(PQ,PQ.IOR),nY=_j(PQ,PQ.ATTENUATION_DISTANCE),iY=_j(PQ,PQ.ATTENUATION_COLOR),rY=_j(PQ,PQ.LINE_SCALE),aY=_j(PQ,PQ.LINE_DASH_SIZE),oY=_j(PQ,PQ.LINE_GAP_SIZE),sY=_j(PQ,PQ.LINE_WIDTH),lY=_j(PQ,PQ.LINE_DASH_OFFSET),cY=_j(PQ,PQ.POINT_SIZE),uY=_j(PQ,PQ.DISPERSION),dY=_j(PQ,PQ.LIGHT_MAP),hY=_j(PQ,PQ.AO),pY=Fz(new is).onReference(function(e){return e.material}).onRenderUpdate(function(e){let{material:t}=e;this.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation))}),mY=Mj(e=>e.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class fY extends DV{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const t=this.getNodeType(e),n=this.scope;let i,r;if(n===fY.VERTEX)i=e.getVertexIndex();else if(n===fY.INSTANCE)i=e.getInstanceIndex();else if(n===fY.DRAW)i=e.getDrawIndex();else if(n===fY.INVOCATION_LOCAL)i=e.getInvocationLocalIndex();else if(n===fY.INVOCATION_SUBGROUP)i=e.getInvocationSubgroupIndex();else{if(n!==fY.SUBGROUP)throw new Error("THREE.IndexNode: Unknown scope: "+n);i=e.getSubgroupIndex()}if("vertex"===e.shaderStage||"compute"===e.shaderStage)r=i;else{r=qG(this).build(e,t)}return r}}fY.VERTEX="vertex",fY.INSTANCE="instance",fY.SUBGROUP="subgroup",fY.INVOCATION_LOCAL="invocationLocal",fY.INVOCATION_SUBGROUP="invocationSubgroup",fY.DRAW="draw";const AY=_j(fY,fY.VERTEX),gY=_j(fY,fY.INSTANCE),vY=_j(fY,fY.SUBGROUP),yY=_j(fY,fY.INVOCATION_SUBGROUP),bY=_j(fY,fY.INVOCATION_LOCAL),xY=_j(fY,fY.DRAW);class wY extends DV{static get type(){return"InstanceNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super("void"),this.count=e,this.instanceMatrix=t,this.instanceColor=n,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=_V.FRAME,this.buffer=null,this.bufferColor=null}setup(e){const{count:t,instanceMatrix:n,instanceColor:i}=this;let{instanceMatrixNode:r,instanceColorNode:a}=this;if(null===r){if(t<=1e3)r=UH(n.array,"mat4",Math.max(t,1)).element(gY);else{const e=new qf(n.array,16,1);this.buffer=e;const t=n.usage===No?lH:sH,i=[t(e,"vec4",16,0),t(e,"vec4",16,4),t(e,"vec4",16,8),t(e,"vec4",16,12)];r=Kj(...i)}this.instanceMatrixNode=r}if(i&&null===a){const e=new Zu(i.array,3),t=i.usage===No?lH:sH;this.bufferColor=e,a=Vj(t(e,"vec3",3,0)),this.instanceColorNode=a}const o=r.mul(xW).xyz;if(xW.assign(o),e.hasGeometryAttribute("normal")){const e=OW(RW,r);RW.assign(e)}null!==this.instanceColorNode&&tz("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMatrix.usage!==No&&null!==this.buffer&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version),this.instanceColor&&this.instanceColor.usage!==No&&null!==this.bufferColor&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)}}const TY=Tj(wY).setParameterLength(2,3);class _Y extends wY{static get type(){return"InstancedMeshNode"}constructor(e){const{count:t,instanceMatrix:n,instanceColor:i}=e;super(t,n,i),this.instancedMesh=e}}const SY=Tj(_Y).setParameterLength(1);class MY extends DV{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){null===this.batchingIdNode&&(null===e.getDrawIndex()?this.batchingIdNode=gY:this.batchingIdNode=xY);const t=Mj(e=>{let[t]=e;const n=Ij(NH(FH(this.batchMesh._indirectTexture),0).x),i=Ij(t).mod(n),r=Ij(t).div(n);return FH(this.batchMesh._indirectTexture,Fj(i,r)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]}),n=t(Ij(this.batchingIdNode)),i=this.batchMesh._matricesTexture,r=Ij(NH(FH(i),0).x),a=Dj(n).mul(4).toInt().toVar(),o=a.mod(r),s=a.div(r),l=Kj(FH(i,Fj(o,s)),FH(i,Fj(o.add(1),s)),FH(i,Fj(o.add(2),s)),FH(i,Fj(o.add(3),s))),c=this.batchMesh._colorsTexture;if(null!==c){const e=Mj(e=>{let[t]=e;const n=Ij(NH(FH(c),0).x),i=t,r=i.mod(n),a=i.div(n);return FH(c,Fj(r,a)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]}),t=e(n);tz("vec3","vBatchColor").assign(t)}const u=Xj(l);xW.assign(l.mul(xW));const d=RW.div(Vj(u[0].dot(u[0]),u[1].dot(u[1]),u[2].dot(u[2]))),h=u.mul(d).xyz;RW.assign(h),e.hasGeometryAttribute("tangent")&&oQ.mulAssign(u)}}const EY=Tj(MY).setParameterLength(1);class CY extends IV{static get type(){return"StorageArrayElementNode"}constructor(e,t){super(e,t),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,t){const n=this.storageBufferNode.structTypeNode;return n?n.getMemberType(e,t):"void"}setup(e){return!1===e.isAvailable("storageBuffer")&&!0===this.node.isPBO&&e.setupPBO(this.node),super.setup(e)}generate(e,t){let n;const i=e.context.assign;if(n=!1===e.isAvailable("storageBuffer")?!0!==this.node.isPBO||!0===i||!this.node.value.isInstancedBufferAttribute&&"compute"===e.shaderStage?this.node.build(e):e.generatePBO(this):super.generate(e),!0!==i){const i=this.getNodeType(e);n=e.format(n,i,t)}return n}}const PY=Tj(CY).setParameterLength(2);class NY extends OH{static get type(){return"StorageBufferNode"}constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;n&&n.isStruct?(t="struct",r=n.layout,(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(i=e.count)):null===n&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(t=pV(e.itemSize),i=e.count):t=n,super(e,t,i),this.isStorageBufferNode=!0,this.structTypeNode=r,this.access=SV.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,!0!==e.isStorageBufferAttribute&&!0!==e.isStorageInstancedBufferAttribute&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(0===this.bufferCount){let t=e.globalCache.getData(this.value);return void 0===t&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return PY(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(SV.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return null===this._attribute&&(this._attribute=aH(this.value),this._varying=qG(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(null!==this.structTypeNode)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:t}=this.getAttributeData();return t.getNodeType(e)}getMemberType(e,t){return null!==this.structTypeNode?this.structTypeNode.getMemberType(e,t):"void"}generate(e){if(null!==this.structTypeNode&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:t,varying:n}=this.getAttributeData(),i=n.build(e);return e.registerTransform(i,t),i}}const RY=function(e){return bj(new NY(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))},DY=new WeakMap;class IY extends DV{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=_V.OBJECT,this.skinIndexNode=EH("skinIndex","uvec4"),this.skinWeightNode=EH("skinWeight","vec4"),this.bindMatrixNode=tQ("bindMatrix","mat4"),this.bindMatrixInverseNode=tQ("bindMatrixInverse","mat4"),this.boneMatricesNode=nQ("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=xW,this.toPositionNode=xW,this.previousBoneMatricesNode=null}getSkinnedPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.boneMatricesNode,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positionNode;const{skinIndexNode:n,skinWeightNode:i,bindMatrixNode:r,bindMatrixInverseNode:a}=this,o=e.element(n.x),s=e.element(n.y),l=e.element(n.z),c=e.element(n.w),u=r.mul(t),d=Wz(o.mul(i.x).mul(u),s.mul(i.y).mul(u),l.mul(i.z).mul(u),c.mul(i.w).mul(u));return a.mul(d).xyz}getSkinnedNormal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.boneMatricesNode,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RW;const{skinIndexNode:n,skinWeightNode:i,bindMatrixNode:r,bindMatrixInverseNode:a}=this,o=e.element(n.x),s=e.element(n.y),l=e.element(n.z),c=e.element(n.w);let u=Wz(i.x.mul(o),i.y.mul(s),i.z.mul(l),i.w.mul(c));return u=a.mul(u).mul(r),u.transformDirection(t).xyz}getPreviousSkinnedPosition(e){const t=e.object;return null===this.previousBoneMatricesNode&&(t.skeleton.previousBoneMatrices=new Float32Array(t.skeleton.boneMatrices),this.previousBoneMatricesNode=nQ("skeleton.previousBoneMatrices","mat4",t.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,wW)}needsPreviousBoneMatrices(e){const t=e.renderer.getMRT();return t&&t.has("velocity")||!0===bV(e.object).useVelocity}setup(e){this.needsPreviousBoneMatrices(e)&&wW.assign(this.getPreviousSkinnedPosition(e));const t=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(t),e.hasGeometryAttribute("normal")){const t=this.getSkinnedNormal();RW.assign(t),e.hasGeometryAttribute("tangent")&&oQ.assign(t)}return t}generate(e,t){if("void"!==t)return super.generate(e,t)}update(e){const t=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;DY.get(t)!==e.frameId&&(DY.set(t,e.frameId),null!==this.previousBoneMatricesNode&&t.previousBoneMatrices.set(t.boneMatrices),t.update())}}const LY=e=>bj(new IY(e));class kY extends DV{static get type(){return"LoopNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.params=e}getVarName(e){return String.fromCharCode("i".charCodeAt(0)+e)}getProperties(e){const t=e.getNodeProperties(this);if(void 0!==t.stackNode)return t;const n={};for(let a=0,o=this.params.length-1;a<o;a++){const e=this.params[a],t=!0!==e.isNode&&e.name||this.getVarName(a),i=!0!==e.isNode&&e.type||"int";n[t]=bH(t,i)}const i=e.addStack();t.returnsNode=this.params[this.params.length-1](n,e),t.stackNode=i;const r=this.params[0];return!0!==r.isNode&&"function"===typeof r.update&&(t.updateNode=Mj(this.params[0].update)(n)),e.removeStack(),t}getNodeType(e){const{returnsNode:t}=this.getProperties(e);return t?t.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const t=this.getProperties(e),n=this.params,i=t.stackNode;for(let o=0,s=n.length-1;o<s;o++){const i=n[o];let r,a=!1,s=null,l=null,c=null,u=null,d=null,h=null;if(i.isNode?"bool"===i.getNodeType(e)?(a=!0,u="bool",l=i.build(e,u)):(u="int",c=this.getVarName(o),s="0",l=i.build(e,u),d="<"):(u=i.type||"int",c=i.name||this.getVarName(o),s=i.start,l=i.end,d=i.condition,h=i.update,"number"===typeof s?s=e.generateConst(u,s):s&&s.isNode&&(s=s.build(e,u)),"number"===typeof l?l=e.generateConst(u,l):l&&l.isNode&&(l=l.build(e,u)),void 0!==s&&void 0===l?(s+=" - 1",l="0",d=">="):void 0!==l&&void 0===s&&(s="0",d="<"),void 0===d&&(d=Number(s)>Number(l)?">=":"<")),a)r="while ( ".concat(l," )");else{const n={start:s,end:l},i=n.start,a=n.end;let o;const p=()=>d.includes("<")?"+=":"-=";if(void 0!==h&&null!==h)switch(typeof h){case"function":o=e.flowStagesNode(t.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":o=c+" "+p()+" "+e.generateConst(u,h);break;case"string":o=c+" "+h;break;default:h.isNode?o=c+" "+p()+" "+h.build(e):(console.error("THREE.TSL: 'Loop( { update: ... } )' is not a function, string or number."),o="break /* invalid update */")}else h="int"===u||"uint"===u?d.includes("<")?"++":"--":p()+" 1.",o=c+" "+h;const m=e.getVar(u,c)+" = "+i,f=c+" "+d+" "+a;r="for ( ".concat(m,"; ").concat(f,"; ").concat(o," )")}e.addFlowCode((0===o?"\n":"")+e.tab+r+" {\n\n").addFlowTab()}const r=i.build(e,"void"),a=t.returnsNode?t.returnsNode.build(e):"";e.removeFlowTab().addFlowCode("\n"+e.tab+r);for(let o=0,s=this.params.length-1;o<s;o++)e.addFlowCode((0===o?"":e.tab)+"}\n\n").removeFlowTab();return e.addFlowTab(),a}}const BY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bj(new kY(wj(t,"int"))).toStack()},FY=()=>bH("break").toStack(),OY=new WeakMap,UY=new Rs,VY=Mj(e=>{let{bufferMap:t,influence:n,stride:i,width:r,depth:a,offset:o}=e;const s=Ij(AY).mul(i).add(o),l=s.div(r),c=s.sub(l.mul(r));return FH(t,Fj(c,l)).depth(a).xyz.mul(n)});class jY extends DV{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=Fz(1),this.updateType=_V.OBJECT}setup(e){const{geometry:t}=e,n=void 0!==t.morphAttributes.position,i=t.hasAttribute("normal")&&void 0!==t.morphAttributes.normal,r=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,a=void 0!==r?r.length:0,{texture:o,stride:s,size:l}=function(e){const t=void 0!==e.morphAttributes.position,n=void 0!==e.morphAttributes.normal,i=void 0!==e.morphAttributes.color,r=e.morphAttributes.position||e.morphAttributes.normal||e.morphAttributes.color,a=void 0!==r?r.length:0;let o=OY.get(e);if(void 0===o||o.count!==a){void 0!==o&&o.texture.dispose();const s=e.morphAttributes.position||[],l=e.morphAttributes.normal||[],c=e.morphAttributes.color||[];let u=0;!0===t&&(u=1),!0===n&&(u=2),!0===i&&(u=3);let d=e.attributes.position.count*u,h=1;const p=4096;d>p&&(h=Math.ceil(d/p),d=p);const m=new Float32Array(d*h*4*a),f=new Ls(m,d,h,a);f.type=Or,f.needsUpdate=!0;const A=4*u;for(let v=0;v<a;v++){const y=s[v],b=l[v],x=c[v],w=d*h*4*v;for(let T=0;T<y.count;T++){const _=T*A;!0===t&&(UY.fromBufferAttribute(y,T),m[w+_+0]=UY.x,m[w+_+1]=UY.y,m[w+_+2]=UY.z,m[w+_+3]=0),!0===n&&(UY.fromBufferAttribute(b,T),m[w+_+4]=UY.x,m[w+_+5]=UY.y,m[w+_+6]=UY.z,m[w+_+7]=0),!0===i&&(UY.fromBufferAttribute(x,T),m[w+_+8]=UY.x,m[w+_+9]=UY.y,m[w+_+10]=UY.z,m[w+_+11]=4===x.itemSize?UY.w:1)}}function g(){f.dispose(),OY.delete(e),e.removeEventListener("dispose",g)}o={count:a,texture:f,stride:u,size:new is(d,h)},OY.set(e,o),e.addEventListener("dispose",g)}return o}(t);!0===n&&xW.mulAssign(this.morphBaseInfluence),!0===i&&RW.mulAssign(this.morphBaseInfluence);const c=Ij(l.width);BY(a,e=>{let{i:t}=e;const r=Dj(0).toVar();this.mesh.count>1&&null!==this.mesh.morphTexture&&void 0!==this.mesh.morphTexture?r.assign(FH(this.mesh.morphTexture,Fj(Ij(t).add(1),Ij(gY))).r):r.assign(tQ("morphTargetInfluences","float").element(t).toVar()),Pj(r.notEqual(0),()=>{!0===n&&xW.addAssign(VY({bufferMap:o,influence:r,stride:s,width:c,depth:t,offset:Ij(0)})),!0===i&&RW.addAssign(VY({bufferMap:o,influence:r,stride:s,width:c,depth:t,offset:Ij(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((e,t)=>e+t,0)}}const zY=Tj(jY).setParameterLength(1);class qY extends DV{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class GY extends qY{static get type(){return"AONode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class HY extends LG{static get type(){return"LightingContextNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(e),this.lightingModel=t,this.backdropNode=n,this.backdropAlphaNode=i,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:t}=this,n={directDiffuse:Vj().toVar("directDiffuse"),directSpecular:Vj().toVar("directSpecular"),indirectDiffuse:Vj().toVar("indirectDiffuse"),indirectSpecular:Vj().toVar("indirectSpecular")};return{radiance:Vj().toVar("radiance"),irradiance:Vj().toVar("irradiance"),iblIrradiance:Vj().toVar("iblIrradiance"),ambientOcclusion:Dj(1).toVar("ambientOcclusion"),reflectedLight:n,backdrop:e,backdropAlpha:t}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const WY=Tj(HY);class QY extends qY{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}let YY,XY;class KY extends DV{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===KY.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=_V.NONE;return this.scope!==KY.SIZE&&this.scope!==KY.VIEWPORT||(e=_V.RENDER),this.updateType=e,e}update(e){let{renderer:t}=e;const n=t.getRenderTarget();this.scope===KY.VIEWPORT?null!==n?XY.copy(n.viewport):(t.getViewport(XY),XY.multiplyScalar(t.getPixelRatio())):null!==n?(YY.width=n.width,YY.height=n.height):t.getDrawingBufferSize(YY)}setup(){const e=this.scope;let t=null;return t=e===KY.SIZE?Fz(YY||(YY=new is)):e===KY.VIEWPORT?Fz(XY||(XY=new Rs)):Bj($Y.div(JY)),t}generate(e){if(this.scope===KY.COORDINATE){let t=e.getFragCoord();if(e.isFlipY()){const n=e.getNodeProperties(JY).outputNode.build(e);t="".concat(e.getType("vec2"),"( ").concat(t,".x, ").concat(n,".y - ").concat(t,".y )")}return t}return super.generate(e)}}KY.COORDINATE="coordinate",KY.VIEWPORT="viewport",KY.SIZE="size",KY.UV="uv";const ZY=_j(KY,KY.UV),JY=_j(KY,KY.SIZE),$Y=_j(KY,KY.COORDINATE),eX=_j(KY,KY.VIEWPORT),tX=eX.zw,nX=$Y.sub(eX.xy),iX=nX.div(tX),rX=Mj(()=>(console.warn('THREE.TSL: "viewportResolution" is deprecated. Use "screenSize" instead.'),JY),"vec2").once()(),aX=Mj(()=>(console.warn('THREE.TSL: "viewportTopLeft" is deprecated. Use "screenUV" instead.'),ZY),"vec2").once()(),oX=Mj(()=>(console.warn('THREE.TSL: "viewportBottomLeft" is deprecated. Use "screenUV.flipY()" instead.'),ZY.flipY()),"vec2").once()(),sX=new is;class lX extends LH{static get type(){return"ViewportTextureNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new rh,n.minFilter=Nr),super(n,e,t),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=_V.FRAME}updateBefore(e){const t=e.renderer;t.getDrawingBufferSize(sX);const n=this.value;n.image.width===sX.width&&n.image.height===sX.height||(n.image.width=sX.width,n.image.height=sX.height,n.needsUpdate=!0);const i=n.generateMipmaps;n.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(n),n.generateMipmaps=i}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const cX=Tj(lX).setParameterLength(0,3),uX=Tj(lX,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let dX=null;class hX extends lX{static get type(){return"ViewportDepthTextureNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===dX&&(dX=new ch),super(e,t,dX)}}const pX=Tj(hX).setParameterLength(0,2);class mX extends DV{static get type(){return"ViewportDepthNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super("float"),this.scope=e,this.valueNode=t,this.isViewportDepthNode=!0}generate(e){const{scope:t}=this;return t===mX.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup(e){let{camera:t}=e;const{scope:n}=this,i=this.valueNode;let r=null;if(n===mX.DEPTH_BASE)null!==i&&(r=yX().assign(i));else if(n===mX.DEPTH)r=t.isPerspectiveCamera?AX(SW.z,HH,WH):fX(SW.z,HH,WH);else if(n===mX.LINEAR_DEPTH)if(null!==i)if(t.isPerspectiveCamera){const e=gX(i,HH,WH);r=fX(e,HH,WH)}else r=i;else r=fX(SW.z,HH,WH);return r}}mX.DEPTH_BASE="depthBase",mX.DEPTH="depth",mX.LINEAR_DEPTH="linearDepth";const fX=(e,t,n)=>e.add(t).div(t.sub(n)),AX=(e,t,n)=>t.add(e).mul(n).div(n.sub(t).mul(e)),gX=(e,t,n)=>t.mul(n).div(n.sub(t).mul(e).sub(n)),vX=(e,t,n)=>{t=t.max(1e-6).toVar();const i=Rq(e.negate().div(t)),r=Rq(n.div(t));return i.div(r)},yX=Tj(mX,mX.DEPTH_BASE),bX=_j(mX,mX.DEPTH),xX=Tj(mX,mX.LINEAR_DEPTH).setParameterLength(0,1),wX=xX(pX());bX.assign=e=>yX(e);class TX extends DV{static get type(){return"ClippingNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TX.DEFAULT;super(),this.scope=e}setup(e){super.setup(e);const t=e.clippingContext,{intersectionPlanes:n,unionPlanes:i}=t;return this.hardwareClipping=e.material.hardwareClipping,this.scope===TX.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(n,i):this.scope===TX.HARDWARE?this.setupHardwareClipping(i,e):this.setupDefault(n,i)}setupAlphaToCoverage(e,t){return Mj(()=>{const n=Dj().toVar("distanceToPlane"),i=Dj().toVar("distanceToGradient"),r=Dj(1).toVar("clipOpacity"),a=t.length;if(!1===this.hardwareClipping&&a>0){const e=zH(t);BY(a,t=>{let{i:a}=t;const o=e.element(a);n.assign(SW.dot(o.xyz).negate().add(o.w)),i.assign(n.fwidth().div(2)),r.mulAssign(TG(i.negate(),i,n))})}const o=e.length;if(o>0){const t=zH(e),a=Dj(1).toVar("intersectionClipOpacity");BY(o,e=>{let{i:r}=e;const o=t.element(r);n.assign(SW.dot(o.xyz).negate().add(o.w)),i.assign(n.fwidth().div(2)),a.mulAssign(TG(i.negate(),i,n).oneMinus())}),r.mulAssign(a.oneMinus())}nz.a.mulAssign(r),nz.a.equal(0).discard()})()}setupDefault(e,t){return Mj(()=>{const n=t.length;if(!1===this.hardwareClipping&&n>0){const e=zH(t);BY(n,t=>{let{i:n}=t;const i=e.element(n);SW.dot(i.xyz).greaterThan(i.w).discard()})}const i=e.length;if(i>0){const t=zH(e),n=kj(!0).toVar("clipped");BY(i,e=>{let{i:i}=e;const r=t.element(i);n.assign(SW.dot(r.xyz).greaterThan(r.w).and(n))}),n.discard()}})()}setupHardwareClipping(e,t){const n=e.length;return t.enableHardwareClipping(n),Mj(()=>{const i=zH(e),r=qH(t.getClipDistance());BY(n,e=>{let{i:t}=e;const n=i.element(t),a=SW.dot(n.xyz).sub(n.w).negate();r.element(t).assign(a)})})()}}TX.ALPHA_TO_COVERAGE="alphaToCoverage",TX.DEFAULT="default",TX.HARDWARE="hardware";const _X=Mj(e=>{let[t]=e;return Fq(Yz(1e4,Oq(Yz(17,t.x).add(Yz(.1,t.y)))).mul(Wz(.1,Gq(Oq(Yz(13,t.y).add(t.x))))))}),SX=Mj(e=>{let[t]=e;return _X(Bj(_X(t.xy),t.z))}),MX=Mj(e=>{let[t]=e;const n=aG(Wq(Xq(t.xyz)),Wq(Kq(t.xyz))),i=Dj(1).div(Dj(.05).mul(n)).toVar("pixScale"),r=Bj(Pq(Lq(Rq(i))),Pq(kq(Rq(i)))),a=Bj(SX(Lq(r.x.mul(t.xyz))),SX(Lq(r.y.mul(t.xyz)))),o=Fq(Rq(i)),s=Wz(Yz(o.oneMinus(),a.x),Yz(o,a.y)),l=rG(o,o.oneMinus()),c=Vj(s.mul(s).div(Yz(2,l).mul(Qz(1,l))),s.sub(Yz(.5,l)).div(Qz(1,l)),Qz(1,Qz(1,s).mul(Qz(1,s)).div(Yz(2,l).mul(Qz(1,l))))),u=s.lessThan(l.oneMinus()).select(s.lessThan(l).select(c.x,c.y),c.z);return bG(u,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class EX extends MH{static get type(){return"VertexColorNode"}constructor(e){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const t=this.getAttributeName(e);let n;return n=!0===e.hasGeometryAttribute(t)?super.generate(e):e.generateConst(this.nodeType,new Rs(1,1,1,1)),n}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const CX=function(){return bj(new EX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0))};class PX extends oc{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:e=>{console.warn('THREE.NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=e}})}customProgramCacheKey(){return this.type+cV(this)}build(e){this.setup(e)}setupObserver(e){return new rV(e)}setup(e){e.context.setupNormal=()=>this.setupNormal(e),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const t=e.renderer,n=t.getRenderTarget();e.addStack();const i=this.setupVertex(e),r=this.vertexNode||i;let a;e.stack.outputNode=r,this.setupHardwareClipping(e),null!==this.geometryNode&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();const o=this.setupClipping(e);if(!0!==this.depthWrite&&!0!==this.depthTest||(null!==n?!0===n.depthBuffer&&this.setupDepth(e):!0===t.depth&&this.setupDepth(e)),null===this.fragmentNode){this.setupDiffuseColor(e),this.setupVariants(e);const i=this.setupLighting(e);null!==o&&e.stack.add(o);const r=Gj(i,nz.a).max(0);a=this.setupOutput(e,r),bz.assign(a);const s=null!==this.outputNode;if(s&&(a=this.outputNode),null!==n){const e=t.getMRT(),n=this.mrtNode;null!==e?(s&&bz.assign(a),a=e,null!==n&&(a=e.merge(n))):null!==n&&(a=n)}}else{let t=this.fragmentNode;!0!==t.isOutputStructNode&&(t=Gj(t)),a=this.setupOutput(e,t)}e.stack.outputNode=a,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(null===e.clippingContext)return null;const{unionPlanes:t,intersectionPlanes:n}=e.clippingContext;let i=null;if(t.length>0||n.length>0){const t=e.renderer.samples;this.alphaToCoverage&&t>1?i=bj(new TX(TX.ALPHA_TO_COVERAGE)):e.stack.add(bj(new TX))}return i}setupHardwareClipping(e){if(this.hardwareClipping=!1,null===e.clippingContext)return;const t=e.clippingContext.unionPlanes.length;t>0&&t<=8&&e.isAvailable("clipDistance")&&(e.stack.add(bj(new TX(TX.HARDWARE))),this.hardwareClipping=!0)}setupDepth(e){const{renderer:t,camera:n}=e;let i=this.depthNode;if(null===i){const e=t.getMRT();e&&e.has("depth")?i=e.get("depth"):!0===t.logarithmicDepthBuffer&&(i=n.isPerspectiveCamera?vX(SW.z,HH,WH):fX(SW.z,HH,WH))}null!==i&&bX.assign(i).toStack()}setupPositionView(){return AW.mul(xW).xyz}setupModelViewProjection(){return QH.mul(SW)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),mY}setupPosition(e){const{object:t,geometry:n}=e;if((n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color)&&zY(t).toStack(),!0===t.isSkinnedMesh&&LY(t).toStack(),this.displacementMap){const e=rQ("displacementMap","texture"),t=rQ("displacementScale","float"),n=rQ("displacementBias","float");xW.addAssign(RW.normalize().mul(e.x.mul(t).add(n)))}return t.isBatchedMesh&&EY(t).toStack(),t.isInstancedMesh&&t.instanceMatrix&&!0===t.instanceMatrix.isInstancedBufferAttribute&&SY(t).toStack(),null!==this.positionNode&&xW.assign(pH(this.positionNode,"POSITION")),xW}setupDiffuseColor(e){let{object:t,geometry:n}=e;null!==this.maskNode&&kj(this.maskNode).not().discard();let i=this.colorNode?Gj(this.colorNode):RQ;if(!0===this.vertexColors&&n.hasAttribute("color")&&(i=i.mul(CX())),t.instanceColor){i=tz("vec3","vInstanceColor").mul(i)}if(t.isBatchedMesh&&t._colorsTexture){i=tz("vec3","vBatchColor").mul(i)}nz.assign(i);const r=this.opacityNode?Dj(this.opacityNode):LQ;nz.a.assign(nz.a.mul(r));let a=null;(null!==this.alphaTestNode||this.alphaTest>0)&&(a=null!==this.alphaTestNode?Dj(this.alphaTestNode):NQ,nz.a.lessThanEqual(a).discard()),!0===this.alphaHash&&nz.a.lessThan(MX(xW)).discard();!1===this.transparent&&this.blending===xi&&!1===this.alphaToCoverage?nz.a.assign(1):null===a&&nz.a.lessThanEqual(0).discard()}setupVariants(){}setupOutgoingLight(){return!0===this.lights?Vj(0):nz.rgb}setupNormal(){return this.normalNode?Vj(this.normalNode):zQ}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?rQ("envMap","cubeTexture"):rQ("envMap","texture")),e}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new QY(dY)),t}setupLights(e){const t=[],n=this.setupEnvironment(e);n&&n.isLightingNode&&t.push(n);const i=this.setupLightMap(e);if(i&&i.isLightingNode&&t.push(i),null!==this.aoNode||e.material.aoMap){const e=null!==this.aoNode?this.aoNode:hY;t.push(new GY(e))}let r=this.lightsNode||e.lightsNode;return t.length>0&&(r=e.renderer.lighting.createNode([...r.getLights(),...t])),r}setupLightingModel(){}setupLighting(e){const{material:t}=e,{backdropNode:n,backdropAlphaNode:i,emissiveNode:r}=this,a=!0===this.lights||null!==this.lightsNode?this.setupLights(e):null;let o=this.setupOutgoingLight(e);if(a&&a.getScope().hasLights){const t=this.setupLightingModel(e)||null;o=WY(a,t,n,i)}else null!==n&&(o=Vj(null!==i?yG(o,n,i):n));return(r&&!0===r.isNode||t.emissive&&!0===t.emissive.isColor)&&(iz.assign(Vj(r||IQ)),o=o.add(iz)),o}setupFog(e,t){const n=e.fogNode;return n&&(bz.assign(t),t=Gj(n)),t}setupOutput(e,t){return!0===this.fog&&(t=this.setupFog(e,t)),t}setDefaultValues(e){for(const n in e){const t=e[n];void 0===this[n]&&(this[n]=t,t&&t.clone&&(this[n]=t.clone()))}const t=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const n in t)void 0===Object.getOwnPropertyDescriptor(this.constructor.prototype,n)&&void 0!==t[n].get&&Object.defineProperty(this.constructor.prototype,n,t[n])}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{},nodes:{}});const n=oc.prototype.toJSON.call(this,e),i=uV(this);n.inputNodes={};for(const{property:a,childNode:o}of i)n.inputNodes[a]=o.toJSON(e).uuid;function r(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(t){const t=r(e.textures),i=r(e.images),a=r(e.nodes);t.length>0&&(n.textures=t),i.length>0&&(n.images=i),a.length>0&&(n.nodes=a)}return n}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.maskNode=e.maskNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.receivedShadowPositionNode=e.receivedShadowPositionNode,this.castShadowPositionNode=e.castShadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}}const NX=new kd;class RX extends PX{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(NX),this.setValues(e)}}const DX=new Qp;class IX extends PX{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(DX),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?Dj(this.offsetNode):lY,t=this.dashScaleNode?Dj(this.dashScaleNode):rY,n=this.dashSizeNode?Dj(this.dashSizeNode):aY,i=this.gapSizeNode?Dj(this.gapSizeNode):oY;xz.assign(n),wz.assign(i);const r=qG(EH("lineDistance").mul(t));(e?r.add(e):r).mod(xz.add(wz)).greaterThan(xz).discard()}}let LX=null;class kX extends lX{static get type(){return"ViewportSharedTextureNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===LX&&(LX=new rh),super(e,t,LX)}updateReference(){return this}}const BX=Tj(kX).setParameterLength(0,2);const FX=e=>bj(e).mul(.5).add(.5),OX=new zp;class UX extends PX{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(OX),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?Dj(this.opacityNode):LQ;nz.assign(KG(Gj(FX(kW),e),eo))}}class VX extends kV{static get type(){return"EquirectUVNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_W;super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,t=e.z.atan(e.x).mul(1/(2*Math.PI)).add(.5),n=e.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return Bj(t,n)}}const jX=Tj(VX).setParameterLength(0,1);class zX extends su{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,t){const n=t.minFilter,i=t.generateMipmaps;t.generateMipmaps=!0,this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r=new Qc(5,5,5),a=jX(_W),o=new PX;o.colorNode=BH(t,a,0),o.side=vi,o.blending=bi;const s=new Hc(r,o),l=new pu;l.add(s),t.minFilter===Nr&&(t.minFilter=Er);const c=new au(1,10,this),u=e.getMRT();return e.setMRT(null),c.update(e,l),e.setMRT(u),t.minFilter=n,t.currentGenerateMipmaps=i,s.geometry.dispose(),s.material.dispose(),this}}const qX=new WeakMap;class GX extends kV{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=JW(null);const t=new ou;t.isRenderTargetTexture=!0,this._defaultTexture=t,this.updateBeforeType=_V.RENDER}updateBefore(e){const{renderer:t,material:n}=e,i=this.envNode;if(i.isTextureNode||i.isMaterialReferenceNode){const e=i.isTextureNode?i.value:n[i.property];if(e&&e.isTexture){const n=e.mapping;if(n===Ar||n===gr){if(qX.has(e)){const t=qX.get(e);WX(t,e.mapping),this._cubeTexture=t}else{const n=e.image;if(function(e){return null!==e&&void 0!==e&&e.height>0}(n)){const i=new zX(n.height);i.fromEquirectangularTexture(t,e),WX(i.texture,e.mapping),this._cubeTexture=i.texture,qX.set(e,i.texture),e.addEventListener("dispose",HX)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function HX(e){const t=e.target;t.removeEventListener("dispose",HX);const n=qX.get(t);void 0!==n&&(qX.delete(t),n.dispose())}function WX(e,t){t===Ar?e.mapping=mr:t===gr&&(e.mapping=fr)}const QX=Tj(GX).setParameterLength(1);class YX extends qY{static get type(){return"BasicEnvironmentNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.envNode=e}setup(e){e.context.environment=QX(this.envNode)}}class XX extends qY{static get type(){return"BasicLightMapNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.lightMapNode=e}setup(e){const t=Dj(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(t)}}class KX{start(e){e.lightsNode.setupLights(e,e.lightsNode.getLightNodes(e)),this.indirect(e)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class ZX extends KX{constructor(){super()}indirect(e){let{context:t}=e;const n=t.ambientOcclusion,i=t.reflectedLight,r=t.irradianceLightMap;i.indirectDiffuse.assign(Gj(0)),r?i.indirectDiffuse.addAssign(r):i.indirectDiffuse.addAssign(Gj(1,1,1,0)),i.indirectDiffuse.mulAssign(n),i.indirectDiffuse.mulAssign(nz.rgb)}finish(e){const{material:t,context:n}=e,i=n.outgoingLight,r=e.context.environment;if(r)switch(t.combine){case er:i.rgb.assign(yG(i.rgb,i.rgb.mul(r.rgb),OQ.mul(UQ)));break;case tr:i.rgb.assign(yG(i.rgb,r.rgb,OQ.mul(UQ)));break;case nr:i.rgb.addAssign(r.rgb.mul(OQ.mul(UQ)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",t.combine)}}}const JX=new sc;class $X extends PX{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(JX),this.setValues(e)}setupNormal(){return IW}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new YX(t):null}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new XX(dY)),t}setupOutgoingLight(){return nz.rgb}setupLightingModel(){return new ZX}}const eK=Mj(e=>{let{f0:t,f90:n,dotVH:i}=e;const r=i.mul(-5.55473).sub(6.98316).mul(i).exp2();return t.mul(r.oneMinus()).add(n.mul(r))}),tK=Mj(e=>e.diffuseColor.mul(1/Math.PI)),nK=Mj(e=>{let{dotNH:t}=e;return yz.mul(Dj(.5)).add(1).mul(Dj(1/Math.PI)).mul(t.pow(yz))}),iK=Mj(e=>{let{lightDirection:t}=e;const n=t.add(MW).normalize(),i=kW.dot(n).clamp(),r=MW.dot(n).clamp(),a=eK({f0:gz,f90:1,dotVH:r}),o=Dj(.25),s=nK({dotNH:i});return a.mul(o).mul(s)});class rK extends ZX{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];super(),this.specular=e}direct(e){let{lightDirection:t,lightColor:n,reflectedLight:i}=e;const r=kW.dot(t).clamp().mul(n);i.directDiffuse.addAssign(r.mul(tK({diffuseColor:nz.rgb}))),!0===this.specular&&i.directSpecular.addAssign(r.mul(iK({lightDirection:t})).mul(OQ))}indirect(e){const{ambientOcclusion:t,irradiance:n,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(n.mul(tK({diffuseColor:nz}))),i.indirectDiffuse.mulAssign(t)}}const aK=new qp;class oK extends PX{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(aK),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new YX(t):null}setupLightingModel(){return new rK(!1)}}const sK=new Vp;class lK extends PX{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(sK),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new YX(t):null}setupLightingModel(){return new rK}setupVariants(){const e=(this.shininessNode?Dj(this.shininessNode):DQ).max(1e-4);yz.assign(e);const t=this.specularNode||kQ;gz.assign(t)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const cK=Mj(e=>{if(!1===e.geometry.hasAttribute("normal"))return Dj(0);const t=IW.dFdx().abs().max(IW.dFdy().abs());return t.x.max(t.y).max(t.z)}),uK=Mj(e=>{const{roughness:t}=e,n=cK();let i=t.max(.0525);return i=i.add(n),i=i.min(1),i}),dK=Mj(e=>{let{alpha:t,dotNL:n,dotNV:i}=e;const r=t.pow2(),a=n.mul(r.add(r.oneMinus().mul(i.pow2())).sqrt()),o=i.mul(r.add(r.oneMinus().mul(n.pow2())).sqrt());return Xz(.5,a.add(o).max(bq))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),hK=Mj(e=>{let{alphaT:t,alphaB:n,dotTV:i,dotBV:r,dotTL:a,dotBL:o,dotNV:s,dotNL:l}=e;const c=l.mul(Vj(t.mul(i),n.mul(r),s).length()),u=s.mul(Vj(t.mul(a),n.mul(o),l).length());return Xz(.5,c.add(u)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),pK=Mj(e=>{let{alpha:t,dotNH:n}=e;const i=t.pow2(),r=n.pow2().mul(i.oneMinus()).oneMinus();return i.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),mK=Dj(1/Math.PI),fK=Mj(e=>{let{alphaT:t,alphaB:n,dotNH:i,dotTH:r,dotBH:a}=e;const o=t.mul(n),s=Vj(n.mul(r),t.mul(a),o.mul(i)),l=s.dot(s),c=o.div(l);return mK.mul(o.mul(c.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),AK=Mj(e=>{const{lightDirection:t,f0:n,f90:i,roughness:r,f:a,USE_IRIDESCENCE:o,USE_ANISOTROPY:s}=e,l=e.normalView||kW,c=r.pow2(),u=t.add(MW).normalize(),d=l.dot(t).clamp(),h=l.dot(MW).clamp(),p=l.dot(u).clamp(),m=MW.dot(u).clamp();let f,A,g=eK({f0:n,f90:i,dotVH:m});if(gj(o)&&(g=uz.mix(g,a)),gj(s)){const e=fz.dot(t),n=fz.dot(MW),i=fz.dot(u),r=Az.dot(t),a=Az.dot(MW),o=Az.dot(u);f=hK({alphaT:pz,alphaB:c,dotTV:n,dotBV:a,dotTL:e,dotBL:r,dotNV:h,dotNL:d}),A=fK({alphaT:pz,alphaB:c,dotNH:p,dotTH:i,dotBH:o})}else f=dK({alpha:c,dotNL:d,dotNV:h}),A=pK({alpha:c,dotNH:p});return g.mul(f).mul(A)}),gK=Mj(e=>{let{roughness:t,dotNV:n}=e;const i=Gj(-1,-.0275,-.572,.022),r=Gj(1,.0425,1.04,-.04),a=t.mul(i).add(r),o=a.x.mul(a.x).min(n.mul(-9.28).exp2()).mul(a.x).add(a.y);return Bj(-1.04,1.04).mul(o).add(a.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),vK=Mj(e=>{const{dotNV:t,specularColor:n,specularF90:i,roughness:r}=e,a=gK({dotNV:t,roughness:r});return n.mul(a.x).add(i.mul(a.y))}),yK=Mj(e=>{let{f:t,f90:n,dotVH:i}=e;const r=i.oneMinus().saturate(),a=r.mul(r),o=r.mul(a,a).clamp(0,.9999);return t.sub(Vj(n).mul(o)).div(o.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),bK=Mj(e=>{let{roughness:t,dotNH:n}=e;const i=t.pow2(),r=Dj(1).div(i),a=n.pow2().oneMinus().max(.0078125);return Dj(2).add(r).mul(a.pow(r.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),xK=Mj(e=>{let{dotNV:t,dotNL:n}=e;return Dj(1).div(Dj(4).mul(n.add(t).sub(n.mul(t))))}).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),wK=Mj(e=>{let{lightDirection:t}=e;const n=t.add(MW).normalize(),i=kW.dot(t).clamp(),r=kW.dot(MW).clamp(),a=kW.dot(n).clamp(),o=bK({roughness:cz,dotNH:a}),s=xK({dotNV:r,dotNL:i});return lz.mul(o).mul(s)}),TK=Mj(e=>{let{N:t,V:n,roughness:i}=e;const r=t.dot(n).saturate(),a=Bj(i,r.oneMinus().sqrt());return a.assign(a.mul(.984375).add(.0078125)),a}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),_K=Mj(e=>{let{f:t}=e;const n=t.length();return aG(n.mul(n).add(t.z).div(n.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),SK=Mj(e=>{let{v1:t,v2:n}=e;const i=t.dot(n),r=i.abs().toVar(),a=r.mul(.0145206).add(.4965155).mul(r).add(.8543985).toVar(),o=r.add(4.1616724).mul(r).add(3.417594).toVar(),s=a.div(o),l=i.greaterThan(0).select(s,aG(i.mul(i).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(s));return t.cross(n).mul(l)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),MK=Mj(e=>{let{N:t,V:n,P:i,mInv:r,p0:a,p1:o,p2:s,p3:l}=e;const c=o.sub(a).toVar(),u=l.sub(a).toVar(),d=c.cross(u),h=Vj().toVar();return Pj(d.dot(i.sub(a)).greaterThanEqual(0),()=>{const e=n.sub(t.mul(n.dot(t))).normalize(),c=t.cross(e).negate(),u=r.mul(Xj(e,c,t).transpose()).toVar(),d=u.mul(a.sub(i)).normalize().toVar(),p=u.mul(o.sub(i)).normalize().toVar(),m=u.mul(s.sub(i)).normalize().toVar(),f=u.mul(l.sub(i)).normalize().toVar(),A=Vj(0).toVar();A.addAssign(SK({v1:d,v2:p})),A.addAssign(SK({v1:p,v2:m})),A.addAssign(SK({v1:m,v2:f})),A.addAssign(SK({v1:f,v2:d})),h.assign(Vj(_K({f:A})))}),h}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),EK=1/6,CK=e=>Yz(EK,Yz(e,Yz(e,e.negate().add(3)).sub(3)).add(1)),PK=e=>Yz(EK,Yz(e,Yz(e,Yz(3,e).sub(6))).add(4)),NK=e=>Yz(EK,Yz(e,Yz(e,Yz(-3,e).add(3)).add(3)).add(1)),RK=e=>Yz(EK,hG(e,3)),DK=e=>CK(e).add(PK(e)),IK=e=>NK(e).add(RK(e)),LK=e=>Wz(-1,PK(e).div(CK(e).add(PK(e)))),kK=e=>Wz(1,RK(e).div(NK(e).add(RK(e)))),BK=(e,t,n)=>{const i=e.uvNode,r=Yz(i,t.zw).add(.5),a=Lq(r),o=Fq(r),s=DK(o.x),l=IK(o.x),c=LK(o.x),u=kK(o.x),d=LK(o.y),h=kK(o.y),p=Bj(a.x.add(c),a.y.add(d)).sub(.5).mul(t.xy),m=Bj(a.x.add(u),a.y.add(d)).sub(.5).mul(t.xy),f=Bj(a.x.add(c),a.y.add(h)).sub(.5).mul(t.xy),A=Bj(a.x.add(u),a.y.add(h)).sub(.5).mul(t.xy),g=DK(o.y).mul(Wz(s.mul(e.sample(p).level(n)),l.mul(e.sample(m).level(n)))),v=IK(o.y).mul(Wz(s.mul(e.sample(f).level(n)),l.mul(e.sample(A).level(n))));return g.add(v)},FK=Mj(e=>{let[t,n=Dj(3)]=e;const i=Bj(t.size(Ij(n))),r=Bj(t.size(Ij(n.add(1)))),a=Xz(1,i),o=Xz(1,r),s=BK(t,Gj(a,i),Lq(n)),l=BK(t,Gj(o,r),kq(n));return Fq(n).mix(s,l)}),OK=Mj(e=>{let[t,n,i,r,a]=e;const o=Vj(wG(n.negate(),Bq(t),Xz(1,r))),s=Vj(Wq(a[0].xyz),Wq(a[1].xyz),Wq(a[2].xyz));return Bq(o).mul(i.mul(s))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),UK=Mj(e=>{let[t,n]=e;return t.mul(bG(n.mul(2).sub(2),0,1))}).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),VK=uX(),jK=uX(),zK=Mj((e,t)=>{let[n,i,r]=e,{material:a}=t;const o=(a.side===vi?VK:jK).sample(n),s=Rq(JY.x).mul(UK(i,r));return FK(o,s)}),qK=Mj(e=>{let[t,n,i]=e;return Pj(i.notEqual(0),()=>{const e=Nq(n).negate().div(i);return Cq(e.negate().mul(t))}),Vj(1)}).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),GK=Mj(e=>{let t,n,[i,r,a,o,s,l,c,u,d,h,p,m,f,A,g]=e;if(g){t=Gj().toVar(),n=Vj().toVar();const e=p.sub(1).mul(g.mul(.025)),s=Vj(p.sub(e),p,p.add(e));BY({start:0,end:3},e=>{let{i:l}=e;const p=s.element(l),g=OK(i,r,m,p,u),v=c.add(g),y=h.mul(d.mul(Gj(v,1))),b=Bj(y.xy.div(y.w)).toVar();b.addAssign(1),b.divAssign(2),b.assign(Bj(b.x,b.y.oneMinus()));const x=zK(b,a,p);t.element(l).assign(x.element(l)),t.a.addAssign(x.a),n.element(l).assign(o.element(l).mul(qK(Wq(g),f,A).element(l)))}),t.a.divAssign(3)}else{const e=OK(i,r,m,p,u),s=c.add(e),l=h.mul(d.mul(Gj(s,1))),g=Bj(l.xy.div(l.w)).toVar();g.addAssign(1),g.divAssign(2),g.assign(Bj(g.x,g.y.oneMinus())),t=zK(g,a,p),n=o.mul(qK(Wq(e),f,A))}const v=n.rgb.mul(t.rgb),y=i.dot(r).clamp(),b=Vj(vK({dotNV:y,specularColor:s,specularF90:l,roughness:a})),x=n.r.add(n.g,n.b).div(3);return Gj(b.oneMinus().mul(v),t.a.oneMinus().mul(x).oneMinus())}),HK=Xj(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),WK=(e,t)=>e.sub(t).div(e.add(t)).pow2(),QK=Mj(e=>{let{outsideIOR:t,eta2:n,cosTheta1:i,thinFilmThickness:r,baseF0:a}=e;const o=yG(t,n,TG(0,.03,r)),s=t.div(o).pow2().mul(i.pow2().oneMinus()).oneMinus();Pj(s.lessThan(0),()=>Vj(1));const l=s.sqrt(),c=WK(o,t),u=eK({f0:c,f90:1,dotVH:i}),d=u.oneMinus(),h=o.lessThan(t).select(Math.PI,0),p=Dj(Math.PI).sub(h),m=(e=>{const t=e.sqrt();return Vj(1).add(t).div(Vj(1).sub(t))})(a.clamp(0,.9999)),f=WK(m,o.toVec3()),A=eK({f0:f,f90:1,dotVH:l}),g=Vj(m.x.lessThan(o).select(Math.PI,0),m.y.lessThan(o).select(Math.PI,0),m.z.lessThan(o).select(Math.PI,0)),v=o.mul(r,l,2),y=Vj(p).add(g),b=u.mul(A).clamp(1e-5,.9999),x=b.sqrt(),w=d.pow2().mul(A).div(Vj(1).sub(b)),T=u.add(w).toVar(),_=w.sub(d).toVar();return BY({start:1,end:2,condition:"<=",name:"m"},e=>{let{m:t}=e;_.mulAssign(x);const n=((e,t)=>{const n=e.mul(2*Math.PI*1e-9),i=Vj(54856e-17,44201e-17,52481e-17),r=Vj(1681e3,1795300,2208400),a=Vj(43278e5,93046e5,66121e5),o=Dj(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(n.mul(2239900).add(t.x).cos()).mul(n.pow2().mul(-45282e5).exp());let s=i.mul(a.mul(2*Math.PI).sqrt()).mul(r.mul(n).add(t).cos()).mul(n.pow2().negate().mul(a).exp());return s=Vj(s.x.add(o),s.y,s.z).div(1.0685e-7),HK.mul(s)})(Dj(t).mul(v),Dj(t).mul(y)).mul(2);T.addAssign(_.mul(n))}),T.max(Vj(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),YK=Mj(e=>{let{normal:t,viewDir:n,roughness:i}=e;const r=t.dot(n).saturate(),a=i.pow2(),o=DG(i.lessThan(.25),Dj(-339.2).mul(a).add(Dj(161.4).mul(i)).sub(25.9),Dj(-8.48).mul(a).add(Dj(14.3).mul(i)).sub(9.95)),s=DG(i.lessThan(.25),Dj(44).mul(a).sub(Dj(23.7).mul(i)).add(3.26),Dj(1.97).mul(a).sub(Dj(3.27).mul(i)).add(.72));return DG(i.lessThan(.25),0,Dj(.1).mul(i).sub(.025)).add(o.mul(r).add(s).exp()).mul(1/Math.PI).saturate()}),XK=Vj(.04),KK=Dj(1);class ZK extends KX{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];super(),this.clearcoat=e,this.sheen=t,this.iridescence=n,this.anisotropy=i,this.transmission=r,this.dispersion=a,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(!0===this.clearcoat&&(this.clearcoatRadiance=Vj().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=Vj().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=Vj().toVar("clearcoatSpecularIndirect")),!0===this.sheen&&(this.sheenSpecularDirect=Vj().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=Vj().toVar("sheenSpecularIndirect")),!0===this.iridescence){const e=kW.dot(MW).clamp();this.iridescenceFresnel=QK({outsideIOR:Dj(1),eta2:dz,cosTheta1:e,thinFilmThickness:hz,baseF0:gz}),this.iridescenceF0=yK({f:this.iridescenceFresnel,f90:1,dotVH:e})}if(!0===this.transmission){const t=TW,n=JH.sub(TW).normalize(),i=BW,r=e.context;r.backdrop=GK(i,n,rz,nz,gz,vz,t,cW,XH,QH,_z,Mz,Cz,Ez,this.dispersion?Pz:null),r.backdropAlpha=Sz,nz.a.mulAssign(yG(1,r.backdrop.a,Sz))}super.start(e)}computeMultiscattering(e,t,n){const i=kW.dot(MW).clamp(),r=gK({roughness:rz,dotNV:i}),a=(this.iridescenceF0?uz.mix(gz,this.iridescenceF0):gz).mul(r.x).add(n.mul(r.y)),o=r.x.add(r.y).oneMinus(),s=gz.add(gz.oneMinus().mul(.047619)),l=a.mul(s).div(o.mul(s).oneMinus());e.addAssign(a),t.addAssign(l.mul(o))}direct(e){let{lightDirection:t,lightColor:n,reflectedLight:i}=e;const r=kW.dot(t).clamp().mul(n);if(!0===this.sheen&&this.sheenSpecularDirect.addAssign(r.mul(wK({lightDirection:t}))),!0===this.clearcoat){const e=FW.dot(t).clamp().mul(n);this.clearcoatSpecularDirect.addAssign(e.mul(AK({lightDirection:t,f0:XK,f90:KK,roughness:sz,normalView:FW})))}i.directDiffuse.addAssign(r.mul(tK({diffuseColor:nz.rgb}))),i.directSpecular.addAssign(r.mul(AK({lightDirection:t,f0:gz,f90:1,roughness:rz,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea(e){let{lightColor:t,lightPosition:n,halfWidth:i,halfHeight:r,reflectedLight:a,ltc_1:o,ltc_2:s}=e;const l=n.add(i).sub(r),c=n.sub(i).sub(r),u=n.sub(i).add(r),d=n.add(i).add(r),h=kW,p=MW,m=SW.toVar(),f=TK({N:h,V:p,roughness:rz}),A=o.sample(f).toVar(),g=s.sample(f).toVar(),v=Xj(Vj(A.x,0,A.y),Vj(0,1,0),Vj(A.z,0,A.w)).toVar(),y=gz.mul(g.x).add(gz.oneMinus().mul(g.y)).toVar();a.directSpecular.addAssign(t.mul(y).mul(MK({N:h,V:p,P:m,mInv:v,p0:l,p1:c,p2:u,p3:d}))),a.directDiffuse.addAssign(t.mul(nz).mul(MK({N:h,V:p,P:m,mInv:Xj(1,0,0,0,1,0,0,0,1),p0:l,p1:c,p2:u,p3:d})))}indirect(e){this.indirectDiffuse(e),this.indirectSpecular(e),this.ambientOcclusion(e)}indirectDiffuse(e){const{irradiance:t,reflectedLight:n}=e.context;n.indirectDiffuse.addAssign(t.mul(tK({diffuseColor:nz})))}indirectSpecular(e){const{radiance:t,iblIrradiance:n,reflectedLight:i}=e.context;if(!0===this.sheen&&this.sheenSpecularIndirect.addAssign(n.mul(lz,YK({normal:kW,viewDir:MW,roughness:cz}))),!0===this.clearcoat){const e=FW.dot(MW).clamp(),t=vK({dotNV:e,specularColor:XK,specularF90:KK,roughness:sz});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(t))}const r=Vj().toVar("singleScattering"),a=Vj().toVar("multiScattering"),o=n.mul(1/Math.PI);this.computeMultiscattering(r,a,vz);const s=r.add(a),l=nz.mul(s.r.max(s.g).max(s.b).oneMinus());i.indirectSpecular.addAssign(t.mul(r)),i.indirectSpecular.addAssign(a.mul(o)),i.indirectDiffuse.addAssign(l.mul(o))}ambientOcclusion(e){const{ambientOcclusion:t,reflectedLight:n}=e.context,i=kW.dot(MW).clamp().add(t),r=rz.mul(-16).oneMinus().negate().exp2(),a=t.sub(i.pow(r).oneMinus()).clamp();!0===this.clearcoat&&this.clearcoatSpecularIndirect.mulAssign(t),!0===this.sheen&&this.sheenSpecularIndirect.mulAssign(t),n.indirectDiffuse.mulAssign(t),n.indirectSpecular.mulAssign(a)}finish(e){let{context:t}=e;const{outgoingLight:n}=t;if(!0===this.clearcoat){const e=FW.dot(MW).clamp(),t=eK({dotVH:e,f0:XK,f90:KK}),i=n.mul(oz.mul(t).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(oz));n.assign(i)}if(!0===this.sheen){const e=lz.r.max(lz.g).max(lz.b).mul(.157).oneMinus(),t=n.mul(e).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);n.assign(t)}}}const JK=Dj(1),$K=Dj(-2),eZ=Dj(.8),tZ=Dj(-1),nZ=Dj(.4),iZ=Dj(2),rZ=Dj(.305),aZ=Dj(3),oZ=Dj(.21),sZ=Dj(4),lZ=Dj(4),cZ=Dj(16),uZ=Mj(e=>{let[t]=e;const n=Vj(Gq(t)).toVar(),i=Dj(-1).toVar();return Pj(n.x.greaterThan(n.z),()=>{Pj(n.x.greaterThan(n.y),()=>{i.assign(DG(t.x.greaterThan(0),0,3))}).Else(()=>{i.assign(DG(t.y.greaterThan(0),1,4))})}).Else(()=>{Pj(n.z.greaterThan(n.y),()=>{i.assign(DG(t.z.greaterThan(0),2,5))}).Else(()=>{i.assign(DG(t.y.greaterThan(0),1,4))})}),i}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),dZ=Mj(e=>{let[t,n]=e;const i=Bj().toVar();return Pj(n.equal(0),()=>{i.assign(Bj(t.z,t.y).div(Gq(t.x)))}).ElseIf(n.equal(1),()=>{i.assign(Bj(t.x.negate(),t.z.negate()).div(Gq(t.y)))}).ElseIf(n.equal(2),()=>{i.assign(Bj(t.x.negate(),t.y).div(Gq(t.z)))}).ElseIf(n.equal(3),()=>{i.assign(Bj(t.z.negate(),t.y).div(Gq(t.x)))}).ElseIf(n.equal(4),()=>{i.assign(Bj(t.x.negate(),t.z).div(Gq(t.y)))}).Else(()=>{i.assign(Bj(t.x,t.y).div(Gq(t.z)))}),Yz(.5,i.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),hZ=Mj(e=>{let[t]=e;const n=Dj(0).toVar();return Pj(t.greaterThanEqual(eZ),()=>{n.assign(JK.sub(t).mul(tZ.sub($K)).div(JK.sub(eZ)).add($K))}).ElseIf(t.greaterThanEqual(nZ),()=>{n.assign(eZ.sub(t).mul(iZ.sub(tZ)).div(eZ.sub(nZ)).add(tZ))}).ElseIf(t.greaterThanEqual(rZ),()=>{n.assign(nZ.sub(t).mul(aZ.sub(iZ)).div(nZ.sub(rZ)).add(iZ))}).ElseIf(t.greaterThanEqual(oZ),()=>{n.assign(rZ.sub(t).mul(sZ.sub(aZ)).div(rZ.sub(oZ)).add(aZ))}).Else(()=>{n.assign(Dj(-2).mul(Rq(Yz(1.16,t))))}),n}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),pZ=Mj(e=>{let[t,n]=e;const i=t.toVar();i.assign(Yz(2,i).sub(1));const r=Vj(i,1).toVar();return Pj(n.equal(0),()=>{r.assign(r.zyx)}).ElseIf(n.equal(1),()=>{r.assign(r.xzy),r.xz.mulAssign(-1)}).ElseIf(n.equal(2),()=>{r.x.mulAssign(-1)}).ElseIf(n.equal(3),()=>{r.assign(r.zyx),r.xz.mulAssign(-1)}).ElseIf(n.equal(4),()=>{r.assign(r.xzy),r.xy.mulAssign(-1)}).ElseIf(n.equal(5),()=>{r.z.mulAssign(-1)}),r}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),mZ=Mj(e=>{let[t,n,i,r,a,o]=e;const s=Dj(i),l=Vj(n),c=bG(hZ(s),$K,o),u=Fq(c),d=Lq(c),h=Vj(fZ(t,l,d,r,a,o)).toVar();return Pj(u.notEqual(0),()=>{const e=Vj(fZ(t,l,d.add(1),r,a,o)).toVar();h.assign(yG(h,e,u))}),h}),fZ=Mj(e=>{let[t,n,i,r,a,o]=e;const s=Dj(i).toVar(),l=Vj(n),c=Dj(uZ(l)).toVar(),u=Dj(aG(lZ.sub(s),0)).toVar();s.assign(aG(s,lZ));const d=Dj(Pq(s)).toVar(),h=Bj(dZ(l,c).mul(d.sub(2)).add(1)).toVar();return Pj(c.greaterThan(2),()=>{h.y.addAssign(d),c.subAssign(3)}),h.x.addAssign(c.mul(d)),h.x.addAssign(u.mul(Yz(3,cZ))),h.y.addAssign(Yz(4,Pq(o).sub(d))),h.x.mulAssign(r),h.y.mulAssign(a),t.sample(h).grad(Bj(),Bj())}),AZ=Mj(e=>{let{envMap:t,mipInt:n,outputDirection:i,theta:r,axis:a,CUBEUV_TEXEL_WIDTH:o,CUBEUV_TEXEL_HEIGHT:s,CUBEUV_MAX_MIP:l}=e;const c=Uq(r),u=i.mul(c).add(a.cross(i).mul(Oq(r))).add(a.mul(a.dot(i).mul(c.oneMinus())));return fZ(t,u,n,o,s,l)}),gZ=Mj(e=>{let{n:t,latitudinal:n,poleAxis:i,outputDirection:r,weights:a,samples:o,dTheta:s,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h}=e;const p=Vj(DG(n,i,dG(i,r))).toVar();Pj(p.equal(Vj(0)),()=>{p.assign(Vj(r.z,0,r.x.negate()))}),p.assign(Bq(p));const m=Vj().toVar();return m.addAssign(a.element(0).mul(AZ({theta:0,axis:p,outputDirection:r,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h}))),BY({start:Ij(1),end:t},e=>{let{i:t}=e;Pj(t.greaterThanEqual(o),()=>{FY()});const n=Dj(s.mul(Dj(t))).toVar();m.addAssign(a.element(t).mul(AZ({theta:n.mul(-1),axis:p,outputDirection:r,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h}))),m.addAssign(a.element(t).mul(AZ({theta:n,axis:p,outputDirection:r,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h})))}),Gj(m,1)}),vZ=[.125,.215,.35,.446,.526,.582],yZ=20,bZ=new Vm(-1,1,1,-1,0,1),xZ=new iu(90,1),wZ=new ic;let TZ=null,_Z=0,SZ=0;const MZ=(1+Math.sqrt(5))/2,EZ=1/MZ,CZ=[new as(-MZ,EZ,0),new as(MZ,EZ,0),new as(-EZ,0,MZ),new as(EZ,0,MZ),new as(0,MZ,-EZ),new as(0,MZ,EZ),new as(-1,1,-1),new as(1,1,-1),new as(-1,1,1),new as(1,1,1)],PZ=new as,NZ=new WeakMap,RZ=[3,1,5,0,4,2],DZ=pZ(CH(),EH("faceIndex")).normalize(),IZ=Vj(DZ.x,DZ.y,DZ.z);class LZ{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{size:a=256,position:o=PZ,renderTarget:s=null}=r;if(this._setSize(a),!1===this._hasInitialized){console.warn("THREE.PMREMGenerator: .fromScene() called before the backend is initialized. Try using .fromSceneAsync() instead.");const a=s||this._allocateTarget();return r.renderTarget=a,this.fromSceneAsync(e,t,n,i,r),a}TZ=this._renderer.getRenderTarget(),_Z=this._renderer.getActiveCubeFace(),SZ=this._renderer.getActiveMipmapLevel();const l=s||this._allocateTarget();return l.depthBuffer=!0,this._init(l),this._sceneToCubeUV(e,n,i,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}async fromSceneAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return!1===this._hasInitialized&&await this._renderer.init(),this.fromScene(e,t,n,i,r)}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!1===this._hasInitialized){console.warn("THREE.PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using .fromEquirectangularAsync() instead."),this._setSizeFromTexture(e);const n=t||this._allocateTarget();return this.fromEquirectangularAsync(e,n),n}return this._fromTexture(e,t)}async fromEquirectangularAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!1===this._hasInitialized&&await this._renderer.init(),this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!1===this._hasInitialized){console.warn("THREE.PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const n=t||this._allocateTarget();return this.fromCubemapAsync(e,t),n}return this._fromTexture(e,t)}async fromCubemapAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!1===this._hasInitialized&&await this._renderer.init(),this._fromTexture(e,t)}async compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=OZ(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=UZ(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===mr||e.mapping===fr?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(TZ,_Z,SZ),e.scissorTest=!1,BZ(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSizeFromTexture(e),TZ=this._renderer.getRenderTarget(),_Z=this._renderer.getActiveCubeFace(),SZ=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTarget();return this._init(n),this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTarget(){return kZ(3*Math.max(this._cubeSize,112),4*this._cubeSize)}_init(e){if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e.width||this._pingPongRenderTarget.height!==e.height){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=kZ(e.width,e.height);const{_lodMax:t}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=function(e){const t=[],n=[],i=[],r=[];let a=e;const o=e-4+1+vZ.length;for(let s=0;s<o;s++){const o=Math.pow(2,a);n.push(o);let l=1/o;s>e-4?l=vZ[s-e+4-1]:0===s&&(l=0),i.push(l);const c=1/(o-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,m=6,f=3,A=2,g=1,v=new Float32Array(f*m*p),y=new Float32Array(A*m*p),b=new Float32Array(g*m*p);for(let e=0;e<p;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0],r=RZ[e];v.set(i,f*m*r),y.set(h,A*m*r);const a=[r,r,r,r,r,r];b.set(a,g*m*r)}const x=new Ic;x.setAttribute("position",new Ac(v,f)),x.setAttribute("uv",new Ac(y,A)),x.setAttribute("faceIndex",new Ac(b,g)),t.push(x),r.push(new Hc(x,null)),a>4&&a--}return{lodPlanes:t,sizeLods:n,sigmas:i,lodMeshes:r}}(t)),this._blurMaterial=function(e,t,n){const i=zH(new Array(yZ).fill(0)),r=Fz(new as(0,1,0)),a=Fz(0),o=Dj(yZ),s=Fz(0),l=Fz(1),c=BH(null),u=Fz(0),d=Dj(1/t),p=Dj(1/n),m=Dj(e),f={n:o,latitudinal:s,weights:i,poleAxis:r,outputDirection:IZ,dTheta:a,samples:l,envMap:c,mipInt:u,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:p,CUBEUV_MAX_MIP:m},A=FZ("blur");return A.fragmentNode=gZ(h(h({},f),{},{latitudinal:s.equal(1)})),NZ.set(A,f),A}(t,e.width,e.height)}}async _compileMaterial(e){const t=new Hc(this._lodPlanes[0],e);await this._renderer.compile(t,bZ)}_sceneToCubeUV(e,t,n,i,r){const a=xZ;a.near=t,a.far=n;const o=[1,1,1,1,-1,1],s=[1,-1,1,-1,1,-1],l=this._renderer,c=l.autoClear;l.getClearColor(wZ),l.autoClear=!1;let u=this._backgroundBox;if(null===u){const e=new sc({name:"PMREM.Background",side:vi,depthWrite:!1,depthTest:!1});u=new Hc(new Qc,e)}let d=!1;const h=e.background;h?h.isColor&&(u.material.color.copy(h),e.background=null,d=!0):(u.material.color.copy(wZ),d=!0),l.setRenderTarget(i),l.clear(),d&&l.render(u,a);for(let p=0;p<6;p++){const t=p%3;0===t?(a.up.set(0,o[p],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x+s[p],r.y,r.z)):1===t?(a.up.set(0,0,o[p]),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y+s[p],r.z)):(a.up.set(0,o[p],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y,r.z+s[p]));const n=this._cubeSize;BZ(i,t*n,p>2?n:0,n,n),l.render(e,a)}l.autoClear=c,e.background=h}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===mr||e.mapping===fr;i?null===this._cubemapMaterial&&(this._cubemapMaterial=OZ(e)):null===this._equirectMaterial&&(this._equirectMaterial=UZ(e));const r=i?this._cubemapMaterial:this._equirectMaterial;r.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=r;const o=this._cubeSize;BZ(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,bZ)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=CZ[(i-r-1)%CZ.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,i,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=this._lodMeshes[i];c.material=l;const u=NZ.get(l),d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,m=isFinite(r)?1+Math.floor(3*p):yZ;m>yZ&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(m," samples when the maximum is set to ").concat(yZ));const f=[];let A=0;for(let y=0;y<yZ;++y){const e=y/p,t=Math.exp(-e*e/2);f.push(t),0===y?A+=t:y<m&&(A+=2*t)}for(let y=0;y<f.length;y++)f[y]=f[y]/A;e.texture.frame=(e.texture.frame||0)+1,u.envMap.value=e.texture,u.samples.value=m,u.weights.array=f,u.latitudinal.value="latitudinal"===a?1:0,o&&(u.poleAxis.value=o);const{_lodMax:g}=this;u.dTheta.value=h,u.mipInt.value=g-n;const v=this._sizeLods[i];BZ(t,3*v*(i>g-4?i-g+4:0),4*(this._cubeSize-v),3*v,2*v),s.setRenderTarget(t),s.render(c,bZ)}}function kZ(e,t){const n=new Ds(e,t,{magFilter:Er,minFilter:Er,generateMipmaps:!1,type:Ur,format:Wr,colorSpace:to});return n.texture.mapping=vr,n.texture.name="PMREM.cubeUv",n.texture.isPMREMTexture=!0,n.scissorTest=!0,n}function BZ(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function FZ(e){const t=new PX;return t.depthTest=!1,t.depthWrite=!1,t.blending=bi,t.name="PMREM_".concat(e),t}function OZ(e){const t=FZ("cubemap");return t.fragmentNode=JW(e,IZ),t}function UZ(e){const t=FZ("equirect");return t.fragmentNode=BH(e,jX(IZ),0),t}const VZ=new WeakMap;function jZ(e,t,n){const i=function(e){let t=VZ.get(e);void 0===t&&(t=new WeakMap,VZ.set(e,t));return t}(t);let r=i.get(e);if((void 0!==r?r.pmremVersion:-1)!==e.pmremVersion){const t=e.image;if(e.isCubeTexture){if(!function(e){if(null===e||void 0===e)return!1;let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}(t))return null;r=n.fromCubemap(e,r)}else{if(!function(e){return null!==e&&void 0!==e&&e.height>0}(t))return null;r=n.fromEquirectangular(e,r)}r.pmremVersion=e.pmremVersion,i.set(e,r)}return r.texture}class zZ extends kV{static get type(){return"PMREMNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super("vec3"),this._value=e,this._pmrem=null,this.uvNode=t,this.levelNode=n,this._generator=null;const i=new Ns;i.isRenderTargetTexture=!0,this._texture=BH(i),this._width=Fz(0),this._height=Fz(0),this._maxMip=Fz(0),this.updateBeforeType=_V.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const t=function(e){const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}(e.image.height);this._texture.value=e,this._width.value=t.texelWidth,this._height.value=t.texelHeight,this._maxMip.value=t.maxMip}updateBefore(e){let t=this._pmrem;const n=t?t.pmremVersion:-1,i=this._value;n!==i.pmremVersion&&(t=!0===i.isPMREMTexture?i:jZ(i,e.renderer,this._generator),null!==t&&(this._pmrem=t,this.updateFromTexture(t)))}setup(e){null===this._generator&&(this._generator=new LZ(e.renderer)),this.updateBefore(e);let t=this.uvNode;null===t&&e.context.getUV&&(t=e.context.getUV(this)),t=GW.mul(Vj(t.x,t.y.negate(),t.z));let n=this.levelNode;return null===n&&e.context.getTextureLevel&&(n=e.context.getTextureLevel(this)),mZ(this._texture,t,n,this._width,this._height,this._maxMip)}dispose(){super.dispose(),null!==this._generator&&this._generator.dispose()}}const qZ=Tj(zZ).setParameterLength(1,3),GZ=new WeakMap;class HZ extends qY{static get type(){return"EnvironmentNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.envNode=e}setup(e){const{material:t}=e;let n=this.envNode;if(n.isTextureNode||n.isMaterialReferenceNode){const e=n.isTextureNode?n.value:t[n.property];let i=GZ.get(e);void 0===i&&(i=qZ(e),GZ.set(e,i)),n=i}const i=!0===t.useAnisotropy||t.anisotropy>0?bQ:kW,r=n.context(WZ(rz,i)).mul(qW),a=n.context(QZ(BW)).mul(Math.PI).mul(qW),o=hH(r),s=hH(a);e.context.radiance.addAssign(o),e.context.iblIrradiance.addAssign(s);const l=e.context.lightingModel.clearcoatRadiance;if(l){const e=n.context(WZ(sz,FW)).mul(qW),t=hH(e);l.addAssign(t)}}}const WZ=(e,t)=>{let n=null;return{getUV:()=>(null===n&&(n=MW.negate().reflect(t),n=e.mul(e).mix(n,t).normalize(),n=n.transformDirection(XH)),n),getTextureLevel:()=>e}},QZ=e=>({getUV:()=>e,getTextureLevel:()=>Dj(1)}),YZ=new Op;class XZ extends PX{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(YZ),this.setValues(e)}setupEnvironment(e){let t=super.setupEnvironment(e);return null===t&&e.environmentNode&&(t=e.environmentNode),t?new HZ(t):null}setupLightingModel(){return new ZK}setupSpecular(){const e=yG(Vj(.04),nz.rgb,az);gz.assign(e),vz.assign(1)}setupVariants(){const e=this.metalnessNode?Dj(this.metalnessNode):jQ;az.assign(e);let t=this.roughnessNode?Dj(this.roughnessNode):VQ;t=uK({roughness:t}),rz.assign(t),this.setupSpecular(),nz.assign(Gj(nz.rgb.mul(e.oneMinus()),nz.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const KZ=new Up;class ZZ extends XZ{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(KZ),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||null!==this.clearcoatNode}get useIridescence(){return this.iridescence>0||null!==this.iridescenceNode}get useSheen(){return this.sheen>0||null!==this.sheenNode}get useAnisotropy(){return this.anisotropy>0||null!==this.anisotropyNode}get useTransmission(){return this.transmission>0||null!==this.transmissionNode}get useDispersion(){return this.dispersion>0||null!==this.dispersionNode}setupSpecular(){const e=this.iorNode?Dj(this.iorNode):tY;_z.assign(e),gz.assign(yG(rG(pG(_z.sub(1).div(_z.add(1))).mul(FQ),Vj(1)).mul(BQ),nz.rgb,az)),vz.assign(yG(BQ,1,az))}setupLightingModel(){return new ZK(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const e=this.clearcoatNode?Dj(this.clearcoatNode):qQ,t=this.clearcoatRoughnessNode?Dj(this.clearcoatRoughnessNode):GQ;oz.assign(e),sz.assign(uK({roughness:t}))}if(this.useSheen){const e=this.sheenNode?Vj(this.sheenNode):QQ,t=this.sheenRoughnessNode?Dj(this.sheenRoughnessNode):YQ;lz.assign(e),cz.assign(t)}if(this.useIridescence){const e=this.iridescenceNode?Dj(this.iridescenceNode):KQ,t=this.iridescenceIORNode?Dj(this.iridescenceIORNode):ZQ,n=this.iridescenceThicknessNode?Dj(this.iridescenceThicknessNode):JQ;uz.assign(e),dz.assign(t),hz.assign(n)}if(this.useAnisotropy){const e=(this.anisotropyNode?Bj(this.anisotropyNode):XQ).toVar();mz.assign(e.length()),Pj(mz.equal(0),()=>{e.assign(Bj(1,0))}).Else(()=>{e.divAssign(Bj(mz)),mz.assign(mz.saturate())}),pz.assign(mz.pow2().mix(rz.pow2(),1)),fz.assign(vQ[0].mul(e.x).add(vQ[1].mul(e.y))),Az.assign(vQ[1].mul(e.x).sub(vQ[0].mul(e.y)))}if(this.useTransmission){const e=this.transmissionNode?Dj(this.transmissionNode):$Q,t=this.thicknessNode?Dj(this.thicknessNode):eY,n=this.attenuationDistanceNode?Dj(this.attenuationDistanceNode):nY,i=this.attenuationColorNode?Vj(this.attenuationColorNode):iY;if(Sz.assign(e),Mz.assign(t),Ez.assign(n),Cz.assign(i),this.useDispersion){const e=this.dispersionNode?Dj(this.dispersionNode):uY;Pz.assign(e)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?Vj(this.clearcoatNormalNode):HQ}setup(e){e.context.setupClearcoatNormal=()=>this.setupClearcoatNormal(e),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const JZ=Mj(e=>{let{normal:t,lightDirection:n,builder:i}=e;const r=t.dot(n),a=Bj(r.mul(.5).add(.5),0);if(i.material.gradientMap){const e=rQ("gradientMap","texture").context({getUV:()=>a});return Vj(e.r)}{const e=a.fwidth().mul(.5);return yG(Vj(.7),Vj(1),TG(Dj(.7).sub(e.x),Dj(.7).add(e.x),a.x))}});class $Z extends KX{direct(e,t){let{lightDirection:n,lightColor:i,reflectedLight:r}=e;const a=JZ({normal:NW,lightDirection:n,builder:t}).mul(i);r.directDiffuse.addAssign(a.mul(tK({diffuseColor:nz.rgb})))}indirect(e){const{ambientOcclusion:t,irradiance:n,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(n.mul(tK({diffuseColor:nz}))),i.indirectDiffuse.mulAssign(t)}}const eJ=new jp;class tJ extends PX{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(eJ),this.setValues(e)}setupLightingModel(){return new $Z}}class nJ extends kV{static get type(){return"MatcapUVNode"}constructor(){super("vec2")}setup(){const e=Vj(MW.z,0,MW.x.negate()).normalize(),t=MW.cross(e);return Bj(e.dot(kW),t.dot(kW)).mul(.495).add(.5)}}const iJ=_j(nJ),rJ=new Wp;class aJ extends PX{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(rJ),this.setValues(e)}setupVariants(e){const t=iJ;let n;n=e.material.matcap?rQ("matcap","texture").context({getUV:()=>t}):Vj(yG(.2,.8,t.y)),nz.rgb.mulAssign(n.rgb)}}class oJ extends kV{static get type(){return"RotateNode"}constructor(e,t){super(),this.positionNode=e,this.rotationNode=t}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:t,positionNode:n}=this;if("vec2"===this.getNodeType(e)){const e=t.cos(),i=t.sin();return Yj(e,i,i.negate(),e).mul(n)}{const e=t,i=Kj(Gj(1,0,0,0),Gj(0,Uq(e.x),Oq(e.x).negate(),0),Gj(0,Oq(e.x),Uq(e.x),0),Gj(0,0,0,1)),r=Kj(Gj(Uq(e.y),0,Oq(e.y),0),Gj(0,1,0,0),Gj(Oq(e.y).negate(),0,Uq(e.y),0),Gj(0,0,0,1)),a=Kj(Gj(Uq(e.z),Oq(e.z).negate(),0,0),Gj(Oq(e.z),Uq(e.z),0,0),Gj(0,0,1,0),Gj(0,0,0,1));return i.mul(r).mul(a).mul(Gj(n,1)).xyz}}}const sJ=Tj(oJ).setParameterLength(2),lJ=new gu;class cJ extends PX{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(lJ),this.setValues(e)}setupPositionView(e){const{object:t,camera:n}=e,i=this.sizeAttenuation,{positionNode:r,rotationNode:a,scaleNode:o}=this,s=AW.mul(Vj(r||0));let l=Bj(cW[0].xyz.length(),cW[1].xyz.length());if(null!==o&&(l=l.mul(Bj(o))),!1===i)if(n.isPerspectiveCamera)l=l.mul(s.z.negate());else{const e=Dj(2).div(QH.element(1).element(1));l=l.mul(e.mul(2))}let c=bW.xy;if(t.center&&!0===t.center.isVector2){const e=((e,t,n)=>bj(new JG(e,t,n)))("center","vec2",t);c=c.sub(e.sub(.5))}c=c.mul(l);const u=Dj(a||WQ),d=sJ(c,u);return Gj(s.xy.add(d),s.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}const uJ=new Xd;class dJ extends cJ{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(uJ),this.setValues(e)}setupPositionView(){const{positionNode:e}=this;return AW.mul(Vj(e||xW)).xyz}setupVertex(e){const t=super.setupVertex(e);if(!0!==e.material.isNodeMaterial)return t;const{rotationNode:n,scaleNode:i,sizeNode:r}=this,a=bW.xy.toVar(),o=eX.z.div(eX.w);if(n&&n.isNode){const e=Dj(n);a.assign(sJ(a,e))}let s=null!==r?Bj(r):cY;return!0===this.sizeAttenuation&&(s=s.mul(s.div(SW.z.negate()))),i&&i.isNode&&(s=s.mul(Bj(i))),a.mulAssign(s.mul(2)),a.assign(a.div(eX.z)),a.y.assign(a.y.mul(o)),a.assign(a.mul(t.w)),t.addAssign(Gj(a,0,0)),t}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(e){this._useAlphaToCoverage!==e&&(this._useAlphaToCoverage=e,this.needsUpdate=!0)}}class hJ extends KX{constructor(){super(),this.shadowNode=Dj(1).toVar("shadowMask")}direct(e){let{lightNode:t}=e;null!==t.shadowNode&&this.shadowNode.mulAssign(t.shadowNode)}finish(e){let{context:t}=e;nz.a.mulAssign(this.shadowNode.oneMinus()),t.outgoingLight.rgb.assign(nz.rgb)}}const pJ=new Bp;class mJ extends PX{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(pJ),this.setValues(e)}setupLightingModel(){return new hJ}}ez("vec3"),ez("vec3"),ez("vec3");class fJ{constructor(e,t){this.nodes=e,this.info=t,this._context="undefined"!==typeof self?self:null,this._animationLoop=null,this._requestId=null}start(){const e=(t,n)=>{this._requestId=this._context.requestAnimationFrame(e),!0===this.info.autoReset&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,null!==this._animationLoop&&this._animationLoop(t,n)};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(e){this._animationLoop=e}getContext(){return this._context}setContext(e){this._context=e}dispose(){this.stop()}}class AJ{constructor(){this.weakMap=new WeakMap}get(e){let t=this.weakMap;for(let n=0;n<e.length-1;n++)if(t=t.get(e[n]),void 0===t)return;return t.get(e[e.length-1])}set(e,t){let n=this.weakMap;for(let i=0;i<e.length-1;i++){const t=e[i];!1===n.has(t)&&n.set(t,new WeakMap),n=n.get(t)}return n.set(e[e.length-1],t),this}delete(e){let t=this.weakMap;for(let n=0;n<e.length-1;n++)if(t=t.get(e[n]),void 0===t)return!1;return t.delete(e[e.length-1])}}let gJ=0;class vJ{constructor(e,t,n,i,r,a,o,s,l,c){this.id=gJ++,this._nodes=e,this._geometries=t,this.renderer=n,this.object=i,this.material=r,this.scene=a,this.camera=o,this.lightsNode=s,this.context=l,this.geometry=i.geometry,this.version=r.version,this.drawRange=null,this.attributes=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=c,this.clippingContextCacheKey=null!==c?c.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return null!==this.clippingContext&&this.clippingContext.cacheKey!==this.clippingContextCacheKey&&(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return!0===this.material.hardwareClipping?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(e){for(const t of this.getBindings())if(t.name===e)return t}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null}getAttributes(){if(null!==this.attributes)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,t=this.geometry,n=[],i=new Set;for(const r of e){const e=r.node&&r.node.attribute?r.node.attribute:t.getAttribute(r.name);if(void 0===e)continue;n.push(e);const a=e.isInterleavedBufferAttribute?e.data:e;i.add(a)}return this.attributes=n,this.vertexBuffers=Array.from(i.values()),n}getVertexBuffers(){return null===this.vertexBuffers&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:t,geometry:n,group:i,drawRange:r}=this,a=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),o=this.getIndex(),s=null!==o;let l=1;if(!0===n.isInstancedBufferGeometry?l=n.instanceCount:void 0!==e.count&&(l=Math.max(0,e.count)),0===l)return null;if(a.instanceCount=l,!0===e.isBatchedMesh)return a;let c=1;!0!==t.wireframe||e.isPoints||e.isLineSegments||e.isLine||e.isLineLoop||(c=2);let u=r.start*c,d=(r.start+r.count)*c;null!==i&&(u=Math.max(u,i.start*c),d=Math.min(d,(i.start+i.count)*c));const h=n.attributes.position;let p=1/0;s?p=o.count:void 0!==h&&null!==h&&(p=h.count),u=Math.max(u,0),d=Math.min(d,p);const m=d-u;return m<0||m===1/0?null:(a.vertexCount=m,a.firstVertex=u,a)}getGeometryCacheKey(){const{geometry:e}=this;let t="";for(const n of Object.keys(e.attributes).sort()){const i=e.attributes[n];t+=n+",",i.data&&(t+=i.data.stride+","),i.offset&&(t+=i.offset+","),i.itemSize&&(t+=i.itemSize+","),i.normalized&&(t+="n,")}for(const n of Object.keys(e.morphAttributes).sort()){const i=e.morphAttributes[n];t+="morph-"+n+",";for(let e=0,n=i.length;e<n;e++){t+=i[e].id+","}}return e.index&&(t+="index,"),t}getMaterialCacheKey(){const{object:e,material:t}=this;let n=t.customProgramCacheKey();for(const i of function(e){const t=Object.keys(e);let n=Object.getPrototypeOf(e);for(;n;){const e=Object.getOwnPropertyDescriptors(n);for(const n in e)if(void 0!==e[n]){const i=e[n];i&&"function"===typeof i.get&&t.push(n)}n=Object.getPrototypeOf(n)}return t}(t)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(i))continue;const e=t[i];let r;if(null!==e){const t=typeof e;"number"===t?r=0!==e?"1":"0":"object"===t?(r="{",e.isTexture&&(r+=e.mapping),r+="}"):r=String(e)}else r=String(e);n+=r+","}return n+=this.clippingContextCacheKey+",",e.geometry&&(n+=this.getGeometryCacheKey()),e.skeleton&&(n+=e.skeleton.bones.length+","),e.isBatchedMesh&&(n+=e._matricesTexture.uuid+",",null!==e._colorsTexture&&(n+=e._colorsTexture.uuid+",")),e.count>1&&(n+=e.uuid+","),n+=e.receiveShadow+",",oV(n)}get needsGeometryUpdate(){return this.geometry.id!==this.object.geometry.id}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=0;return!0!==this.material.isShadowPassMaterial&&(e=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(e=lV(e,this.camera.cameras.length)),this.object.receiveShadow&&(e=lV(e,1)),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}const yJ=[];class bJ{constructor(e,t,n,i,r,a){this.renderer=e,this.nodes=t,this.geometries=n,this.pipelines=i,this.bindings=r,this.info=a,this.chainMaps={}}get(e,t,n,i,r,a,o,s){const l=this.getChainMap(s);yJ[0]=e,yJ[1]=t,yJ[2]=a,yJ[3]=r;let c=l.get(yJ);return void 0===c?(c=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,t,n,i,r,a,o,s),l.set(yJ,c)):(c.updateClipping(o),c.needsGeometryUpdate&&c.setGeometry(e.geometry),(c.version!==t.version||c.needsUpdate)&&(c.initialCacheKey!==c.getCacheKey()?(c.dispose(),c=this.get(e,t,n,i,r,a,o,s)):c.version=t.version)),yJ.length=0,c}getChainMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.chainMaps[e]||(this.chainMaps[e]=new AJ)}dispose(){this.chainMaps={}}createRenderObject(e,t,n,i,r,a,o,s,l,c,u){const d=this.getChainMap(u),h=new vJ(e,t,n,i,r,a,o,s,l,c);return h.onDispose=()=>{this.pipelines.delete(h),this.bindings.delete(h),this.nodes.delete(h),d.delete(h.getChainArray())},h}}class xJ{constructor(){this.data=new WeakMap}get(e){let t=this.data.get(e);return void 0===t&&(t={},this.data.set(e,t)),t}delete(e){let t=null;return this.data.has(e)&&(t=this.data.get(e),this.data.delete(e)),t}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const wJ=1,TJ=2,_J=3,SJ=4,MJ=16;class EJ extends xJ{constructor(e){super(),this.backend=e}delete(e){const t=super.delete(e);return null!==t&&this.backend.destroyAttribute(e),t}update(e,t){const n=this.get(e);if(void 0===n.version)t===wJ?this.backend.createAttribute(e):t===TJ?this.backend.createIndexAttribute(e):t===_J?this.backend.createStorageAttribute(e):t===SJ&&this.backend.createIndirectStorageAttribute(e),n.version=this._getBufferAttribute(e).version;else{const t=this._getBufferAttribute(e);(n.version<t.version||t.usage===No)&&(this.backend.updateAttribute(e),n.version=t.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function CJ(e){return null!==e.index?e.index.version:e.attributes.position.version}function PJ(e){const t=[],n=e.index,i=e.attributes.position;if(null!==n){const e=n.array;for(let n=0,i=e.length;n<i;n+=3){const i=e[n+0],r=e[n+1],a=e[n+2];t.push(i,r,r,a,a,i)}}else{for(let e=0,n=i.array.length/3-1;e<n;e+=3){const n=e+0,i=e+1,r=e+2;t.push(n,i,i,r,r,n)}}const r=new(us(t)?Tc:xc)(t,1);return r.version=CJ(e),r}class NJ extends xJ{constructor(e,t){super(),this.attributes=e,this.info=t,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const t=e.geometry;return super.has(t)&&!0===this.get(t).initialized}updateForRender(e){!1===this.has(e)&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const t=e.geometry;this.get(t).initialized=!0,this.info.memory.geometries++;const n=()=>{this.info.memory.geometries--;const i=t.index,r=e.getAttributes();null!==i&&this.attributes.delete(i);for(const e of r)this.attributes.delete(e);const a=this.wireframes.get(t);void 0!==a&&this.attributes.delete(a),t.removeEventListener("dispose",n)};t.addEventListener("dispose",n)}updateAttributes(e){const t=e.getAttributes();for(const r of t)r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute?this.updateAttribute(r,_J):this.updateAttribute(r,wJ);const n=this.getIndex(e);null!==n&&this.updateAttribute(n,TJ);const i=e.geometry.indirect;null!==i&&this.updateAttribute(i,SJ)}updateAttribute(e,t){const n=this.info.render.calls;e.isInterleavedBufferAttribute?void 0===this.attributeCall.get(e)?(this.attributes.update(e,t),this.attributeCall.set(e,n)):this.attributeCall.get(e.data)!==n&&(this.attributes.update(e,t),this.attributeCall.set(e.data,n),this.attributeCall.set(e,n)):this.attributeCall.get(e)!==n&&(this.attributes.update(e,t),this.attributeCall.set(e,n))}getIndirect(e){return e.geometry.indirect}getIndex(e){const{geometry:t,material:n}=e;let i=t.index;if(!0===n.wireframe){const e=this.wireframes;let n=e.get(t);void 0===n?(n=PJ(t),e.set(t,n)):n.version!==CJ(t)&&(this.attributes.delete(n),n=PJ(t),e.set(t,n)),i=n}return i}}class RJ{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(e,t,n){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=n*(t/3):e.isPoints?this.render.points+=n*t:e.isLineSegments?this.render.lines+=n*(t/2):e.isLine?this.render.lines+=n*(t-1):console.error("THREE.WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class DJ{constructor(e){this.cacheKey=e,this.usedTimes=0}}class IJ extends DJ{constructor(e,t,n){super(e),this.vertexProgram=t,this.fragmentProgram=n}}class LJ extends DJ{constructor(e,t){super(e),this.computeProgram=t,this.isComputePipeline=!0}}let kJ=0;class BJ{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.id=kJ++,this.code=e,this.stage=t,this.name=n,this.transforms=i,this.attributes=r,this.usedTimes=0}}class FJ extends xJ{constructor(e,t){super(),this.backend=e,this.nodes=t,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,t){const{backend:n}=this,i=this.get(e);if(this._needsComputeUpdate(e)){const r=i.pipeline;r&&(r.usedTimes--,r.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let o=this.programs.compute.get(a.computeShader);void 0===o&&(r&&0===r.computeProgram.usedTimes&&this._releaseProgram(r.computeProgram),o=new BJ(a.computeShader,"compute",e.name,a.transforms,a.nodeAttributes),this.programs.compute.set(a.computeShader,o),n.createProgram(o));const s=this._getComputeCacheKey(e,o);let l=this.caches.get(s);void 0===l&&(r&&0===r.usedTimes&&this._releasePipeline(r),l=this._getComputePipeline(e,o,s,t)),l.usedTimes++,o.usedTimes++,i.version=e.version,i.pipeline=l}return i.pipeline}getForRender(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{backend:n}=this,i=this.get(e);if(this._needsRenderUpdate(e)){const r=i.pipeline;r&&(r.usedTimes--,r.vertexProgram.usedTimes--,r.fragmentProgram.usedTimes--);const a=e.getNodeBuilderState(),o=e.material?e.material.name:"";let s=this.programs.vertex.get(a.vertexShader);void 0===s&&(r&&0===r.vertexProgram.usedTimes&&this._releaseProgram(r.vertexProgram),s=new BJ(a.vertexShader,"vertex",o),this.programs.vertex.set(a.vertexShader,s),n.createProgram(s));let l=this.programs.fragment.get(a.fragmentShader);void 0===l&&(r&&0===r.fragmentProgram.usedTimes&&this._releaseProgram(r.fragmentProgram),l=new BJ(a.fragmentShader,"fragment",o),this.programs.fragment.set(a.fragmentShader,l),n.createProgram(l));const c=this._getRenderCacheKey(e,s,l);let u=this.caches.get(c);void 0===u?(r&&0===r.usedTimes&&this._releasePipeline(r),u=this._getRenderPipeline(e,s,l,c,t)):e.pipeline=u,u.usedTimes++,s.usedTimes++,l.usedTimes++,i.pipeline=u}return i.pipeline}delete(e){const t=this.get(e).pipeline;return t&&(t.usedTimes--,0===t.usedTimes&&this._releasePipeline(t),t.isComputePipeline?(t.computeProgram.usedTimes--,0===t.computeProgram.usedTimes&&this._releaseProgram(t.computeProgram)):(t.fragmentProgram.usedTimes--,t.vertexProgram.usedTimes--,0===t.vertexProgram.usedTimes&&this._releaseProgram(t.vertexProgram),0===t.fragmentProgram.usedTimes&&this._releaseProgram(t.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,t,n,i){n=n||this._getComputeCacheKey(e,t);let r=this.caches.get(n);return void 0===r&&(r=new LJ(n,t),this.caches.set(n,r),this.backend.createComputePipeline(r,i)),r}_getRenderPipeline(e,t,n,i,r){i=i||this._getRenderCacheKey(e,t,n);let a=this.caches.get(i);return void 0===a&&(a=new IJ(i,t,n),this.caches.set(i,a),e.pipeline=a,this.backend.createRenderPipeline(e,r)),a}_getComputeCacheKey(e,t){return e.id+","+t.id}_getRenderCacheKey(e,t,n){return t.id+","+n.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const t=e.code,n=e.stage;this.programs[n].delete(t)}_needsComputeUpdate(e){const t=this.get(e);return void 0===t.pipeline||t.version!==e.version}_needsRenderUpdate(e){return void 0===this.get(e).pipeline||this.backend.needsRenderUpdate(e)}}class OJ extends xJ{constructor(e,t,n,i,r,a){super(),this.backend=e,this.textures=n,this.pipelines=r,this.attributes=i,this.nodes=t,this.info=a,this.pipelines.bindings=this}getForRender(e){const t=e.getBindings();for(const n of t){const e=this.get(n);void 0===e.bindGroup&&(this._init(n),this.backend.createBindings(n,t,0),e.bindGroup=n)}return t}getForCompute(e){const t=this.nodes.getForCompute(e).bindings;for(const n of t){const e=this.get(n);void 0===e.bindGroup&&(this._init(n),this.backend.createBindings(n,t,0),e.bindGroup=n)}return t}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}_updateBindings(e){for(const t of e)this._update(t,e)}_init(e){for(const t of e.bindings)if(t.isSampledTexture)this.textures.updateTexture(t.texture);else if(t.isStorageBuffer){const e=t.attribute,n=e.isIndirectStorageBufferAttribute?SJ:_J;this.attributes.update(e,n)}}_update(e,t){const{backend:n}=this;let i=!1,r=!0,a=0,o=0;for(const s of e.bindings){if(s.isNodeUniformsGroup){if(!1===this.nodes.updateGroup(s))continue}if(s.isStorageBuffer){const e=s.attribute,t=e.isIndirectStorageBufferAttribute?SJ:_J;this.attributes.update(e,t)}if(s.isUniformBuffer){s.update()&&n.updateBinding(s)}else if(s.isSampler)s.update();else if(s.isSampledTexture){const e=this.textures.get(s.texture);s.needsBindingsUpdate(e.generation)&&(i=!0);const t=s.update(),l=s.texture;t&&this.textures.updateTexture(l);const c=n.get(l);if(void 0!==c.externalTexture||e.isDefaultTexture?r=!1:(a=10*a+l.id,o+=l.version),!0===n.isWebGPUBackend&&void 0===c.texture&&void 0===c.externalTexture&&(console.error("Bindings._update: binding should be available:",s,t,l,s.textureNode.value,i),this.textures.updateTexture(l),i=!0),!0===l.isStorageTexture){const e=this.get(l);!0===s.store?e.needsMipmap=!0:this.textures.needsMipmaps(l)&&!0===e.needsMipmap&&(this.backend.generateMipmaps(l),e.needsMipmap=!1)}}}!0===i&&this.backend.updateBindings(e,t,r?a:0,o)}}function UJ(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?e.z-t.z:e.id-t.id}function VJ(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function jJ(e){return(e.transmission>0||e.transmissionNode)&&e.side===yi&&!1===e.forceSinglePass}class zJ{constructor(e,t,n){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(t,n),this.lightsArray=[],this.scene=t,this.camera=n,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,t,n,i,r,a,o){let s=this.renderItems[this.renderItemsIndex];return void 0===s?(s={id:e.id,object:e,geometry:t,material:n,groupOrder:i,renderOrder:e.renderOrder,z:r,group:a,clippingContext:o},this.renderItems[this.renderItemsIndex]=s):(s.id=e.id,s.object=e,s.geometry=t,s.material=n,s.groupOrder=i,s.renderOrder=e.renderOrder,s.z=r,s.group=a,s.clippingContext=o),this.renderItemsIndex++,s}push(e,t,n,i,r,a,o){const s=this.getNextRenderItem(e,t,n,i,r,a,o);!0===e.occlusionTest&&this.occlusionQueryCount++,!0===n.transparent||n.transmission>0?(jJ(n)&&this.transparentDoublePass.push(s),this.transparent.push(s)):this.opaque.push(s)}unshift(e,t,n,i,r,a,o){const s=this.getNextRenderItem(e,t,n,i,r,a,o);!0===n.transparent||n.transmission>0?(jJ(n)&&this.transparentDoublePass.unshift(s),this.transparent.unshift(s)):this.opaque.unshift(s)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,t){this.opaque.length>1&&this.opaque.sort(e||UJ),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(t||VJ),this.transparent.length>1&&this.transparent.sort(t||VJ)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,t=this.renderItems.length;e<t;e++){const t=this.renderItems[e];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.groupOrder=null,t.renderOrder=null,t.z=null,t.group=null,t.clippingContext=null}}}const qJ=[];class GJ{constructor(e){this.lighting=e,this.lists=new AJ}get(e,t){const n=this.lists;qJ[0]=e,qJ[1]=t;let i=n.get(qJ);return void 0===i&&(i=new zJ(this.lighting,e,t),n.set(qJ,i)),qJ.length=0,i}dispose(){this.lists=new AJ}}let HJ=0;class WJ{constructor(){this.id=HJ++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new Rs,this.scissor=!1,this.scissorValue=new Rs,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return QJ(this)}}function QJ(e){const{textures:t,activeCubeFace:n}=e,i=[n];for(const r of t)i.push(r.id);return sV(i)}const YJ=[],XJ=new pu,KJ=new $c;class ZJ{constructor(){this.chainMaps={}}get(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(YJ[0]=e,YJ[1]=t,null===i)n="default";else{const e=i.texture.format,t=i.textures.length;n="".concat(t,":").concat(e,":").concat(i.samples,":").concat(i.depthBuffer,":").concat(i.stencilBuffer)}const r=this._getChainMap(n);let a=r.get(YJ);return void 0===a&&(a=new WJ,r.set(YJ,a)),YJ.length=0,null!==i&&(a.sampleCount=0===i.samples?1:i.samples),a}getForClear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.get(XJ,KJ,e)}_getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new AJ)}dispose(){this.chainMaps={}}}const JJ=new as;class $J extends xJ{constructor(e,t,n){super(),this.renderer=e,this.backend=t,this.info=n}updateRenderTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.get(e),i=0===e.samples?1:e.samples,r=n.depthTextureMips||(n.depthTextureMips={}),a=e.textures,o=this.getSize(a[0]),s=o.width>>t,l=o.height>>t;let c=e.depthTexture||r[t];const u=!0===e.depthBuffer||!0===e.stencilBuffer;let d=!1;void 0===c&&u&&(c=new ch,c.format=e.stencilBuffer?Yr:Qr,c.type=e.stencilBuffer?zr:Fr,c.image.width=s,c.image.height=l,c.image.depth=o.depth,c.isArrayTexture=!0===e.multiview&&o.depth>1,r[t]=c),n.width===o.width&&o.height===n.height||(d=!0,c&&(c.needsUpdate=!0,c.image.width=s,c.image.height=l,c.image.depth=c.isArrayTexture?c.image.depth:1)),n.width=o.width,n.height=o.height,n.textures=a,n.depthTexture=c||null,n.depth=e.depthBuffer,n.stencil=e.stencilBuffer,n.renderTarget=e,n.sampleCount!==i&&(d=!0,c&&(c.needsUpdate=!0),n.sampleCount=i);const h={sampleCount:i};if(!0!==e.isXRRenderTarget){for(let e=0;e<a.length;e++){const t=a[e];d&&(t.needsUpdate=!0),this.updateTexture(t,h)}c&&this.updateTexture(c,h)}if(!0!==n.initialized){n.initialized=!0;const t=()=>{e.removeEventListener("dispose",t);for(let e=0;e<a.length;e++)this._destroyTexture(a[e]);c&&this._destroyTexture(c),this.delete(e)};e.addEventListener("dispose",t)}}updateTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.get(e);if(!0===n.initialized&&n.version===e.version)return;const i=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,r=this.backend;if(i&&!0===n.initialized&&(r.destroySampler(e),r.destroyTexture(e)),e.isFramebufferTexture){const t=this.renderer.getRenderTarget();e.type=t?t.texture.type:Dr}const{width:a,height:o,depth:s}=this.getSize(e);if(t.width=a,t.height=o,t.depth=s,t.needsMipmaps=this.needsMipmaps(e),t.levels=t.needsMipmaps?this.getMipLevels(e,a,o):1,i||!0===e.isStorageTexture)r.createSampler(e),r.createTexture(e,t),n.generation=e.version;else{if(!0!==n.initialized&&r.createSampler(e),e.version>0){const i=e.image;if(void 0===i)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(!1===i.complete)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const n=[];for(const t of e.images)n.push(t);t.images=n}else t.image=i;void 0!==n.isDefaultTexture&&!0!==n.isDefaultTexture||(r.createTexture(e,t),n.isDefaultTexture=!1,n.generation=e.version),!0===e.source.dataReady&&r.updateTexture(e,t),t.needsMipmaps&&0===e.mipmaps.length&&r.generateMipmaps(e)}}else r.createDefaultTexture(e),n.isDefaultTexture=!0,n.generation=e.version}if(!0!==n.initialized){n.initialized=!0,n.generation=e.version,this.info.memory.textures++;const t=()=>{e.removeEventListener("dispose",t),this._destroyTexture(e)};e.addEventListener("dispose",t)}n.version=e.version}getSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JJ,n=e.images?e.images[0]:e.image;return n?(void 0!==n.image&&(n=n.image),t.width=n.width||1,t.height=n.height||1,t.depth=e.isCubeTexture?6:n.depth||1):t.width=t.height=t.depth=1,t}getMipLevels(e,t,n){let i;return i=e.isCompressedTexture?e.mipmaps?e.mipmaps.length:1:Math.floor(Math.log2(Math.max(t,n)))+1,i}needsMipmaps(e){return!0===e.isCompressedTexture||e.generateMipmaps}_destroyTexture(e){!0===this.has(e)&&(this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e),this.info.memory.textures--)}}class e$ extends ic{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.a=i}set(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return this.a=i,super.set(e,t,n)}copy(e){return void 0!==e.a&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class t$ extends $j{static get type(){return"ParameterNode"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}class n$ extends DV{static get type(){return"StackNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this._expressionNode=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}getMemberType(e,t){return this.outputNode?this.outputNode.getMemberType(e,t):"void"}add(e){return this.nodes.push(e),this}If(e,t){const n=new yj(t);return this._currentCond=DG(e,n),this.add(this._currentCond)}ElseIf(e,t){const n=new yj(t),i=DG(e,n);return this._currentCond.elseNode=i,this._currentCond=i,this}Else(e){return this._currentCond.elseNode=new yj(e),this}Switch(e){return this._expressionNode=bj(e),this}Case(){var e;const t=[];if(!(arguments.length>=2))throw new Error("TSL: Invalid parameter length. Case() requires at least two parameters.");for(let a=0;a<arguments.length-1;a++)t.push(this._expressionNode.equal(bj(a<0||arguments.length<=a?void 0:arguments[a])));const n=new yj((e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]);let i=t[0];for(let a=1;a<t.length;a++)i=i.or(t[a]);const r=DG(i,n);return null===this._currentCond?(this._currentCond=r,this.add(this._currentCond)):(this._currentCond.elseNode=r,this._currentCond=r,this)}Default(e){return this.Else(e),this}build(e){const t=Cj();Ej(this);const n=e.buildStage;for(const o of this.nodes)if("setup"===n)o.build(e);else if("analyze"===n)o.build(e,this);else if("generate"===n){const t=e.getDataFromNode(o,"any").stages,n=t&&t[e.shaderStage];if(o.isVarNode&&n&&1===n.length&&n[0]&&n[0].isStackNode)continue;o.build(e,"void")}Ej(t);for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return this.outputNode?this.outputNode.build(e,...r):super.build(e,...r)}else(){return console.warn("THREE.TSL: .else() has been renamed to .Else()."),this.Else(...arguments)}elseif(){return console.warn("THREE.TSL: .elseif() has been renamed to .ElseIf()."),this.ElseIf(...arguments)}}const i$=Tj(n$).setParameterLength(0,1);class r$ extends DV{static get type(){return"StructTypeNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n;super("struct"),this.membersLayout=(n=e,Object.entries(n).map(e=>{let[t,n]=e;return"string"===typeof n?{name:t,type:n,atomic:!1}:{name:t,type:n.type,atomic:n.atomic||!1}})),this.name=t,this.isStructLayoutNode=!0}getLength(){const e=Float32Array.BYTES_PER_ELEMENT;let t=0;for(const n of this.membersLayout){const i=n.type,r=AV(i)*e,a=t%8,o=a%gV(i),s=a+o;t+=o,0!==s&&8-s<r&&(t+=8-s),t+=r}return 8*Math.ceil(t/8)/e}getMemberType(e,t){const n=this.membersLayout.find(e=>e.name===t);return n?n.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.addInclude(this)}generate(e){return this.getNodeType(e)}}class a$ extends DV{static get type(){return"StructNode"}constructor(e,t){super("vec3"),this.structLayoutNode=e,this.values=t,this.isStructNode=!0}getNodeType(e){return this.structLayoutNode.getNodeType(e)}getMemberType(e,t){return this.structLayoutNode.getMemberType(e,t)}generate(e){const t=e.getVarFromNode(this),n=t.type,i=e.getPropertyName(t);return e.addLineFlowCode("".concat(i," = ").concat(e.generateStruct(n,this.structLayoutNode.membersLayout,this.values)),this),t.name}}class o$ extends DV{static get type(){return"OutputStructNode"}constructor(){super();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.members=t,this.isOutputStructNode=!0}getNodeType(e){const t=e.getNodeProperties(this);if(void 0===t.membersLayout){const n=this.members,i=[];for(let t=0;t<n.length;t++){const r="m"+t,a=n[t].getNodeType(e);i.push({name:r,type:a,index:t})}t.membersLayout=i,t.structType=e.getOutputStructTypeFromNode(this,t.membersLayout)}return t.structType.name}generate(e){const t=e.getOutputStructName(),n=this.members,i=""!==t?t+".":"";for(let r=0;r<n.length;r++){const t=n[r].build(e);e.addLineFlowCode("".concat(i,"m").concat(r," = ").concat(t),this)}return t}}const s$=Tj(o$);function l$(e,t){for(let n=0;n<e.length;n++)if(e[n].name===t)return n;return-1}class c$ extends o${static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.isMRTNode=!0}has(e){return void 0!==this.outputNodes[e]}get(e){return this.outputNodes[e]}merge(e){const t=h(h({},this.outputNodes),e.outputNodes);return u$(t)}setup(e){const t=this.outputNodes,n=[],i=e.renderer.getRenderTarget().textures;for(const r in t){n[l$(i,r)]=Gj(t[r])}return this.members=n,super.setup(e)}}const u$=Tj(c$),d$=Mj(e=>{let[t]=e;const n=t.toUint().mul(747796405).add(2891336453),i=n.shiftRight(n.shiftRight(28).add(4)).bitXor(n).mul(277803737);return i.shiftRight(22).bitXor(i).toFloat().mul(1/2**32)}),h$=(e,t)=>hG(Yz(4,e.mul(Qz(1,e))),t),p$=Mj(e=>{let[t]=e;return t.fract().sub(.5).abs()}).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),m$=Mj(e=>{let[t]=e;return Vj(p$(t.z.add(p$(t.y.mul(1)))),p$(t.z.add(p$(t.x.mul(1)))),p$(t.y.add(p$(t.x.mul(1)))))}).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),f$=Mj(e=>{let[t,n,i]=e;const r=Vj(t).toVar(),a=Dj(1.4).toVar(),o=Dj(0).toVar(),s=Vj(r).toVar();return BY({start:Dj(0),end:Dj(3),type:"float",condition:"<="},()=>{const e=Vj(m$(s.mul(2))).toVar();r.addAssign(e.add(i.mul(Dj(.1).mul(n)))),s.mulAssign(1.8),a.mulAssign(1.5),r.mulAssign(1.2);const t=Dj(p$(r.z.add(p$(r.x.add(p$(r.y)))))).toVar();o.addAssign(t.div(a)),s.addAssign(.14)}),o}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class A$ extends DV{static get type(){return"FunctionOverloadingNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.functionNodes=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.parametersNodes=n,this._candidateFnCall=null,this.global=!0}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(e){const t=this.parametersNodes;let n=this._candidateFnCall;if(null===n){let i=null,r=-1;for(const n of this.functionNodes){const a=n.shaderNode.layout;if(null===a)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const o=a.inputs;if(t.length===o.length){let a=0;for(let n=0;n<t.length;n++){const i=t[n],r=o[n];i.getNodeType(e)===r.type?a++:a=0}a>r&&(i=n,r=a)}}this._candidateFnCall=n=i(...t)}return n}}const g$=Tj(A$),v$=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return g$(e,...n)},y$=Fz(0).setGroup(Lz).onRenderUpdate(e=>e.time),b$=Fz(0).setGroup(Lz).onRenderUpdate(e=>e.deltaTime),x$=Fz(0,"uint").setGroup(Lz).onRenderUpdate(e=>e.frameId),w$=Mj(e=>{let[t,n,i=Bj(.5)]=e;return sJ(t.sub(i),n).add(i)}),T$=Mj(e=>{let[t,n,i=Bj(.5)]=e;const r=t.sub(i),a=r.dot(r),o=a.mul(a).mul(n);return t.add(r.mul(o))}),_$=Mj(e=>{let t,{position:n=null,horizontal:i=!0,vertical:r=!1}=e;null!==n?(t=cW.toVar(),t[3][0]=n.x,t[3][1]=n.y,t[3][2]=n.z):t=cW;const a=XH.mul(t);return gj(i)&&(a[0][0]=cW[0].length(),a[0][1]=0,a[0][2]=0),gj(r)&&(a[1][0]=0,a[1][1]=cW[1].length(),a[1][2]=0),a[2][0]=0,a[2][1]=0,a[2][2]=1,QH.mul(a).mul(xW)}),S$=Mj(e=>{let[t=null]=e;const n=xX();return xX(pX(t)).sub(n).lessThan(0).select(ZY,t)});class M$ extends DV{static get type(){return"SpriteSheetUVNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CH(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dj(0);super("vec2"),this.countNode=e,this.uvNode=t,this.frameNode=n}setup(){const{frameNode:e,uvNode:t,countNode:n}=this,{width:i,height:r}=n,a=e.mod(i.mul(r)).floor(),o=a.mod(i),s=r.sub(a.add(1).div(i).ceil()),l=n.reciprocal(),c=Bj(o,s);return t.add(c).mul(l)}}const E$=Tj(M$).setParameterLength(3);class C$ extends DV{static get type(){return"TriplanarTexturesNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dj(1),r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xW,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:RW;super("vec4"),this.textureXNode=e,this.textureYNode=t,this.textureZNode=n,this.scaleNode=i,this.positionNode=r,this.normalNode=a}setup(){const{textureXNode:e,textureYNode:t,textureZNode:n,scaleNode:i,positionNode:r,normalNode:a}=this;let o=a.abs().normalize();o=o.div(o.dot(Vj(1)));const s=r.yz.mul(i),l=r.zx.mul(i),c=r.xy.mul(i),u=e.value,d=null!==t?t.value:u,h=null!==n?n.value:u,p=BH(u,s).mul(o.x),m=BH(d,l).mul(o.y),f=BH(h,c).mul(o.z);return Wz(p,m,f)}}const P$=Tj(C$).setParameterLength(1,6),N$=new cd,R$=new as,D$=new as,I$=new as,L$=new dl,k$=new as(0,0,-1),B$=new Rs,F$=new as,O$=new as,U$=new Rs,V$=new is,j$=new Ds,z$=ZY.flipX();j$.depthTexture=new ch(1,1);let q$=!1;class G$ extends LH{static get type(){return"ReflectorNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e.defaultTexture||j$.texture,z$),this._reflectorBaseNode=e.reflector||new H$(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(null===this._depthNode){if(!0!==this._reflectorBaseNode.depth)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=bj(new G$({defaultTexture:j$.depthTexture,reflector:this._reflectorBaseNode}))}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e._reflectorBaseNode=this._reflectorBaseNode,e}dispose(){super.dispose(),this._reflectorBaseNode.dispose()}}class H$ extends DV{static get type(){return"ReflectorBaseNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super();const{target:n=new Ol,resolution:i=1,generateMipmaps:r=!1,bounces:a=!0,depth:o=!1}=t;this.textureNode=e,this.target=n,this.resolution=i,this.generateMipmaps=r,this.bounces=a,this.depth=o,this.updateBeforeType=a?_V.RENDER:_V.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new Map,this.forceUpdate=!1,this.hasOutput=!1}_updateResolution(e,t){const n=this.resolution;t.getDrawingBufferSize(V$),e.setSize(Math.round(V$.width*n),Math.round(V$.height*n))}setup(e){return this._updateResolution(j$,e.renderer),super.setup(e)}dispose(){super.dispose();for(const e of this.renderTargets.values())e.dispose()}getVirtualCamera(e){let t=this.virtualCameras.get(e);return void 0===t&&(t=e.clone(),this.virtualCameras.set(e,t)),t}getRenderTarget(e){let t=this.renderTargets.get(e);return void 0===t&&(t=new Ds(0,0,{type:Ur}),!0===this.generateMipmaps&&(t.texture.minFilter=Rr,t.texture.generateMipmaps=!0),!0===this.depth&&(t.depthTexture=new ch),this.renderTargets.set(e,t)),t}updateBefore(e){if(!1===this.bounces&&q$)return!1;q$=!0;const{scene:t,camera:n,renderer:i,material:r}=e,{target:a}=this,o=this.getVirtualCamera(n),s=this.getRenderTarget(o);i.getDrawingBufferSize(V$),this._updateResolution(s,i),D$.setFromMatrixPosition(a.matrixWorld),I$.setFromMatrixPosition(n.matrixWorld),L$.extractRotation(a.matrixWorld),R$.set(0,0,1),R$.applyMatrix4(L$),F$.subVectors(D$,I$);let l=!1;if(!0===F$.dot(R$)>0&&!1===this.forceUpdate){if(!1===this.hasOutput)return void(q$=!1);l=!0}F$.reflect(R$).negate(),F$.add(D$),L$.extractRotation(n.matrixWorld),k$.set(0,0,-1),k$.applyMatrix4(L$),k$.add(I$),O$.subVectors(D$,k$),O$.reflect(R$).negate(),O$.add(D$),o.coordinateSystem=n.coordinateSystem,o.position.copy(F$),o.up.set(0,1,0),o.up.applyMatrix4(L$),o.up.reflect(R$),o.lookAt(O$),o.near=n.near,o.far=n.far,o.updateMatrixWorld(),o.projectionMatrix.copy(n.projectionMatrix),N$.setFromNormalAndCoplanarPoint(R$,D$),N$.applyMatrix4(o.matrixWorldInverse),B$.set(N$.normal.x,N$.normal.y,N$.normal.z,N$.constant);const c=o.projectionMatrix;U$.x=(Math.sign(B$.x)+c.elements[8])/c.elements[0],U$.y=(Math.sign(B$.y)+c.elements[9])/c.elements[5],U$.z=-1,U$.w=(1+c.elements[10])/c.elements[14],B$.multiplyScalar(1/B$.dot(U$));c.elements[2]=B$.x,c.elements[6]=B$.y,c.elements[10]=i.coordinateSystem===jo?B$.z-0:B$.z+1-0,c.elements[14]=B$.w,this.textureNode.value=s.texture,!0===this.depth&&(this.textureNode.getDepthNode().value=s.depthTexture),r.visible=!1;const u=i.getRenderTarget(),d=i.getMRT(),h=i.autoClear;i.setMRT(null),i.setRenderTarget(s),i.autoClear=!0,l?(i.clear(),this.hasOutput=!1):(i.render(t,o),this.hasOutput=!0),i.setMRT(d),i.setRenderTarget(u),i.autoClear=h,r.visible=!0,q$=!1,this.forceUpdate=!1}}const W$=new Vm(-1,1,1,-1,0,1);class Q$ extends Ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super();const t=!1===e?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new Sc([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Sc(t,2))}}const Y$=new Q$;class X$ extends Hc{constructor(){super(Y$,arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),this.camera=W$,this.isQuadMesh=!0}async renderAsync(e){return e.renderAsync(this,W$)}render(e){e.render(this,W$)}}const K$=new is;class Z$ extends LH{static get type(){return"RTTNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=new Ds(t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{type:Ur});super(i.texture,CH()),this.node=e,this.width=t,this.height=n,this.pixelRatio=1,this.renderTarget=i,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new X$(new PX),this.updateBeforeType=_V.RENDER}get autoSize(){return null===this.width}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,t){this.width=e,this.height=t;const n=e*this.pixelRatio,i=t*this.pixelRatio;this.renderTarget.setSize(n,i),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore(e){let{renderer:t}=e;if(!1===this.textureNeedsUpdate&&!1===this.autoUpdate)return;if(this.textureNeedsUpdate=!1,!0===this.autoSize){this.pixelRatio=t.getPixelRatio();const e=t.getSize(K$);this.setSize(e.width,e.height)}this._quadMesh.material.fragmentNode=this._rttNode;const n=t.getRenderTarget();t.setRenderTarget(this.renderTarget),this._quadMesh.render(t),t.setRenderTarget(n)}clone(){const e=new LH(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const J$=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return bj(new Z$(bj(e),...n))},$$=Mj((e,t)=>{let n,[i,r,a]=e;t.renderer.coordinateSystem===jo?(i=Bj(i.x,i.y.oneMinus()).mul(2).sub(1),n=Gj(Vj(i,r),1)):n=Gj(Vj(i.x,i.y.oneMinus(),r).mul(2).sub(1),1);const o=Gj(a.mul(n));return o.xyz.div(o.w)}),e0=Mj(e=>{let[t,n]=e;const i=n.mul(Gj(t,1)),r=i.xy.div(i.w).mul(.5).add(.5).toVar();return Bj(r.x,r.y.oneMinus())}),t0=Mj(e=>{let[t,n,i]=e;const r=NH(FH(n)),a=Fj(t.mul(r)).toVar(),o=FH(n,a).toVar(),s=FH(n,a.sub(Fj(2,0))).toVar(),l=FH(n,a.sub(Fj(1,0))).toVar(),c=FH(n,a.add(Fj(1,0))).toVar(),u=FH(n,a.add(Fj(2,0))).toVar(),d=FH(n,a.add(Fj(0,2))).toVar(),h=FH(n,a.add(Fj(0,1))).toVar(),p=FH(n,a.sub(Fj(0,1))).toVar(),m=FH(n,a.sub(Fj(0,2))).toVar(),f=Gq(Qz(Dj(2).mul(l).sub(s),o)).toVar(),A=Gq(Qz(Dj(2).mul(c).sub(u),o)).toVar(),g=Gq(Qz(Dj(2).mul(h).sub(d),o)).toVar(),v=Gq(Qz(Dj(2).mul(p).sub(m),o)).toVar(),y=$$(t,o,i).toVar(),b=f.lessThan(A).select(y.sub($$(t.sub(Bj(Dj(1).div(r.x),0)),l,i)),y.negate().add($$(t.add(Bj(Dj(1).div(r.x),0)),c,i))),x=g.lessThan(v).select(y.sub($$(t.add(Bj(0,Dj(1).div(r.y))),h,i)),y.negate().add($$(t.sub(Bj(0,Dj(1).div(r.y))),p,i)));return Bq(dG(b,x))});class n0 extends Zu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;super(ArrayBuffer.isView(e)?e:new n(e*t),t),this.isStorageInstancedBufferAttribute=!0}}class i0 extends Ac{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;super(ArrayBuffer.isView(e)?e:new n(e*t),t),this.isStorageBufferAttribute=!0}}class r0 extends DV{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const a0=_j(r0),o0=new xl,s0=new dl;class l0 extends DV{static get type(){return"SceneNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l0.BACKGROUND_BLURRINESS,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.scope=e,this.scene=t}setup(e){const t=this.scope,n=null!==this.scene?this.scene:e.scene;let i;return t===l0.BACKGROUND_BLURRINESS?i=tQ("backgroundBlurriness","float",n):t===l0.BACKGROUND_INTENSITY?i=tQ("backgroundIntensity","float",n):t===l0.BACKGROUND_ROTATION?i=Fz("mat4").label("backgroundRotation").setGroup(Lz).onRenderUpdate(()=>{const e=n.background;return null!==e&&e.isTexture&&e.mapping!==pr?(o0.copy(n.backgroundRotation),o0.x*=-1,o0.y*=-1,o0.z*=-1,s0.makeRotationFromEuler(o0)):s0.identity(),s0}):console.error("THREE.SceneNode: Unknown scope:",t),i}}l0.BACKGROUND_BLURRINESS="backgroundBlurriness",l0.BACKGROUND_INTENSITY="backgroundIntensity",l0.BACKGROUND_ROTATION="backgroundRotation";const c0=_j(l0,l0.BACKGROUND_BLURRINESS),u0=_j(l0,l0.BACKGROUND_INTENSITY),d0=_j(l0,l0.BACKGROUND_ROTATION);class h0 extends LH{static get type(){return"StorageTextureNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t),this.storeNode=n,this.isStorageTextureNode=!0,this.access=SV.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const t=e.getNodeProperties(this);return t.storeNode=this.storeNode,t}setAccess(e){return this.access=e,this}generate(e,t){let n;return n=null!==this.storeNode?this.generateStore(e):super.generate(e,t),n}toReadWrite(){return this.setAccess(SV.READ_WRITE)}toReadOnly(){return this.setAccess(SV.READ_ONLY)}toWriteOnly(){return this.setAccess(SV.WRITE_ONLY)}generateStore(e){const t=e.getNodeProperties(this),{uvNode:n,storeNode:i,depthNode:r}=t,a=super.generate(e,"property"),o=n.build(e,"uvec2"),s=i.build(e,"vec4"),l=r?r.build(e,"int"):null,c=e.generateTextureStore(e,a,o,l,s);e.addLineFlowCode(c,this)}clone(){const e=super.clone();return e.storeNode=this.storeNode,e}}const p0=Tj(h0).setParameterLength(1,3),m0=Mj(e=>{let{texture:t,uv:n}=e;const i=1e-4,r=Vj().toVar();return Pj(n.x.lessThan(i),()=>{r.assign(Vj(1,0,0))}).ElseIf(n.y.lessThan(i),()=>{r.assign(Vj(0,1,0))}).ElseIf(n.z.lessThan(i),()=>{r.assign(Vj(0,0,1))}).ElseIf(n.x.greaterThan(.9999),()=>{r.assign(Vj(-1,0,0))}).ElseIf(n.y.greaterThan(.9999),()=>{r.assign(Vj(0,-1,0))}).ElseIf(n.z.greaterThan(.9999),()=>{r.assign(Vj(0,0,-1))}).Else(()=>{const e=.01,i=t.sample(n.add(Vj(-.01,0,0))).r.sub(t.sample(n.add(Vj(e,0,0))).r),a=t.sample(n.add(Vj(0,-.01,0))).r.sub(t.sample(n.add(Vj(0,e,0))).r),o=t.sample(n.add(Vj(0,0,-.01))).r.sub(t.sample(n.add(Vj(0,0,e))).r);r.assign(Vj(i,a,o))}),r.normalize()});class f0 extends LH{static get type(){return"Texture3DNode"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return Vj(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,t){const n=this.value;return!e.isFlipY()||!0!==n.isRenderTargetTexture&&!0!==n.isFramebufferTexture||(t=this.sampler?t.flipY():t.setY(Ij(NH(this,this.levelNode).y).sub(t.y).sub(1))),t}generateUV(e,t){return t.build(e,"vec3")}normal(e){return m0({texture:this,uv:e})}}const A0=Tj(f0).setParameterLength(1,3);class g0 extends eQ{static get type(){return"UserDataNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,n),this.userData=n}updateReference(e){return this.reference=null!==this.userData?this.userData:e.object.userData,this.reference}}const v0=new WeakMap;class y0 extends kV{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=_V.OBJECT,this.updateAfterType=_V.OBJECT,this.previousModelWorldMatrix=Fz(new dl),this.previousProjectionMatrix=Fz(new dl).setGroup(Lz),this.previousCameraViewMatrix=Fz(new dl)}setProjectionMatrix(e){this.projectionMatrix=e}update(e){let{frameId:t,camera:n,object:i}=e;const r=x0(i);this.previousModelWorldMatrix.value.copy(r);const a=b0(n);a.frameId!==t&&(a.frameId=t,void 0===a.previousProjectionMatrix?(a.previousProjectionMatrix=new dl,a.previousCameraViewMatrix=new dl,a.currentProjectionMatrix=new dl,a.currentCameraViewMatrix=new dl,a.previousProjectionMatrix.copy(this.projectionMatrix||n.projectionMatrix),a.previousCameraViewMatrix.copy(n.matrixWorldInverse)):(a.previousProjectionMatrix.copy(a.currentProjectionMatrix),a.previousCameraViewMatrix.copy(a.currentCameraViewMatrix)),a.currentProjectionMatrix.copy(this.projectionMatrix||n.projectionMatrix),a.currentCameraViewMatrix.copy(n.matrixWorldInverse),this.previousProjectionMatrix.value.copy(a.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(a.previousCameraViewMatrix))}updateAfter(e){let{object:t}=e;x0(t).copy(t.matrixWorld)}setup(){const e=null===this.projectionMatrix?QH:Fz(this.projectionMatrix),t=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),n=e.mul(AW).mul(xW),i=this.previousProjectionMatrix.mul(t).mul(wW),r=n.xy.div(n.w),a=i.xy.div(i.w);return Qz(r,a)}}function b0(e){let t=v0.get(e);return void 0===t&&(t={},v0.set(e,t)),t}function x0(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=b0(e);let i=n[t];return void 0===i&&(n[t]=i=new dl,n[t].copy(e.matrixWorld)),i}const w0=_j(y0),T0=Mj(e=>{let[t,n]=e;return rG(1,t.oneMinus().div(n)).oneMinus()}).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),_0=Mj(e=>{let[t,n]=e;return rG(t.div(n.oneMinus()),1)}).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),S0=Mj(e=>{let[t,n]=e;return t.oneMinus().mul(n.oneMinus()).oneMinus()}).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),M0=Mj(e=>{let[t,n]=e;return yG(t.mul(2).mul(n),t.oneMinus().mul(2).mul(n.oneMinus()).oneMinus(),oG(.5,t))}).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),E0=Mj(e=>{let[t,n]=e;const i=n.a.add(t.a.mul(n.a.oneMinus()));return Gj(n.rgb.mul(n.a).add(t.rgb.mul(t.a).mul(n.a.oneMinus())).div(i),i)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),C0=Mj(e=>{let[t]=e;return Gj(t.rgb.mul(t.a),t.a)},{color:"vec4",return:"vec4"}),P0=Mj(e=>{let[t]=e;return Pj(t.a.equal(0),()=>Gj(0)),Gj(t.rgb.div(t.a),t.a)},{color:"vec4",return:"vec4"}),N0=Mj(e=>{let[t]=e;return L0(t.rgb)}),R0=Mj(e=>{let[t,n=Dj(1)]=e;return n.mix(L0(t.rgb),t.rgb)}),D0=Mj(e=>{let[t,n=Dj(1)]=e;const i=Wz(t.r,t.g,t.b).div(3),r=t.r.max(t.g.max(t.b)),a=r.sub(i).mul(n).mul(-3);return yG(t.rgb,r,a)}),I0=Mj(e=>{let[t,n=Dj(1)]=e;const i=Vj(.57735,.57735,.57735),r=n.cos();return Vj(t.rgb.mul(r).add(i.cross(t.rgb).mul(n.sin()).add(i.mul(uG(i,t.rgb).mul(r.oneMinus())))))}),L0=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vj(bs.getLuminanceCoefficients(new as));return uG(e,t)},k0=Mj(e=>{let[t,n=Vj(1),i=Vj(0),r=Vj(1),a=Dj(1),o=Vj(bs.getLuminanceCoefficients(new as,to))]=e;const s=t.rgb.dot(Vj(o)),l=aG(t.rgb.mul(n).add(i),0).toVar(),c=l.pow(r).toVar();return Pj(l.r.greaterThan(0),()=>{l.r.assign(c.r)}),Pj(l.g.greaterThan(0),()=>{l.g.assign(c.g)}),Pj(l.b.greaterThan(0),()=>{l.b.assign(c.b)}),l.assign(s.add(l.sub(s).mul(a))),Gj(l.rgb,t.a)});class B0 extends kV{static get type(){return"PosterizeNode"}constructor(e,t){super(),this.sourceNode=e,this.stepsNode=t}setup(){const{sourceNode:e,stepsNode:t}=this;return e.mul(t).floor().div(t)}}const F0=Tj(B0).setParameterLength(2),O0=new is;class U0 extends LH{static get type(){return"PassTextureNode"}constructor(e,t){super(t),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return e.object.isQuadMesh&&this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class V0 extends U0{static get type(){return"PassMultipleTextureNode"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e,null),this.textureName=t,this.previousTexture=n}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){return new this.constructor(this.passNode,this.textureName,this.previousTexture)}}class j0 extends kV{static get type(){return"PassNode"}constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super("vec4"),this.scope=e,this.scene=t,this.camera=n,this.options=i,this._pixelRatio=1,this._width=1,this._height=1;const r=new ch;r.isRenderTargetTexture=!0,r.name="depth";const a=new Ds(this._width*this._pixelRatio,this._height*this._pixelRatio,h({type:Ur},i));a.texture.name="output",a.depthTexture=r,this.renderTarget=a,this._textures={output:a.texture,depth:r},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=Fz(0),this._cameraFar=Fz(0),this._mrt=null,this._layers=null,this._resolution=1,this.isPassNode=!0,this.updateBeforeType=_V.FRAME,this.global=!0}setResolution(e){return this._resolution=e,this}getResolution(){return this._resolution}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getTexture(e){let t=this._textures[e];if(void 0===t){t=this.renderTarget.texture.clone(),t.name=e,this._textures[e]=t,this.renderTarget.textures.push(t)}return t}getPreviousTexture(e){let t=this._previousTextures[e];return void 0===t&&(t=this.getTexture(e).clone(),this._previousTextures[e]=t),t}toggleTexture(e){const t=this._previousTextures[e];if(void 0!==t){const n=this._textures[e],i=this.renderTarget.textures.indexOf(n);this.renderTarget.textures[i]=t,this._textures[e]=t,this._previousTextures[e]=n,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"output",t=this._textureNodes[e];return void 0===t&&(t=bj(new V0(this,e)),t.updateTexture(),this._textureNodes[e]=t),t}getPreviousTextureNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"output",t=this._previousTextureNodes[e];return void 0===t&&(void 0===this._textureNodes[e]&&this.getTextureNode(e),t=bj(new V0(this,e,!0)),t.updateTexture(),this._previousTextureNodes[e]=t),t}getViewZNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"depth",t=this._viewZNodes[e];if(void 0===t){const n=this._cameraNear,i=this._cameraFar;this._viewZNodes[e]=t=gX(this.getTextureNode(e),n,i)}return t}getLinearDepthNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"depth",t=this._linearDepthNodes[e];if(void 0===t){const n=this._cameraNear,i=this._cameraFar,r=this.getViewZNode(e);this._linearDepthNodes[e]=t=fX(r,n,i)}return t}setup(e){let{renderer:t}=e;return this.renderTarget.samples=void 0===this.options.samples?t.samples:this.options.samples,!0===t.backend.isWebGLBackend&&(this.renderTarget.samples=0),this.renderTarget.texture.type=t.getColorBufferType(),this.scope===j0.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:t}=e,{scene:n}=this;let i,r;const a=t.getOutputRenderTarget();a&&!0===a.isXRRenderTarget?(r=1,i=t.xr.getCamera(),t.xr.updateCamera(i),O0.set(a.width,a.height)):(i=this.camera,r=t.getPixelRatio(),t.getSize(O0)),this._pixelRatio=r,this.setSize(O0.width,O0.height);const o=t.getRenderTarget(),s=t.getMRT(),l=i.layers.mask;this._cameraNear.value=i.near,this._cameraFar.value=i.far,null!==this._layers&&(i.layers.mask=this._layers.mask);for(const c in this._previousTextures)this.toggleTexture(c);t.setRenderTarget(this.renderTarget),t.setMRT(this._mrt),t.render(n,i),t.setRenderTarget(o),t.setMRT(s),i.layers.mask=l}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio*this._resolution,i=this._height*this._pixelRatio*this._resolution;this.renderTarget.setSize(n,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}j0.COLOR="color",j0.DEPTH="depth";class z0 extends j0{static get type(){return"ToonOutlinePassNode"}constructor(e,t,n,i,r){super(j0.COLOR,e,t),this.colorNode=n,this.thicknessNode=i,this.alphaNode=r,this._materialCache=new WeakMap}updateBefore(e){const{renderer:t}=e,n=t.getRenderObjectFunction();t.setRenderObjectFunction((e,n,i,r,a,o,s,l)=>{if((a.isMeshToonMaterial||a.isMeshToonNodeMaterial)&&!1===a.wireframe){const c=this._getOutlineMaterial(a);t.renderObject(e,n,i,r,c,o,s,l)}t.renderObject(e,n,i,r,a,o,s,l)}),super.updateBefore(e),t.setRenderObjectFunction(n)}_createMaterial(){const e=new PX;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=vi;const t=RW.negate(),n=QH.mul(AW),i=Dj(1),r=n.mul(Gj(xW,1)),a=n.mul(Gj(xW.add(t),1)),o=Bq(r.sub(a));return e.vertexNode=r.add(o.mul(this.thicknessNode).mul(r.w).mul(i)),e.colorNode=Gj(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let t=this._materialCache.get(e);return void 0===t&&(t=this._createMaterial(),this._materialCache.set(e,t)),t}}const q0=Mj(e=>{let[t,n]=e;return t.mul(n).clamp()}).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),G0=Mj(e=>{let[t,n]=e;return t=t.mul(n),t.div(t.add(1)).clamp()}).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),H0=Mj(e=>{let[t,n]=e;t=t.mul(n),t=t.sub(.004).max(0);const i=t.mul(t.mul(6.2).add(.5)),r=t.mul(t.mul(6.2).add(1.7)).add(.06);return i.div(r).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),W0=Mj(e=>{let[t]=e;const n=t.mul(t.add(.0245786)).sub(90537e-9),i=t.mul(t.add(.432951).mul(.983729)).add(.238081);return n.div(i)}),Q0=Mj(e=>{let[t,n]=e;const i=Xj(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=Xj(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return t=t.mul(n).div(.6),t=i.mul(t),t=W0(t),t=r.mul(t),t.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Y0=Xj(Vj(1.6605,-.1246,-.0182),Vj(-.5876,1.1329,-.1006),Vj(-.0728,-.0083,1.1187)),X0=Xj(Vj(.6274,.0691,.0164),Vj(.3293,.9195,.088),Vj(.0433,.0113,.8956)),K0=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=Vj(n.mul(n)).toVar(),r=Vj(i.mul(i)).toVar();return Dj(15.5).mul(r.mul(i)).sub(Yz(40.14,r.mul(n))).add(Yz(31.96,r).sub(Yz(6.868,i.mul(n))).add(Yz(.4298,i).add(Yz(.1191,n).sub(.00232))))}),Z0=Mj(e=>{let[t,n]=e;const i=Vj(t).toVar(),r=Xj(Vj(.856627153315983,.137318972929847,.11189821299995),Vj(.0951212405381588,.761241990602591,.0767994186031903),Vj(.0482516061458583,.101439036467562,.811302368396859)),a=Xj(Vj(1.1271005818144368,-.1413297634984383,-.14132976349843826),Vj(-.11060664309660323,1.157823702216272,-.11060664309660294),Vj(-.016493938717834573,-.016493938717834257,1.2519364065950405)),o=Dj(-12.47393),s=Dj(4.026069);return i.mulAssign(n),i.assign(X0.mul(i)),i.assign(r.mul(i)),i.assign(aG(i,1e-10)),i.assign(Rq(i)),i.assign(i.sub(o).div(s.sub(o))),i.assign(bG(i,0,1)),i.assign(K0(i)),i.assign(a.mul(i)),i.assign(hG(aG(Vj(0),i),Vj(2.2))),i.assign(Y0.mul(i)),i.assign(bG(i,0,1)),i}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),J0=Mj(e=>{let[t,n]=e;const i=Dj(.76),r=Dj(.15);t=t.mul(n);const a=rG(t.r,rG(t.g,t.b)),o=DG(a.lessThan(.08),a.sub(Yz(6.25,a.mul(a))),.04);t.subAssign(o);const s=aG(t.r,aG(t.g,t.b));Pj(s.lessThan(i),()=>t);const l=Qz(1,i),c=Qz(1,l.mul(l).div(s.add(l.sub(i))));t.mulAssign(c.div(s));const u=Qz(1,Xz(1,r.mul(s.sub(c)).add(1)));return yG(t,Vj(c),u)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class $0 extends DV{static get type(){return"CodeNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";super("code"),this.isCodeNode=!0,this.global=!0,this.code=e,this.includes=t,this.language=n}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const t=this.getIncludes(e);for(const i of t)i.build(e);const n=e.getCodeFromNode(this,this.getNodeType(e));return n.code=this.code,n.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const e1=Tj($0).setParameterLength(1,3);class t1 extends $0{static get type(){return"FunctionNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const t=e.getDataFromNode(this);let n=t.nodeFunction;return void 0===n&&(n=e.parser.parseFunction(this.code),t.nodeFunction=n),n}generate(e,t){super.generate(e);const n=this.getNodeFunction(e),i=n.name,r=n.type,a=e.getCodeFromNode(this,r);""!==i&&(a.name=i);const o=e.getPropertyName(a),s=this.getNodeFunction(e).getCode(o);return a.code=s+"\n","property"===t?o:e.format("".concat(o,"()"),r,t)}}const n1=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";for(let a=0;a<t.length;a++){const e=t[a];"function"===typeof e&&(t[a]=e.functionNode)}const i=bj(new t1(e,t,n)),r=function(){return i.call(...arguments)};return r.functionNode=i,r};class i1 extends DV{static get type(){return"ScriptableValueNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this._value=e,this._cache=null,this.inputType=null,this.outputType=null,this.events=new Ho,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return null!==this.outputType}set value(e){this._value!==e&&(this._cache&&"URL"===this.inputType&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&null===this._cache&&"URL"===this.inputType&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&null!==e.value&&void 0!==e.value&&(("URL"===this.inputType||"String"===this.inputType)&&"string"===typeof e.value||"Number"===this.inputType&&"number"===typeof e.value||"Vector2"===this.inputType&&e.value.isVector2||"Vector3"===this.inputType&&e.value.isVector3||"Vector4"===this.inputType&&e.value.isVector4||"Color"===this.inputType&&e.value.isColor||"Matrix3"===this.inputType&&e.value.isMatrix3||"Matrix4"===this.inputType&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:Dj()}serialize(e){super.serialize(e),null!==this.value?"ArrayBuffer"===this.inputType?e.value=xV(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let t=null;null!==e.value&&(t="ArrayBuffer"===e.inputType?wV(e.value):"Texture"===e.inputType?e.meta.textures[e.value]:e.meta.nodes[e.value]||null),this.value=t,this.inputType=e.inputType,this.outputType=e.outputType}}const r1=Tj(i1).setParameterLength(1);class a1 extends Map{get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.has(e))return super.get(e);if(null!==t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const a=t(...i);return this.set(e,a),a}}}class o1{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const t=this.parameters[e];return t?t.getValue():null}}const s1=new a1;class l1 extends DV{static get type(){return"ScriptableNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.codeNode=e,this.parameters=t,this._local=new a1,this._output=r1(null),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,t){return this._local.set(e,t)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const t of this.getLayout())if(t.inputType&&(t.id===e||t.name===e))return t}getOutputLayout(e){for(const t of this.getLayout())if(t.outputType&&(t.id===e||t.name===e))return t}setOutput(e,t){const n=this._outputs;return void 0===n[e]?n[e]=r1(t):n[e].value=t,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,t){const n=this.parameters;return t&&t.isScriptableNode?(this.deleteParameter(e),n[e]=t,n[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):t&&t.isScriptableValueNode?(this.deleteParameter(e),n[e]=t,n[e].events.addEventListener("refresh",this.onRefresh)):void 0===n[e]?(n[e]=r1(t),n[e].events.addEventListener("refresh",this.onRefresh)):n[e].value=t,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let t=this.parameters[e];return t&&(t.isScriptableNode&&(t=t.getDefaultOutput()),t.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e){const t=this.getObject()[e];if("function"===typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t(...i)}}async callAsync(e){const t=this.getObject()[e];if("function"===typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return"AsyncFunction"===t.constructor.name?await t(...i):t(...i)}}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),null!==this._object)return this._object;const e=new o1(this),t=s1.get("THREE"),n=s1.get("TSL"),i=this.getMethod(),r=[e,this._local,s1,()=>this.refresh(),(e,t)=>this.setOutput(e,t),t,n];this._object=i(...r);const a=this._object.layout;if(a&&(!1===a.cache&&this._local.clear(),this._output.outputType=a.outputType||null,Array.isArray(a.elements)))for(const o of a.elements){const e=o.id||o.name;o.inputType&&(void 0===this.getParameter(e)&&this.setParameter(e,null),this.getParameter(e).inputType=o.inputType),o.outputType&&(void 0===this.getOutput(e)&&this.setOutput(e,null),this.getOutput(e).outputType=o.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const t in this.parameters){let e=this.parameters[t];e.isScriptableNode&&(e=e.getDefaultOutput()),e.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:Dj()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),null!==this._method)return this._method;const e=["layout","init","main","dispose"].join(", "),t="\nreturn { ...output, "+e+" };",n="var "+e+"; var output = {};\n"+this.codeNode.code+t;return this._method=new Function(...["parameters","local","global","refresh","setOutput","THREE","TSL"],n),this._method}dispose(){null!==this._method&&(this._object&&"function"===typeof this._object.dispose&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}getCacheKey(e){const t=[oV(this.source),this.getDefaultOutputNode().getCacheKey(e)];for(const n in this.parameters)t.push(this.parameters[n].getCacheKey(e));return sV(t)}set needsUpdate(e){!0===e&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return null===this.codeNode||(!0===this._needsOutputUpdate&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value),this}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const c1=Tj(l1).setParameterLength(1,2);function u1(e){let t;const n=e.context.getViewZ;return void 0!==n&&(t=n(this)),(t||SW.z).negate()}const d1=Mj((e,t)=>{let[n,i]=e;const r=u1(t);return TG(n,i,r)}),h1=Mj((e,t)=>{let[n]=e;const i=u1(t);return n.mul(n,i,i).negate().exp().oneMinus()}),p1=Mj(e=>{let[t,n]=e;return Gj(n.toFloat().mix(bz.rgb,t.toVec3()),bz.a)});let m1=null,f1=null;class A1 extends DV{static get type(){return"RangeNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dj(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dj();super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=e.getTypeLength(vV(this.minNode.value)),n=e.getTypeLength(vV(this.maxNode.value));return t>n?t:n}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const t=e.object;let n=null;if(t.count>1){const i=this.minNode.value,r=this.maxNode.value,a=e.getTypeLength(vV(i)),o=e.getTypeLength(vV(r));m1=m1||new Rs,f1=f1||new Rs,m1.setScalar(0),f1.setScalar(0),1===a?m1.setScalar(i):i.isColor?m1.set(i.r,i.g,i.b,1):m1.set(i.x,i.y,i.z||0,i.w||0),1===o?f1.setScalar(r):r.isColor?f1.set(r.r,r.g,r.b,1):f1.set(r.x,r.y,r.z||0,r.w||0);const s=4,l=s*t.count,c=new Float32Array(l);for(let e=0;e<l;e++){const t=e%s,n=m1.getComponent(t),i=f1.getComponent(t);c[e]=ns.lerp(n,i,Math.random())}const u=this.getNodeType(e);if(t.count<=4096)n=UH(c,"vec4",t.count).element(gY).convert(u);else{const t=new Zu(c,4);e.geometry.setAttribute("__range"+this.id,t),n=sH(t).convert(u)}}else n=Dj(0);return n}}const g1=Tj(A1).setParameterLength(2);class v1 extends DV{static get type(){return"ComputeBuiltinNode"}constructor(e,t){super(t),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,t){const n=this.getBuiltinName(e),i=this.getNodeType(e);return"compute"===e.shaderStage?e.format(n,i,t):(console.warn("ComputeBuiltinNode: Compute built-in value ".concat(n," can not be accessed in the ").concat(e.shaderStage," stage")),e.generateConst(i))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const y1=(e,t)=>bj(new v1(e,t)),b1=y1("numWorkgroups","uvec3"),x1=y1("workgroupId","uvec3"),w1=y1("globalId","uvec3"),T1=y1("localId","uvec3"),_1=y1("subgroupSize","uint");const S1=Tj(class extends DV{constructor(e){super(),this.scope=e}generate(e){const{scope:t}=this,{renderer:n}=e;!0===n.backend.isWebGLBackend?e.addFlowCode("\t// ".concat(t,"Barrier \n")):e.addLineFlowCode("".concat(t,"Barrier()"),this)}});class M1 extends IV{constructor(e,t){super(e,t),this.isWorkgroupInfoElementNode=!0}generate(e,t){let n;const i=e.context.assign;if(n=super.generate(e),!0!==i){const i=this.getNodeType(e);n=e.format(n,i,t)}return n}}class E1 extends DV{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t),this.bufferType=t,this.bufferCount=n,this.isWorkgroupInfoNode=!0,this.elementType=t,this.scope=e}label(e){return this.name=e,this}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return"".concat(this.scope,"Array")}element(e){return bj(new M1(this,e))}generate(e){return e.getScopedArray(this.name||"".concat(this.scope,"Array_").concat(this.id),this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}class C1 extends DV{static get type(){return"AtomicFunctionNode"}constructor(e,t,n){super("uint"),this.method=e,this.pointerNode=t,this.valueNode=n,this.parents=!0}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const t=e.getNodeProperties(this),n=t.parents,i=this.method,r=this.getNodeType(e),a=this.getInputType(e),o=this.pointerNode,s=this.valueNode,l=[];l.push("&".concat(o.build(e,a))),null!==s&&l.push(s.build(e,a));const c="".concat(e.getMethod(i,r),"( ").concat(l.join(", ")," )");if(!(1===n.length&&!0===n[0].isStackNode))return void 0===t.constNode&&(t.constNode=bH(c,r).toConst()),t.constNode.build(e);e.addLineFlowCode(c,this)}}C1.ATOMIC_LOAD="atomicLoad",C1.ATOMIC_STORE="atomicStore",C1.ATOMIC_ADD="atomicAdd",C1.ATOMIC_SUB="atomicSub",C1.ATOMIC_MAX="atomicMax",C1.ATOMIC_MIN="atomicMin",C1.ATOMIC_AND="atomicAnd",C1.ATOMIC_OR="atomicOr",C1.ATOMIC_XOR="atomicXor";const P1=Tj(C1),N1=(e,t,n)=>P1(e,t,n).toStack();let R1;function D1(e){R1=R1||new WeakMap;let t=R1.get(e);return void 0===t&&R1.set(e,t={}),t}function I1(e){const t=D1(e);return t.shadowMatrix||(t.shadowMatrix=Fz("mat4").setGroup(Lz).onRenderUpdate(t=>(!0===e.castShadow&&!1!==t.renderer.shadowMap.enabled||e.shadow.updateMatrices(e),e.shadow.matrix)))}function L1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TW;const n=I1(e).mul(t);return n.xyz.div(n.w)}function k1(e){const t=D1(e);return t.position||(t.position=Fz(new as).setGroup(Lz).onRenderUpdate((t,n)=>n.value.setFromMatrixPosition(e.matrixWorld)))}function B1(e){const t=D1(e);return t.targetPosition||(t.targetPosition=Fz(new as).setGroup(Lz).onRenderUpdate((t,n)=>n.value.setFromMatrixPosition(e.target.matrixWorld)))}function F1(e){const t=D1(e);return t.viewPosition||(t.viewPosition=Fz(new as).setGroup(Lz).onRenderUpdate((t,n)=>{let{camera:i}=t;n.value=n.value||new as,n.value.setFromMatrixPosition(e.matrixWorld),n.value.applyMatrix4(i.matrixWorldInverse)}))}const O1=e=>XH.transformDirection(k1(e).sub(B1(e))),U1=(e,t)=>{for(const n of t)if(n.isAnalyticLightNode&&n.light.id===e)return n;return null},V1=new WeakMap,j1=[];class z1 extends DV{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=Vj().toVar(),this.totalSpecularNode=Vj().toVar(),this.outgoingLightNode=Vj().toVar(),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=this._lights;for(let n=0;n<e.length;n++){const t=e[n];if(j1.push(t.id),j1.push(t.castShadow?1:0),!0===t.isSpotLight){const e=null!==t.map?t.map.id:-1,n=t.colorNode?t.colorNode.getCacheKey():-1;j1.push(e,n)}}const t=sV(j1);return j1.length=0,t}getHash(e){if(null===this._lightNodesHash){null===this._lightNodes&&this.setupLightsNode(e);const t=[];for(const e of this._lightNodes)t.push(e.getSelf().getHash());this._lightNodesHash="lights-"+t.join(",")}return this._lightNodesHash}analyze(e){const t=e.getNodeProperties(this);for(const n of t.nodes)n.build(e);t.outputNode.build(e)}setupLightsNode(e){const t=[],n=this._lightNodes,i=(e=>e.sort((e,t)=>e.id-t.id))(this._lights),r=e.renderer.library;for(const a of i)if(a.isNode)t.push(bj(a));else{let e=null;if(null!==n&&(e=U1(a.id,n)),null===e){const e=r.getLightNodeClass(a.constructor);if(null===e){console.warn("LightsNode.setupNodeLights: Light node not found for ".concat(a.constructor.name));continue}let n=null;V1.has(a)?n=V1.get(a):(n=bj(new e(a)),V1.set(a,n)),t.push(n)}}this._lightNodes=t}setupDirectLight(e,t,n){const{lightingModel:i,reflectedLight:r}=e.context;i.direct(h(h({},n),{},{lightNode:t,reflectedLight:r}),e)}setupDirectRectAreaLight(e,t,n){const{lightingModel:i,reflectedLight:r}=e.context;i.directRectArea(h(h({},n),{},{lightNode:t,reflectedLight:r}),e)}setupLights(e,t){for(const n of t)n.build(e)}getLightNodes(e){return null===this._lightNodes&&this.setupLightsNode(e),this._lightNodes}setup(e){const t=e.lightsNode;e.lightsNode=this;let n=this.outgoingLightNode;const i=e.context,r=i.lightingModel,a=e.getNodeProperties(this);if(r){const{totalDiffuseNode:t,totalSpecularNode:o}=this;i.outgoingLight=n;const s=e.addStack();a.nodes=s.nodes,r.start(e);const{backdrop:l,backdropAlpha:c}=i,{directDiffuse:u,directSpecular:d,indirectDiffuse:h,indirectSpecular:p}=i.reflectedLight;let m=u.add(h);null!==l&&(m=Vj(null!==c?c.mix(m,l):l),i.material.transparent=!0),t.assign(m),o.assign(d.add(p)),n.assign(t.add(o)),r.finish(e),n=n.bypass(e.removeStack())}else a.nodes=[];return e.lightsNode=t,n}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}class q1 extends DV{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=_V.RENDER,this.isShadowBaseNode=!0}setupShadowPosition(e){let{context:t,material:n}=e;G1.assign(n.receivedShadowPositionNode||t.shadowPositionWorld||TW)}}const G1=ez("vec3","shadowPositionWorld");function H1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.toneMapping=e.toneMapping,t.toneMappingExposure=e.toneMappingExposure,t.outputColorSpace=e.outputColorSpace,t.renderTarget=e.getRenderTarget(),t.activeCubeFace=e.getActiveCubeFace(),t.activeMipmapLevel=e.getActiveMipmapLevel(),t.renderObjectFunction=e.getRenderObjectFunction(),t.pixelRatio=e.getPixelRatio(),t.mrt=e.getMRT(),t.clearColor=e.getClearColor(t.clearColor||new ic),t.clearAlpha=e.getClearAlpha(),t.autoClear=e.autoClear,t.scissorTest=e.getScissorTest(),t}function W1(e,t){return t=H1(e,t),e.setMRT(null),e.setRenderObjectFunction(null),e.setClearColor(0,1),e.autoClear=!0,t}function Q1(e,t){e.toneMapping=t.toneMapping,e.toneMappingExposure=t.toneMappingExposure,e.outputColorSpace=t.outputColorSpace,e.setRenderTarget(t.renderTarget,t.activeCubeFace,t.activeMipmapLevel),e.setRenderObjectFunction(t.renderObjectFunction),e.setPixelRatio(t.pixelRatio),e.setMRT(t.mrt),e.setClearColor(t.clearColor,t.clearAlpha),e.autoClear=t.autoClear,e.setScissorTest(t.scissorTest)}function Y1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.background=e.background,t.backgroundNode=e.backgroundNode,t.overrideMaterial=e.overrideMaterial,t}function X1(e,t){return t=Y1(e,t),e.background=null,e.backgroundNode=null,e.overrideMaterial=null,t}function K1(e,t){e.background=t.background,e.backgroundNode=t.backgroundNode,e.overrideMaterial=t.overrideMaterial}function Z1(e,t,n){return n=X1(t,n=W1(e,n))}function J1(e,t,n){Q1(e,n),K1(t,n)}const $1=new WeakMap,e2=Mj(e=>{let{depthTexture:t,shadowCoord:n,depthLayer:i}=e,r=BH(t,n.xy).label("t_basic");return t.isArrayTexture&&(r=r.depth(i)),r.compare(n.z)}),t2=Mj(e=>{let{depthTexture:t,shadowCoord:n,shadow:i,depthLayer:r}=e;const a=(e,n)=>{let i=BH(t,e);return t.isArrayTexture&&(i=i.depth(r)),i.compare(n)},o=tQ("mapSize","vec2",i).setGroup(Lz),s=tQ("radius","float",i).setGroup(Lz),l=Bj(1).div(o),c=l.x.negate().mul(s),u=l.y.negate().mul(s),d=l.x.mul(s),h=l.y.mul(s),p=c.div(2),m=u.div(2),f=d.div(2),A=h.div(2);return Wz(a(n.xy.add(Bj(c,u)),n.z),a(n.xy.add(Bj(0,u)),n.z),a(n.xy.add(Bj(d,u)),n.z),a(n.xy.add(Bj(p,m)),n.z),a(n.xy.add(Bj(0,m)),n.z),a(n.xy.add(Bj(f,m)),n.z),a(n.xy.add(Bj(c,0)),n.z),a(n.xy.add(Bj(p,0)),n.z),a(n.xy,n.z),a(n.xy.add(Bj(f,0)),n.z),a(n.xy.add(Bj(d,0)),n.z),a(n.xy.add(Bj(p,A)),n.z),a(n.xy.add(Bj(0,A)),n.z),a(n.xy.add(Bj(f,A)),n.z),a(n.xy.add(Bj(c,h)),n.z),a(n.xy.add(Bj(0,h)),n.z),a(n.xy.add(Bj(d,h)),n.z)).mul(1/17)}),n2=Mj(e=>{let{depthTexture:t,shadowCoord:n,shadow:i,depthLayer:r}=e;const a=(e,n)=>{let i=BH(t,e);return t.isArrayTexture&&(i=i.depth(r)),i.compare(n)},o=tQ("mapSize","vec2",i).setGroup(Lz),s=Bj(1).div(o),l=s.x,c=s.y,u=n.xy,d=Fq(u.mul(o).add(.5));return u.subAssign(d.mul(s)),Wz(a(u,n.z),a(u.add(Bj(l,0)),n.z),a(u.add(Bj(0,c)),n.z),a(u.add(s),n.z),yG(a(u.add(Bj(l.negate(),0)),n.z),a(u.add(Bj(l.mul(2),0)),n.z),d.x),yG(a(u.add(Bj(l.negate(),c)),n.z),a(u.add(Bj(l.mul(2),c)),n.z),d.x),yG(a(u.add(Bj(0,c.negate())),n.z),a(u.add(Bj(0,c.mul(2))),n.z),d.y),yG(a(u.add(Bj(l,c.negate())),n.z),a(u.add(Bj(l,c.mul(2))),n.z),d.y),yG(yG(a(u.add(Bj(l.negate(),c.negate())),n.z),a(u.add(Bj(l.mul(2),c.negate())),n.z),d.x),yG(a(u.add(Bj(l.negate(),c.mul(2))),n.z),a(u.add(Bj(l.mul(2),c.mul(2))),n.z),d.x),d.y)).mul(1/9)}),i2=Mj(e=>{let{depthTexture:t,shadowCoord:n,depthLayer:i}=e;const r=Dj(1).toVar();let a=BH(t).sample(n.xy);t.isArrayTexture&&(a=a.depth(i)),a=a.rg;const o=oG(n.z,a.x);return Pj(o.notEqual(Dj(1)),()=>{const e=n.z.sub(a.x),t=aG(0,a.y.mul(a.y));let i=t.div(t.add(e.mul(e)));i=bG(Qz(i,.3).div(.95-.3)),r.assign(bG(aG(o,i)))}),r}),r2=Mj(e=>{let[t,n,i]=e,r=TW.sub(t).length();return r=r.sub(n).div(i.sub(n)),r=r.saturate(),r}),a2=e=>{let t=$1.get(e);if(void 0===t){const n=e.isPointLight?(e=>{const t=e.shadow.camera,n=tQ("near","float",t).setGroup(Lz),i=tQ("far","float",t).setGroup(Lz),r=iW(e);return r2(r,n,i)})(e):null;t=new PX,t.colorNode=Gj(0,0,0,1),t.depthNode=n,t.isShadowPassMaterial=!0,t.name="ShadowMaterial",t.fog=!1,$1.set(e,t)}return t},o2=new AJ,s2=[],l2=(e,t,n,i)=>{s2[0]=e,s2[1]=t;let r=o2.get(s2);return void 0!==r&&r.shadowType===n&&r.useVelocity===i||(r=function(r,a,o,s,l,c){if(!0===r.castShadow||r.receiveShadow&&n===Ai){i&&(bV(r).useVelocity=!0),r.onBeforeShadow(e,r,o,t.camera,s,a.overrideMaterial,c);for(var u=arguments.length,d=new Array(u>6?u-6:0),h=6;h<u;h++)d[h-6]=arguments[h];e.renderObject(r,a,o,s,l,c,...d),r.onAfterShadow(e,r,o,t.camera,s,a.overrideMaterial,c)}},r.shadowType=n,r.useVelocity=i,o2.set(s2,r)),s2[0]=null,s2[1]=null,r},c2=Mj(e=>{let{samples:t,radius:n,size:i,shadowPass:r,depthLayer:a}=e;const o=Dj(0).toVar("meanVertical"),s=Dj(0).toVar("squareMeanVertical"),l=t.lessThanEqual(Dj(1)).select(Dj(0),Dj(2).div(t.sub(1))),c=t.lessThanEqual(Dj(1)).select(Dj(0),Dj(-1));BY({start:Ij(0),end:Ij(t),type:"int",condition:"<"},e=>{let{i:t}=e;const u=c.add(Dj(t).mul(l));let d=r.sample(Wz($Y.xy,Bj(0,u).mul(n)).div(i));r.value.isArrayTexture&&(d=d.depth(a)),d=d.x,o.addAssign(d),s.addAssign(d.mul(d))}),o.divAssign(t),s.divAssign(t);const u=Dq(s.sub(o.mul(o)));return Bj(o,u)}),u2=Mj(e=>{let{samples:t,radius:n,size:i,shadowPass:r,depthLayer:a}=e;const o=Dj(0).toVar("meanHorizontal"),s=Dj(0).toVar("squareMeanHorizontal"),l=t.lessThanEqual(Dj(1)).select(Dj(0),Dj(2).div(t.sub(1))),c=t.lessThanEqual(Dj(1)).select(Dj(0),Dj(-1));BY({start:Ij(0),end:Ij(t),type:"int",condition:"<"},e=>{let{i:t}=e;const u=c.add(Dj(t).mul(l));let d=r.sample(Wz($Y.xy,Bj(u,0).mul(n)).div(i));r.value.isArrayTexture&&(d=d.depth(a)),o.addAssign(d.x),s.addAssign(Wz(d.y.mul(d.y),d.x.mul(d.x)))}),o.divAssign(t),s.divAssign(t);const u=Dq(s.sub(o.mul(o)));return Bj(o,u)}),d2=[e2,t2,n2,i2];let h2;const p2=new X$;class m2 extends q1{static get type(){return"ShadowNode"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e),this.shadow=t||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(e,t){let{filterFn:n,depthTexture:i,shadowCoord:r,shadow:a,depthLayer:o}=t;const s=r.x.greaterThanEqual(0).and(r.x.lessThanEqual(1)).and(r.y.greaterThanEqual(0)).and(r.y.lessThanEqual(1)).and(r.z.lessThanEqual(1)),l=n({depthTexture:i,shadowCoord:r,shadow:a,depthLayer:o});return s.select(l,Dj(1))}setupShadowCoord(e,t){const{shadow:n}=this,{renderer:i}=e,r=tQ("bias","float",n).setGroup(Lz);let a,o=t;if(n.camera.isOrthographicCamera||!0!==i.logarithmicDepthBuffer)o=o.xyz.div(o.w),a=o.z,i.coordinateSystem===jo&&(a=a.mul(2).sub(1));else{const e=o.w;o=o.xy.div(e);const t=tQ("near","float",n.camera).setGroup(Lz),i=tQ("far","float",n.camera).setGroup(Lz);a=vX(e.negate(),t,i)}return o=Vj(o.x,o.y.oneMinus(),a.add(r)),o}getShadowFilterFn(e){return d2[e]}setupRenderTarget(e,t){const n=new ch(e.mapSize.width,e.mapSize.height);n.name="ShadowDepthTexture",n.compareFunction=wo;const i=t.createRenderTarget(e.mapSize.width,e.mapSize.height);return i.texture.name="ShadowMap",i.texture.type=e.mapType,i.depthTexture=n,{shadowMap:i,depthTexture:n}}setupShadow(e){const{renderer:t}=e,{light:n,shadow:i}=this,r=t.shadowMap.type,{depthTexture:a,shadowMap:o}=this.setupRenderTarget(i,e);if(i.camera.updateProjectionMatrix(),r===Ai&&!0!==i.isPointLightShadow){a.compareFunction=null,o.depth>1?(o._vsmShadowMapVertical||(o._vsmShadowMapVertical=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Zr,type:Ur,depth:o.depth,depthBuffer:!1}),o._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=o._vsmShadowMapVertical,o._vsmShadowMapHorizontal||(o._vsmShadowMapHorizontal=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Zr,type:Ur,depth:o.depth,depthBuffer:!1}),o._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=o._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Zr,type:Ur,depthBuffer:!1}),this.vsmShadowMapHorizontal=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Zr,type:Ur,depthBuffer:!1}));let t=BH(a);a.isArrayTexture&&(t=t.depth(this.depthLayer));let n=BH(this.vsmShadowMapVertical.texture);a.isArrayTexture&&(n=n.depth(this.depthLayer));const r=tQ("blurSamples","float",i).setGroup(Lz),s=tQ("radius","float",i).setGroup(Lz),l=tQ("mapSize","vec2",i).setGroup(Lz);let c=this.vsmMaterialVertical||(this.vsmMaterialVertical=new PX);c.fragmentNode=c2({samples:r,radius:s,size:l,shadowPass:t,depthLayer:this.depthLayer}).context(e.getSharedContext()),c.name="VSMVertical",c=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new PX),c.fragmentNode=u2({samples:r,radius:s,size:l,shadowPass:n,depthLayer:this.depthLayer}).context(e.getSharedContext()),c.name="VSMHorizontal"}const s=tQ("intensity","float",i).setGroup(Lz),l=tQ("normalBias","float",i).setGroup(Lz),c=I1(n).mul(G1.add(BW.mul(l))),u=this.setupShadowCoord(e,c),d=i.filterNode||this.getShadowFilterFn(t.shadowMap.type)||null;if(null===d)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const h=r===Ai&&!0!==i.isPointLightShadow?this.vsmShadowMapHorizontal.texture:a,p=this.setupShadowFilter(e,{filterFn:d,shadowTexture:o.texture,depthTexture:h,shadowCoord:u,shadow:i,depthLayer:this.depthLayer});let m=BH(o.texture,u);a.isArrayTexture&&(m=m.depth(this.depthLayer));const f=yG(1,p.rgb.mix(m,1),s.mul(m.a)).toVar();return this.shadowMap=o,this.shadow.map=o,f}setup(e){if(!1!==e.renderer.shadowMap.enabled)return Mj(()=>{let t=this._node;return this.setupShadowPosition(e),null===t&&(this._node=t=this.setupShadow(e)),e.material.shadowNode&&console.warn('THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(t=e.material.receivedShadowNode(t)),t})()}renderShadow(e){const{shadow:t,shadowMap:n,light:i}=this,{renderer:r,scene:a}=e;t.updateMatrices(i),n.setSize(t.mapSize.width,t.mapSize.height,n.depth),r.render(a,t.camera)}updateShadow(e){const{shadowMap:t,light:n,shadow:i}=this,{renderer:r,scene:a,camera:o}=e,s=r.shadowMap.type,l=t.depthTexture.version;this._depthVersionCached=l;const c=i.camera.layers.mask;0===(4294967294&i.camera.layers.mask)&&(i.camera.layers.mask=o.layers.mask);const u=r.getRenderObjectFunction(),d=r.getMRT(),h=!!d&&d.has("velocity");h2=Z1(r,a,h2),a.overrideMaterial=a2(n),r.setRenderObjectFunction(l2(r,i,s,h)),r.setClearColor(0,0),r.setRenderTarget(t),this.renderShadow(e),r.setRenderObjectFunction(u),s===Ai&&!0!==i.isPointLightShadow&&this.vsmPass(r),i.camera.layers.mask=c,J1(r,a,h2)}vsmPass(e){const{shadow:t}=this,n=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(t.mapSize.width,t.mapSize.height,n),this.vsmShadowMapHorizontal.setSize(t.mapSize.width,t.mapSize.height,n),e.setRenderTarget(this.vsmShadowMapVertical),p2.material=this.vsmMaterialVertical,p2.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),p2.material=this.vsmMaterialHorizontal,p2.render(e)}dispose(){this.shadowMap.dispose(),this.shadowMap=null,null!==this.vsmShadowMapVertical&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),null!==this.vsmShadowMapHorizontal&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),super.dispose()}updateBefore(e){const{shadow:t}=this;let n=t.needsUpdate||t.autoUpdate;n&&(this._cameraFrameId[e.camera]===e.frameId&&(n=!1),this._cameraFrameId[e.camera]=e.frameId),n&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(t.needsUpdate=!1))}}const f2=(e,t)=>bj(new m2(e,t)),A2=new ic,g2=Mj(e=>{let[t,n]=e;const i=t.toVar(),r=Gq(i),a=Xz(1,aG(r.x,aG(r.y,r.z)));r.mulAssign(a),i.mulAssign(a.mul(n.mul(2).oneMinus()));const o=Bj(i.xy).toVar(),s=n.mul(1.5).oneMinus();return Pj(r.z.greaterThanEqual(s),()=>{Pj(i.z.greaterThan(0),()=>{o.x.assign(Qz(4,i.x))})}).ElseIf(r.x.greaterThanEqual(s),()=>{const e=Hq(i.x);o.x.assign(i.z.mul(e).add(e.mul(2)))}).ElseIf(r.y.greaterThanEqual(s),()=>{const e=Hq(i.y);o.x.assign(i.x.add(e.mul(2)).add(2)),o.y.assign(i.z.mul(e).sub(2))}),Bj(.125,.25).mul(o).add(Bj(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),v2=Mj(e=>{let{depthTexture:t,bd3D:n,dp:i,texelSize:r}=e;return BH(t,g2(n,r.y)).compare(i)}),y2=Mj(e=>{let{depthTexture:t,bd3D:n,dp:i,texelSize:r,shadow:a}=e;const o=tQ("radius","float",a).setGroup(Lz),s=Bj(-1,1).mul(o).mul(r.y);return BH(t,g2(n.add(s.xyy),r.y)).compare(i).add(BH(t,g2(n.add(s.yyy),r.y)).compare(i)).add(BH(t,g2(n.add(s.xyx),r.y)).compare(i)).add(BH(t,g2(n.add(s.yyx),r.y)).compare(i)).add(BH(t,g2(n,r.y)).compare(i)).add(BH(t,g2(n.add(s.xxy),r.y)).compare(i)).add(BH(t,g2(n.add(s.yxy),r.y)).compare(i)).add(BH(t,g2(n.add(s.xxx),r.y)).compare(i)).add(BH(t,g2(n.add(s.yxx),r.y)).compare(i)).mul(1/9)}),b2=Mj(e=>{let{filterFn:t,depthTexture:n,shadowCoord:i,shadow:r}=e;const a=i.xyz.toVar(),o=a.length(),s=Fz("float").setGroup(Lz).onRenderUpdate(()=>r.camera.near),l=Fz("float").setGroup(Lz).onRenderUpdate(()=>r.camera.far),c=tQ("bias","float",r).setGroup(Lz),u=Fz(r.mapSize).setGroup(Lz),d=Dj(1).toVar();return Pj(o.sub(l).lessThanEqual(0).and(o.sub(s).greaterThanEqual(0)),()=>{const e=o.sub(s).div(l.sub(s)).toVar();e.addAssign(c);const i=a.normalize(),h=Bj(1).div(u.mul(Bj(4,2)));d.assign(t({depthTexture:n,bd3D:i,dp:e,texelSize:h,shadow:r}))}),d}),x2=new Rs,w2=new is,T2=new is;class _2 extends m2{static get type(){return"PointShadowNode"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}getShadowFilterFn(e){return e===pi?v2:y2}setupShadowCoord(e,t){return t}setupShadowFilter(e,t){let{filterFn:n,shadowTexture:i,depthTexture:r,shadowCoord:a,shadow:o}=t;return b2({filterFn:n,shadowTexture:i,depthTexture:r,shadowCoord:a,shadow:o})}renderShadow(e){const{shadow:t,shadowMap:n,light:i}=this,{renderer:r,scene:a}=e,o=t.getFrameExtents();T2.copy(t.mapSize),T2.multiply(o),n.setSize(T2.width,T2.height),w2.copy(t.mapSize);const s=r.autoClear,l=r.getClearColor(A2),c=r.getClearAlpha();r.autoClear=!1,r.setClearColor(t.clearColor,t.clearAlpha),r.clear();const u=t.getViewportCount();for(let d=0;d<u;d++){const e=t.getViewport(d),o=w2.x*e.x,s=T2.y-w2.y-w2.y*e.y;x2.set(o,s,w2.x*e.z,w2.y*e.w),n.viewport.copy(x2),t.updateMatrices(i,d),r.render(a,t.camera)}r.autoClear=s,r.setClearColor(l,c)}}const S2=(e,t)=>bj(new _2(e,t));class M2 extends qY{static get type(){return"AnalyticLightNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.light=e,this.color=new ic,this.colorNode=e&&e.colorNode||Fz(this.color).setGroup(Lz),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=_V.FRAME}getHash(){return this.light.uuid}getLightVector(e){return F1(this.light).sub(e.context.positionView||SW)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return f2(this.light)}setupShadow(e){const{renderer:t}=e;if(!1===t.shadowMap.enabled)return;let n=this.shadowColorNode;if(null===n){const e=this.light.shadow.shadowNode;let t;t=void 0!==e?bj(e):this.setupShadowNode(),this.shadowNode=t,this.shadowColorNode=n=this.colorNode.mul(t),this.baseColorNode=this.colorNode}this.colorNode=n}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):null!==this.shadowNode&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const t=this.setupDirect(e),n=this.setupDirectRectArea(e);t&&e.lightsNode.setupDirectLight(e,this,t),n&&e.lightsNode.setupDirectRectAreaLight(e,this,n)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const E2=Mj(e=>{let{lightDistance:t,cutoffDistance:n,decayExponent:i}=e;const r=t.pow(i).max(.01).reciprocal();return n.greaterThan(0).select(r.mul(t.div(n).pow4().oneMinus().clamp().pow2()),r)}),C2=e=>{let{color:t,lightVector:n,cutoffDistance:i,decayExponent:r}=e;const a=n.normalize(),o=n.length(),s=E2({lightDistance:o,cutoffDistance:i,decayExponent:r});return{lightDirection:a,lightColor:t.mul(s)}};class P2 extends M2{static get type(){return"PointLightNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),this.cutoffDistanceNode=Fz(0).setGroup(Lz),this.decayExponentNode=Fz(2).setGroup(Lz)}update(e){const{light:t}=this;super.update(e),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}setupShadowNode(){return S2(this.light)}setupDirect(e){return C2({color:this.colorNode,lightVector:this.getLightVector(e),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}const N2=Mj(e=>{let[t=CH()]=e;return function(){const e=t.mul(2),n=e.x.floor(),i=e.y.floor();return n.add(i).mod(2).sign()}()}),R2=Mj((e,t)=>{let[n=CH()]=e,{renderer:i,material:r}=t;const a=vG(n.mul(2).sub(1));let o;if(r.alphaToCoverage&&i.samples>1){const e=Dj(a.fwidth()).toVar();o=TG(e.oneMinus(),e.add(1),a).oneMinus()}else o=DG(a.greaterThan(1),0,1);return o}),D2=Mj(e=>{let[t,n,i]=e;const r=Dj(i).toVar(),a=Dj(n).toVar(),o=kj(t).toVar();return DG(o,a,r)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),I2=Mj(e=>{let[t,n]=e;const i=kj(n).toVar(),r=Dj(t).toVar();return DG(i,r.negate(),r)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),L2=Mj(e=>{let[t]=e;const n=Dj(t).toVar();return Ij(Lq(n))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),k2=Mj(e=>{let[t,n]=e;const i=Dj(t).toVar();return n.assign(L2(i)),i.sub(Dj(n))}),B2=Mj(e=>{let[t,n,i,r,a,o]=e;const s=Dj(o).toVar(),l=Dj(a).toVar(),c=Dj(r).toVar(),u=Dj(i).toVar(),d=Dj(n).toVar(),h=Dj(t).toVar(),p=Dj(Qz(1,l)).toVar();return Qz(1,s).mul(h.mul(p).add(d.mul(l))).add(s.mul(u.mul(p).add(c.mul(l))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),F2=Mj(e=>{let[t,n,i,r,a,o]=e;const s=Dj(o).toVar(),l=Dj(a).toVar(),c=Vj(r).toVar(),u=Vj(i).toVar(),d=Vj(n).toVar(),h=Vj(t).toVar(),p=Dj(Qz(1,l)).toVar();return Qz(1,s).mul(h.mul(p).add(d.mul(l))).add(s.mul(u.mul(p).add(c.mul(l))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),O2=v$([B2,F2]),U2=Mj(e=>{let[t,n,i,r,a,o,s,l,c,u,d]=e;const h=Dj(d).toVar(),p=Dj(u).toVar(),m=Dj(c).toVar(),f=Dj(l).toVar(),A=Dj(s).toVar(),g=Dj(o).toVar(),v=Dj(a).toVar(),y=Dj(r).toVar(),b=Dj(i).toVar(),x=Dj(n).toVar(),w=Dj(t).toVar(),T=Dj(Qz(1,m)).toVar(),_=Dj(Qz(1,p)).toVar();return Dj(Qz(1,h)).toVar().mul(_.mul(w.mul(T).add(x.mul(m))).add(p.mul(b.mul(T).add(y.mul(m))))).add(h.mul(_.mul(v.mul(T).add(g.mul(m))).add(p.mul(A.mul(T).add(f.mul(m))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),V2=Mj(e=>{let[t,n,i,r,a,o,s,l,c,u,d]=e;const h=Dj(d).toVar(),p=Dj(u).toVar(),m=Dj(c).toVar(),f=Vj(l).toVar(),A=Vj(s).toVar(),g=Vj(o).toVar(),v=Vj(a).toVar(),y=Vj(r).toVar(),b=Vj(i).toVar(),x=Vj(n).toVar(),w=Vj(t).toVar(),T=Dj(Qz(1,m)).toVar(),_=Dj(Qz(1,p)).toVar();return Dj(Qz(1,h)).toVar().mul(_.mul(w.mul(T).add(x.mul(m))).add(p.mul(b.mul(T).add(y.mul(m))))).add(h.mul(_.mul(v.mul(T).add(g.mul(m))).add(p.mul(A.mul(T).add(f.mul(m))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),j2=v$([U2,V2]),z2=Mj(e=>{let[t,n,i]=e;const r=Dj(i).toVar(),a=Dj(n).toVar(),o=Lj(t).toVar(),s=Lj(o.bitAnd(Lj(7))).toVar(),l=Dj(D2(s.lessThan(Lj(4)),a,r)).toVar(),c=Dj(Yz(2,D2(s.lessThan(Lj(4)),r,a))).toVar();return I2(l,kj(s.bitAnd(Lj(1)))).add(I2(c,kj(s.bitAnd(Lj(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),q2=Mj(e=>{let[t,n,i,r]=e;const a=Dj(r).toVar(),o=Dj(i).toVar(),s=Dj(n).toVar(),l=Lj(t).toVar(),c=Lj(l.bitAnd(Lj(15))).toVar(),u=Dj(D2(c.lessThan(Lj(8)),s,o)).toVar(),d=Dj(D2(c.lessThan(Lj(4)),o,D2(c.equal(Lj(12)).or(c.equal(Lj(14))),s,a))).toVar();return I2(u,kj(c.bitAnd(Lj(1)))).add(I2(d,kj(c.bitAnd(Lj(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),G2=v$([z2,q2]),H2=Mj(e=>{let[t,n,i]=e;const r=Dj(i).toVar(),a=Dj(n).toVar(),o=zj(t).toVar();return Vj(G2(o.x,a,r),G2(o.y,a,r),G2(o.z,a,r))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),W2=Mj(e=>{let[t,n,i,r]=e;const a=Dj(r).toVar(),o=Dj(i).toVar(),s=Dj(n).toVar(),l=zj(t).toVar();return Vj(G2(l.x,s,o,a),G2(l.y,s,o,a),G2(l.z,s,o,a))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),Q2=v$([H2,W2]),Y2=Mj(e=>{let[t]=e;const n=Dj(t).toVar();return Yz(.6616,n)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),X2=Mj(e=>{let[t]=e;const n=Dj(t).toVar();return Yz(.982,n)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),K2=Mj(e=>{let[t]=e;const n=Vj(t).toVar();return Yz(.6616,n)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),Z2=v$([Y2,K2]),J2=Mj(e=>{let[t]=e;const n=Vj(t).toVar();return Yz(.982,n)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),$2=v$([X2,J2]),e3=Mj(e=>{let[t,n]=e;const i=Ij(n).toVar(),r=Lj(t).toVar();return r.shiftLeft(i).bitOr(r.shiftRight(Ij(32).sub(i)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),t3=Mj(e=>{let[t,n,i]=e;t.subAssign(i),t.bitXorAssign(e3(i,Ij(4))),i.addAssign(n),n.subAssign(t),n.bitXorAssign(e3(t,Ij(6))),t.addAssign(i),i.subAssign(n),i.bitXorAssign(e3(n,Ij(8))),n.addAssign(t),t.subAssign(i),t.bitXorAssign(e3(i,Ij(16))),i.addAssign(n),n.subAssign(t),n.bitXorAssign(e3(t,Ij(19))),t.addAssign(i),i.subAssign(n),i.bitXorAssign(e3(n,Ij(4))),n.addAssign(t)}),n3=Mj(e=>{let[t,n,i]=e;const r=Lj(i).toVar(),a=Lj(n).toVar(),o=Lj(t).toVar();return r.bitXorAssign(a),r.subAssign(e3(a,Ij(14))),o.bitXorAssign(r),o.subAssign(e3(r,Ij(11))),a.bitXorAssign(o),a.subAssign(e3(o,Ij(25))),r.bitXorAssign(a),r.subAssign(e3(a,Ij(16))),o.bitXorAssign(r),o.subAssign(e3(r,Ij(4))),a.bitXorAssign(o),a.subAssign(e3(o,Ij(14))),r.bitXorAssign(a),r.subAssign(e3(a,Ij(24))),r}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),i3=Mj(e=>{let[t]=e;const n=Lj(t).toVar();return Dj(n).div(Dj(Lj(Ij(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),r3=Mj(e=>{let[t]=e;const n=Dj(t).toVar();return n.mul(n).mul(n).mul(n.mul(n.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),a3=Mj(e=>{let[t]=e;const n=Ij(t).toVar(),i=Lj(Lj(1)).toVar(),r=Lj(Lj(Ij(3735928559)).add(i.shiftLeft(Lj(2))).add(Lj(13))).toVar();return n3(r.add(Lj(n)),r,r)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),o3=Mj(e=>{let[t,n]=e;const i=Ij(n).toVar(),r=Ij(t).toVar(),a=Lj(Lj(2)).toVar(),o=Lj().toVar(),s=Lj().toVar(),l=Lj().toVar();return o.assign(s.assign(l.assign(Lj(Ij(3735928559)).add(a.shiftLeft(Lj(2))).add(Lj(13))))),o.addAssign(Lj(r)),s.addAssign(Lj(i)),n3(o,s,l)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),s3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Ij(n).toVar(),o=Ij(t).toVar(),s=Lj(Lj(3)).toVar(),l=Lj().toVar(),c=Lj().toVar(),u=Lj().toVar();return l.assign(c.assign(u.assign(Lj(Ij(3735928559)).add(s.shiftLeft(Lj(2))).add(Lj(13))))),l.addAssign(Lj(o)),c.addAssign(Lj(a)),u.addAssign(Lj(r)),n3(l,c,u)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),l3=Mj(e=>{let[t,n,i,r]=e;const a=Ij(r).toVar(),o=Ij(i).toVar(),s=Ij(n).toVar(),l=Ij(t).toVar(),c=Lj(Lj(4)).toVar(),u=Lj().toVar(),d=Lj().toVar(),h=Lj().toVar();return u.assign(d.assign(h.assign(Lj(Ij(3735928559)).add(c.shiftLeft(Lj(2))).add(Lj(13))))),u.addAssign(Lj(l)),d.addAssign(Lj(s)),h.addAssign(Lj(o)),t3(u,d,h),u.addAssign(Lj(a)),n3(u,d,h)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),c3=Mj(e=>{let[t,n,i,r,a]=e;const o=Ij(a).toVar(),s=Ij(r).toVar(),l=Ij(i).toVar(),c=Ij(n).toVar(),u=Ij(t).toVar(),d=Lj(Lj(5)).toVar(),h=Lj().toVar(),p=Lj().toVar(),m=Lj().toVar();return h.assign(p.assign(m.assign(Lj(Ij(3735928559)).add(d.shiftLeft(Lj(2))).add(Lj(13))))),h.addAssign(Lj(u)),p.addAssign(Lj(c)),m.addAssign(Lj(l)),t3(h,p,m),h.addAssign(Lj(s)),p.addAssign(Lj(o)),n3(h,p,m)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),u3=v$([a3,o3,s3,l3,c3]),d3=Mj(e=>{let[t,n]=e;const i=Ij(n).toVar(),r=Ij(t).toVar(),a=Lj(u3(r,i)).toVar(),o=zj().toVar();return o.x.assign(a.bitAnd(Ij(255))),o.y.assign(a.shiftRight(Ij(8)).bitAnd(Ij(255))),o.z.assign(a.shiftRight(Ij(16)).bitAnd(Ij(255))),o}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),h3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Ij(n).toVar(),o=Ij(t).toVar(),s=Lj(u3(o,a,r)).toVar(),l=zj().toVar();return l.x.assign(s.bitAnd(Ij(255))),l.y.assign(s.shiftRight(Ij(8)).bitAnd(Ij(255))),l.z.assign(s.shiftRight(Ij(16)).bitAnd(Ij(255))),l}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),p3=v$([d3,h3]),m3=Mj(e=>{let[t]=e;const n=Bj(t).toVar(),i=Ij().toVar(),r=Ij().toVar(),a=Dj(k2(n.x,i)).toVar(),o=Dj(k2(n.y,r)).toVar(),s=Dj(r3(a)).toVar(),l=Dj(r3(o)).toVar(),c=Dj(O2(G2(u3(i,r),a,o),G2(u3(i.add(Ij(1)),r),a.sub(1),o),G2(u3(i,r.add(Ij(1))),a,o.sub(1)),G2(u3(i.add(Ij(1)),r.add(Ij(1))),a.sub(1),o.sub(1)),s,l)).toVar();return Z2(c)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),f3=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=Ij().toVar(),r=Ij().toVar(),a=Ij().toVar(),o=Dj(k2(n.x,i)).toVar(),s=Dj(k2(n.y,r)).toVar(),l=Dj(k2(n.z,a)).toVar(),c=Dj(r3(o)).toVar(),u=Dj(r3(s)).toVar(),d=Dj(r3(l)).toVar(),h=Dj(j2(G2(u3(i,r,a),o,s,l),G2(u3(i.add(Ij(1)),r,a),o.sub(1),s,l),G2(u3(i,r.add(Ij(1)),a),o,s.sub(1),l),G2(u3(i.add(Ij(1)),r.add(Ij(1)),a),o.sub(1),s.sub(1),l),G2(u3(i,r,a.add(Ij(1))),o,s,l.sub(1)),G2(u3(i.add(Ij(1)),r,a.add(Ij(1))),o.sub(1),s,l.sub(1)),G2(u3(i,r.add(Ij(1)),a.add(Ij(1))),o,s.sub(1),l.sub(1)),G2(u3(i.add(Ij(1)),r.add(Ij(1)),a.add(Ij(1))),o.sub(1),s.sub(1),l.sub(1)),c,u,d)).toVar();return $2(h)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),A3=v$([m3,f3]),g3=Mj(e=>{let[t]=e;const n=Bj(t).toVar(),i=Ij().toVar(),r=Ij().toVar(),a=Dj(k2(n.x,i)).toVar(),o=Dj(k2(n.y,r)).toVar(),s=Dj(r3(a)).toVar(),l=Dj(r3(o)).toVar(),c=Vj(O2(Q2(p3(i,r),a,o),Q2(p3(i.add(Ij(1)),r),a.sub(1),o),Q2(p3(i,r.add(Ij(1))),a,o.sub(1)),Q2(p3(i.add(Ij(1)),r.add(Ij(1))),a.sub(1),o.sub(1)),s,l)).toVar();return Z2(c)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),v3=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=Ij().toVar(),r=Ij().toVar(),a=Ij().toVar(),o=Dj(k2(n.x,i)).toVar(),s=Dj(k2(n.y,r)).toVar(),l=Dj(k2(n.z,a)).toVar(),c=Dj(r3(o)).toVar(),u=Dj(r3(s)).toVar(),d=Dj(r3(l)).toVar(),h=Vj(j2(Q2(p3(i,r,a),o,s,l),Q2(p3(i.add(Ij(1)),r,a),o.sub(1),s,l),Q2(p3(i,r.add(Ij(1)),a),o,s.sub(1),l),Q2(p3(i.add(Ij(1)),r.add(Ij(1)),a),o.sub(1),s.sub(1),l),Q2(p3(i,r,a.add(Ij(1))),o,s,l.sub(1)),Q2(p3(i.add(Ij(1)),r,a.add(Ij(1))),o.sub(1),s,l.sub(1)),Q2(p3(i,r.add(Ij(1)),a.add(Ij(1))),o,s.sub(1),l.sub(1)),Q2(p3(i.add(Ij(1)),r.add(Ij(1)),a.add(Ij(1))),o.sub(1),s.sub(1),l.sub(1)),c,u,d)).toVar();return $2(h)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),y3=v$([g3,v3]),b3=Mj(e=>{let[t]=e;const n=Dj(t).toVar(),i=Ij(L2(n)).toVar();return i3(u3(i))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),x3=Mj(e=>{let[t]=e;const n=Bj(t).toVar(),i=Ij(L2(n.x)).toVar(),r=Ij(L2(n.y)).toVar();return i3(u3(i,r))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),w3=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=Ij(L2(n.x)).toVar(),r=Ij(L2(n.y)).toVar(),a=Ij(L2(n.z)).toVar();return i3(u3(i,r,a))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),T3=Mj(e=>{let[t]=e;const n=Gj(t).toVar(),i=Ij(L2(n.x)).toVar(),r=Ij(L2(n.y)).toVar(),a=Ij(L2(n.z)).toVar(),o=Ij(L2(n.w)).toVar();return i3(u3(i,r,a,o))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),_3=v$([b3,x3,w3,T3]),S3=Mj(e=>{let[t]=e;const n=Dj(t).toVar(),i=Ij(L2(n)).toVar();return Vj(i3(u3(i,Ij(0))),i3(u3(i,Ij(1))),i3(u3(i,Ij(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),M3=Mj(e=>{let[t]=e;const n=Bj(t).toVar(),i=Ij(L2(n.x)).toVar(),r=Ij(L2(n.y)).toVar();return Vj(i3(u3(i,r,Ij(0))),i3(u3(i,r,Ij(1))),i3(u3(i,r,Ij(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),E3=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=Ij(L2(n.x)).toVar(),r=Ij(L2(n.y)).toVar(),a=Ij(L2(n.z)).toVar();return Vj(i3(u3(i,r,a,Ij(0))),i3(u3(i,r,a,Ij(1))),i3(u3(i,r,a,Ij(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),C3=Mj(e=>{let[t]=e;const n=Gj(t).toVar(),i=Ij(L2(n.x)).toVar(),r=Ij(L2(n.y)).toVar(),a=Ij(L2(n.z)).toVar(),o=Ij(L2(n.w)).toVar();return Vj(i3(u3(i,r,a,o,Ij(0))),i3(u3(i,r,a,o,Ij(1))),i3(u3(i,r,a,o,Ij(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),P3=v$([S3,M3,E3,C3]),N3=Mj(e=>{let[t,n,i,r]=e;const a=Dj(r).toVar(),o=Dj(i).toVar(),s=Ij(n).toVar(),l=Vj(t).toVar(),c=Dj(0).toVar(),u=Dj(1).toVar();return BY(s,()=>{c.addAssign(u.mul(A3(l))),u.mulAssign(a),l.mulAssign(o)}),c}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),R3=Mj(e=>{let[t,n,i,r]=e;const a=Dj(r).toVar(),o=Dj(i).toVar(),s=Ij(n).toVar(),l=Vj(t).toVar(),c=Vj(0).toVar(),u=Dj(1).toVar();return BY(s,()=>{c.addAssign(u.mul(y3(l))),u.mulAssign(a),l.mulAssign(o)}),c}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),D3=Mj(e=>{let[t,n,i,r]=e;const a=Dj(r).toVar(),o=Dj(i).toVar(),s=Ij(n).toVar(),l=Vj(t).toVar();return Bj(N3(l,s,o,a),N3(l.add(Vj(Ij(19),Ij(193),Ij(17))),s,o,a))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),I3=Mj(e=>{let[t,n,i,r]=e;const a=Dj(r).toVar(),o=Dj(i).toVar(),s=Ij(n).toVar(),l=Vj(t).toVar(),c=Vj(R3(l,s,o,a)).toVar(),u=Dj(N3(l.add(Vj(Ij(19),Ij(193),Ij(17))),s,o,a)).toVar();return Gj(c,u)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),L3=Mj(e=>{let[t,n,i,r,a,o,s]=e;const l=Ij(s).toVar(),c=Dj(o).toVar(),u=Ij(a).toVar(),d=Ij(r).toVar(),h=Ij(i).toVar(),p=Ij(n).toVar(),m=Bj(t).toVar(),f=Vj(P3(Bj(p.add(d),h.add(u)))).toVar(),A=Bj(f.x,f.y).toVar();A.subAssign(.5),A.mulAssign(c),A.addAssign(.5);const g=Bj(Bj(Dj(p),Dj(h)).add(A)).toVar(),v=Bj(g.sub(m)).toVar();return Pj(l.equal(Ij(2)),()=>Gq(v.x).add(Gq(v.y))),Pj(l.equal(Ij(3)),()=>aG(Gq(v.x),Gq(v.y))),uG(v,v)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),k3=Mj(e=>{let[t,n,i,r,a,o,s,l,c]=e;const u=Ij(c).toVar(),d=Dj(l).toVar(),h=Ij(s).toVar(),p=Ij(o).toVar(),m=Ij(a).toVar(),f=Ij(r).toVar(),A=Ij(i).toVar(),g=Ij(n).toVar(),v=Vj(t).toVar(),y=Vj(P3(Vj(g.add(m),A.add(p),f.add(h)))).toVar();y.subAssign(.5),y.mulAssign(d),y.addAssign(.5);const b=Vj(Vj(Dj(g),Dj(A),Dj(f)).add(y)).toVar(),x=Vj(b.sub(v)).toVar();return Pj(u.equal(Ij(2)),()=>Gq(x.x).add(Gq(x.y)).add(Gq(x.z))),Pj(u.equal(Ij(3)),()=>aG(Gq(x.x),Gq(x.y),Gq(x.z))),uG(x,x)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),B3=v$([L3,k3]),F3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Dj(n).toVar(),o=Bj(t).toVar(),s=Ij().toVar(),l=Ij().toVar(),c=Bj(k2(o.x,s),k2(o.y,l)).toVar(),u=Dj(1e6).toVar();return BY({start:-1,end:Ij(1),name:"x",condition:"<="},e=>{let{x:t}=e;BY({start:-1,end:Ij(1),name:"y",condition:"<="},e=>{let{y:n}=e;const i=Dj(B3(c,t,n,s,l,a,r)).toVar();u.assign(rG(u,i))})}),Pj(r.equal(Ij(0)),()=>{u.assign(Dq(u))}),u}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),O3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Dj(n).toVar(),o=Bj(t).toVar(),s=Ij().toVar(),l=Ij().toVar(),c=Bj(k2(o.x,s),k2(o.y,l)).toVar(),u=Bj(1e6,1e6).toVar();return BY({start:-1,end:Ij(1),name:"x",condition:"<="},e=>{let{x:t}=e;BY({start:-1,end:Ij(1),name:"y",condition:"<="},e=>{let{y:n}=e;const i=Dj(B3(c,t,n,s,l,a,r)).toVar();Pj(i.lessThan(u.x),()=>{u.y.assign(u.x),u.x.assign(i)}).ElseIf(i.lessThan(u.y),()=>{u.y.assign(i)})})}),Pj(r.equal(Ij(0)),()=>{u.assign(Dq(u))}),u}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),U3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Dj(n).toVar(),o=Bj(t).toVar(),s=Ij().toVar(),l=Ij().toVar(),c=Bj(k2(o.x,s),k2(o.y,l)).toVar(),u=Vj(1e6,1e6,1e6).toVar();return BY({start:-1,end:Ij(1),name:"x",condition:"<="},e=>{let{x:t}=e;BY({start:-1,end:Ij(1),name:"y",condition:"<="},e=>{let{y:n}=e;const i=Dj(B3(c,t,n,s,l,a,r)).toVar();Pj(i.lessThan(u.x),()=>{u.z.assign(u.y),u.y.assign(u.x),u.x.assign(i)}).ElseIf(i.lessThan(u.y),()=>{u.z.assign(u.y),u.y.assign(i)}).ElseIf(i.lessThan(u.z),()=>{u.z.assign(i)})})}),Pj(r.equal(Ij(0)),()=>{u.assign(Dq(u))}),u}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),V3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Dj(n).toVar(),o=Vj(t).toVar(),s=Ij().toVar(),l=Ij().toVar(),c=Ij().toVar(),u=Vj(k2(o.x,s),k2(o.y,l),k2(o.z,c)).toVar(),d=Dj(1e6).toVar();return BY({start:-1,end:Ij(1),name:"x",condition:"<="},e=>{let{x:t}=e;BY({start:-1,end:Ij(1),name:"y",condition:"<="},e=>{let{y:n}=e;BY({start:-1,end:Ij(1),name:"z",condition:"<="},e=>{let{z:i}=e;const o=Dj(B3(u,t,n,i,s,l,c,a,r)).toVar();d.assign(rG(d,o))})})}),Pj(r.equal(Ij(0)),()=>{d.assign(Dq(d))}),d}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),j3=v$([F3,V3]),z3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Dj(n).toVar(),o=Vj(t).toVar(),s=Ij().toVar(),l=Ij().toVar(),c=Ij().toVar(),u=Vj(k2(o.x,s),k2(o.y,l),k2(o.z,c)).toVar(),d=Bj(1e6,1e6).toVar();return BY({start:-1,end:Ij(1),name:"x",condition:"<="},e=>{let{x:t}=e;BY({start:-1,end:Ij(1),name:"y",condition:"<="},e=>{let{y:n}=e;BY({start:-1,end:Ij(1),name:"z",condition:"<="},e=>{let{z:i}=e;const o=Dj(B3(u,t,n,i,s,l,c,a,r)).toVar();Pj(o.lessThan(d.x),()=>{d.y.assign(d.x),d.x.assign(o)}).ElseIf(o.lessThan(d.y),()=>{d.y.assign(o)})})})}),Pj(r.equal(Ij(0)),()=>{d.assign(Dq(d))}),d}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),q3=v$([O3,z3]),G3=Mj(e=>{let[t,n,i]=e;const r=Ij(i).toVar(),a=Dj(n).toVar(),o=Vj(t).toVar(),s=Ij().toVar(),l=Ij().toVar(),c=Ij().toVar(),u=Vj(k2(o.x,s),k2(o.y,l),k2(o.z,c)).toVar(),d=Vj(1e6,1e6,1e6).toVar();return BY({start:-1,end:Ij(1),name:"x",condition:"<="},e=>{let{x:t}=e;BY({start:-1,end:Ij(1),name:"y",condition:"<="},e=>{let{y:n}=e;BY({start:-1,end:Ij(1),name:"z",condition:"<="},e=>{let{z:i}=e;const o=Dj(B3(u,t,n,i,s,l,c,a,r)).toVar();Pj(o.lessThan(d.x),()=>{d.z.assign(d.y),d.y.assign(d.x),d.x.assign(o)}).ElseIf(o.lessThan(d.y),()=>{d.z.assign(d.y),d.y.assign(o)}).ElseIf(o.lessThan(d.z),()=>{d.z.assign(o)})})})}),Pj(r.equal(Ij(0)),()=>{d.assign(Dq(d))}),d}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),H3=v$([U3,G3]),W3=Mj(e=>{let[t]=e;const n=t.y,i=t.z,r=Vj().toVar();return Pj(n.lessThan(1e-4),()=>{r.assign(Vj(i,i,i))}).Else(()=>{let e=t.x;e=e.sub(Lq(e)).mul(6).toVar();const a=Ij($q(e)),o=e.sub(Dj(a)),s=i.mul(n.oneMinus()),l=i.mul(n.mul(o).oneMinus()),c=i.mul(n.mul(o.oneMinus()).oneMinus());Pj(a.equal(Ij(0)),()=>{r.assign(Vj(i,c,s))}).ElseIf(a.equal(Ij(1)),()=>{r.assign(Vj(l,i,s))}).ElseIf(a.equal(Ij(2)),()=>{r.assign(Vj(s,i,c))}).ElseIf(a.equal(Ij(3)),()=>{r.assign(Vj(s,l,i))}).ElseIf(a.equal(Ij(4)),()=>{r.assign(Vj(c,s,i))}).Else(()=>{r.assign(Vj(i,s,l))})}),r}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),Q3=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=Dj(n.x).toVar(),r=Dj(n.y).toVar(),a=Dj(n.z).toVar(),o=Dj(rG(i,rG(r,a))).toVar(),s=Dj(aG(i,aG(r,a))).toVar(),l=Dj(s.sub(o)).toVar(),c=Dj().toVar(),u=Dj().toVar(),d=Dj().toVar();return d.assign(s),Pj(s.greaterThan(0),()=>{u.assign(l.div(s))}).Else(()=>{u.assign(0)}),Pj(u.lessThanEqual(0),()=>{c.assign(0)}).Else(()=>{Pj(i.greaterThanEqual(s),()=>{c.assign(r.sub(a).div(l))}).ElseIf(r.greaterThanEqual(s),()=>{c.assign(Wz(2,a.sub(i).div(l)))}).Else(()=>{c.assign(Wz(4,i.sub(r).div(l)))}),c.mulAssign(1/6),Pj(c.lessThan(0),()=>{c.addAssign(1)})}),Vj(c,u,d)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),Y3=Mj(e=>{let[t]=e;const n=Vj(t).toVar(),i=qj(eq(n,Vj(.04045))).toVar(),r=Vj(n.div(12.92)).toVar(),a=Vj(hG(aG(n.add(Vj(.055)),Vj(0)).div(1.055),Vj(2.4))).toVar();return yG(r,a,i)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),X3=(e,t)=>{e=Dj(e),t=Dj(t);const n=Bj(t.dFdx(),t.dFdy()).length().mul(.7071067811865476);return TG(e.sub(n),e.add(n),t)},K3=(e,t,n,i)=>yG(e,t,n[i].clamp()),Z3=(e,t,n,i,r)=>yG(e,t,X3(n,i[r])),J3=Mj(e=>{let[t,n,i]=e;const r=Bq(t).toVar(),a=Qz(Dj(.5).mul(n.sub(i)),TW).div(r).toVar(),o=Qz(Dj(-.5).mul(n.sub(i)),TW).div(r).toVar(),s=Vj().toVar();s.x=r.x.greaterThan(Dj(0)).select(a.x,o.x),s.y=r.y.greaterThan(Dj(0)).select(a.y,o.y),s.z=r.z.greaterThan(Dj(0)).select(a.z,o.z);const l=rG(s.x,s.y,s.z).toVar();return TW.add(r.mul(l)).toVar().sub(i)}),$3=Mj(e=>{let[t,n]=e;const i=t.x,r=t.y,a=t.z;let o=n.element(0).mul(.886227);return o=o.add(n.element(1).mul(1.023328).mul(r)),o=o.add(n.element(2).mul(1.023328).mul(a)),o=o.add(n.element(3).mul(1.023328).mul(i)),o=o.add(n.element(4).mul(.858086).mul(i).mul(r)),o=o.add(n.element(5).mul(.858086).mul(r).mul(a)),o=o.add(n.element(6).mul(a.mul(a).mul(.743125).sub(.247708))),o=o.add(n.element(7).mul(.858086).mul(i).mul(a)),o=o.add(n.element(8).mul(.429043).mul(Yz(i,i).sub(Yz(r,r)))),o});var e4=Object.freeze({__proto__:null,BRDF_GGX:AK,BRDF_Lambert:tK,BasicPointShadowFilter:v2,BasicShadowFilter:e2,Break:FY,Const:VG,Continue:()=>bH("continue").toStack(),DFGApprox:gK,D_GGX:pK,Discard:xH,EPSILON:bq,F_Schlick:eK,Fn:Mj,INFINITY:xq,If:Pj,Loop:BY,NodeAccess:SV,NodeShaderStage:TV,NodeType:{BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},NodeUpdateType:_V,PCFShadowFilter:t2,PCFSoftShadowFilter:n2,PI:wq,PI2:Tq,PointShadowFilter:y2,Return:()=>bH("return").toStack(),Schlick_to_F0:yK,ScriptableNodeResources:s1,ShaderNode:yj,Stack:Nj,Switch:function(){return HV.Switch(...arguments)},TBNViewMatrix:vQ,VSMShadowFilter:i2,V_GGX_SmithCorrelated:dK,Var:UG,abs:Gq,acesFilmicToneMapping:Q0,acos:zq,add:Wz,addMethodChaining:QV,addNodeElement:function(e){console.warn("THREE.TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",e)},agxToneMapping:Z0,all:_q,alphaT:pz,and:iq,anisotropy:mz,anisotropyB:Az,anisotropyT:fz,any:Sq,append:e=>(console.warn("THREE.TSL: append() has been renamed to Stack()."),Nj(e)),array:Uz,arrayBuffer:e=>bj(new qV(e,"ArrayBuffer")),asin:jq,assign:jz,atan:qq,atan2:CG,atomicAdd:(e,t)=>N1(C1.ATOMIC_ADD,e,t),atomicAnd:(e,t)=>N1(C1.ATOMIC_AND,e,t),atomicFunc:N1,atomicLoad:e=>N1(C1.ATOMIC_LOAD,e,null),atomicMax:(e,t)=>N1(C1.ATOMIC_MAX,e,t),atomicMin:(e,t)=>N1(C1.ATOMIC_MIN,e,t),atomicOr:(e,t)=>N1(C1.ATOMIC_OR,e,t),atomicStore:(e,t)=>N1(C1.ATOMIC_STORE,e,t),atomicSub:(e,t)=>N1(C1.ATOMIC_SUB,e,t),atomicXor:(e,t)=>N1(C1.ATOMIC_XOR,e,t),attenuationColor:Cz,attenuationDistance:Ez,attribute:EH,attributeArray:function(e){let t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float";!0===i.isStruct?(t=i.layout.getLength(),n=mV("float")):(t=fV(i),n=mV(i));const r=new i0(e,t,n);return RY(r,i,e)},backgroundBlurriness:c0,backgroundIntensity:u0,backgroundRotation:d0,batch:EY,billboarding:_$,bitAnd:sq,bitNot:lq,bitOr:cq,bitXor:uq,bitangentGeometry:hQ,bitangentLocal:pQ,bitangentView:mQ,bitangentWorld:fQ,bitcast:nG,blendBurn:T0,blendColor:E0,blendDodge:_0,blendOverlay:M0,blendScreen:S0,blur:gZ,bool:kj,buffer:UH,bufferAttribute:aH,bumpMap:EQ,burn:function(){console.warn('THREE.TSL: "burn" has been renamed. Use "blendBurn" instead.');for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T0(t)},bvec2:Uj,bvec3:qj,bvec4:Qj,bypass:fH,cache:hH,call:qz,cameraFar:WH,cameraIndex:GH,cameraNear:HH,cameraNormalMatrix:ZH,cameraPosition:JH,cameraProjectionMatrix:QH,cameraProjectionMatrixInverse:YH,cameraViewMatrix:XH,cameraWorldMatrix:KH,cbrt:gG,cdl:k0,ceil:kq,checker:N2,cineonToneMapping:H0,clamp:bG,clearcoat:oz,clearcoatRoughness:sz,code:e1,color:Rj,colorSpaceToWorking:KG,colorToDirection:e=>bj(e).mul(2).sub(1),compute:uH,computeSkinning:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new IY(e);return n.positionNode=RY(new Zu(e.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(gY).toVar(),n.skinIndexNode=RY(new Zu(new Uint32Array(e.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(gY).toVar(),n.skinWeightNode=RY(new Zu(e.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(gY).toVar(),n.bindMatrixNode=Fz(e.bindMatrix,"mat4"),n.bindMatrixInverseNode=Fz(e.bindMatrixInverse,"mat4"),n.boneMatricesNode=UH(e.skeleton.boneMatrices,"mat4",e.skeleton.bones.length),n.toPositionNode=t,bj(n)},cond:IG,context:kG,convert:Jj,convertColorSpace:(e,t,n)=>bj(new YG(bj(e),t,n)),convertToTexture:function(e){if(e.isTextureNode)return e;if(e.isPassNode)return e.getTextureNode();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return J$(e,...n)},cos:Uq,cross:dG,cubeTexture:JW,cubeTextureBase:ZW,cubeToUV:g2,dFdx:Xq,dFdy:Kq,dashSize:xz,debug:SH,decrement:Aq,decrementBefore:mq,defaultBuildStages:EV,defaultShaderStages:MV,defined:gj,degrees:Eq,deltaTime:b$,densityFog:function(e,t){return console.warn('THREE.TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),p1(e,h1(t))},densityFogFactor:h1,depth:bX,depthPass:(e,t,n)=>bj(new j0(j0.DEPTH,e,t,n)),difference:cG,diffuseColor:nz,directPointLight:C2,directionToColor:FX,dispersion:Pz,distance:lG,div:Xz,dodge:function(){console.warn('THREE.TSL: "dodge" has been renamed. Use "blendDodge" instead.');for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _0(t)},dot:uG,drawIndex:xY,dynamicBufferAttribute:oH,element:Zj,emissive:iz,equal:Zz,equals:iG,equirectUV:jX,exp:Cq,exp2:Pq,expression:bH,faceDirection:PW,faceForward:_G,faceforward:PG,float:Dj,floor:Lq,fog:p1,fract:Fq,frameGroup:Iz,frameId:x$,frontFacing:CW,fwidth:eG,gain:(e,t)=>e.lessThan(.5)?h$(e.mul(2),t).div(2):Qz(1,h$(Yz(Qz(1,e),2),t).div(2)),gapSize:wz,getConstNodeType:vj,getCurrentStack:Cj,getDirection:pZ,getDistanceAttenuation:E2,getGeometryRoughness:cK,getNormalFromDepth:t0,getParallaxCorrectNormal:J3,getRoughness:uK,getScreenPosition:e0,getShIrradianceAt:$3,getShadowMaterial:a2,getShadowRenderObjectFunction:l2,getTextureIndex:l$,getViewPosition:$$,globalId:w1,glsl:(e,t)=>e1(e,t,"glsl"),glslFn:(e,t)=>n1(e,t,"glsl"),grayscale:N0,greaterThan:eq,greaterThanEqual:nq,hash:d$,highpModelNormalViewMatrix:yW,highpModelViewMatrix:vW,hue:I0,increment:fq,incrementBefore:pq,instance:TY,instanceIndex:gY,instancedArray:function(e){let t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float";!0===i.isStruct?(t=i.layout.getLength(),n=mV("float")):(t=fV(i),n=mV(i));const r=new n0(e,t,n);return RY(r,i,e)},instancedBufferAttribute:sH,instancedDynamicBufferAttribute:lH,instancedMesh:SY,int:Ij,inverseSqrt:Iq,inversesqrt:NG,invocationLocalIndex:bY,invocationSubgroupIndex:yY,ior:_z,iridescence:uz,iridescenceIOR:dz,iridescenceThickness:hz,ivec2:Fj,ivec3:jj,ivec4:Hj,js:(e,t)=>e1(e,t,"js"),label:BG,length:Wq,lengthSq:vG,lessThan:$z,lessThanEqual:tq,lightPosition:k1,lightProjectionUV:L1,lightShadowMatrix:I1,lightTargetDirection:O1,lightTargetPosition:B1,lightViewPosition:F1,lightingContext:WY,lights:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return bj(new z1).setLights(e)},linearDepth:xX,linearToneMapping:q0,localId:T1,log:Nq,log2:Rq,logarithmicDepthToViewZ:(e,t,n)=>{const i=e.mul(Nq(n.div(t)));return Dj(Math.E).pow(i).mul(t).negate()},loop:function(){return console.warn("THREE.TSL: loop() has been renamed to Loop()."),BY(...arguments)},luminance:L0,mat2:Yj,mat3:Xj,mat4:Kj,matcapUV:iJ,materialAO:hY,materialAlphaTest:NQ,materialAnisotropy:XQ,materialAnisotropyVector:pY,materialAttenuationColor:iY,materialAttenuationDistance:nY,materialClearcoat:qQ,materialClearcoatNormal:HQ,materialClearcoatRoughness:GQ,materialColor:RQ,materialDispersion:uY,materialEmissive:IQ,materialEnvIntensity:qW,materialEnvRotation:GW,materialIOR:tY,materialIridescence:KQ,materialIridescenceIOR:ZQ,materialIridescenceThickness:JQ,materialLightMap:dY,materialLineDashOffset:lY,materialLineDashSize:aY,materialLineGapSize:oY,materialLineScale:rY,materialLineWidth:sY,materialMetalness:jQ,materialNormal:zQ,materialOpacity:LQ,materialPointSize:cY,materialReference:rQ,materialReflectivity:UQ,materialRefractionRatio:zW,materialRotation:WQ,materialRoughness:VQ,materialSheen:QQ,materialSheenRoughness:YQ,materialShininess:DQ,materialSpecular:kQ,materialSpecularColor:FQ,materialSpecularIntensity:BQ,materialSpecularStrength:OQ,materialThickness:eY,materialTransmission:$Q,max:aG,maxMipLevel:DH,mediumpModelViewMatrix:gW,metalness:az,min:rG,mix:yG,mixElement:MG,mod:Kz,modInt:vq,modelDirection:lW,modelNormalMatrix:mW,modelPosition:uW,modelRadius:pW,modelScale:dW,modelViewMatrix:AW,modelViewPosition:hW,modelViewProjection:mY,modelWorldMatrix:cW,modelWorldMatrixInverse:fW,morphReference:zY,mrt:u$,mul:Yz,mx_aastep:X3,mx_cell_noise_float:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH();return _3(e.convert("vec2|vec3"))},mx_contrast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return Dj(e).sub(n).mul(t).add(n)},mx_fractal_noise_float:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return N3(e,Ij(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3),t,n).mul(i)},mx_fractal_noise_vec2:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return D3(e,Ij(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3),t,n).mul(i)},mx_fractal_noise_vec3:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return R3(e,Ij(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3),t,n).mul(i)},mx_fractal_noise_vec4:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return I3(e,Ij(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3),t,n).mul(i)},mx_hsvtorgb:W3,mx_noise_float:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return A3(e.convert("vec2|vec3")).mul(t).add(n)},mx_noise_vec3:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return y3(e.convert("vec2|vec3")).mul(t).add(n)},mx_noise_vec4:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=e.convert("vec2|vec3");return Gj(y3(e),A3(e.add(Bj(19,73)))).mul(t).add(n)},mx_ramplr:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CH();return K3(e,t,n,"x")},mx_ramptb:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CH();return K3(e,t,n,"y")},mx_rgbtohsv:Q3,mx_safepower:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=Dj(e)).abs().pow(t).mul(e.sign())},mx_splitlr:function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:CH();return Z3(e,t,n,i,"x")},mx_splittb:function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:CH();return Z3(e,t,n,i,"y")},mx_srgb_texture_to_lin_rec709:Y3,mx_transform_uv:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:CH()).mul(e).add(t)},mx_worley_noise_float:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return j3(e.convert("vec2|vec3"),t,Ij(1))},mx_worley_noise_vec2:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return q3(e.convert("vec2|vec3"),t,Ij(1))},mx_worley_noise_vec3:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CH(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return H3(e.convert("vec2|vec3"),t,Ij(1))},namespace:pH,negate:Qq,neutralToneMapping:J0,nodeArray:wj,nodeImmutable:_j,nodeObject:bj,nodeObjects:xj,nodeProxy:Tj,normalFlat:DW,normalGeometry:NW,normalLocal:RW,normalMap:TQ,normalView:IW,normalWorld:LW,normalize:Bq,not:aq,notEqual:Jz,numWorkgroups:b1,objectDirection:tW,objectGroup:kz,objectPosition:iW,objectRadius:oW,objectScale:rW,objectViewPosition:aW,objectWorldMatrix:nW,oneMinus:Yq,or:rq,orthographicDepthToViewZ:(e,t,n)=>t.sub(n).mul(e).sub(t),oscSawtooth:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y$).fract()},oscSine:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y$).add(.75).mul(2*Math.PI).sin().mul(.5).add(.5)},oscSquare:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y$).fract().round()},oscTriangle:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y$).add(.5).fract().mul(2).sub(1).abs()},output:bz,outputStruct:s$,overlay:function(){console.warn('THREE.TSL: "overlay" has been renamed. Use "blendOverlay" instead.');for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M0(t)},overloadingFn:v$,parabola:h$,parallaxDirection:yQ,parallaxUV:(e,t)=>e.sub(yQ.mul(t)),parameter:(e,t)=>bj(new t$(e,t)),pass:(e,t,n)=>bj(new j0(j0.COLOR,e,t,n)),passTexture:(e,t)=>bj(new U0(e,t)),pcurve:(e,t,n)=>hG(Xz(hG(e,t),Wz(hG(e,t),hG(Qz(1,e),n))),1/t),perspectiveDepthToViewZ:gX,pmremTexture:qZ,pointShadow:S2,pointUV:a0,pointWidth:Tz,positionGeometry:bW,positionLocal:xW,positionPrevious:wW,positionView:SW,positionViewDirection:MW,positionWorld:TW,positionWorldDirection:_W,posterize:F0,pow:hG,pow2:pG,pow3:mG,pow4:fG,premult:C0,property:ez,radians:Mq,rand:SG,range:g1,rangeFog:function(e,t,n){return console.warn('THREE.TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),p1(e,d1(t,n))},rangeFogFactor:d1,reciprocal:Jq,reference:tQ,referenceBuffer:nQ,reflect:sG,reflectVector:QW,reflectView:HW,reflector:e=>bj(new G$(e)),refract:wG,refractVector:YW,refractView:WW,reinhardToneMapping:G0,remainder:gq,remap:gH,remapClamp:vH,renderGroup:Lz,renderOutput:TH,rendererReference:eH,rotate:sJ,rotateUV:w$,roughness:rz,round:Zq,rtt:J$,sRGBTransferEOTF:HG,sRGBTransferOETF:WG,sampler:e=>(!0===e.isNode?e:BH(e)).convert("sampler"),samplerComparison:e=>(!0===e.isNode?e:BH(e)).convert("samplerComparison"),saturate:xG,saturation:R0,screen:function(){console.warn('THREE.TSL: "screen" has been renamed. Use "blendScreen" instead.');for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S0(t)},screenCoordinate:$Y,screenSize:JY,screenUV:ZY,scriptable:c1,scriptableValue:r1,select:DG,setCurrentStack:Ej,shaderStages:CV,shadow:f2,shadowPositionWorld:G1,shapeCircle:R2,sharedUniformGroup:Dz,sheen:lz,sheenRoughness:cz,shiftLeft:dq,shiftRight:hq,shininess:yz,sign:Hq,sin:Oq,sinc:(e,t)=>Oq(wq.mul(t.mul(e).sub(1))).div(wq.mul(t.mul(e).sub(1))),skinning:LY,smoothstep:TG,smoothstepElement:EG,specularColor:gz,specularF90:vz,spherizeUV:T$,split:(e,t)=>bj(new OV(bj(e),t)),spritesheetUV:E$,sqrt:Dq,stack:i$,step:oG,storage:RY,storageBarrier:()=>S1("storage").toStack(),storageObject:(e,t,n)=>(console.warn('THREE.TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'),RY(e,t,n).setPBO(!0)),storageTexture:p0,string:function(){return bj(new qV(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","string"))},struct:function(e){const t=new r$(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),n=function(){let n=null;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];if(r.length>0)if(r[0].isNode){n={};const t=Object.keys(e);for(let e=0;e<r.length;e++)n[t[e]]=r[e]}else n=r[0];return bj(new a$(t,n))};return n.layout=t,n.isStruct=!0,n},sub:Qz,subgroupIndex:vY,subgroupSize:_1,tan:Vq,tangentGeometry:aQ,tangentLocal:oQ,tangentView:sQ,tangentWorld:lQ,temp:jG,texture:BH,texture3D:A0,textureBarrier:()=>S1("texture").toStack(),textureBicubic:FK,textureCubeUV:mZ,textureLoad:FH,textureSize:NH,textureStore:(e,t,n)=>{const i=p0(e,t,n);return null!==n&&i.toStack(),i},thickness:Mz,time:y$,timerDelta:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return console.warn('TSL: timerDelta() is deprecated. Use "deltaTime" instead.'),b$.mul(e)},timerGlobal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return console.warn('TSL: timerGlobal() is deprecated. Use "time" instead.'),y$.mul(e)},timerLocal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return console.warn('TSL: timerLocal() is deprecated. Use "time" instead.'),y$.mul(e)},toneMapping:nH,toneMappingExposure:iH,toonOutlinePass:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ic(0,0,0),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.003,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return bj(new z0(e,t,bj(n),bj(i),bj(r)))},transformDirection:AG,transformNormal:OW,transformNormalToView:UW,transformedBentNormalView:bQ,transformedBitangentView:AQ,transformedBitangentWorld:gQ,transformedClearcoatNormalView:FW,transformedNormalView:kW,transformedNormalWorld:BW,transformedTangentView:cQ,transformedTangentWorld:uQ,transmission:Sz,transpose:tG,triNoise3D:f$,triplanarTexture:function(){return P$(...arguments)},triplanarTextures:P$,trunc:$q,tslFn:function(){return console.warn("THREE.TSL: tslFn() has been renamed to Fn()."),Mj(...arguments)},uint:Lj,uniform:Fz,uniformArray:zH,uniformCubeTexture:function(){return ZW(arguments.length>0&&void 0!==arguments[0]?arguments[0]:XW)},uniformGroup:Rz,uniformTexture:function(){return BH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:IH)},uniforms:(e,t)=>(console.warn("THREE.TSL: uniforms() has been renamed to uniformArray()."),bj(new jH(e,t))),unpremult:P0,userData:(e,t,n)=>bj(new g0(e,t,n)),uv:CH,uvec2:Oj,uvec3:zj,uvec4:Wj,varying:qG,varyingProperty:tz,vec2:Bj,vec3:Vj,vec4:Gj,vectorComponents:PV,velocity:w0,vertexColor:CX,vertexIndex:AY,vertexStage:GG,vibrance:D0,viewZToLogarithmicDepth:vX,viewZToOrthographicDepth:fX,viewZToPerspectiveDepth:AX,viewport:eX,viewportBottomLeft:oX,viewportCoordinate:nX,viewportDepthTexture:pX,viewportLinearDepth:wX,viewportMipTexture:uX,viewportResolution:rX,viewportSafeUV:S$,viewportSharedTexture:BX,viewportSize:tX,viewportTexture:cX,viewportTopLeft:aX,viewportUV:iX,wgsl:(e,t)=>e1(e,t,"wgsl"),wgslFn:(e,t)=>n1(e,t,"wgsl"),workgroupArray:(e,t)=>bj(new E1("Workgroup",e,t)),workgroupBarrier:()=>S1("workgroup").toStack(),workgroupId:x1,workingToColorSpace:XG,xor:oq});const t4=new e$;class n4 extends xJ{constructor(e,t){super(),this.renderer=e,this.nodes=t}update(e,t,n){const i=this.renderer,r=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(null===r)i._clearColor.getRGB(t4),t4.a=i._clearColor.a;else if(!0===r.isColor)r.getRGB(t4),t4.a=1,a=!0;else if(!0===r.isNode){const s=this.get(e),l=r;t4.copy(i._clearColor);let c=s.backgroundMesh;if(void 0===c){const d=kG(Gj(l).mul(u0),{getUV:()=>d0.mul(LW),getTextureLevel:()=>c0});let h=mY;h=h.setZ(h.w);const p=new PX;function m(){r.removeEventListener("dispose",m),c.material.dispose(),c.geometry.dispose()}p.name="Background.material",p.side=vi,p.depthTest=!1,p.depthWrite=!1,p.allowOverride=!1,p.fog=!1,p.lights=!1,p.vertexNode=h,p.colorNode=d,s.backgroundMeshNode=d,s.backgroundMesh=c=new Hc(new Cp(1,32,32),p),c.frustumCulled=!1,c.name="Background.mesh",c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},r.addEventListener("dispose",m)}const u=l.getCacheKey();s.backgroundCacheKey!==u&&(s.backgroundMeshNode.node=Gj(l).mul(u0),s.backgroundMeshNode.needsUpdate=!0,c.material.needsUpdate=!0,s.backgroundCacheKey=u),t.unshift(c,c.geometry,c.material,0,0,null,null)}else console.error("THREE.Renderer: Unsupported background configuration.",r);const o=i.xr.getEnvironmentBlendMode();if("additive"===o?t4.set(0,0,0,1):"alpha-blend"===o&&t4.set(0,0,0,0),!0===i.autoClear||!0===a){const f=n.clearColorValue;f.r=t4.r,f.g=t4.g,f.b=t4.b,f.a=t4.a,!0!==i.backend.isWebGLBackend&&!0!==i.alpha||(f.r*=f.a,f.g*=f.a,f.b*=f.a),n.depthClearValue=i._clearDepth,n.stencilClearValue=i._clearStencil,n.clearColor=!0===i.autoClearColor,n.clearDepth=!0===i.autoClearDepth,n.clearStencil=!0===i.autoClearStencil}else n.clearColor=!1,n.clearDepth=!1,n.clearStencil=!1}}let i4=0;class r4{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.name=e,this.bindings=t,this.index=n,this.bindingsReference=i,this.id=i4++}}class a4{constructor(e,t,n,i,r,a,o,s,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];this.vertexShader=e,this.fragmentShader=t,this.computeShader=n,this.transforms=c,this.nodeAttributes=i,this.bindings=r,this.updateNodes=a,this.updateBeforeNodes=o,this.updateAfterNodes=s,this.observer=l,this.usedTimes=0}createBindings(){const e=[];for(const t of this.bindings){if(!0!==t.bindings[0].groupNode.shared){const n=new r4(t.name,[],t.index,t);e.push(n);for(const e of t.bindings)n.bindings.push(e.clone())}else e.push(t)}return e}}class o4{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isNodeAttribute=!0,this.name=e,this.type=t,this.node=n}}class s4{constructor(e,t,n){this.isNodeUniform=!0,this.name=e,this.type=t,this.node=n.getSelf()}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class l4{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.isNodeVar=!0,this.name=e,this.type=t,this.readOnly=n,this.count=i}}class c4 extends l4{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(e,t),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=n,this.interpolationSampling=i}}class u4{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.name=e,this.type=t,this.code=n,Object.defineProperty(this,"isNodeCode",{value:!0})}}let d4=0;class h4{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.id=d4++,this.nodesData=new WeakMap,this.parent=e}getData(e){let t=this.nodesData.get(e);return void 0===t&&null!==this.parent&&(t=this.parent.getData(e)),t}setData(e,t){this.nodesData.set(e,t)}}class p4{constructor(e,t){this.name=e,this.members=t,this.output=!1}}class m4{constructor(e,t){this.name=e,this.value=t,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class f4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class A4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new is),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class g4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class v4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rs),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class y4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ic),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class b4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class x4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ls),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class w4 extends m4{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dl),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class T4 extends f4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class _4 extends A4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class S4 extends g4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class M4 extends v4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class E4 extends y4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class C4 extends b4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class P4 extends x4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class N4 extends w4{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}const R4=new WeakMap,D4=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),I4=e=>/e/g.test(e)?String(e).replace(/\+/g,""):(e=Number(e))+(e%1?"":".0");class L4{constructor(e,t,n){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=t,this.parser=n,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=i$(),this.stacks=[],this.tab="\t",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new h4,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null}getBindGroupsCache(){let e=R4.get(this.renderer);return void 0===e&&(e=new AJ,R4.set(this.renderer,e)),e}createRenderTarget(e,t,n){return new Ds(e,t,n)}createCubeRenderTarget(e,t){return new zX(e,t)}includes(e){return this.nodes.includes(e)}getOutputStructName(){}_getBindGroup(e,t){const n=this.getBindGroupsCache(),i=[];let r,a=!0;for(const o of t)i.push(o),a=a&&!0!==o.groupNode.shared;return a?(r=n.get(i),void 0===r&&(r=new r4(e,i,this.bindingsIndexes[e].group,i),n.set(i,r))):r=new r4(e,i,this.bindingsIndexes[e].group,i),r}getBindGroupArray(e,t){const n=this.bindings[t];let i=n[e];return void 0===i&&(void 0===this.bindingsIndexes[e]&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),n[e]=i=[]),i}getBindings(){let e=this.bindGroups;if(null===e){const t={},n=this.bindings;for(const e of CV)for(const i in n[e]){const r=n[e][i];(t[i]||(t[i]=[])).push(...r)}e=[];for(const i in t){const n=t[i],r=this._getBindGroup(i,n);e.push(r)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((e,t)=>e.bindings[0].groupNode.order-t.bindings[0].groupNode.order);for(let t=0;t<e.length;t++){const n=e[t];this.bindingsIndexes[n.name].group=t,n.index=t}}setHashNode(e,t){this.hashNodes[t]=e}addNode(e){!1===this.nodes.includes(e)&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){!1===this.sequentialNodes.includes(e)&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes){e.getUpdateType()!==_V.NONE&&this.updateNodes.push(e.getSelf())}for(const e of this.sequentialNodes){const t=e.getUpdateBeforeType(),n=e.getUpdateAfterType();t!==_V.NONE&&this.updateBeforeNodes.push(e.getSelf()),n!==_V.NONE&&this.updateAfterNodes.push(e.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===Er||e.magFilter===Cr||e.magFilter===Sr||e.magFilter===Nr||e.minFilter===Er||e.minFilter===Cr||e.minFilter===Sr||e.minFilter===Nr}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,t){return this.flowNodes[e].push(t),t}setContext(e){this.context=e}getContext(){return this.context}getSharedContext(){return h({},this.context),this.context}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getDataFromNode(e);return void 0===n.cache&&(n.cache=new h4(t?this.getCache():null)),n.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const t=this.getDataFromNode(e);return t.usageCount=void 0===t.usageCount?1:t.usageCount+1,t.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateArrayDeclaration(e,t){return this.getType(e)+"[ "+t+" ]"}generateArray(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.generateArrayDeclaration(e,t)+"( ";for(let r=0;r<t;r++){const a=n?n[r]:null;i+=null!==a?a.build(this,e):this.generateConst(e),r<t-1&&(i+=", ")}return i+=" )",i}generateStruct(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];for(const r of t){const{name:e,type:t}=r;n&&n[e]&&n[e].isNode?i.push(n[e].build(this,t)):i.push(this.generateConst(t))}return e+"( "+i.join(", ")+" )"}generateConst(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t&&("float"===e||"int"===e||"uint"===e?t=0:"bool"===e?t=!1:"color"===e?t=new ic:"vec2"===e?t=new is:"vec3"===e?t=new as:"vec4"===e&&(t=new Rs)),"float"===e)return I4(t);if("int"===e)return"".concat(Math.round(t));if("uint"===e)return t>=0?"".concat(Math.round(t),"u"):"0u";if("bool"===e)return t?"true":"false";if("color"===e)return"".concat(this.getType("vec3"),"( ").concat(I4(t.r),", ").concat(I4(t.g),", ").concat(I4(t.b)," )");const n=this.getTypeLength(e),i=this.getComponentType(e),r=e=>this.generateConst(i,e);if(2===n)return"".concat(this.getType(e),"( ").concat(r(t.x),", ").concat(r(t.y)," )");if(3===n)return"".concat(this.getType(e),"( ").concat(r(t.x),", ").concat(r(t.y),", ").concat(r(t.z)," )");if(4===n&&"mat2"!==e)return"".concat(this.getType(e),"( ").concat(r(t.x),", ").concat(r(t.y),", ").concat(r(t.z),", ").concat(r(t.w)," )");if(n>=4&&t&&(t.isMatrix2||t.isMatrix3||t.isMatrix4))return"".concat(this.getType(e),"( ").concat(t.elements.map(r).join(", ")," )");if(n>4)return"".concat(this.getType(e),"()");throw new Error("NodeBuilder: Type '".concat(e,"' not found in generate constant attempt."))}getType(e){return"color"===e?"vec3":e}hasGeometryAttribute(e){return this.geometry&&void 0!==this.geometry.getAttribute(e)}getAttribute(e,t){const n=this.attributes;for(const r of n)if(r.name===e)return r;const i=new o4(e,t);return this.registerDeclaration(i),n.push(i),i}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return"void"===e||"property"===e||"sampler"===e||"samplerComparison"===e||"texture"===e||"cubeTexture"===e||"storageTexture"===e||"depthTexture"===e||"texture3D"===e}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const t=e.type;if(e.isDataTexture){if(t===Br)return"int";if(t===Fr)return"uint"}return"float"}getElementType(e){return"mat2"===e?"vec2":"mat3"===e?"vec3":"mat4"===e?"vec4":this.getComponentType(e)}getComponentType(e){if("float"===(e=this.getVectorType(e))||"bool"===e||"int"===e||"uint"===e)return e;const t=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return null===t?null:"b"===t[1]?"bool":"i"===t[1]?"int":"u"===t[1]?"uint":"float"}getVectorType(e){return"color"===e?"vec3":"texture"===e||"cubeTexture"===e||"storageTexture"===e||"texture3D"===e?"vec4":e}getTypeFromLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float";if(1===e)return t;let n=pV(e);const i="float"===t?"":t[0];return!0===/mat2/.test(t)&&(n=n.replace("vec","mat")),i+n}getTypeFromArray(e){return D4.get(e.constructor)}isInteger(e){return/int|uint|(i|u)vec/.test(e)}getTypeFromAttribute(e){let t=e;e.isInterleavedBufferAttribute&&(t=e.data);const n=t.array,i=e.itemSize,r=e.normalized;let a;return e instanceof _c||!0===r||(a=this.getTypeFromArray(n)),this.getTypeFromLength(i,a)}getTypeLength(e){const t=this.getVectorType(e),n=/vec([2-4])/.exec(t);return null!==n?Number(n[1]):"float"===t||"bool"===t||"int"===t||"uint"===t?1:!0===/mat2/.test(e)?4:!0===/mat3/.test(e)?9:!0===/mat4/.test(e)?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,t){return this.getTypeFromLength(this.getTypeLength(e),t)}getIntegerType(e){const t=this.getComponentType(e);return"int"===t||"uint"===t?e:this.changeComponentType(e,"int")}addStack(){return this.stack=i$(this.stack),this.stacks.push(Cj()||this.stack),Ej(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,Ej(this.stacks.pop()),e}getDataFromNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.shaderStage,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n=null===n?e.isGlobal(this)?this.globalCache:this.cache:n;let i=n.getData(e);return void 0===i&&(i={},n.setData(e,i)),void 0===i[t]&&(i[t]={}),i[t]}getNodeProperties(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=this.getDataFromNode(e,t);return n.properties||(n.properties={outputNode:null})}getBufferAttributeFromNode(e,t){const n=this.getDataFromNode(e);let i=n.bufferAttribute;if(void 0===i){const r=this.uniforms.index++;i=new o4("nodeAttribute"+r,t,e),this.bufferAttributes.push(i),n.bufferAttribute=i}return i}getStructTypeFromNode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.shaderStage;const r=this.getDataFromNode(e,i,this.globalCache);let a=r.structType;if(void 0===a){const e=this.structs.index++;null===n&&(n="StructType"+e),a=new p4(n,t),this.structs[i].push(a),r.structType=a}return a}getOutputStructTypeFromNode(e,t){const n=this.getStructTypeFromNode(e,t,"OutputType","fragment");return n.output=!0,n}getUniformFromNode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.shaderStage,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=this.getDataFromNode(e,n,this.globalCache);let a=r.uniform;if(void 0===a){const o=this.uniforms.index++;a=new s4(i||"nodeUniform"+o,t,e),this.uniforms[n].push(a),this.registerDeclaration(a),r.uniform=a}return a}getArrayCount(e){let t=null;return e.isArrayNode?t=e.count:e.isVarNode&&e.node.isArrayNode&&(t=e.node.count),t}getVarFromNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getNodeType(this),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.shaderStage,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=this.getDataFromNode(e,i);let o=a.variable;if(void 0===o){const s=r?"_const":"_var",l=this.vars[i]||(this.vars[i]=[]),c=this.vars[s]||(this.vars[s]=0);null===t&&(t=(r?"nodeConst":"nodeVar")+c,this.vars[s]++);const u=this.getArrayCount(e);o=new l4(t,n,r,u),r||l.push(o),this.registerDeclaration(o),a.variable=o}return o}isDeterministic(e){if(e.isMathNode)return this.isDeterministic(e.aNode)&&(!e.bNode||this.isDeterministic(e.bNode))&&(!e.cNode||this.isDeterministic(e.cNode));if(e.isOperatorNode)return this.isDeterministic(e.aNode)&&(!e.bNode||this.isDeterministic(e.bNode));if(e.isArrayNode){if(null!==e.values)for(const t of e.values)if(!this.isDeterministic(t))return!1;return!0}return!!e.isConstNode}getVaryingFromNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getNodeType(this),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=this.getDataFromNode(e,"any");let o=a.varying;if(void 0===o){const e=this.varyings,s=e.length;null===t&&(t="nodeVarying"+s),o=new c4(t,n,i,r),e.push(o),this.registerDeclaration(o),a.varying=o}return o}get namespace(){return this.context.namespace}getOutputNamespace(){return this.getNamespace("outputNode")}getNamespace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=this.namespace;let n;return n=t?e?t+"_"+e:t:e,n}registerDeclaration(e){const t=this.shaderStage,n=this.declarations[t]||(this.declarations[t]={}),i=this.getPropertyName(e);let r=1,a=i;for(;void 0!==n[a];)a=i+"_"+r++;r>1&&(e.name=a,console.warn("THREE.TSL: Declaration name '".concat(i,"' of '").concat(e.type,"' already in use. Renamed to '").concat(a,"'."))),n[a]=e}getCodeFromNode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.shaderStage;const i=this.getDataFromNode(e);let r=i.code;if(void 0===r){const e=this.codes[n]||(this.codes[n]=[]),a=e.length;r=new u4("nodeCode"+a,t),e.push(r),i.code=r}return r}addFlowCodeHierarchy(e,t){const{flowCodes:n,flowCodeBlock:i}=this.getDataFromNode(e);let r=!0,a=t;for(;a;){if(!0===i.get(a)){r=!1;break}a=this.getDataFromNode(a).parentNodeBlock}if(r)for(const o of n)this.addLineFlowCode(o)}addLineFlowCodeBlock(e,t,n){const i=this.getDataFromNode(e),r=i.flowCodes||(i.flowCodes=[]),a=i.flowCodeBlock||(i.flowCodeBlock=new WeakMap);r.push(t),a.set(n,!0)}addLineFlowCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return""===e||(null!==t&&this.context.nodeBlock&&this.addLineFlowCodeBlock(t,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e+=";\n"),this.flow.code+=e),this}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="\t",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const t=e.getNodeType(this),n=this.flowChildNode(e,t);return this.flowsData.set(e,n),n}addInclude(e){null!==this.currentFunctionNode&&this.currentFunctionNode.includes.push(e)}buildFunctionNode(e){const t=new t1,n=this.currentFunctionNode;return this.currentFunctionNode=t,t.code=this.buildFunctionCode(e),this.currentFunctionNode=n,t}flowShaderNode(e){const t=e.layout,n={[Symbol.iterator](){let e=0;const t=Object.values(this);return{next:()=>({value:t[e],done:e++>=t.length})}}};for(const a of t.inputs)n[a.name]=new t$(a.type,a.name);e.layout=null;const i=e.call(n),r=this.flowStagesNode(i,t.type);return e.layout=t,r}flowStagesNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.flow,i=this.vars,r=this.declarations,a=this.cache,o=this.buildStage,s=this.stack,l={code:""};this.flow=l,this.vars={},this.declarations={},this.cache=new h4,this.stack=i$();for(const c of EV)this.setBuildStage(c),l.result=e.build(this,t);return l.vars=this.getVars(this.shaderStage),this.flow=n,this.vars=i,this.declarations=r,this.cache=a,this.stack=s,this.setBuildStage(o),l}getFunctionOperator(){return null}buildFunctionCode(){console.warn("Abstract function.")}flowChildNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.flow,i={code:""};return this.flow=i,i.result=e.build(this,t),this.flow=n,i}flowNodeFromShaderStage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=this.tab,a=this.cache,o=this.shaderStage,s=this.context;this.setShaderStage(e);const l=h({},this.context);delete l.nodeBlock,this.cache=this.globalCache,this.tab="\t",this.context=l;let c=null;if("generate"===this.buildStage){const r=this.flowChildNode(t,n);null!==i&&(r.code+="".concat(this.tab+i," = ").concat(r.result,";\n")),this.flowCode[e]=this.flowCode[e]+r.code,c=r}else c=t.build(this);return this.setShaderStage(o),this.cache=a,this.tab=r,this.context=s,c}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"".concat(null!==n?this.generateArrayDeclaration(e,n):this.getType(e)," ").concat(t)}getVars(e){let t="";const n=this.vars[e];if(void 0!==n)for(const i of n)t+="".concat(this.getVar(i.type,i.name),"; ");return t}getUniforms(){console.warn("Abstract function.")}getCodes(e){const t=this.codes[e];let n="";if(void 0!==t)for(const i of t)n+=i.code+"\n";return n}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){const{object:e,material:t,renderer:n}=this;if(null!==t){let e=n.library.fromMaterial(t);null===e&&(console.error('NodeMaterial: Material "'.concat(t.type,'" is not compatible.')),e=new PX),e.build(this)}else this.addFlow("compute",e);for(const i of EV){this.setBuildStage(i),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const e of CV){this.setShaderStage(e);const t=this.flowNodes[e];for(const e of t)"generate"===i?this.flowNode(e):e.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,t){if("float"===t||"int"===t||"uint"===t)return new T4(e);if("vec2"===t||"ivec2"===t||"uvec2"===t)return new _4(e);if("vec3"===t||"ivec3"===t||"uvec3"===t)return new S4(e);if("vec4"===t||"ivec4"===t||"uvec4"===t)return new M4(e);if("color"===t)return new E4(e);if("mat2"===t)return new C4(e);if("mat3"===t)return new P4(e);if("mat4"===t)return new N4(e);throw new Error('Uniform "'.concat(t,'" not declared.'))}format(e,t,n){if((t=this.getVectorType(t))===(n=this.getVectorType(n))||null===n||this.isReference(n))return e;const i=this.getTypeLength(t),r=this.getTypeLength(n);return 16===i&&9===r?"".concat(this.getType(n),"( ").concat(e,"[ 0 ].xyz, ").concat(e,"[ 1 ].xyz, ").concat(e,"[ 2 ].xyz )"):9===i&&4===r?"".concat(this.getType(n),"( ").concat(e,"[ 0 ].xy, ").concat(e,"[ 1 ].xy )"):i>4||r>4||0===r?e:i===r?"".concat(this.getType(n),"( ").concat(e," )"):i>r?(e="bool"===n?"all( ".concat(e," )"):"".concat(e,".").concat("xyz".slice(0,r)),this.format(e,this.getTypeFromLength(r,this.getComponentType(t)),n)):4===r&&i>1?"".concat(this.getType(n),"( ").concat(this.format(e,t,"vec3"),", 1.0 )"):2===i?"".concat(this.getType(n),"( ").concat(this.format(e,t,"vec2"),", 0.0 )"):(1===i&&r>1&&t!==this.getComponentType(n)&&(e="".concat(this.getType(this.getComponentType(n)),"( ").concat(e," )")),"".concat(this.getType(n),"( ").concat(e," )"))}getSignature(){return"// Three.js r".concat(oi," - Node System\n")}*[Symbol.iterator](){}createNodeMaterial(){throw new Error("THREE.NodeBuilder: createNodeMaterial() was deprecated. Use new ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NodeMaterial","() instead."))}}class k4{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,t){let n=e.get(t);return void 0===n&&(n={renderMap:new WeakMap,frameMap:new WeakMap},e.set(t,n)),n}updateBeforeNode(e){const t=e.getUpdateBeforeType(),n=e.updateReference(this);if(t===_V.FRAME){const{frameMap:t}=this._getMaps(this.updateBeforeMap,n);t.get(n)!==this.frameId&&!1!==e.updateBefore(this)&&t.set(n,this.frameId)}else if(t===_V.RENDER){const{renderMap:t}=this._getMaps(this.updateBeforeMap,n);t.get(n)!==this.renderId&&!1!==e.updateBefore(this)&&t.set(n,this.renderId)}else t===_V.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const t=e.getUpdateAfterType(),n=e.updateReference(this);if(t===_V.FRAME){const{frameMap:t}=this._getMaps(this.updateAfterMap,n);t.get(n)!==this.frameId&&!1!==e.updateAfter(this)&&t.set(n,this.frameId)}else if(t===_V.RENDER){const{renderMap:t}=this._getMaps(this.updateAfterMap,n);t.get(n)!==this.renderId&&!1!==e.updateAfter(this)&&t.set(n,this.renderId)}else t===_V.OBJECT&&e.updateAfter(this)}updateNode(e){const t=e.getUpdateType(),n=e.updateReference(this);if(t===_V.FRAME){const{frameMap:t}=this._getMaps(this.updateMap,n);t.get(n)!==this.frameId&&!1!==e.update(this)&&t.set(n,this.frameId)}else if(t===_V.RENDER){const{renderMap:t}=this._getMaps(this.updateMap,n);t.get(n)!==this.renderId&&!1!==e.update(this)&&t.set(n,this.renderId)}else t===_V.OBJECT&&e.update(this)}update(){this.frameId++,void 0===this.lastTime&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class B4{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.type=e,this.name=t,this.count=n,this.qualifier=i,this.isConst=r}}B4.isNodeFunctionInput=!0;class F4 extends M2{static get type(){return"DirectionalLightNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}setupDirect(){const e=this.colorNode;return{lightDirection:O1(this.light),lightColor:e}}}const O4=new dl,U4=new dl;let V4=null;class j4 extends M2{static get type(){return"RectAreaLightNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),this.halfHeight=Fz(new as).setGroup(Lz),this.halfWidth=Fz(new as).setGroup(Lz),this.updateType=_V.RENDER}update(e){super.update(e);const{light:t}=this,n=e.camera.matrixWorldInverse;U4.identity(),O4.copy(t.matrixWorld),O4.premultiply(n),U4.extractRotation(O4),this.halfWidth.value.set(.5*t.width,0,0),this.halfHeight.value.set(0,.5*t.height,0),this.halfWidth.value.applyMatrix4(U4),this.halfHeight.value.applyMatrix4(U4)}setupDirectRectArea(e){let t,n;e.isAvailable("float32Filterable")?(t=BH(V4.LTC_FLOAT_1),n=BH(V4.LTC_FLOAT_2)):(t=BH(V4.LTC_HALF_1),n=BH(V4.LTC_HALF_2));const{colorNode:i,light:r}=this;return{lightColor:i,lightPosition:F1(r),halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:t,ltc_2:n}}static setLTC(e){V4=e}}class z4 extends M2{static get type(){return"SpotLightNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),this.coneCosNode=Fz(0).setGroup(Lz),this.penumbraCosNode=Fz(0).setGroup(Lz),this.cutoffDistanceNode=Fz(0).setGroup(Lz),this.decayExponentNode=Fz(0).setGroup(Lz),this.colorNode=Fz(this.color).setGroup(Lz)}update(e){super.update(e);const{light:t}=this;this.coneCosNode.value=Math.cos(t.angle),this.penumbraCosNode.value=Math.cos(t.angle*(1-t.penumbra)),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}getSpotAttenuation(e,t){const{coneCosNode:n,penumbraCosNode:i}=this;return TG(n,i,t)}getLightCoord(e){const t=e.getNodeProperties(this);let n=t.projectionUV;return void 0===n&&(n=L1(this.light,e.context.positionWorld),t.projectionUV=n),n}setupDirect(e){const{colorNode:t,cutoffDistanceNode:n,decayExponentNode:i,light:r}=this,a=this.getLightVector(e),o=a.normalize(),s=o.dot(O1(r)),l=this.getSpotAttenuation(e,s),c=a.length(),u=E2({lightDistance:c,cutoffDistance:n,decayExponent:i});let d,h,p=t.mul(l).mul(u);if(r.colorNode?(h=this.getLightCoord(e),d=r.colorNode(h)):r.map&&(h=this.getLightCoord(e),d=BH(r.map,h.xy).onRenderUpdate(()=>r.map)),d){p=h.mul(2).sub(1).abs().lessThan(1).all().select(p.mul(d),p)}return{lightColor:p,lightDirection:o}}}class q4 extends z4{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e,t){const n=this.light.iesMap;let i=null;if(n&&!0===n.isTexture){const e=t.acos().mul(1/Math.PI);i=BH(n,Bj(e,0),0).r}else i=super.getSpotAttenuation(t);return i}}const G4=Mj(e=>{let[t,n]=e;const i=t.abs().sub(n);return Wq(aG(i,0)).add(rG(aG(i.x,i.y),0))});class H4 extends z4{static get type(){return"ProjectorLightNode"}update(e){super.update(e);const t=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(t.angle*(1-t.penumbra)),.99999),null===t.aspect){let e=1;null!==t.map&&(e=t.map.width/t.map.height),t.shadow.aspect=e}else t.shadow.aspect=t.aspect}getSpotAttenuation(e){const t=this.penumbraCosNode,n=this.getLightCoord(e),i=n.xyz.div(n.w),r=G4(i.xy.sub(Bj(.5)),Bj(.5)),a=Xz(-1,Qz(1,zq(t)).sub(1));return xG(r.mul(-2).mul(a))}}class W4 extends M2{static get type(){return"AmbientLightNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}setup(e){let{context:t}=e;t.irradiance.addAssign(this.colorNode)}}class Q4 extends M2{static get type(){return"HemisphereLightNode"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(e),this.lightPositionNode=k1(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=Fz(new ic).setGroup(Lz)}update(e){const{light:t}=this;super.update(e),this.lightPositionNode.object3d=t,this.groundColorNode.value.copy(t.groundColor).multiplyScalar(t.intensity)}setup(e){const{colorNode:t,groundColorNode:n,lightDirectionNode:i}=this,r=LW.dot(i).mul(.5).add(.5),a=yG(n,t,r);e.context.irradiance.addAssign(a)}}class Y4 extends M2{static get type(){return"LightProbeNode"}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null);const e=[];for(let t=0;t<9;t++)e.push(new as);this.lightProbe=zH(e)}update(e){const{light:t}=this;super.update(e);for(let n=0;n<9;n++)this.lightProbe.array[n].copy(t.sh.coefficients[n]).multiplyScalar(t.intensity)}setup(e){const t=$3(LW,this.lightProbe);e.context.irradiance.addAssign(t)}}class X4{parseFunction(){console.warn("Abstract function.")}}class K4{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.type=e,this.inputs=t,this.name=n,this.precision=i}getCode(){console.warn("Abstract function.")}}K4.isNodeFunction=!0;const Z4=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,J4=/[a-z_0-9]+/gi,$4="#pragma main";class e5 extends K4{constructor(e){const{type:t,inputs:n,name:i,precision:r,inputsCode:a,blockCode:o,headerCode:s}=(e=>{const t=(e=e.trim()).indexOf($4),n=-1!==t?e.slice(t+12):e,i=n.match(Z4);if(null!==i&&5===i.length){const r=i[4],a=[];let o=null;for(;null!==(o=J4.exec(r));)a.push(o);const s=[];let l=0;for(;l<a.length;){const e="const"===a[l][0];!0===e&&l++;let t=a[l][0];"in"===t||"out"===t||"inout"===t?l++:t="";const n=a[l++][0];let i=Number.parseInt(a[l][0]);!1===Number.isNaN(i)?l++:i=null;const r=a[l++][0];s.push(new B4(n,r,i,t,e))}const c=n.substring(i[0].length),u=void 0!==i[3]?i[3]:"";return{type:i[2],inputs:s,name:u,precision:void 0!==i[1]?i[1]:"",inputsCode:r,blockCode:c,headerCode:-1!==t?e.slice(0,t):""}}throw new Error("FunctionNode: Function is not a GLSL code.")})(e);super(t,n,i,r),this.inputsCode=a,this.blockCode=o,this.headerCode=s}getCode(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name;const n=this.blockCode;if(""!==n){const{type:i,inputsCode:r,headerCode:a,precision:o}=this;let s="".concat(i," ").concat(t," ( ").concat(r.trim()," )");""!==o&&(s="".concat(o," ").concat(s)),e=a+s+n}else e="";return e}}class t5 extends X4{parseFunction(e){return new e5(e)}}const n5=new WeakMap,i5=[],r5=[];class a5 extends xJ{constructor(e,t){super(),this.renderer=e,this.backend=t,this.nodeFrame=new k4,this.nodeBuilderCache=new Map,this.callHashCache=new AJ,this.groupsData=new AJ,this.cacheLib={}}updateGroup(e){const t=e.groupNode,n=t.name;if(n===kz.name)return!0;if(n===Lz.name){const t=this.get(e),n=this.nodeFrame.renderId;return t.renderId!==n&&(t.renderId=n,!0)}if(n===Iz.name){const t=this.get(e),n=this.nodeFrame.frameId;return t.frameId!==n&&(t.frameId=n,!0)}i5[0]=t,i5[1]=e;let i=this.groupsData.get(i5);return void 0===i&&this.groupsData.set(i5,i={}),i5.length=0,i.version!==t.version&&(i.version=t.version,!0)}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const t=this.get(e);let n=t.nodeBuilderState;if(void 0===n){const{nodeBuilderCache:i}=this,r=this.getForRenderCacheKey(e);if(n=i.get(r),void 0===n){const t=this.backend.createNodeBuilder(e.object,this.renderer);t.scene=e.scene,t.material=e.material,t.camera=e.camera,t.context.material=e.material,t.lightsNode=e.lightsNode,t.environmentNode=this.getEnvironmentNode(e.scene),t.fogNode=this.getFogNode(e.scene),t.clippingContext=e.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&t.enableMultiview(),t.build(),n=this._createNodeBuilderState(t),i.set(r,n)}n.usedTimes++,t.nodeBuilderState=n}return n}delete(e){if(e.isRenderObject){const t=this.get(e).nodeBuilderState;t.usedTimes--,0===t.usedTimes&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const t=this.get(e);let n=t.nodeBuilderState;if(void 0===n){const i=this.backend.createNodeBuilder(e,this.renderer);i.build(),n=this._createNodeBuilderState(i),t.nodeBuilderState=n}return n}_createNodeBuilderState(e){return new a4(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.observer,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let t=null;if(e.environmentNode&&e.environmentNode.isNode)t=e.environmentNode;else{const n=this.get(e);n.environmentNode&&(t=n.environmentNode)}return t}getBackgroundNode(e){this.updateBackground(e);let t=null;if(e.backgroundNode&&e.backgroundNode.isNode)t=e.backgroundNode;else{const n=this.get(e);n.backgroundNode&&(t=n.backgroundNode)}return t}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,t){i5[0]=e,i5[1]=t;const n=this.renderer.info.calls,i=this.callHashCache.get(i5)||{};if(i.callId!==n){const r=this.getEnvironmentNode(e),a=this.getFogNode(e);t&&r5.push(t.getCacheKey(!0)),r&&r5.push(r.getCacheKey()),a&&r5.push(a.getCacheKey()),r5.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),r5.push(this.renderer.shadowMap.enabled?1:0),i.callId=n,i.cacheKey=sV(r5),this.callHashCache.set(i5,i),r5.length=0}return i5.length=0,i.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const t=this.get(e),n=e.background;if(n){const i=0===e.backgroundBlurriness&&t.backgroundBlurriness>0||e.backgroundBlurriness>0&&0===t.backgroundBlurriness;if(t.background!==n||i){const r=this.getCacheNode("background",n,()=>{if(!0===n.isCubeTexture||n.mapping===Ar||n.mapping===gr||n.mapping===vr){if(e.backgroundBlurriness>0||n.mapping===vr)return qZ(n);{let e;return e=!0===n.isCubeTexture?JW(n):BH(n),QX(e)}}if(!0===n.isTexture)return BH(n,ZY.flipY()).setUpdateMatrix(!0);!0!==n.isColor&&console.error("WebGPUNodes: Unsupported background configuration.",n)},i);t.backgroundNode=r,t.background=n,t.backgroundBlurriness=e.backgroundBlurriness}}else t.backgroundNode&&(delete t.backgroundNode,delete t.background)}getCacheNode(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let a=r.get(t);return(void 0===a||i)&&(a=n(),r.set(t,a)),a}updateFog(e){const t=this.get(e),n=e.fog;if(n){if(t.fog!==n){const e=this.getCacheNode("fog",n,()=>{if(n.isFogExp2){const e=tQ("color","color",n).setGroup(Lz),t=tQ("density","float",n).setGroup(Lz);return p1(e,h1(t))}if(n.isFog){const e=tQ("color","color",n).setGroup(Lz),t=tQ("near","float",n).setGroup(Lz),i=tQ("far","float",n).setGroup(Lz);return p1(e,d1(t,i))}console.error("THREE.Renderer: Unsupported fog configuration.",n)});t.fogNode=e,t.fog=n}}else delete t.fogNode,delete t.fog}updateEnvironment(e){const t=this.get(e),n=e.environment;if(n){if(t.environment!==n){const e=this.getCacheNode("environment",n,()=>!0===n.isCubeTexture?JW(n):!0===n.isTexture?BH(n):void console.error("Nodes: Unsupported environment configuration.",n));t.environmentNode=e,t.environment=n}}else t.environmentNode&&(delete t.environmentNode,delete t.environment)}getNodeFrame(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.renderer,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=this.nodeFrame;return a.renderer=e,a.scene=t,a.object=n,a.camera=i,a.material=r,a}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace+","+e.xr.isPresenting}hasOutputChange(e){return n5.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const t=this.renderer,n=this.getOutputCacheKey(),i=e.isArrayTexture?A0(e,Vj(ZY,qH("gl_ViewID_OVR"))).renderOutput(t.toneMapping,t.currentColorSpace):BH(e,ZY).renderOutput(t.toneMapping,t.currentColorSpace);return n5.set(e,n),i}updateBefore(e){const t=e.getNodeBuilderState();for(const n of t.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(n)}updateAfter(e){const t=e.getNodeBuilderState();for(const n of t.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(n)}updateForCompute(e){const t=this.getNodeFrame(),n=this.getForCompute(e);for(const i of n.updateNodes)t.updateNode(i)}updateForRender(e){const t=this.getNodeFrameForRender(e),n=e.getNodeBuilderState();for(const i of n.updateNodes)t.updateNode(i)}needsRefresh(e){const t=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,t)}dispose(){super.dispose(),this.nodeFrame=new k4,this.nodeBuilderCache=new Map,this.cacheLib={}}}const o5=new cd;class s5{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new ls,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,null!==e&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,t,n){const i=e.length;for(let r=0;r<i;r++){o5.copy(e[r]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const i=t[n+r],a=o5.normal;i.x=-a.x,i.y=-a.y,i.z=-a.z,i.w=o5.constant}}updateGlobal(e,t){this.shadowPass=null!==e.overrideMaterial&&e.overrideMaterial.isShadowPassMaterial,this.viewMatrix=t.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,t){let n=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==t.clipIntersection&&(this.clipIntersection=t.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const i=t.clippingPlanes,r=i.length;let a,o;if(this.clipIntersection?(a=this.intersectionPlanes,o=e.intersectionPlanes.length):(a=this.unionPlanes,o=e.unionPlanes.length),a.length!==o+r){a.length=o+r;for(let e=0;e<r;e++)a[o+e]=new Rs;n=!0}this.projectPlanes(i,a,o),n&&(this.version++,this.cacheKey="".concat(this.intersectionPlanes.length,":").concat(this.unionPlanes.length))}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let t=this.clippingGroupContexts.get(e);return void 0===t&&(t=new s5(this),this.clippingGroupContexts.set(e,t)),t.update(this,e),t}get unionClippingCount(){return this.unionPlanes.length}}class l5{constructor(e,t){this.bundleGroup=e,this.camera=t}}const c5=[];class u5{constructor(){this.bundles=new AJ}get(e,t){const n=this.bundles;c5[0]=e,c5[1]=t;let i=n.get(c5);return void 0===i&&(i=new l5(e,t),n.set(c5,i)),c5.length=0,i}dispose(){this.bundles=new AJ}}class d5{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let t=null;const n=this.getMaterialNodeClass(e.type);if(null!==n){t=new n;for(const n in e)t[n]=e[n]}return t}addToneMapping(e,t){this.addType(e,t,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,t){this.addType(e,t,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,t){this.addClass(e,t,this.lightNodes)}addType(e,t,n){if(n.has(t))console.warn("Redefinition of node ".concat(t));else{if("function"!==typeof e)throw new Error("Node class ".concat(e.name," is not a class."));if("function"===typeof t||"object"===typeof t)throw new Error("Base class ".concat(t," is not a class."));n.set(t,e)}}addClass(e,t,n){if(n.has(t))console.warn("Redefinition of node ".concat(t.name));else{if("function"!==typeof e)throw new Error("Node class ".concat(e.name," is not a class."));if("function"!==typeof t)throw new Error("Base class ".concat(t.name," is not a class."));n.set(t,e)}}}const h5=new z1,p5=[];class m5 extends AJ{constructor(){super()}createNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(new z1).setLights(e)}getNode(e,t){if(e.isQuadMesh)return h5;p5[0]=e,p5[1]=t;let n=this.get(p5);return void 0===n&&(n=this.createNode(),this.set(p5,n)),p5.length=0,n}}class f5 extends Ds{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isXRRenderTarget=!0,this.hasExternalTextures=!1,this.autoAllocateDepthBuffer=!0}copy(e){return super.copy(e),this.hasExternalTextures=e.hasExternalTextures,this.autoAllocateDepthBuffer=e.autoAllocateDepthBuffer,this}}const A5=new as,g5=new as;class v5 extends Ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=e,this._cameraL=new iu,this._cameraL.viewport=new Rs,this._cameraR=new iu,this._cameraR.viewport=new Rs,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new df,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._supportsLayers=!1,this._frameBufferTargets=null,this._createXRLayer=T5.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new is,this._onSessionEvent=b5.bind(this),this._onSessionEnd=x5.bind(this),this._onInputSourcesChange=w5.bind(this),this._onAnimationFrame=_5.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._useLayers="undefined"!==typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=t,this._useMultiview=!1}getController(e){return this._getController(e).getTargetRaySpace()}getControllerGrip(e){return this._getController(e).getGripSpace()}getHand(e){return this._getController(e).getHandSpace()}getFoveation(){if(null!==this._glProjLayer||null!==this._glBaseLayer)return this._foveation}setFoveation(e){this._foveation=e,null!==this._glProjLayer&&(this._glProjLayer.fixedFoveation=e),null!==this._glBaseLayer&&void 0!==this._glBaseLayer.fixedFoveation&&(this._glBaseLayer.fixedFoveation=e)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(e){this._framebufferScaleFactor=e,!0===this.isPresenting&&console.warn("THREE.XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(e){this._referenceSpaceType=e,!0===this.isPresenting&&console.warn("THREE.XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(e){this._customReferenceSpace=e}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(null!==this._session)return this._session.environmentBlendMode}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};const l=new Sp(e,t),c=new f5(r,a,{format:Wr,type:Dr,depthTexture:new ch(r,a,s.stencil?zr:Fr,void 0,void 0,void 0,void 0,void 0,void 0,s.stencil?Yr:Qr),stencilBuffer:s.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});c.autoAllocateDepthBuffer=!0;const u=new sc({color:16777215,side:gi});u.map=c.texture,u.map.offset.y=1,u.map.repeat.y=-1;const d=new Hc(l,u);d.position.copy(n),d.quaternion.copy(i);const h={type:"quad",width:e,height:t,translation:n,quaternion:i,pixelwidth:r,pixelheight:a,plane:d,material:u,rendercall:o,renderTarget:c};if(this._layers.push(h),null!==this._session){h.plane.material=new sc({color:16777215,side:gi}),h.plane.material.blending=Si,h.plane.material.blendEquation=Mi,h.plane.material.blendSrc=Ri,h.plane.material.blendDst=Ri,h.xrlayer=this._createXRLayer(h);const e=this._session.renderState.layers;e.unshift(h.xrlayer),this._session.updateRenderState({layers:e})}else c.isXRRenderTarget=!1;return d}createCylinderLayer(e,t,n,i,r,a,o,s){let l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};const c=new hh(e,e,e*t/n,64,64,!0,Math.PI-t/2,t),u=new f5(a,o,{format:Wr,type:Dr,depthTexture:new ch(a,o,l.stencil?zr:Fr,void 0,void 0,void 0,void 0,void 0,void 0,l.stencil?Yr:Qr),stencilBuffer:l.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});u.autoAllocateDepthBuffer=!0;const d=new sc({color:16777215,side:vi});d.map=u.texture,d.map.offset.y=1,d.map.repeat.y=-1;const h=new Hc(c,d);h.position.copy(i),h.quaternion.copy(r);const p={type:"cylinder",radius:e,centralAngle:t,aspectratio:n,translation:i,quaternion:r,pixelwidth:a,pixelheight:o,plane:h,material:d,rendercall:s,renderTarget:u};if(this._layers.push(p),null!==this._session){p.plane.material=new sc({color:16777215,side:vi}),p.plane.material.blending=Si,p.plane.material.blendEquation=Mi,p.plane.material.blendSrc=Ri,p.plane.material.blendDst=Ri,p.xrlayer=this._createXRLayer(p);const e=this._session.renderState.layers;e.unshift(p.xrlayer),this._session.updateRenderState({layers:e})}else u.isXRRenderTarget=!1;return h}renderLayers(){const e=new as,t=new rs,n=this._renderer,i=this.isPresenting,r=n.getOutputRenderTarget(),a=n._frameBufferTarget;this.isPresenting=!1;const o=new is;n.getSize(o);const s=n._quad;for(const l of this._layers)if(l.renderTarget.isXRRenderTarget=null!==this._session,l.renderTarget.hasExternalTextures=l.renderTarget.isXRRenderTarget,l.renderTarget.isXRRenderTarget&&this._supportsLayers){l.xrlayer.transform=new XRRigidTransform(l.plane.getWorldPosition(e),l.plane.getWorldQuaternion(t));const i=this._glBinding.getSubImage(l.xrlayer,this._xrFrame);n.backend.setXRRenderTargetTextures(l.renderTarget,i.colorTexture,void 0),n._setXRLayerSize(l.renderTarget.width,l.renderTarget.height),n.setOutputRenderTarget(l.renderTarget),n.setRenderTarget(null),n._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:r,quad:a}=this._frameBufferTargets.get(l.renderTarget)||{frameBufferTarget:null,quad:null};r?(n._frameBufferTarget=r,n._quad=a):(n._quad=new X$(new PX),this._frameBufferTargets.set(l.renderTarget,{frameBufferTarget:n._getFrameBufferTarget(),quad:n._quad})),l.rendercall(),n._frameBufferTarget=null}else n.setRenderTarget(l.renderTarget),l.rendercall();n.setRenderTarget(null),n.setOutputRenderTarget(r),n._frameBufferTarget=a,n._setXRLayerSize(o.x,o.y),n._quad=s,this.isPresenting=i}getSession(){return this._session}async setSession(e){const t=this._renderer,n=t.backend;this._gl=t.getContext();const i=this._gl,r=i.getContextAttributes();if(this._session=e,null!==e){if(!0===n.isWebGPUBackend)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(e.addEventListener("select",this._onSessionEvent),e.addEventListener("selectstart",this._onSessionEvent),e.addEventListener("selectend",this._onSessionEvent),e.addEventListener("squeeze",this._onSessionEvent),e.addEventListener("squeezestart",this._onSessionEvent),e.addEventListener("squeezeend",this._onSessionEvent),e.addEventListener("end",this._onSessionEnd),e.addEventListener("inputsourceschange",this._onInputSourcesChange),await n.makeXRCompatible(),this._currentPixelRatio=t.getPixelRatio(),t.getSize(this._currentSize),this._currentAnimationContext=t._animation.getContext(),this._currentAnimationLoop=t._animation.getAnimationLoop(),t._animation.stop(),!0===this._useLayers){let n=null,a=null,o=null;t.depth&&(o=t.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,n=t.stencil?Yr:Qr,a=t.stencil?zr:Fr);const s={colorFormat:i.RGBA8,depthFormat:o,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&t.hasFeature("OVR_multiview2")&&(s.textureType="texture-array",this._useMultiview=!0);const l=new XRWebGLBinding(e,i),c=l.createProjectionLayer(s),u=[c];this._glBinding=l,this._glProjLayer=c,t.setPixelRatio(1),t._setXRLayerSize(c.textureWidth,c.textureHeight);const d=this._useMultiview?2:1,h=new ch(c.textureWidth,c.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n,d);if(this._xrRenderTarget=new f5(c.textureWidth,c.textureHeight,{format:Wr,type:Dr,colorSpace:t.outputColorSpace,depthTexture:h,stencilBuffer:t.stencil,samples:r.antialias?4:0,resolveDepthBuffer:!1===c.ignoreDepthValues,resolveStencilBuffer:!1===c.ignoreDepthValues,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget.hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._supportsLayers=e.enabledFeatures.includes("layers"),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType()),this._supportsLayers)for(const e of this._layers)e.plane.material=new sc({color:16777215,side:"cylinder"===e.type?vi:gi}),e.plane.material.blending=Si,e.plane.material.blendEquation=Mi,e.plane.material.blendSrc=Ri,e.plane.material.blendDst=Ri,e.xrlayer=this._createXRLayer(e),u.unshift(e.xrlayer);e.updateRenderState({layers:u})}else{const n={antialias:t.samples>0,alpha:!0,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},r=new XRWebGLLayer(e,i,n);this._glBaseLayer=r,e.updateRenderState({baseLayer:r}),t.setPixelRatio(1),t._setXRLayerSize(r.framebufferWidth,r.framebufferHeight),this._xrRenderTarget=new f5(r.framebufferWidth,r.framebufferHeight,{format:Wr,type:Dr,colorSpace:t.outputColorSpace,stencilBuffer:t.stencil,resolveDepthBuffer:!1===r.ignoreDepthValues,resolveStencilBuffer:!1===r.ignoreDepthValues}),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),t._animation.setAnimationLoop(this._onAnimationFrame),t._animation.setContext(e),t._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(e){const t=this._session;if(null===t)return;const n=e.near,i=e.far,r=this._cameraXR,a=this._cameraL,o=this._cameraR;r.near=o.near=a.near=n,r.far=o.far=a.far=i,r.isMultiViewCamera=this._useMultiview,this._currentDepthNear===r.near&&this._currentDepthFar===r.far||(t.updateRenderState({depthNear:r.near,depthFar:r.far}),this._currentDepthNear=r.near,this._currentDepthFar=r.far),a.layers.mask=2|e.layers.mask,o.layers.mask=4|e.layers.mask,r.layers.mask=a.layers.mask|o.layers.mask;const s=e.parent,l=r.cameras;y5(r,s);for(let c=0;c<l.length;c++)y5(l[c],s);2===l.length?function(e,t,n){A5.setFromMatrixPosition(t.matrixWorld),g5.setFromMatrixPosition(n.matrixWorld);const i=A5.distanceTo(g5),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(a[8]+1)/a[0],h=o*u,p=o*d,m=i/(-u+d),f=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===r[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+m,n=s+m,r=h-f,a=p+(i-f),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(r,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(r,a,o):r.projectionMatrix.copy(a.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Xo*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,r,s)}_getController(e){let t=this._controllers[e];return void 0===t&&(t=new uu,this._controllers[e]=t),t}}function y5(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}function b5(e){const t=this._controllerInputSources.indexOf(e.inputSource);if(-1===t)return;const n=this._controllers[t];if(void 0!==n){const t=this.getReferenceSpace();n.update(e.inputSource,e.frame,t),n.dispatchEvent({type:e.type,data:e.inputSource})}}function x5(){const e=this._session,t=this._renderer;e.removeEventListener("select",this._onSessionEvent),e.removeEventListener("selectstart",this._onSessionEvent),e.removeEventListener("selectend",this._onSessionEvent),e.removeEventListener("squeeze",this._onSessionEvent),e.removeEventListener("squeezestart",this._onSessionEvent),e.removeEventListener("squeezeend",this._onSessionEvent),e.removeEventListener("end",this._onSessionEnd),e.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let n=0;n<this._controllers.length;n++){const e=this._controllerInputSources[n];null!==e&&(this._controllerInputSources[n]=null,this._controllers[n].disconnect(e))}if(this._currentDepthNear=null,this._currentDepthFar=null,t._resetXRState(),this._session=null,this._xrRenderTarget=null,!0===this._supportsLayers)for(const n of this._layers)n.renderTarget=new f5(n.pixelwidth,n.pixelheight,{format:Wr,type:Dr,depthTexture:new ch(n.pixelwidth,n.pixelheight,n.stencilBuffer?zr:Fr,void 0,void 0,void 0,void 0,void 0,void 0,n.stencilBuffer?Yr:Qr),stencilBuffer:n.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),n.renderTarget.isXRRenderTarget=!1,n.plane.material=n.material,n.material.map=n.renderTarget.texture,n.material.map.offset.y=1,n.material.map.repeat.y=-1,delete n.xrlayer;this.isPresenting=!1,this._useMultiview=!1,t._animation.stop(),t._animation.setAnimationLoop(this._currentAnimationLoop),t._animation.setContext(this._currentAnimationContext),t._animation.start(),t.setPixelRatio(this._currentPixelRatio),t.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function w5(e){const t=this._controllers,n=this._controllerInputSources;for(let i=0;i<e.removed.length;i++){const r=e.removed[i],a=n.indexOf(r);a>=0&&(n[a]=null,t[a].disconnect(r))}for(let i=0;i<e.added.length;i++){const r=e.added[i];let a=n.indexOf(r);if(-1===a){for(let e=0;e<t.length;e++){if(e>=n.length){n.push(r),a=e;break}if(null===n[e]){n[e]=r,a=e;break}}if(-1===a)break}const o=t[a];o&&o.connect(r)}}function T5(e){return"quad"===e.type?this._glBinding.createQuadLayer({transform:new XRRigidTransform(e.translation,e.quaternion),width:e.width/2,height:e.height/2,space:this._referenceSpace,viewPixelWidth:e.pixelwidth,viewPixelHeight:e.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(e.translation,e.quaternion),radius:e.radius,centralAngle:e.centralAngle,aspectRatio:e.aspectRatio,space:this._referenceSpace,viewPixelWidth:e.pixelwidth,viewPixelHeight:e.pixelheight,clearOnAccess:!1})}function _5(e,t){if(void 0===t)return;const n=this._cameraXR,i=this._renderer,r=i.backend,a=this._glBaseLayer,o=this.getReferenceSpace(),s=t.getViewerPose(o);if(this._xrFrame=t,null!==s){const e=s.views;null!==this._glBaseLayer&&r.setXRTarget(a.framebuffer);let t=!1;e.length!==n.cameras.length&&(n.cameras.length=0,t=!0);for(let i=0;i<e.length;i++){const o=e[i];let s;if(!0===this._useLayers){const e=this._glBinding.getViewSubImage(this._glProjLayer,o);s=e.viewport,0===i&&r.setXRRenderTargetTextures(this._xrRenderTarget,e.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:e.depthStencilTexture)}else s=a.getViewport(o);let l=this._cameras[i];void 0===l&&(l=new iu,l.layers.enable(i),l.viewport=new Rs,this._cameras[i]=l),l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.quaternion,l.scale),l.projectionMatrix.fromArray(o.projectionMatrix),l.projectionMatrixInverse.copy(l.projectionMatrix).invert(),l.viewport.set(s.x,s.y,s.width,s.height),0===i&&(n.matrix.copy(l.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale)),!0===t&&n.cameras.push(l)}i.setOutputRenderTarget(this._xrRenderTarget)}for(let l=0;l<this._controllers.length;l++){const e=this._controllerInputSources[l],n=this._controllers[l];null!==e&&void 0!==n&&n.update(e,t,o)}this._currentAnimationLoop&&this._currentAnimationLoop(e,t),t.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:t}),this._xrFrame=null}const S5=new pu,M5=new is,E5=new Rs,C5=new hd,P5=new fd,N5=new dl,R5=new Rs;class D5{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderer=!0;const{logarithmicDepthBuffer:n=!1,alpha:i=!0,depth:r=!0,stencil:a=!1,antialias:o=!1,samples:s=0,getFallback:l=null,colorBufferType:c=Ur,multiview:u=!1}=t;this.domElement=e.getDomElement(),this.backend=e,this.samples=s||!0===o?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=i,this.logarithmicDepthBuffer=n,this.outputColorSpace=eo,this.toneMapping=ir,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=r,this.stencil=a,this.info=new RJ,this.overrideNodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new d5,this.lighting=new m5,this._getFallback=l,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new Rs(0,0,this._width,this._height),this._scissor=new Rs(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new X$(new PX),this._quad.material.name="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const d=!0===this.alpha?0:1;this._clearColor=new e$(0,0,0,d),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._colorBufferType=c,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:mi},this.xr=new v5(this,u),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(e,t,n)=>{await this.compileAsync(e,t);const i=this._renderLists.get(e,t),r=this._renderContexts.get(e,t,this._renderTarget),a=e.overrideMaterial||n.material,o=this._objects.get(n,a,e,t,i.lightsNode,r,r.clippingContext),{fragmentShader:s,vertexShader:l}=o.getNodeBuilderState();return{fragmentShader:s,vertexShader:l}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return null!==this._initPromise||(this._initPromise=new Promise(async(e,t)=>{let n=this.backend;try{await n.init(this)}catch(i){if(null===this._getFallback)return void t(i);try{this.backend=n=this._getFallback(i),await n.init(this)}catch(i){return void t(i)}}this._nodes=new a5(this,n),this._animation=new fJ(this._nodes,this.info),this._attributes=new EJ(n),this._background=new n4(this,this._nodes),this._geometries=new NJ(this._attributes,this.info),this._textures=new $J(this,n,this.info),this._pipelines=new FJ(n,this._nodes),this._bindings=new OJ(n,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new bJ(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new GJ(this.lighting),this._bundles=new u5,this._renderContexts=new ZJ,this._animation.start(),this._initialized=!0,e(this)})),this._initPromise}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!0===this._isDeviceLost)return;!1===this._initialized&&await this.init();const i=this._nodes.nodeFrame,r=i.renderId,a=this._currentRenderContext,o=this._currentRenderObjectFunction,s=this._compilationPromises,l=!0===e.isScene?e:S5;null===n&&(n=e);const c=this._renderTarget,u=this._renderContexts.get(n,t,c),d=this._activeMipmapLevel,h=[];this._currentRenderContext=u,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=h,i.renderId++,i.update(),u.depth=this.depth,u.stencil=this.stencil,u.clippingContext||(u.clippingContext=new s5),u.clippingContext.updateGlobal(l,t),l.onBeforeRender(this,e,t,c);const p=this._renderLists.get(e,t);if(p.begin(),this._projectObject(e,t,0,p,u.clippingContext),n!==e&&n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&p.pushLight(e)}),p.finish(),null!==c){this._textures.updateRenderTarget(c,d);const e=this._textures.get(c);u.textures=e.textures,u.depthTexture=e.depthTexture}else u.textures=null,u.depthTexture=null;this._background.update(l,p,u);const m=p.opaque,f=p.transparent,A=p.transparentDoublePass,g=p.lightsNode;!0===this.opaque&&m.length>0&&this._renderObjects(m,t,l,g),!0===this.transparent&&f.length>0&&this._renderTransparents(f,A,t,l,g),i.renderId=r,this._currentRenderContext=a,this._currentRenderObjectFunction=o,this._compilationPromises=s,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(h)}async renderAsync(e,t){!1===this._initialized&&await this.init(),this._renderScene(e,t)}async waitForGPU(){await this.backend.waitForGPU()}set highPrecision(e){!0===e?(this.overrideNodes.modelViewMatrix=vW,this.overrideNodes.modelNormalViewMatrix=yW):this.highPrecision&&(this.overrideNodes.modelViewMatrix=null,this.overrideNodes.modelNormalViewMatrix=null)}get highPrecision(){return this.overrideNodes.modelViewMatrix===vW&&this.overrideNodes.modelNormalViewMatrix===yW}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getColorBufferType(){return this._colorBufferType}_onDeviceLost(e){let t="THREE.WebGPURenderer: ".concat(e.api," Device Lost:\n\nMessage: ").concat(e.message);e.reason&&(t+="\nReason: ".concat(e.reason)),console.error(t),this._isDeviceLost=!0}_renderBundle(e,t,n){const{bundleGroup:i,camera:r,renderList:a}=e,o=this._currentRenderContext,s=this._bundles.get(i,r),l=this.backend.get(s);void 0===l.renderContexts&&(l.renderContexts=new Set);const c=i.version!==l.version,u=!1===l.renderContexts.has(o)||c;if(l.renderContexts.add(o),u){this.backend.beginBundle(o),(void 0===l.renderObjects||c)&&(l.renderObjects=[]),this._currentRenderBundle=s;const{transparentDoublePass:e,transparent:u,opaque:d}=a;!0===this.opaque&&d.length>0&&this._renderObjects(d,r,t,n),!0===this.transparent&&u.length>0&&this._renderTransparents(u,e,r,t,n),this._currentRenderBundle=null,this.backend.finishBundle(o,s),l.version=i.version}else{const{renderObjects:e}=l;for(let t=0,n=e.length;t<n;t++){const n=e[t];this._nodes.needsRefresh(n)&&(this._nodes.updateBefore(n),this._nodes.updateForRender(n),this._bindings.updateForRender(n),this._nodes.updateAfter(n))}}this.backend.addBundle(o,s)}render(e,t){if(!1===this._initialized)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(e,t);this._renderScene(e,t)}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:t}=this;if(!1===(e!==ir)&&!1===(t!==to))return null;const{width:n,height:i}=this.getDrawingBufferSize(M5),{depth:r,stencil:a}=this;let o=this._frameBufferTarget;null===o&&(o=new Ds(n,i,{depthBuffer:r,stencilBuffer:a,type:this._colorBufferType,format:Wr,colorSpace:to,generateMipmaps:!1,minFilter:Er,magFilter:Er,samples:this.samples}),o.isPostProcessingRenderTarget=!0,this._frameBufferTarget=o);const s=this.getOutputRenderTarget();return o.depthBuffer=r,o.stencilBuffer=a,null!==s?o.setSize(s.width,s.height,s.depth):o.setSize(n,i,1),o.viewport.copy(this._viewport),o.scissor.copy(this._scissor),o.viewport.multiplyScalar(this._pixelRatio),o.scissor.multiplyScalar(this._pixelRatio),o.scissorTest=this._scissorTest,o.multiview=null!==s&&s.multiview,o.resolveDepthBuffer=null===s||s.resolveDepthBuffer,o.autoAllocateDepthBuffer=null!==s&&s.autoAllocateDepthBuffer,o}_renderScene(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===this._isDeviceLost)return;const i=n?this._getFrameBufferTarget():null,r=this._nodes.nodeFrame,a=r.renderId,o=this._currentRenderContext,s=this._currentRenderObjectFunction,l=!0===e.isScene?e:S5,c=this._renderTarget||this._outputRenderTarget,u=this._activeCubeFace,d=this._activeMipmapLevel;let h;null!==i?(h=i,this.setRenderTarget(h)):h=c;const p=this._renderContexts.get(e,t,h);this._currentRenderContext=p,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,r.renderId=this.info.calls;const m=this.coordinateSystem,f=this.xr;if(t.coordinateSystem!==m&&!1===f.isPresenting&&(t.coordinateSystem=m,t.updateProjectionMatrix(),t.isArrayCamera))for(const C of t.cameras)C.coordinateSystem=m,C.updateProjectionMatrix();!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===f.enabled&&!0===f.isPresenting&&(!0===f.cameraAutoUpdate&&f.updateCamera(t),t=f.getCamera());let A=this._viewport,g=this._scissor,v=this._pixelRatio;null!==h&&(A=h.viewport,g=h.scissor,v=1),this.getDrawingBufferSize(M5),E5.set(0,0,M5.width,M5.height);const y=void 0===A.minDepth?0:A.minDepth,b=void 0===A.maxDepth?1:A.maxDepth;p.viewportValue.copy(A).multiplyScalar(v).floor(),p.viewportValue.width>>=d,p.viewportValue.height>>=d,p.viewportValue.minDepth=y,p.viewportValue.maxDepth=b,p.viewport=!1===p.viewportValue.equals(E5),p.scissorValue.copy(g).multiplyScalar(v).floor(),p.scissor=this._scissorTest&&!1===p.scissorValue.equals(E5),p.scissorValue.width>>=d,p.scissorValue.height>>=d,p.clippingContext||(p.clippingContext=new s5),p.clippingContext.updateGlobal(l,t),l.onBeforeRender(this,e,t,h);const x=t.isArrayCamera?P5:C5;t.isArrayCamera||(N5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),x.setFromProjectionMatrix(N5,m));const w=this._renderLists.get(e,t);if(w.begin(),this._projectObject(e,t,0,w,p.clippingContext),w.finish(),!0===this.sortObjects&&w.sort(this._opaqueSort,this._transparentSort),null!==h){this._textures.updateRenderTarget(h,d);const e=this._textures.get(h);p.textures=e.textures,p.depthTexture=e.depthTexture,p.width=e.width,p.height=e.height,p.renderTarget=h,p.depth=h.depthBuffer,p.stencil=h.stencilBuffer}else p.textures=null,p.depthTexture=null,p.width=this.domElement.width,p.height=this.domElement.height,p.depth=this.depth,p.stencil=this.stencil;p.width>>=d,p.height>>=d,p.activeCubeFace=u,p.activeMipmapLevel=d,p.occlusionQueryCount=w.occlusionQueryCount,this._background.update(l,w,p),p.camera=t,this.backend.beginRender(p);const{bundles:T,lightsNode:_,transparentDoublePass:S,transparent:M,opaque:E}=w;return T.length>0&&this._renderBundles(T,l,_),!0===this.opaque&&E.length>0&&this._renderObjects(E,t,l,_),!0===this.transparent&&M.length>0&&this._renderTransparents(M,S,t,l,_),this.backend.finishRender(p),r.renderId=a,this._currentRenderContext=o,this._currentRenderObjectFunction=s,null!==i&&(this.setRenderTarget(c,u,d),this._renderOutput(h)),l.onAfterRender(this,e,t,h),p}_setXRLayerSize(e,t){this._width=e,this._height=t,this.setViewport(0,0,e,t)}_renderOutput(e){const t=this._quad;this._nodes.hasOutputChange(e.texture)&&(t.material.fragmentNode=this._nodes.getOutputNode(e.texture),t.material.needsUpdate=!0);const n=this.autoClear,i=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(t,t.camera,!1),this.autoClear=n,this.xr.enabled=i}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){!1===this._initialized&&await this.init(),this._animation.setAnimationLoop(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,t,n){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this._pixelRatio=n,this.domElement.width=Math.floor(e*n),this.domElement.height=Math.floor(t*n),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setSize(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(t*this._pixelRatio),!0===n&&(this.domElement.style.width=e+"px",this.domElement.style.height=t+"px"),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const t=this._scissor;return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e}setScissor(e,t,n,i){const r=this._scissor;e.isVector4?r.copy(e):r.set(e,t,n,i)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e,this.backend.setScissorTest(e)}getViewport(e){return e.copy(this._viewport)}setViewport(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;const o=this._viewport;e.isVector4?o.copy(e):o.set(e,t,n,i),o.minDepth=r,o.maxDepth=a}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._clearColor.set(e),this._clearColor.a=t}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const t=this._currentRenderContext;return t&&this.backend.isOccluded(t,e)}clear(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!1===this._initialized)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(e,t,n);const i=this._renderTarget||this._getFrameBufferTarget();let r=null;if(null!==i){this._textures.updateRenderTarget(i);const e=this._textures.get(i);r=this._renderContexts.getForClear(i),r.textures=e.textures,r.depthTexture=e.depthTexture,r.width=e.width,r.height=e.height,r.renderTarget=i,r.depth=i.depthBuffer,r.stencil=i.stencilBuffer,r.clearColorValue=this.backend.getClearColor(),r.activeCubeFace=this.getActiveCubeFace(),r.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(e,t,n,r),null!==i&&null===this._renderTarget&&this._renderOutput(i)}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===this._initialized&&await this.init(),this.clear(e,t,n)}async clearColorAsync(){this.clearAsync(!0,!1,!1)}async clearDepthAsync(){this.clearAsync(!1,!0,!1)}async clearStencilAsync(){this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:ir}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:to}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||null===this._renderTarget}dispose(){this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),null!==this._frameBufferTarget&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(e=>{null!==e&&e.dispose()}),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._renderTarget=e,this._activeCubeFace=t,this._activeMipmapLevel=n}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(e){this._outputRenderTarget=e}getOutputRenderTarget(){return this._outputRenderTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e){if(!0===this._isDeviceLost)return;if(!1===this._initialized)return console.warn("THREE.Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e);const t=this._nodes.nodeFrame,n=t.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,t.renderId=this.info.calls;const i=this.backend,r=this._pipelines,a=this._bindings,o=this._nodes,s=Array.isArray(e)?e:[e];if(void 0===s[0]||!0!==s[0].isComputeNode)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");i.beginCompute(e);for(const l of s){if(!1===r.has(l)){const e=()=>{l.removeEventListener("dispose",e),r.delete(l),a.delete(l),o.delete(l)};l.addEventListener("dispose",e);const t=l.onInitFunction;null!==t&&t.call(l,{renderer:this})}o.updateForCompute(l),a.updateForCompute(l);const t=a.getForCompute(l),n=r.getForCompute(l,t);i.compute(e,l,t,n)}i.finishCompute(e),t.renderId=n}async computeAsync(e){!1===this._initialized&&await this.init(),this.compute(e)}async hasFeatureAsync(e){return!1===this._initialized&&await this.init(),this.backend.hasFeature(e)}async resolveTimestampsAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"render";return!1===this._initialized&&await this.init(),this.backend.resolveTimestampsAsync(e)}hasFeature(e){return!1===this._initialized?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){!1===this._initialized&&await this.init(),this._textures.updateTexture(e)}initTexture(e){!1===this._initialized&&console.warn("THREE.Renderer: .initTexture() called before the backend is initialized. Try using .initTextureAsync() instead."),this._textures.updateTexture(e)}copyFramebufferToTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t)if(t.isVector2)t=R5.set(t.x,t.y,e.image.width,e.image.height).floor();else{if(!t.isVector4)return void console.error("THREE.Renderer.copyFramebufferToTexture: Invalid rectangle.");t=R5.copy(t).floor()}else t=R5.set(0,0,e.image.width,e.image.height);let n,i=this._currentRenderContext;null!==i?n=i.renderTarget:(n=this._renderTarget||this._getFrameBufferTarget(),null!==n&&(this._textures.updateRenderTarget(n),i=this._textures.get(n))),this._textures.updateTexture(e,{renderTarget:n}),this.backend.copyFramebufferToTexture(e,i,t)}copyTextureToTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this._textures.updateTexture(e),this._textures.updateTexture(t),this.backend.copyTextureToTexture(e,t,n,i,r,a)}async readRenderTargetPixelsAsync(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return this.backend.copyTextureToBuffer(e.textures[a],t,n,i,r,o)}_projectObject(e,t,n,i,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder,e.isClippingGroup&&e.enabled&&(r=r.getGroupContext(e));else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)i.pushLight(e);else if(e.isSprite){const a=t.isArrayCamera?P5:C5;if(!e.frustumCulled||a.intersectsSprite(e,t)){!0===this.sortObjects&&R5.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N5);const{geometry:t,material:a}=e;a.visible&&i.push(e,t,a,n,R5.z,null,r)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(e.isMesh||e.isLine||e.isPoints){const a=t.isArrayCamera?P5:C5;if(!e.frustumCulled||a.intersectsObject(e,t)){const{geometry:t,material:a}=e;if(!0===this.sortObjects&&(null===t.boundingSphere&&t.computeBoundingSphere(),R5.copy(t.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(N5)),Array.isArray(a)){const o=t.groups;for(let s=0,l=o.length;s<l;s++){const l=o[s],c=a[l.materialIndex];c&&c.visible&&i.push(e,t,c,n,R5.z,l,r)}}else a.visible&&i.push(e,t,a,n,R5.z,null,r)}}if(!0===e.isBundleGroup&&void 0!==this.backend.beginBundle){const n=i;(i=this._renderLists.get(e,t)).begin(),n.pushBundle({bundleGroup:e,camera:t,renderList:i}),i.finish()}const a=e.children;for(let o=0,s=a.length;o<s;o++)this._projectObject(a[o],t,n,i,r)}_renderBundles(e,t,n){for(const i of e)this._renderBundle(i,t,n)}_renderTransparents(e,t,n,i,r){if(t.length>0){for(const{material:e}of t)e.side=vi;this._renderObjects(t,n,i,r,"backSide");for(const{material:e}of t)e.side=gi;this._renderObjects(e,n,i,r);for(const{material:e}of t)e.side=yi}else this._renderObjects(e,n,i,r)}_renderObjects(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;for(let a=0,o=e.length;a<o;a++){const{object:o,geometry:s,material:l,group:c,clippingContext:u}=e[a];this._currentRenderObjectFunction(o,n,t,s,l,c,i,u,r)}}renderObject(e,t,n,i,r,a,o){let s,l,c,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(e.onBeforeRender(this,t,n,i,r,a),!0===r.allowOverride&&null!==t.overrideMaterial){const e=t.overrideMaterial;r.positionNode&&r.positionNode.isNode&&(s=e.positionNode,e.positionNode=r.positionNode),e.alphaTest=r.alphaTest,e.alphaMap=r.alphaMap,e.transparent=r.transparent||r.transmission>0,e.isShadowPassMaterial&&(e.side=null===r.shadowSide?r.side:r.shadowSide,r.depthNode&&r.depthNode.isNode&&(c=e.depthNode,e.depthNode=r.depthNode),r.castShadowNode&&r.castShadowNode.isNode&&(l=e.colorNode,e.colorNode=r.castShadowNode),r.castShadowPositionNode&&r.castShadowPositionNode.isNode&&(s=e.positionNode,e.positionNode=r.castShadowPositionNode)),r=e}!0===r.transparent&&r.side===yi&&!1===r.forceSinglePass?(r.side=vi,this._handleObjectFunction(e,r,t,n,o,a,u,"backSide"),r.side=gi,this._handleObjectFunction(e,r,t,n,o,a,u,d),r.side=yi):this._handleObjectFunction(e,r,t,n,o,a,u,d),void 0!==s&&(t.overrideMaterial.positionNode=s),void 0!==c&&(t.overrideMaterial.depthNode=c),void 0!==l&&(t.overrideMaterial.colorNode=l),e.onAfterRender(this,t,n,i,r,a)}_renderObjectDirect(e,t,n,i,r,a,o,s){const l=this._objects.get(e,t,n,i,r,this._currentRenderContext,o,s);l.drawRange=e.geometry.drawRange,l.group=a;const c=this._nodes.needsRefresh(l);if(c&&(this._nodes.updateBefore(l),this._geometries.updateForRender(l),this._nodes.updateForRender(l),this._bindings.updateForRender(l)),this._pipelines.updateForRender(l),null!==this._currentRenderBundle){this.backend.get(this._currentRenderBundle).renderObjects.push(l),l.bundle=this._currentRenderBundle.bundleGroup}this.backend.draw(l,this.info),c&&this._nodes.updateAfter(l)}_createObjectPipeline(e,t,n,i,r,a,o,s){const l=this._objects.get(e,t,n,i,r,this._currentRenderContext,o,s);l.drawRange=e.geometry.drawRange,l.group=a,this._nodes.updateBefore(l),this._geometries.updateForRender(l),this._nodes.updateForRender(l),this._bindings.updateForRender(l),this._pipelines.getForRender(l,this._compilationPromises),this._nodes.updateAfter(l)}get compile(){return this.compileAsync}}class I5{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}class L5 extends I5{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=t}get byteLength(){return(e=this._buffer.byteLength)+(MJ-e%MJ)%MJ;var e}get buffer(){return this._buffer}update(){return!0}}class k5 extends L5{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),this.isUniformBuffer=!0}}let B5=0;class F5 extends k5{constructor(e,t){super("UniformBuffer_"+B5++,e?e.value:null),this.nodeUniform=e,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class O5 extends k5{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}get values(){return null===this._values&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(null===e){const t=this.byteLength;e=new Float32Array(new ArrayBuffer(t)),this._buffer=e}return e}get byteLength(){const e=this.bytesPerElement;let t=0;for(let n=0,i=this.uniforms.length;n<i;n++){const i=this.uniforms[n],r=i.boundary,a=i.itemSize*e,o=t%MJ,s=o%r,l=o+s;t+=s,0!==l&&MJ-l<a&&(t+=MJ-l),i.offset=t/e,t+=a}return Math.ceil(t/MJ)*MJ}update(){let e=!1;for(const t of this.uniforms)!0===this.updateByType(t)&&(e=!0);return e}updateByType(e){return e.isNumberUniform?this.updateNumber(e):e.isVector2Uniform?this.updateVector2(e):e.isVector3Uniform?this.updateVector3(e):e.isVector4Uniform?this.updateVector4(e):e.isColorUniform?this.updateColor(e):e.isMatrix3Uniform?this.updateMatrix3(e):e.isMatrix4Uniform?this.updateMatrix4(e):void console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let t=!1;const n=this.values,i=e.getValue(),r=e.offset,a=e.getType();if(n[r]!==i){this._getBufferForType(a)[r]=n[r]=i,t=!0}return t}updateVector2(e){let t=!1;const n=this.values,i=e.getValue(),r=e.offset,a=e.getType();if(n[r+0]!==i.x||n[r+1]!==i.y){const e=this._getBufferForType(a);e[r+0]=n[r+0]=i.x,e[r+1]=n[r+1]=i.y,t=!0}return t}updateVector3(e){let t=!1;const n=this.values,i=e.getValue(),r=e.offset,a=e.getType();if(n[r+0]!==i.x||n[r+1]!==i.y||n[r+2]!==i.z){const e=this._getBufferForType(a);e[r+0]=n[r+0]=i.x,e[r+1]=n[r+1]=i.y,e[r+2]=n[r+2]=i.z,t=!0}return t}updateVector4(e){let t=!1;const n=this.values,i=e.getValue(),r=e.offset,a=e.getType();if(n[r+0]!==i.x||n[r+1]!==i.y||n[r+2]!==i.z||n[r+4]!==i.w){const e=this._getBufferForType(a);e[r+0]=n[r+0]=i.x,e[r+1]=n[r+1]=i.y,e[r+2]=n[r+2]=i.z,e[r+3]=n[r+3]=i.w,t=!0}return t}updateColor(e){let t=!1;const n=this.values,i=e.getValue(),r=e.offset;if(n[r+0]!==i.r||n[r+1]!==i.g||n[r+2]!==i.b){const e=this.buffer;e[r+0]=n[r+0]=i.r,e[r+1]=n[r+1]=i.g,e[r+2]=n[r+2]=i.b,t=!0}return t}updateMatrix3(e){let t=!1;const n=this.values,i=e.getValue().elements,r=e.offset;if(n[r+0]!==i[0]||n[r+1]!==i[1]||n[r+2]!==i[2]||n[r+4]!==i[3]||n[r+5]!==i[4]||n[r+6]!==i[5]||n[r+8]!==i[6]||n[r+9]!==i[7]||n[r+10]!==i[8]){const e=this.buffer;e[r+0]=n[r+0]=i[0],e[r+1]=n[r+1]=i[1],e[r+2]=n[r+2]=i[2],e[r+4]=n[r+4]=i[3],e[r+5]=n[r+5]=i[4],e[r+6]=n[r+6]=i[5],e[r+8]=n[r+8]=i[6],e[r+9]=n[r+9]=i[7],e[r+10]=n[r+10]=i[8],t=!0}return t}updateMatrix4(e){let t=!1;const n=this.values,i=e.getValue().elements,r=e.offset;if(!1===function(e,t,n){for(let i=0,r=t.length;i<r;i++)if(e[n+i]!==t[i])return!1;return!0}(n,i,r)){this.buffer.set(i,r),function(e,t,n){for(let i=0,r=t.length;i<r;i++)e[n+i]=t[i]}(n,i,r),t=!0}return t}_getBufferForType(e){return"int"===e||"ivec2"===e||"ivec3"===e||"ivec4"===e?new Int32Array(this.buffer.buffer):"uint"===e||"uvec2"===e||"uvec3"===e||"uvec4"===e?new Uint32Array(this.buffer.buffer):this.buffer}}let U5=0;class V5 extends O5{constructor(e,t){super(e),this.id=U5++,this.groupNode=t,this.isNodeUniformsGroup=!0}}let j5=0;class z5 extends I5{constructor(e,t){super(e),this.id=j5++,this.texture=t,this.version=t?t.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(e){const{texture:t}=this;return e!==this.generation?(this.generation=e,!0):t.isVideoTexture}update(){const{texture:e,version:t}=this;return t!==e.version&&(this.version=e.version,!0)}}class q5 extends z5{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(e,t?t.value:null),this.textureNode=t,this.groupNode=n,this.access=i}needsBindingsUpdate(e){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(e)}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class G5 extends q5{constructor(e,t,n){super(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this.isSampledCubeTexture=!0}}class H5 extends q5{constructor(e,t,n){super(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this.isSampledTexture3D=!0}}const W5={textureDimensions:"textureSize",equals:"equal"},Q5={low:"lowp",medium:"mediump",high:"highp"},Y5={swizzleAssign:!0,storageBuffer:!1},X5={perspective:"smooth",linear:"noperspective"},K5={centroid:"centroid","flat first":"flat","flat either":"flat"},Z5="\nprecision highp float;\nprecision highp int;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp sampler2DArray;\n\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\n\nprecision lowp sampler2DShadow;\nprecision lowp sampler2DArrayShadow;\nprecision lowp samplerCubeShadow;\n";class J5 extends L4{constructor(e,t){super(e,t,new t5),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(e){return!0===e.isVideoTexture&&e.colorSpace!==$a}getMethod(e){return W5[e]||e}getOutputStructName(){return""}buildFunctionCode(e){const t=e.layout,n=this.flowShaderNode(e),i=[];for(const r of t.inputs)i.push(this.getType(r.type)+" "+r.name);return"".concat(this.getType(t.type)," ").concat(t.name,"( ").concat(i.join(", ")," ) {\n\n\t").concat(n.vars,"\n\n").concat(n.code,"\n\treturn ").concat(n.result,";\n\n}")}setupPBO(e){const t=e.value;if(void 0===t.pbo){const e=t.array,n=t.count*t.itemSize,{itemSize:i}=t,r=t.array.constructor.name.toLowerCase().includes("int");let a=r?Kr:Xr;2===i?a=r?Jr:Zr:3===i?a=r?$r:Hr:4===i&&(a=r?ea:Wr);const o={Float32Array:Or,Uint8Array:Dr,Uint16Array:kr,Uint32Array:Fr,Int8Array:Ir,Int16Array:Lr,Int32Array:Br,Uint8ClampedArray:Dr},s=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(n/i))));let l=Math.ceil(n/i/s);s*l*i<n&&l++;const c=s*l*i,u=new e.constructor(c);u.set(e,0),t.array=u;const d=new Qu(t.array,s,l,a,o[t.array.constructor.name]||Or);d.needsUpdate=!0,d.isPBOTexture=!0;const h=new LH(d,null,null);h.setPrecision("high"),t.pboNode=h,t.pbo=h.value,this.getUniformFromNode(t.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.shaderStage;return e.isNodeUniform&&!0!==e.node.isTextureNode&&!0!==e.node.isBufferNode?t.charAt(0)+"_"+e.name:super.getPropertyName(e,t)}generatePBO(e){const{node:t,indexNode:n}=e,i=t.value;if(this.renderer.backend.has(i)){this.renderer.backend.get(i).pbo=i.pbo}const r=this.getUniformFromNode(i.pboNode,"texture",this.shaderStage,this.context.label),a=this.getPropertyName(r);this.increaseUsage(n);const o=n.build(this,"uint"),s=this.getDataFromNode(e);let l=s.propertyName;if(void 0===l){const n=this.getVarFromNode(e);l=this.getPropertyName(n);const r=this.getDataFromNode(t);let c=r.propertySizeName;void 0===c&&(c=l+"Size",this.getVarFromNode(t,c,"uint"),this.addLineFlowCode("".concat(c," = uint( textureSize( ").concat(a,", 0 ).x )"),e),r.propertySizeName=c);const{itemSize:u}=i,d="."+PV.join("").slice(0,u),h="ivec2(".concat(o," % ").concat(c,", ").concat(o," / ").concat(c,")"),p=this.generateTextureLoad(null,a,h,null,"0");let m="vec4";i.pbo.type===Fr?m="uvec4":i.pbo.type===Br&&(m="ivec4"),this.addLineFlowCode("".concat(l," = ").concat(m,"(").concat(p,")").concat(d),e),s.propertyName=l}return l}generateTextureLoad(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0";return i?"texelFetch( ".concat(t,", ivec3( ").concat(n,", ").concat(i," ), ").concat(r," )"):"texelFetch( ".concat(t,", ").concat(n,", ").concat(r," )")}generateTexture(e,t,n,i){return e.isDepthTexture?(i&&(n="vec4( ".concat(n,", ").concat(i," )")),"texture( ".concat(t,", ").concat(n," ).x")):(i&&(n="vec3( ".concat(n,", ").concat(i," )")),"texture( ".concat(t,", ").concat(n," )"))}generateTextureLevel(e,t,n,i){return"textureLod( ".concat(t,", ").concat(n,", ").concat(i," )")}generateTextureBias(e,t,n,i){return"texture( ".concat(t,", ").concat(n,", ").concat(i," )")}generateTextureGrad(e,t,n,i){return"textureGrad( ".concat(t,", ").concat(n,", ").concat(i[0],", ").concat(i[1]," )")}generateTextureCompare(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.shaderStage;if("fragment"===a)return r?"texture( ".concat(t,", vec4( ").concat(n,", ").concat(r,", ").concat(i," ) )"):"texture( ".concat(t,", vec3( ").concat(n,", ").concat(i," ) )");console.error("WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ".concat(a," shader."))}getVars(e){const t=[],n=this.vars[e];if(void 0!==n)for(const i of n)t.push("".concat(this.getVar(i.type,i.name,i.count),";"));return t.join("\n\t")}getUniforms(e){const t=this.uniforms[e],n=[],i={};for(const a of t){let t=null,r=!1;if("texture"===a.type||"texture3D"===a.type){const e=a.node.value;let n="";!0!==e.isDataTexture&&!0!==e.isData3DTexture||(e.type===Fr?n="u":e.type===Br&&(n="i")),t="texture3D"===a.type&&!1===e.isArrayTexture?"".concat(n,"sampler3D ").concat(a.name,";"):e.compareFunction?!0===e.isArrayTexture?"sampler2DArrayShadow ".concat(a.name,";"):"sampler2DShadow ".concat(a.name,";"):!0===e.isArrayTexture||!0===e.isDataArrayTexture||!0===e.isCompressedArrayTexture?"".concat(n,"sampler2DArray ").concat(a.name,";"):"".concat(n,"sampler2D ").concat(a.name,";")}else if("cubeTexture"===a.type)t="samplerCube ".concat(a.name,";");else if("buffer"===a.type){const e=a.node,n=this.getType(e.bufferType),i=e.bufferCount,r=i>0?i:"";t="".concat(e.name," {\n\t").concat(n," ").concat(a.name,"[").concat(r,"];\n};\n")}else{const n=this.getVectorType(a.type);t="".concat(n," ").concat(this.getPropertyName(a,e),";"),r=!0}const o=a.node.precision;if(null!==o&&(t=Q5[o]+" "+t),r){t="\t"+t;const e=a.groupNode.name;(i[e]||(i[e]=[])).push(t)}else t="uniform "+t,n.push(t)}let r="";for(const a in i){const t=i[a];r+=this._getGLSLUniformStruct(e+"_"+a,t.join("\n"))+"\n"}return r+=n.join("\n"),r}getTypeFromAttribute(e){let t=super.getTypeFromAttribute(e);if(/^[iu]/.test(t)&&e.gpuType!==Br){let n=e;e.isInterleavedBufferAttribute&&(n=e.data);const i=n.array;!1===(i instanceof Uint32Array||i instanceof Int32Array)&&(t=t.slice(1))}return t}getAttributes(e){let t="";if("vertex"===e||"compute"===e){const e=this.getAttributesArray();let n=0;for(const i of e)t+="layout( location = ".concat(n++," ) in ").concat(i.type," ").concat(i.name,";\n")}return t}getStructMembers(e){const t=[];for(const n of e.members)t.push("\t".concat(n.type," ").concat(n.name,";"));return t.join("\n")}getStructs(e){const t=[],n=this.structs[e],i=[];for(const r of n)if(r.output)for(const e of r.members)i.push("layout( location = ".concat(e.index," ) out ").concat(e.type," ").concat(e.name,";"));else{let e="struct "+r.name+" {\n";e+=this.getStructMembers(r),e+="\n};\n",t.push(e)}return 0===i.length&&i.push("layout( location = 0 ) out vec4 fragColor;"),"\n"+i.join("\n")+"\n\n"+t.join("\n")}getVaryings(e){let t="";const n=this.varyings;if("vertex"===e||"compute"===e)for(const i of n){"compute"===e&&(i.needsInterpolation=!0);const n=this.getType(i.type);if(i.needsInterpolation)if(i.interpolationType){const e=X5[i.interpolationType]||i.interpolationType,r=K5[i.interpolationSampling]||"";t+="".concat(e," ").concat(r," out ").concat(n," ").concat(i.name,";\n")}else{const e=n.includes("int")||n.includes("uv")||n.includes("iv")?"flat ":"";t+="".concat(e,"out ").concat(n," ").concat(i.name,";\n")}else t+="".concat(n," ").concat(i.name,";\n")}else if("fragment"===e)for(const i of n)if(i.needsInterpolation){const e=this.getType(i.type);if(i.interpolationType){const n=X5[i.interpolationType]||i.interpolationType,r=K5[i.interpolationSampling]||"";t+="".concat(n," ").concat(r," in ").concat(e," ").concat(i.name,";\n")}else{const n=e.includes("int")||e.includes("uv")||e.includes("iv")?"flat ":"";t+="".concat(n,"in ").concat(e," ").concat(i.name,";\n")}}for(const i of this.builtins[e])t+="".concat(i,";\n");return t}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){const e=this.object.workgroupSize.reduce((e,t)=>e*t,1);return"uint( gl_InstanceID ) % ".concat(e,"u")}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.shaderStage;const i=this.extensions[n]||(this.extensions[n]=new Map);!1===i.has(e)&&i.set(e,{name:e,behavior:t})}getExtensions(e){const t=[];if("vertex"===e){const t=this.renderer.backend.extensions;this.object.isBatchedMesh&&t.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const n=this.extensions[e];if(void 0!==n)for(const{name:i,behavior:r}of n.values())t.push("#extension ".concat(i," : ").concat(r));return t.join("\n")}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let t=Y5[e];if(void 0===t){let n;switch(t=!1,e){case"float32Filterable":n="OES_texture_float_linear";break;case"clipDistance":n="WEBGL_clip_cull_distance"}if(void 0!==n){const e=this.renderer.backend.extensions;e.has(n)&&(e.get(n),t=!0)}Y5[e]=t}return t}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push("out float gl_ClipDistance[ ".concat(e," ]"))}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(e,t){this.transforms.push({varyingName:e,attributeNode:t})}getTransforms(){const e=this.transforms;let t="";for(let n=0;n<e.length;n++){const i=e[n],r=this.getPropertyName(i.attributeNode);r&&(t+="".concat(i.varyingName," = ").concat(r,";\n\t"))}return t}_getGLSLUniformStruct(e,t){return"\nlayout( std140 ) uniform ".concat(e," {\n").concat(t,"\n};")}_getGLSLVertexCode(e){return"#version 300 es\n\n".concat(this.getSignature(),"\n\n// extensions\n").concat(e.extensions,"\n\n// precision\n").concat(Z5,"\n\n// uniforms\n").concat(e.uniforms,"\n\n// varyings\n").concat(e.varyings,"\n\n// attributes\n").concat(e.attributes,"\n\n// codes\n").concat(e.codes,"\n\nvoid main() {\n\n\t// vars\n\t").concat(e.vars,"\n\n\t// transforms\n\t").concat(e.transforms,"\n\n\t// flow\n\t").concat(e.flow,"\n\n\tgl_PointSize = 1.0;\n\n}\n")}_getGLSLFragmentCode(e){return"#version 300 es\n\n".concat(this.getSignature(),"\n\n// extensions\n").concat(e.extensions,"\n\n// precision\n").concat(Z5,"\n\n// uniforms\n").concat(e.uniforms,"\n\n// varyings\n").concat(e.varyings,"\n\n// codes\n").concat(e.codes,"\n\n// structs\n").concat(e.structs,"\n\nvoid main() {\n\n\t// vars\n\t").concat(e.vars,"\n\n\t// flow\n\t").concat(e.flow,"\n\n}\n")}buildCode(){const e=null!==this.material?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){let n="// code\n\n";n+=this.flowCode[t];const i=this.flowNodes[t],r=i[i.length-1];for(const e of i){const i=this.getFlowData(e),a=e.name;a&&(n.length>0&&(n+="\n"),n+="\t// flow -> ".concat(a,"\n\t")),n+="".concat(i.code,"\n\t"),e===r&&"compute"!==t&&(n+="// result\n\t","vertex"===t?(n+="gl_Position = ",n+="".concat(i.result,";")):"fragment"===t&&(e.outputNode.isOutputStructNode||(n+="fragColor = ",n+="".concat(i.result,";"))))}const a=e[t];a.extensions=this.getExtensions(t),a.uniforms=this.getUniforms(t),a.attributes=this.getAttributes(t),a.varyings=this.getVaryings(t),a.vars=this.getVars(t),a.structs=this.getStructs(t),a.codes=this.getCodes(t),a.transforms=this.getTransforms(t),a.flow=n}null!==this.material?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=super.getUniformFromNode(e,t,n,i),a=this.getDataFromNode(e,n,this.globalCache);let o=a.uniformGPU;if(void 0===o){const i=e.groupNode,s=i.name,l=this.getBindGroupArray(s,n);if("texture"===t)o=new q5(r.name,r.node,i),l.push(o);else if("cubeTexture"===t)o=new G5(r.name,r.node,i),l.push(o);else if("texture3D"===t)o=new H5(r.name,r.node,i),l.push(o);else if("buffer"===t){e.name="NodeBuffer_".concat(e.id),r.name="buffer".concat(e.id);const t=new F5(e,i);t.name=e.name,l.push(t),o=t}else{const e=this.uniformGroups[n]||(this.uniformGroups[n]={});let a=e[s];void 0===a&&(a=new V5(n+"_"+s,i),e[s]=a,l.push(a)),o=this.getNodeUniform(r,t),a.addUniform(o)}a.uniformGPU=o}return r}}let $5=null,e6=null;class t6{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={render:null,compute:null},this.trackTimestamp=!0===e.trackTimestamp}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}destroySampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}isOccluded(){}async resolveTimestampsAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"render";if(!this.trackTimestamp)return void As("WebGPURenderer: Timestamp tracking is disabled.");const t=this.timestampQueryPool[e];if(!t)return void As("WebGPURenderer: No timestamp query pool for type '".concat(e,"' found."));const n=await t.resolveQueriesAsync();return this.renderer.info[e].timestamp=n,n}async waitForGPU(){}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return $5=$5||new is,this.renderer.getDrawingBufferSize($5)}setScissorTest(){}getClearColor(){const e=this.renderer;return e6=e6||new e$,e.getClearColor(e6),e6.getRGB(e6),e6}getDomElement(){let e=this.domElement;return null===e&&(e=void 0!==this.parameters.canvas?this.parameters.canvas:ms(),"setAttribute"in e&&e.setAttribute("data-engine","three.js r".concat(oi," webgpu")),this.domElement=e),e}set(e,t){this.data.set(e,t)}get(e){let t=this.data.get(e);return void 0===t&&(t={},this.data.set(e,t)),t}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}dispose(){}}let n6,i6,r6=0;class a6{constructor(e,t){this.buffers=[e.bufferGPU,t],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return"".concat(this.baseId,"|").concat(this.activeBufferIndex)}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[1^this.activeBufferIndex]}switchBuffers(){this.activeBufferIndex^=1}}class o6{constructor(e){this.backend=e}createAttribute(e,t){const n=this.backend,{gl:i}=n,r=e.array,a=e.usage||i.STATIC_DRAW,o=e.isInterleavedBufferAttribute?e.data:e,s=n.get(o);let l,c=s.bufferGPU;if(void 0===c&&(c=this._createBuffer(i,t,r,a),s.bufferGPU=c,s.bufferType=t,s.version=o.version),r instanceof Float32Array)l=i.FLOAT;else if(r instanceof Uint16Array)l=e.isFloat16BufferAttribute?i.HALF_FLOAT:i.UNSIGNED_SHORT;else if(r instanceof Int16Array)l=i.SHORT;else if(r instanceof Uint32Array)l=i.UNSIGNED_INT;else if(r instanceof Int32Array)l=i.INT;else if(r instanceof Int8Array)l=i.BYTE;else if(r instanceof Uint8Array)l=i.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+r);l=i.UNSIGNED_BYTE}let u={bufferGPU:c,bufferType:t,type:l,byteLength:r.byteLength,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:l===i.INT||l===i.UNSIGNED_INT||e.gpuType===Br,id:r6++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const e=this._createBuffer(i,t,r,a);u=new a6(u,e)}n.set(e,u)}updateAttribute(e){const t=this.backend,{gl:n}=t,i=e.array,r=e.isInterleavedBufferAttribute?e.data:e,a=t.get(r),o=a.bufferType,s=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(n.bindBuffer(o,a.bufferGPU),0===s.length)n.bufferSubData(o,0,i);else{for(let e=0,t=s.length;e<t;e++){const t=s[e];n.bufferSubData(o,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}r.clearUpdateRanges()}n.bindBuffer(o,null),a.version=r.version}destroyAttribute(e){const t=this.backend,{gl:n}=t;e.isInterleavedBufferAttribute&&t.delete(e.data);const i=t.get(e);n.deleteBuffer(i.bufferGPU),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,{gl:n}=t,i=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:r}=t.get(i),a=e.array,o=a.byteLength;n.bindBuffer(n.COPY_READ_BUFFER,r);const s=n.createBuffer();n.bindBuffer(n.COPY_WRITE_BUFFER,s),n.bufferData(n.COPY_WRITE_BUFFER,o,n.STREAM_READ),n.copyBufferSubData(n.COPY_READ_BUFFER,n.COPY_WRITE_BUFFER,0,0,o),await t.utils._clientWaitAsync();const l=new e.array.constructor(a.length);return n.bindBuffer(n.COPY_WRITE_BUFFER,s),n.getBufferSubData(n.COPY_WRITE_BUFFER,0,l),n.deleteBuffer(s),n.bindBuffer(n.COPY_READ_BUFFER,null),n.bindBuffer(n.COPY_WRITE_BUFFER,null),l.buffer}_createBuffer(e,t,n,i){const r=e.createBuffer();return e.bindBuffer(t,r),e.bufferData(t,n,i),e.bindBuffer(t,null),r}}class s6{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const e=this.gl;n6={[Mi]:e.FUNC_ADD,[Ei]:e.FUNC_SUBTRACT,[Ci]:e.FUNC_REVERSE_SUBTRACT},i6={[Ri]:e.ZERO,[Di]:e.ONE,[Ii]:e.SRC_COLOR,[ki]:e.SRC_ALPHA,[ji]:e.SRC_ALPHA_SATURATE,[Ui]:e.DST_COLOR,[Fi]:e.DST_ALPHA,[Li]:e.ONE_MINUS_SRC_COLOR,[Bi]:e.ONE_MINUS_SRC_ALPHA,[Vi]:e.ONE_MINUS_DST_COLOR,[Oi]:e.ONE_MINUS_DST_ALPHA};const t=e.getParameter(e.SCISSOR_BOX),n=e.getParameter(e.VIEWPORT);this.currentScissor=(new Rs).fromArray(t),this.currentViewport=(new Rs).fromArray(n),this._tempVec4=new Rs}enable(e){const{enabled:t}=this;!0!==t[e]&&(this.gl.enable(e),t[e]=!0)}disable(e){const{enabled:t}=this;!1!==t[e]&&(this.gl.disable(e),t[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:t}=this;e?t.frontFace(t.CW):t.frontFace(t.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:t}=this;e!==ci?(this.enable(t.CULL_FACE),e!==this.currentCullFace&&(e===ui?t.cullFace(t.BACK):e===di?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):this.disable(t.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:t,gl:n}=this;e!==t&&(n.lineWidth(e),this.currentLineWidth=e)}setBlending(e,t,n,i,r,a,o,s){const{gl:l}=this;if(e!==bi){if(!1===this.currentBlendingEnabled&&(this.enable(l.BLEND),this.currentBlendingEnabled=!0),e===Si)r=r||t,a=a||n,o=o||i,t===this.currentBlendEquation&&r===this.currentBlendEquationAlpha||(l.blendEquationSeparate(n6[t],n6[r]),this.currentBlendEquation=t,this.currentBlendEquationAlpha=r),n===this.currentBlendSrc&&i===this.currentBlendDst&&a===this.currentBlendSrcAlpha&&o===this.currentBlendDstAlpha||(l.blendFuncSeparate(i6[n],i6[i],i6[a],i6[o]),this.currentBlendSrc=n,this.currentBlendDst=i,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=o),this.currentBlending=e,this.currentPremultipledAlpha=!1;else if(e!==this.currentBlending||s!==this.currentPremultipledAlpha){if(this.currentBlendEquation===Mi&&this.currentBlendEquationAlpha===Mi||(l.blendEquation(l.FUNC_ADD),this.currentBlendEquation=Mi,this.currentBlendEquationAlpha=Mi),s)switch(e){case xi:l.blendFuncSeparate(l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case wi:l.blendFunc(l.ONE,l.ONE);break;case Ti:l.blendFuncSeparate(l.ZERO,l.ONE_MINUS_SRC_COLOR,l.ZERO,l.ONE);break;case _i:l.blendFuncSeparate(l.ZERO,l.SRC_COLOR,l.ZERO,l.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case xi:l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case wi:l.blendFunc(l.SRC_ALPHA,l.ONE);break;case Ti:l.blendFuncSeparate(l.ZERO,l.ONE_MINUS_SRC_COLOR,l.ZERO,l.ONE);break;case _i:l.blendFunc(l.ZERO,l.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=s}}else!0===this.currentBlendingEnabled&&(this.disable(l.BLEND),this.currentBlendingEnabled=!1)}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:t}=this;e?this.enable(t.DEPTH_TEST):this.disable(t.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:t}=this;switch(e){case Wi:t.depthFunc(t.NEVER);break;case Qi:t.depthFunc(t.ALWAYS);break;case Yi:t.depthFunc(t.LESS);break;case Xi:t.depthFunc(t.LEQUAL);break;case Ki:t.depthFunc(t.EQUAL);break;case Zi:t.depthFunc(t.GEQUAL);break;case Ji:t.depthFunc(t.GREATER);break;case $i:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}this.currentDepthFunc=e}}scissor(e,t,n,i){const r=this._tempVec4.set(e,t,n,i);if(!1===this.currentScissor.equals(r)){const{gl:e}=this;e.scissor(r.x,r.y,r.z,r.w),this.currentScissor.copy(r)}}viewport(e,t,n,i){const r=this._tempVec4.set(e,t,n,i);if(!1===this.currentViewport.equals(r)){const{gl:e}=this;e.viewport(r.x,r.y,r.z,r.w),this.currentViewport.copy(r)}}setScissorTest(e){const t=this.gl;e?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST)}setStencilTest(e){const{gl:t}=this;e?this.enable(t.STENCIL_TEST):this.disable(t.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,t,n){this.currentStencilFunc===e&&this.currentStencilRef===t&&this.currentStencilFuncMask===n||(this.gl.stencilFunc(e,t,n),this.currentStencilFunc=e,this.currentStencilRef=t,this.currentStencilFuncMask=n)}setStencilOp(e,t,n){this.currentStencilFail===e&&this.currentStencilZFail===t&&this.currentStencilZPass===n||(this.gl.stencilOp(e,t,n),this.currentStencilFail=e,this.currentStencilZFail=t,this.currentStencilZPass=n)}setMaterial(e,t,n){const{gl:i}=this;e.side===yi?this.disable(i.CULL_FACE):this.enable(i.CULL_FACE);let r=e.side===vi;t&&(r=!r),this.setFlipSided(r),e.blending===xi&&!1===e.transparent?this.setBlending(bi):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const a=e.stencilWrite;if(this.setStencilTest(a),a&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage&&this.backend.renderer.samples>1?this.enable(i.SAMPLE_ALPHA_TO_COVERAGE):this.disable(i.SAMPLE_ALPHA_TO_COVERAGE),n>0&&this.currentClippingPlanes!==n){const e=12288;for(let t=0;t<8;t++)t<n?this.enable(e+t):this.disable(e+t)}}setPolygonOffset(e,t,n){const{gl:i}=this;e?(this.enable(i.POLYGON_OFFSET_FILL),this.currentPolygonOffsetFactor===t&&this.currentPolygonOffsetUnits===n||(i.polygonOffset(t,n),this.currentPolygonOffsetFactor=t,this.currentPolygonOffsetUnits=n)):this.disable(i.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e&&(this.gl.useProgram(e),this.currentProgram=e,!0)}setVertexState(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.gl;return(this.currentVAO!==e||this.currentIndex!==t)&&(n.bindVertexArray(e),null!==t&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t),this.currentVAO=e,this.currentIndex=t,!0)}resetVertexState(){const e=this.gl;e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(e,t){const{gl:n,currentBoundFramebuffers:i}=this;return i[e]!==t&&(n.bindFramebuffer(e,t),i[e]=t,e===n.DRAW_FRAMEBUFFER&&(i[n.FRAMEBUFFER]=t),e===n.FRAMEBUFFER&&(i[n.DRAW_FRAMEBUFFER]=t),!0)}drawBuffers(e,t){const{gl:n}=this;let i=[],r=!1;if(null!==e.textures){i=this.currentDrawbuffers.get(t),void 0===i&&(i=[],this.currentDrawbuffers.set(t,i));const a=e.textures;if(i.length!==a.length||i[0]!==n.COLOR_ATTACHMENT0){for(let e=0,t=a.length;e<t;e++)i[e]=n.COLOR_ATTACHMENT0+e;i.length=a.length,r=!0}}else i[0]!==n.BACK&&(i[0]=n.BACK,r=!0);r&&n.drawBuffers(i)}activeTexture(e){const{gl:t,currentTextureSlot:n,maxTextures:i}=this;void 0===e&&(e=t.TEXTURE0+i-1),n!==e&&(t.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,t,n){const{gl:i,currentTextureSlot:r,currentBoundTextures:a,maxTextures:o}=this;void 0===n&&(n=null===r?i.TEXTURE0+o-1:r);let s=a[n];void 0===s&&(s={type:void 0,texture:void 0},a[n]=s),s.type===e&&s.texture===t||(r!==n&&(i.activeTexture(n),this.currentTextureSlot=n),i.bindTexture(e,t),s.type=e,s.texture=t)}bindBufferBase(e,t,n){const{gl:i}=this,r="".concat(e,"-").concat(t);return this.currentBoundBufferBases[r]!==n&&(i.bindBufferBase(e,t,n),this.currentBoundBufferBases[r]=n,!0)}unbindTexture(){const{gl:e,currentTextureSlot:t,currentBoundTextures:n}=this,i=n[t];void 0!==i&&void 0!==i.type&&(e.bindTexture(i.type,null),i.type=void 0,i.texture=void 0)}}class l6{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$a;const{gl:n,extensions:i}=this;let r;const a=bs.getTransfer(t);if(e===Dr)return n.UNSIGNED_BYTE;if(e===Vr)return n.UNSIGNED_SHORT_4_4_4_4;if(e===jr)return n.UNSIGNED_SHORT_5_5_5_1;if(e===qr)return n.UNSIGNED_INT_5_9_9_9_REV;if(e===Ir)return n.BYTE;if(e===Lr)return n.SHORT;if(e===kr)return n.UNSIGNED_SHORT;if(e===Br)return n.INT;if(e===Fr)return n.UNSIGNED_INT;if(e===Or)return n.FLOAT;if(e===Ur)return n.HALF_FLOAT;if(e===Gr)return n.ALPHA;if(e===Hr)return n.RGB;if(e===Wr)return n.RGBA;if(e===Qr)return n.DEPTH_COMPONENT;if(e===Yr)return n.DEPTH_STENCIL;if(e===Xr)return n.RED;if(e===Kr)return n.RED_INTEGER;if(e===Zr)return n.RG;if(e===Jr)return n.RG_INTEGER;if(e===ea)return n.RGBA_INTEGER;if(e===ta||e===na||e===ia||e===ra)if(a===io){if(r=i.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(e===ta)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===na)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===ia)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===ra)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=i.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(e===ta)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===na)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===ia)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ra)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===aa||e===oa||e===sa||e===la){if(r=i.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(e===aa)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===oa)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===sa)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===la)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ca||e===ua||e===da){if(r=i.get("WEBGL_compressed_texture_etc"),null===r)return null;if(e===ca||e===ua)return a===io?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(e===da)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(e===ha||e===pa||e===ma||e===fa||e===Aa||e===ga||e===va||e===ya||e===ba||e===xa||e===wa||e===Ta||e===_a||e===Sa){if(r=i.get("WEBGL_compressed_texture_astc"),null===r)return null;if(e===ha)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===pa)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===ma)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===fa)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Aa)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===ga)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===va)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===ya)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===ba)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===xa)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===wa)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Ta)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===_a)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===Sa)return a===io?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===Ma){if(r=i.get("EXT_texture_compression_bptc"),null===r)return null;if(e===Ma)return a===io?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(e===Pa||e===Na||e===Ra||e===Da){if(r=i.get("EXT_texture_compression_rgtc"),null===r)return null;if(e===Ma)return r.COMPRESSED_RED_RGTC1_EXT;if(e===Na)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===Ra)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===Da)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return e===zr?n.UNSIGNED_INT_24_8:void 0!==n[e]?n[e]:null}_clientWaitAsync(){const{gl:e}=this,t=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((n,i)=>{!function r(){const a=e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0);if(a===e.WAIT_FAILED)return e.deleteSync(t),void i();a!==e.TIMEOUT_EXPIRED?(e.deleteSync(t),n()):requestAnimationFrame(r)}()})}}let c6,u6,d6,h6=!1;class p6{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},!1===h6&&(this._init(),h6=!0)}_init(){const e=this.gl;c6={[yr]:e.REPEAT,[br]:e.CLAMP_TO_EDGE,[xr]:e.MIRRORED_REPEAT},u6={[wr]:e.NEAREST,[Tr]:e.NEAREST_MIPMAP_NEAREST,[Sr]:e.NEAREST_MIPMAP_LINEAR,[Er]:e.LINEAR,[Cr]:e.LINEAR_MIPMAP_NEAREST,[Nr]:e.LINEAR_MIPMAP_LINEAR},d6={[xo]:e.NEVER,[Co]:e.ALWAYS,[wo]:e.LESS,[_o]:e.LEQUAL,[To]:e.EQUAL,[Eo]:e.GEQUAL,[So]:e.GREATER,[Mo]:e.NOTEQUAL}}getGLTextureType(e){const{gl:t}=this;let n;return n=!0===e.isCubeTexture?t.TEXTURE_CUBE_MAP:!0===e.isArrayTexture||!0===e.isDataArrayTexture||!0===e.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:!0===e.isData3DTexture?t.TEXTURE_3D:t.TEXTURE_2D,n}getInternalFormat(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{gl:a,extensions:o}=this;if(null!==e){if(void 0!==a[e])return a[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let s=t;if(t===a.RED&&(n===a.FLOAT&&(s=a.R32F),n===a.HALF_FLOAT&&(s=a.R16F),n===a.UNSIGNED_BYTE&&(s=a.R8),n===a.UNSIGNED_SHORT&&(s=a.R16),n===a.UNSIGNED_INT&&(s=a.R32UI),n===a.BYTE&&(s=a.R8I),n===a.SHORT&&(s=a.R16I),n===a.INT&&(s=a.R32I)),t===a.RED_INTEGER&&(n===a.UNSIGNED_BYTE&&(s=a.R8UI),n===a.UNSIGNED_SHORT&&(s=a.R16UI),n===a.UNSIGNED_INT&&(s=a.R32UI),n===a.BYTE&&(s=a.R8I),n===a.SHORT&&(s=a.R16I),n===a.INT&&(s=a.R32I)),t===a.RG&&(n===a.FLOAT&&(s=a.RG32F),n===a.HALF_FLOAT&&(s=a.RG16F),n===a.UNSIGNED_BYTE&&(s=a.RG8),n===a.UNSIGNED_SHORT&&(s=a.RG16),n===a.UNSIGNED_INT&&(s=a.RG32UI),n===a.BYTE&&(s=a.RG8I),n===a.SHORT&&(s=a.RG16I),n===a.INT&&(s=a.RG32I)),t===a.RG_INTEGER&&(n===a.UNSIGNED_BYTE&&(s=a.RG8UI),n===a.UNSIGNED_SHORT&&(s=a.RG16UI),n===a.UNSIGNED_INT&&(s=a.RG32UI),n===a.BYTE&&(s=a.RG8I),n===a.SHORT&&(s=a.RG16I),n===a.INT&&(s=a.RG32I)),t===a.RGB){const e=r?no:bs.getTransfer(i);n===a.FLOAT&&(s=a.RGB32F),n===a.HALF_FLOAT&&(s=a.RGB16F),n===a.UNSIGNED_BYTE&&(s=a.RGB8),n===a.UNSIGNED_SHORT&&(s=a.RGB16),n===a.UNSIGNED_INT&&(s=a.RGB32UI),n===a.BYTE&&(s=a.RGB8I),n===a.SHORT&&(s=a.RGB16I),n===a.INT&&(s=a.RGB32I),n===a.UNSIGNED_BYTE&&(s=e===io?a.SRGB8:a.RGB8),n===a.UNSIGNED_SHORT_5_6_5&&(s=a.RGB565),n===a.UNSIGNED_SHORT_5_5_5_1&&(s=a.RGB5_A1),n===a.UNSIGNED_SHORT_4_4_4_4&&(s=a.RGB4),n===a.UNSIGNED_INT_5_9_9_9_REV&&(s=a.RGB9_E5)}if(t===a.RGB_INTEGER&&(n===a.UNSIGNED_BYTE&&(s=a.RGB8UI),n===a.UNSIGNED_SHORT&&(s=a.RGB16UI),n===a.UNSIGNED_INT&&(s=a.RGB32UI),n===a.BYTE&&(s=a.RGB8I),n===a.SHORT&&(s=a.RGB16I),n===a.INT&&(s=a.RGB32I)),t===a.RGBA){const e=r?no:bs.getTransfer(i);n===a.FLOAT&&(s=a.RGBA32F),n===a.HALF_FLOAT&&(s=a.RGBA16F),n===a.UNSIGNED_BYTE&&(s=a.RGBA8),n===a.UNSIGNED_SHORT&&(s=a.RGBA16),n===a.UNSIGNED_INT&&(s=a.RGBA32UI),n===a.BYTE&&(s=a.RGBA8I),n===a.SHORT&&(s=a.RGBA16I),n===a.INT&&(s=a.RGBA32I),n===a.UNSIGNED_BYTE&&(s=e===io?a.SRGB8_ALPHA8:a.RGBA8),n===a.UNSIGNED_SHORT_4_4_4_4&&(s=a.RGBA4),n===a.UNSIGNED_SHORT_5_5_5_1&&(s=a.RGB5_A1)}return t===a.RGBA_INTEGER&&(n===a.UNSIGNED_BYTE&&(s=a.RGBA8UI),n===a.UNSIGNED_SHORT&&(s=a.RGBA16UI),n===a.UNSIGNED_INT&&(s=a.RGBA32UI),n===a.BYTE&&(s=a.RGBA8I),n===a.SHORT&&(s=a.RGBA16I),n===a.INT&&(s=a.RGBA32I)),t===a.DEPTH_COMPONENT&&(n===a.UNSIGNED_SHORT&&(s=a.DEPTH_COMPONENT16),n===a.UNSIGNED_INT&&(s=a.DEPTH_COMPONENT24),n===a.FLOAT&&(s=a.DEPTH_COMPONENT32F)),t===a.DEPTH_STENCIL&&n===a.UNSIGNED_INT_24_8&&(s=a.DEPTH24_STENCIL8),s!==a.R16F&&s!==a.R32F&&s!==a.RG16F&&s!==a.RG32F&&s!==a.RGBA16F&&s!==a.RGBA32F||o.get("EXT_color_buffer_float"),s}setTextureParameters(e,t){const{gl:n,extensions:i,backend:r}=this,a=bs.getPrimaries(bs.workingColorSpace),o=t.colorSpace===$a?null:bs.getPrimaries(t.colorSpace),s=t.colorSpace===$a||a===o?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,t.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,s),n.texParameteri(e,n.TEXTURE_WRAP_S,c6[t.wrapS]),n.texParameteri(e,n.TEXTURE_WRAP_T,c6[t.wrapT]),e!==n.TEXTURE_3D&&e!==n.TEXTURE_2D_ARRAY||t.isArrayTexture||n.texParameteri(e,n.TEXTURE_WRAP_R,c6[t.wrapR]),n.texParameteri(e,n.TEXTURE_MAG_FILTER,u6[t.magFilter]);const l=void 0!==t.mipmaps&&t.mipmaps.length>0,c=t.minFilter===Er&&l?Nr:t.minFilter;if(n.texParameteri(e,n.TEXTURE_MIN_FILTER,u6[c]),t.compareFunction&&(n.texParameteri(e,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(e,n.TEXTURE_COMPARE_FUNC,d6[t.compareFunction])),!0===i.has("EXT_texture_filter_anisotropic")){if(t.magFilter===wr)return;if(t.minFilter!==Sr&&t.minFilter!==Nr)return;if(t.type===Or&&!1===i.has("OES_texture_float_linear"))return;if(t.anisotropy>1){const a=i.get("EXT_texture_filter_anisotropic");n.texParameterf(e,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,r.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:t,backend:n,defaultTextures:i}=this,r=this.getGLTextureType(e);let a=i[r];void 0===a&&(a=t.createTexture(),n.state.bindTexture(r,a),t.texParameteri(r,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(r,t.TEXTURE_MAG_FILTER,t.NEAREST),i[r]=a),n.set(e,{textureGPU:a,glTextureType:r,isDefault:!0})}createTexture(e,t){const{gl:n,backend:i}=this,{levels:r,width:a,height:o,depth:s}=t,l=i.utils.convert(e.format,e.colorSpace),c=i.utils.convert(e.type),u=this.getInternalFormat(e.internalFormat,l,c,e.colorSpace,e.isVideoTexture),d=n.createTexture(),h=this.getGLTextureType(e);i.state.bindTexture(h,d),this.setTextureParameters(h,e),e.isArrayTexture||e.isDataArrayTexture||e.isCompressedArrayTexture?n.texStorage3D(n.TEXTURE_2D_ARRAY,r,u,a,o,s):e.isData3DTexture?n.texStorage3D(n.TEXTURE_3D,r,u,a,o,s):e.isVideoTexture||n.texStorage2D(h,r,u,a,o),i.set(e,{textureGPU:d,glTextureType:h,glFormat:l,glType:c,glInternalFormat:u})}copyBufferToTexture(e,t){const{gl:n,backend:i}=this,{textureGPU:r,glTextureType:a,glFormat:o,glType:s}=i.get(t),{width:l,height:c}=t.source.data;n.bindBuffer(n.PIXEL_UNPACK_BUFFER,e),i.state.bindTexture(a,r),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texSubImage2D(a,0,0,0,l,c,o,s,0),n.bindBuffer(n.PIXEL_UNPACK_BUFFER,null),i.state.unbindTexture()}updateTexture(e,t){const{gl:n}=this,{width:i,height:r}=t,{textureGPU:a,glTextureType:o,glFormat:s,glType:l,glInternalFormat:c}=this.backend.get(e);if(!e.isRenderTargetTexture&&void 0!==a)if(this.backend.state.bindTexture(o,a),this.setTextureParameters(o,e),e.isCompressedTexture){const i=e.mipmaps,r=t.image;for(let t=0;t<i.length;t++){const a=i[t];e.isCompressedArrayTexture?e.format!==n.RGBA?null!==s?n.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,t,0,0,0,a.width,a.height,r.depth,s,a.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texSubImage3D(n.TEXTURE_2D_ARRAY,t,0,0,0,a.width,a.height,r.depth,s,l,a.data):null!==s?n.compressedTexSubImage2D(n.TEXTURE_2D,t,0,0,a.width,a.height,s,a.data):console.warn("Unsupported compressed texture format")}}else if(e.isCubeTexture){const e=t.images;for(let t=0;t<6;t++){const a=m6(e[t]);n.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,i,r,s,l,a)}}else if(e.isDataArrayTexture||e.isArrayTexture){const e=t.image;n.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,e.width,e.height,e.depth,s,l,e.data)}else if(e.isData3DTexture){const e=t.image;n.texSubImage3D(n.TEXTURE_3D,0,0,0,0,e.width,e.height,e.depth,s,l,e.data)}else if(e.isVideoTexture)e.update(),n.texImage2D(o,0,c,s,l,t.image);else{const e=m6(t.image);n.texSubImage2D(o,0,0,0,i,r,s,l,e)}}generateMipmaps(e){const{gl:t,backend:n}=this,{textureGPU:i,glTextureType:r}=n.get(e);n.state.bindTexture(r,i),t.generateMipmap(r)}deallocateRenderBuffers(e){const{gl:t,backend:n}=this;if(e){const i=n.get(e);if(i.renderBufferStorageSetup=void 0,i.framebuffers){for(const e in i.framebuffers)t.deleteFramebuffer(i.framebuffers[e]);delete i.framebuffers}if(i.depthRenderbuffer&&(t.deleteRenderbuffer(i.depthRenderbuffer),delete i.depthRenderbuffer),i.stencilRenderbuffer&&(t.deleteRenderbuffer(i.stencilRenderbuffer),delete i.stencilRenderbuffer),i.msaaFrameBuffer&&(t.deleteFramebuffer(i.msaaFrameBuffer),delete i.msaaFrameBuffer),i.msaaRenderbuffers){for(let e=0;e<i.msaaRenderbuffers.length;e++)t.deleteRenderbuffer(i.msaaRenderbuffers[e]);delete i.msaaRenderbuffers}}}destroyTexture(e){const{gl:t,backend:n}=this,{textureGPU:i,renderTarget:r}=n.get(e);this.deallocateRenderBuffers(r),t.deleteTexture(i),n.delete(e)}copyTextureToTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const{gl:o,backend:s}=this,{state:l}=this.backend,{textureGPU:c,glTextureType:u,glType:d,glFormat:h}=s.get(t);let p,m,f,A,g,v,y,b,x;l.bindTexture(u,c);const w=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)p=n.max.x-n.min.x,m=n.max.y-n.min.y,f=n.isBox3?n.max.z-n.min.z:1,A=n.min.x,g=n.min.y,v=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-r);p=Math.floor(w.width*t),m=Math.floor(w.height*t),f=e.isDataArrayTexture||e.isArrayTexture?w.depth:e.isData3DTexture?Math.floor(w.depth*t):1,A=0,g=0,v=0}null!==i?(y=i.x,b=i.y,x=i.z):(y=0,b=0,x=0),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,t.flipY),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),o.pixelStorei(o.UNPACK_ALIGNMENT,t.unpackAlignment);const T=o.getParameter(o.UNPACK_ROW_LENGTH),_=o.getParameter(o.UNPACK_IMAGE_HEIGHT),S=o.getParameter(o.UNPACK_SKIP_PIXELS),M=o.getParameter(o.UNPACK_SKIP_ROWS),E=o.getParameter(o.UNPACK_SKIP_IMAGES);o.pixelStorei(o.UNPACK_ROW_LENGTH,w.width),o.pixelStorei(o.UNPACK_IMAGE_HEIGHT,w.height),o.pixelStorei(o.UNPACK_SKIP_PIXELS,A),o.pixelStorei(o.UNPACK_SKIP_ROWS,g),o.pixelStorei(o.UNPACK_SKIP_IMAGES,v);const C=t.isDataArrayTexture||t.isData3DTexture||t.isArrayTexture;if(e.isRenderTargetTexture||e.isDepthTexture){const n=s.get(e),i=s.get(t),r=s.get(n.renderTarget),a=s.get(i.renderTarget),c=r.framebuffers[n.cacheKey],u=a.framebuffers[i.cacheKey];l.bindFramebuffer(o.READ_FRAMEBUFFER,c),l.bindFramebuffer(o.DRAW_FRAMEBUFFER,u);let d=o.COLOR_BUFFER_BIT;e.isDepthTexture&&(d=o.DEPTH_BUFFER_BIT),o.blitFramebuffer(A,g,p,m,y,b,p,m,d,o.NEAREST),l.bindFramebuffer(o.READ_FRAMEBUFFER,null),l.bindFramebuffer(o.DRAW_FRAMEBUFFER,null)}else C?e.isDataTexture||e.isData3DTexture?o.texSubImage3D(u,a,y,b,x,p,m,f,h,d,w.data):t.isCompressedArrayTexture?o.compressedTexSubImage3D(u,a,y,b,x,p,m,f,h,w.data):o.texSubImage3D(u,a,y,b,x,p,m,f,h,d,w):e.isDataTexture?o.texSubImage2D(u,a,y,b,p,m,h,d,w.data):e.isCompressedTexture?o.compressedTexSubImage2D(u,a,y,b,w.width,w.height,h,w.data):o.texSubImage2D(u,a,y,b,p,m,h,d,w);o.pixelStorei(o.UNPACK_ROW_LENGTH,T),o.pixelStorei(o.UNPACK_IMAGE_HEIGHT,_),o.pixelStorei(o.UNPACK_SKIP_PIXELS,S),o.pixelStorei(o.UNPACK_SKIP_ROWS,M),o.pixelStorei(o.UNPACK_SKIP_IMAGES,E),0===a&&t.generateMipmaps&&o.generateMipmap(u),l.unbindTexture()}copyFramebufferToTexture(e,t,n){const{gl:i}=this,{state:r}=this.backend,{textureGPU:a}=this.backend.get(e),{x:o,y:s,z:l,w:c}=n,u=!0===e.isDepthTexture||t.renderTarget&&t.renderTarget.samples>0,d=t.renderTarget?t.renderTarget.height:this.backend.getDrawingBufferSize().y;if(u){const n=0!==o||0!==s;let u,h;if(!0===e.isDepthTexture?(u=i.DEPTH_BUFFER_BIT,h=i.DEPTH_ATTACHMENT,t.stencil&&(u|=i.STENCIL_BUFFER_BIT)):(u=i.COLOR_BUFFER_BIT,h=i.COLOR_ATTACHMENT0),n){const e=this.backend.get(t.renderTarget),n=e.framebuffers[t.getCacheKey()],h=e.msaaFrameBuffer;r.bindFramebuffer(i.DRAW_FRAMEBUFFER,n),r.bindFramebuffer(i.READ_FRAMEBUFFER,h);const p=d-s-c;i.blitFramebuffer(o,p,o+l,p+c,o,p,o+l,p+c,u,i.NEAREST),r.bindFramebuffer(i.READ_FRAMEBUFFER,n),r.bindTexture(i.TEXTURE_2D,a),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,o,p,l,c),r.unbindTexture()}else{const e=i.createFramebuffer();r.bindFramebuffer(i.DRAW_FRAMEBUFFER,e),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,h,i.TEXTURE_2D,a,0),i.blitFramebuffer(0,0,l,c,0,0,l,c,u,i.NEAREST),i.deleteFramebuffer(e)}}else r.bindTexture(i.TEXTURE_2D,a),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,o,d-c-s,l,c),r.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(t)}setupRenderBufferStorage(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{gl:r}=this,a=t.renderTarget,{depthTexture:o,depthBuffer:s,stencilBuffer:l,width:c,height:u}=a;if(r.bindRenderbuffer(r.RENDERBUFFER,e),s&&!l){let t=r.DEPTH_COMPONENT24;if(!0===i){this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(r.RENDERBUFFER,a.samples,t,c,u)}else n>0?(o&&o.isDepthTexture&&o.type===r.FLOAT&&(t=r.DEPTH_COMPONENT32F),r.renderbufferStorageMultisample(r.RENDERBUFFER,n,t,c,u)):r.renderbufferStorage(r.RENDERBUFFER,t,c,u);r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,e)}else s&&l&&(n>0?r.renderbufferStorageMultisample(r.RENDERBUFFER,n,r.DEPTH24_STENCIL8,c,u):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,c,u),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,e))}async copyTextureToBuffer(e,t,n,i,r,a){const{backend:o,gl:s}=this,{textureGPU:l,glFormat:c,glType:u}=this.backend.get(e),d=s.createFramebuffer();s.bindFramebuffer(s.READ_FRAMEBUFFER,d);const h=e.isCubeTexture?s.TEXTURE_CUBE_MAP_POSITIVE_X+a:s.TEXTURE_2D;s.framebufferTexture2D(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,h,l,0);const p=this._getTypedArrayType(u),m=i*r*this._getBytesPerTexel(u,c),f=s.createBuffer();s.bindBuffer(s.PIXEL_PACK_BUFFER,f),s.bufferData(s.PIXEL_PACK_BUFFER,m,s.STREAM_READ),s.readPixels(t,n,i,r,c,u,0),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),await o.utils._clientWaitAsync();const A=new p(m/p.BYTES_PER_ELEMENT);return s.bindBuffer(s.PIXEL_PACK_BUFFER,f),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,A),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),s.deleteFramebuffer(d),A}_getTypedArrayType(e){const{gl:t}=this;if(e===t.UNSIGNED_BYTE)return Uint8Array;if(e===t.UNSIGNED_SHORT_4_4_4_4)return Uint16Array;if(e===t.UNSIGNED_SHORT_5_5_5_1)return Uint16Array;if(e===t.UNSIGNED_SHORT_5_6_5)return Uint16Array;if(e===t.UNSIGNED_SHORT)return Uint16Array;if(e===t.UNSIGNED_INT)return Uint32Array;if(e===t.HALF_FLOAT)return Uint16Array;if(e===t.FLOAT)return Float32Array;throw new Error("Unsupported WebGL type: ".concat(e))}_getBytesPerTexel(e,t){const{gl:n}=this;let i=0;return e===n.UNSIGNED_BYTE&&(i=1),e!==n.UNSIGNED_SHORT_4_4_4_4&&e!==n.UNSIGNED_SHORT_5_5_5_1&&e!==n.UNSIGNED_SHORT_5_6_5&&e!==n.UNSIGNED_SHORT&&e!==n.HALF_FLOAT||(i=2),e!==n.UNSIGNED_INT&&e!==n.FLOAT||(i=4),t===n.RGBA?4*i:t===n.RGB?3*i:t===n.ALPHA?i:void 0}}function m6(e){return e.isDataTexture?e.image.data:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?e:e.data}class f6{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let t=this.extensions[e];return void 0===t&&(t=this.gl.getExtension(e),this.extensions[e]=t),t}has(e){return this.availableExtensions.includes(e)}}class A6{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(null!==this.maxAnisotropy)return this.maxAnisotropy;const e=this.backend.gl,t=this.backend.extensions;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const g6={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class v6{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,t){const{gl:n,mode:i,object:r,type:a,info:o,index:s}=this;0!==s?n.drawElements(i,t,a,e):n.drawArrays(i,e,t),o.update(r,t,1)}renderInstances(e,t,n){const{gl:i,mode:r,type:a,index:o,object:s,info:l}=this;0!==n&&(0!==o?i.drawElementsInstanced(r,t,a,e,n):i.drawArraysInstanced(r,e,t,n),l.update(s,t,n))}renderMultiDraw(e,t,n){const{extensions:i,mode:r,object:a,info:o}=this;if(0===n)return;const s=i.get("WEBGL_multi_draw");if(null===s)for(let l=0;l<n;l++)this.render(e[l],t[l]);else{0!==this.index?s.multiDrawElementsWEBGL(r,t,0,this.type,e,0,n):s.multiDrawArraysWEBGL(r,e,0,t,0,n);let i=0;for(let e=0;e<n;e++)i+=t[e];o.update(a,i,1)}}renderMultiDrawInstances(e,t,n,i){const{extensions:r,mode:a,object:o,info:s}=this;if(0===n)return;const l=r.get("WEBGL_multi_draw");if(null===l)for(let c=0;c<n;c++)this.renderInstances(e[c],t[c],i[c]);else{0!==this.index?l.multiDrawElementsInstancedWEBGL(a,t,0,this.type,e,0,i,0,n):l.multiDrawArraysInstancedWEBGL(a,e,0,t,0,i,0,n);let r=0;for(let e=0;e<n;e++)r+=t[e]*i[e];s.update(o,r,1)}}}class y6{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;this.trackTimestamp=!0,this.maxQueries=e,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.pendingResolve=!1}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class b6 extends y6{constructor(e,t){if(super(arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048),this.gl=e,this.type=t,this.ext=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query"),!this.ext)return console.warn("EXT_disjoint_timer_query not supported; timestamps will be disabled."),void(this.trackTimestamp=!1);this.queries=[];for(let n=0;n<this.maxQueries;n++)this.queries.push(e.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(e){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return As("WebGPUTimestampQueryPool [".concat(this.type,"]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.").concat(this.type.toUpperCase()," ).")),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(t,"inactive"),this.queryOffsets.set(e.id,t),t}beginQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(null==t)return;if(null!==this.activeQuery)return;const n=this.queries[t];if(n)try{"inactive"===this.queryStates.get(t)&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,n),this.activeQuery=t,this.queryStates.set(t,"started"))}catch(i){console.error("Error in beginQuery:",i),this.activeQuery=null,this.queryStates.set(t,"inactive")}}endQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(null!=t&&this.activeQuery===t)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(t,"ended"),this.activeQuery=null}catch(n){console.error("Error in endQuery:",n),this.queryStates.set(t,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const e=[];for(const[n,i]of this.queryStates)if("ended"===i){const t=this.queries[n];e.push(this.resolveQuery(t))}if(0===e.length)return this.lastValue;const t=(await Promise.all(e)).reduce((e,t)=>e+t,0);return this.lastValue=t,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,t}catch(e){return console.error("Error resolving queries:",e),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(e){return new Promise(t=>{if(this.isDisposed)return void t(this.lastValue);let n,i=!1;const r=e=>{i||(i=!0,n&&(clearTimeout(n),n=null),t(e))},a=()=>{if(this.isDisposed)r(this.lastValue);else try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT))return void r(this.lastValue);if(!this.gl.getQueryParameter(e,this.gl.QUERY_RESULT_AVAILABLE))return void(n=setTimeout(a,1));const i=this.gl.getQueryParameter(e,this.gl.QUERY_RESULT);t(Number(i)/1e6)}catch(i){console.error("Error checking query:",i),t(this.lastValue)}};a()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,this.trackTimestamp)){for(const e of this.queries)this.gl.deleteQuery(e);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}const x6=new is;class w6 extends t6{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(e){super.init(e);const t=this.parameters,n={antialias:e.samples>0,alpha:!0,depth:e.depth,stencil:e.stencil},i=void 0!==t.context?t.context:e.domElement.getContext("webgl2",n);function r(t){t.preventDefault();const n={api:"WebGL",message:t.statusMessage||"Unknown reason",reason:null,originalEvent:t};e.onDeviceLost(n)}this._onContextLost=r,e.domElement.addEventListener("webglcontextlost",r,!1),this.gl=i,this.extensions=new f6(this),this.capabilities=new A6(this),this.attributeUtils=new o6(this),this.textureUtils=new p6(this),this.bufferRenderer=new v6(this),this.state=new s6(this),this.utils=new l6(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return Vo}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async waitForGPU(){await this.utils._clientWaitAsync()}async makeXRCompatible(){!0!==this.gl.getContextAttributes().xrCompatible&&await this.gl.makeXRCompatible()}setXRTarget(e){this._xrFramebuffer=e}setXRRenderTargetTextures(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=this.gl;if(this.set(e.texture,{textureGPU:t,glInternalFormat:i.RGBA8}),null!==n){const t=e.stencilBuffer?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24;this.set(e.depthTexture,{textureGPU:n,glInternalFormat:t}),!0===this.extensions.has("WEBGL_multisampled_render_to_texture")&&!0===e.autoAllocateDepthBuffer&&!1===e.multiview&&console.warn("THREE.WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),e.autoAllocateDepthBuffer=!1}}initTimestampQuery(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t]||(this.timestampQueryPool[t]=new b6(this.gl,t,2048));const n=this.timestampQueryPool[t];null!==n.allocateQueriesForContext(e)&&n.beginQuery(e)}prepareTimestampBuffer(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t].endQuery(e)}getContext(){return this.gl}beginRender(e){const{state:t}=this,n=this.get(e);if(e.viewport)this.updateViewport(e);else{const{width:e,height:n}=this.getDrawingBufferSize(x6);t.viewport(0,0,e,n)}if(e.scissor){const{x:n,y:i,width:r,height:a}=e.scissorValue;t.scissor(n,e.height-a-i,r,a)}this.initTimestampQuery(e),n.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1);const i=e.occlusionQueryCount;i>0&&(n.currentOcclusionQueries=n.occlusionQueries,n.currentOcclusionQueryObjects=n.occlusionQueryObjects,n.lastOcclusionObject=null,n.occlusionQueries=new Array(i),n.occlusionQueryObjects=new Array(i),n.occlusionQueryIndex=0)}finishRender(e){const{gl:t,state:n}=this,i=this.get(e),r=i.previousContext;n.resetVertexState();const a=e.occlusionQueryCount;a>0&&(a>i.occlusionQueryIndex&&t.endQuery(t.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const o=e.textures;if(null!==o)for(let s=0;s<o.length;s++){const e=o[s];e.generateMipmaps&&this.generateMipmaps(e)}if(this._currentContext=r,null!==e.textures&&e.renderTarget){const i=this.get(e.renderTarget),{resolveDepthBuffer:r,samples:a}=e.renderTarget;if(a>0&&!1===this._useMultisampledExtension(e.renderTarget)){const r=i.framebuffers[e.getCacheKey()],a=t.COLOR_BUFFER_BIT,o=i.msaaFrameBuffer,s=e.textures;n.bindFramebuffer(t.READ_FRAMEBUFFER,o),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,r);for(let n=0;n<s.length;n++)if(e.scissor){const{x:n,y:r,width:o,height:s}=e.scissorValue,l=e.height-s-r;t.blitFramebuffer(n,l,n+o,l+s,n,l,n+o,l+s,a,t.NEAREST),!0===this._supportsInvalidateFramebuffer&&t.invalidateSubFramebuffer(t.READ_FRAMEBUFFER,i.invalidationArray,n,l,o,s)}else t.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,a,t.NEAREST),!0===this._supportsInvalidateFramebuffer&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,i.invalidationArray)}else if(!1===r&&i.framebuffers){const r=i.framebuffers[e.getCacheKey()];n.bindFramebuffer(t.DRAW_FRAMEBUFFER,r),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,i.depthInvalidationArray)}}if(null!==r)if(this._setFramebuffer(r),r.viewport)this.updateViewport(r);else{const{width:e,height:t}=this.getDrawingBufferSize(x6);n.viewport(0,0,e,t)}this.prepareTimestampBuffer(e)}resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueries:n,currentOcclusionQueryObjects:i}=t;if(n&&i){const e=new WeakSet,{gl:r}=this;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueries=null;const a=()=>{let o=0;for(let t=0;t<n.length;t++){const a=n[t];null!==a&&(r.getQueryParameter(a,r.QUERY_RESULT_AVAILABLE)&&(0===r.getQueryParameter(a,r.QUERY_RESULT)&&e.add(i[t]),n[t]=null,r.deleteQuery(a),o++))}o<n.length?requestAnimationFrame(a):t.occluded=e};a()}}isOccluded(e,t){const n=this.get(e);return n.occluded&&n.occluded.has(t)}updateViewport(e){const{state:t}=this,{x:n,y:i,width:r,height:a}=e.viewportValue;t.viewport(n,e.height-a-i,r,a)}setScissorTest(e){this.state.setScissorTest(e)}getClearColor(){const e=super.getClearColor();return e.r*=e.a,e.g*=e.a,e.b*=e.a,e}clear(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const{gl:a,renderer:o}=this;if(null===i){i={textures:null,clearColorValue:this.getClearColor()}}let s=0;if(e&&(s|=a.COLOR_BUFFER_BIT),t&&(s|=a.DEPTH_BUFFER_BIT),n&&(s|=a.STENCIL_BUFFER_BIT),0!==s){let l;l=i.clearColorValue?i.clearColorValue:this.getClearColor();const c=o.getClearDepth(),u=o.getClearStencil();if(t&&this.state.setDepthMask(!0),null===i.textures)a.clearColor(l.r,l.g,l.b,l.a),a.clear(s);else{if(r&&this._setFramebuffer(i),e)for(let e=0;e<i.textures.length;e++)0===e?a.clearBufferfv(a.COLOR,e,[l.r,l.g,l.b,l.a]):a.clearBufferfv(a.COLOR,e,[0,0,0,1]);t&&n?a.clearBufferfi(a.DEPTH_STENCIL,0,c,u):t?a.clearBufferfv(a.DEPTH,0,[c]):n&&a.clearBufferiv(a.STENCIL,0,[u])}}}beginCompute(e){const{state:t,gl:n}=this;t.bindFramebuffer(n.FRAMEBUFFER,null),this.initTimestampQuery(e)}compute(e,t,n,i){const{state:r,gl:a}=this;!1===this.discard&&(a.enable(a.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:o,transformBuffers:s,attributes:l}=this.get(i),c=this._getVaoKey(l),u=this.vaoCache[c];void 0===u?this._createVao(l):r.setVertexState(u),r.useProgram(o),this._bindUniforms(n);const d=this._getTransformFeedback(s);a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,d),a.beginTransformFeedback(a.POINTS),l[0].isStorageInstancedBufferAttribute?a.drawArraysInstanced(a.POINTS,0,1,t.count):a.drawArrays(a.POINTS,0,t.count),a.endTransformFeedback(),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null);for(let h=0;h<s.length;h++){const e=s[h];e.pbo&&this.textureUtils.copyBufferToTexture(e.transformBuffer,e.pbo),e.switchBuffers()}}finishCompute(e){const t=this.gl;this.discard=!1,t.disable(t.RASTERIZER_DISCARD),this.prepareTimestampBuffer(e),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.isArrayTexture&&e.camera.isArrayCamera}draw(e){const{object:t,pipeline:n,material:i,context:r,hardwareClippingPlanes:a}=e,{programGPU:o}=this.get(n),{gl:s,state:l}=this,c=this.get(r),u=e.getDrawParameters();if(null===u)return;this._bindUniforms(e.getBindings());const d=t.isMesh&&t.matrixWorld.determinant()<0;l.setMaterial(i,d,a),l.useProgram(o);const h=this.get(e);let p=h.staticVao;if(void 0===p||h.geometryId!==e.geometry.id){const t=this._getVaoKey(e.getAttributes());if(p=this.vaoCache[t],void 0===p){let t;({vaoGPU:p,staticVao:t}=this._createVao(e.getAttributes())),t&&(h.staticVao=p,h.geometryId=e.geometry.id)}}const m=e.getIndex(),f=null!==m?this.get(m).bufferGPU:null;l.setVertexState(p,f);const A=c.lastOcclusionObject;if(A!==t&&void 0!==A){if(null!==A&&!0===A.occlusionTest&&(s.endQuery(s.ANY_SAMPLES_PASSED),c.occlusionQueryIndex++),!0===t.occlusionTest){const e=s.createQuery();s.beginQuery(s.ANY_SAMPLES_PASSED,e),c.occlusionQueries[c.occlusionQueryIndex]=e,c.occlusionQueryObjects[c.occlusionQueryIndex]=t}c.lastOcclusionObject=t}const g=this.bufferRenderer;t.isPoints?g.mode=s.POINTS:t.isLineSegments?g.mode=s.LINES:t.isLine?g.mode=s.LINE_STRIP:t.isLineLoop?g.mode=s.LINE_LOOP:!0===i.wireframe?(l.setLineWidth(i.wireframeLinewidth*this.renderer.getPixelRatio()),g.mode=s.LINES):g.mode=s.TRIANGLES;const{vertexCount:v,instanceCount:y}=u;let{firstVertex:b}=u;if(g.object=t,null!==m){b*=m.array.BYTES_PER_ELEMENT;const e=this.get(m);g.index=m.count,g.type=e.type}else g.index=0;const x=()=>{t.isBatchedMesh?null!==t._multiDrawInstances?(As("THREE.WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),g.renderMultiDrawInstances(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount,t._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?g.renderMultiDraw(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount):As("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):y>1?g.renderInstances(b,v,y):g.render(b,v)};if(!0===e.camera.isArrayCamera&&e.camera.cameras.length>0&&!1===e.camera.isMultiViewCamera){const n=this.get(e.camera),i=e.camera.cameras,r=e.getBindingGroup("cameraIndex").bindings[0];if(void 0===n.indexesGPU||n.indexesGPU.length!==i.length){const e=new Uint32Array([0,0,0,0]),t=[];for(let n=0,r=i.length;n<r;n++){const i=s.createBuffer();e[0]=n,s.bindBuffer(s.UNIFORM_BUFFER,i),s.bufferData(s.UNIFORM_BUFFER,e,s.STATIC_DRAW),t.push(i)}n.indexesGPU=t}const a=this.get(r),o=this.renderer.getPixelRatio(),c=this._currentContext.renderTarget,u=this._isRenderCameraDepthArray(this._currentContext),d=this._currentContext.activeCubeFace;if(u){const e=this.get(c.depthTexture);if(e.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){e.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:t}=c;for(let e=0,n=i.length;e<n;e++)this.renderer._activeCubeFace=e,this._currentContext.activeCubeFace=e,this._setFramebuffer(this._currentContext),this.clear(!1,!0,t,this._currentContext,!1);this.renderer._activeCubeFace=d,this._currentContext.activeCubeFace=d}}for(let h=0,p=i.length;h<p;h++){const r=i[h];if(t.layers.test(r.layers)){u&&(this.renderer._activeCubeFace=h,this._currentContext.activeCubeFace=h,this._setFramebuffer(this._currentContext));const t=r.viewport;if(void 0!==t){const n=t.x*o,i=t.y*o,r=t.width*o,a=t.height*o;l.viewport(Math.floor(n),Math.floor(e.context.height-a-i),Math.floor(r),Math.floor(a))}l.bindBufferBase(s.UNIFORM_BUFFER,a.index,n.indexesGPU[h]),x()}this._currentContext.activeCubeFace=d,this.renderer._activeCubeFace=d}}else x()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,n,i,r,a){return this.textureUtils.copyTextureToBuffer(e,t,n,i,r,a)}createSampler(){}destroySampler(){}createNodeBuilder(e,t){return new J5(e,t)}createProgram(e){const t=this.gl,{stage:n,code:i}=e,r="fragment"===n?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);t.shaderSource(r,i),t.compileShader(r),this.set(e,{shaderGPU:r})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){const n=this.gl,i=e.pipeline,{fragmentProgram:r,vertexProgram:a}=i,o=n.createProgram(),s=this.get(r).shaderGPU,l=this.get(a).shaderGPU;if(n.attachShader(o,s),n.attachShader(o,l),n.linkProgram(o),this.set(i,{programGPU:o,fragmentShader:s,vertexShader:l}),null!==t&&this.parallel){const r=new Promise(t=>{const r=this.parallel,a=()=>{n.getProgramParameter(o,r.COMPLETION_STATUS_KHR)?(this._completeCompile(e,i),t()):requestAnimationFrame(a)};a()});return void t.push(r)}this._completeCompile(e,i)}_handleSource(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=r;o<a;o++){const e=o+1;i.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return i.join("\n")}_getShaderErrors(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const i=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+this._handleSource(e.getShaderSource(t),i)}return r}_logProgramError(e,t,n){if(this.renderer.debug.checkShaderErrors){const i=this.gl,r=i.getProgramInfoLog(e).trim();if(!1===i.getProgramParameter(e,i.LINK_STATUS))if("function"===typeof this.renderer.debug.onShaderError)this.renderer.debug.onShaderError(i,e,n,t);else{const a=this._getShaderErrors(i,n,"vertex"),o=this._getShaderErrors(i,t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(e,i.VALIDATE_STATUS)+"\n\nProgram Info Log: "+r+"\n"+a+"\n"+o)}else""!==r&&console.warn("THREE.WebGLProgram: Program Info Log:",r)}}_completeCompile(e,t){const{state:n,gl:i}=this,r=this.get(t),{programGPU:a,fragmentShader:o,vertexShader:s}=r;!1===i.getProgramParameter(a,i.LINK_STATUS)&&this._logProgramError(a,o,s),n.useProgram(a);const l=e.getBindings();this._setupBindings(l,a),this.set(t,{programGPU:a})}createComputePipeline(e,t){const{state:n,gl:i}=this,r={stage:"fragment",code:"#version 300 es\nprecision highp float;\nvoid main() {}"};this.createProgram(r);const{computeProgram:a}=e,o=i.createProgram(),s=this.get(r).shaderGPU,l=this.get(a).shaderGPU,c=a.transforms,u=[],d=[];for(let f=0;f<c.length;f++){const e=c[f];u.push(e.varyingName),d.push(e.attributeNode)}i.attachShader(o,s),i.attachShader(o,l),i.transformFeedbackVaryings(o,u,i.SEPARATE_ATTRIBS),i.linkProgram(o),!1===i.getProgramParameter(o,i.LINK_STATUS)&&this._logProgramError(o,s,l),n.useProgram(o),this._setupBindings(t,o);const h=a.attributes,p=[],m=[];for(let f=0;f<h.length;f++){const e=h[f].node.attribute;p.push(e),this.has(e)||this.attributeUtils.createAttribute(e,i.ARRAY_BUFFER)}for(let f=0;f<d.length;f++){const e=d[f].attribute;this.has(e)||this.attributeUtils.createAttribute(e,i.ARRAY_BUFFER);const t=this.get(e);m.push(t)}this.set(e,{programGPU:o,transformBuffers:m,attributes:p})}createBindings(e,t){if(!1===this._knownBindings.has(t)){this._knownBindings.add(t);let e=0,n=0;for(const i of t){this.set(i,{textures:n,uniformBuffers:e});for(const t of i.bindings)t.isUniformBuffer&&e++,t.isSampledTexture&&n++}}this.updateBindings(e,t)}updateBindings(e){const{gl:t}=this,n=this.get(e);let i=n.uniformBuffers,r=n.textures;for(const a of e.bindings)if(a.isUniformsGroup||a.isUniformBuffer){const e=a.buffer,n=t.createBuffer();t.bindBuffer(t.UNIFORM_BUFFER,n),t.bufferData(t.UNIFORM_BUFFER,e,t.DYNAMIC_DRAW),this.set(a,{index:i++,bufferGPU:n})}else if(a.isSampledTexture){const{textureGPU:e,glTextureType:t}=this.get(a.texture);this.set(a,{index:r++,textureGPU:e,glTextureType:t})}}updateBinding(e){const t=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const n=this.get(e).bufferGPU,i=e.buffer;t.bindBuffer(t.UNIFORM_BUFFER,n),t.bufferData(t.UNIFORM_BUFFER,i,t.DYNAMIC_DRAW)}}createIndexAttribute(e){const t=this.gl;this.attributeUtils.createAttribute(e,t.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const t=Object.keys(g6).filter(t=>g6[t]===e),n=this.extensions;for(let i=0;i<t.length;i++)if(n.has(t[i]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.textureUtils.copyTextureToTexture(e,t,n,i,r,a)}copyFramebufferToTexture(e,t,n){this.textureUtils.copyFramebufferToTexture(e,t,n)}_setFramebuffer(e){const{gl:t,state:n}=this;let i=null;if(null!==e.textures){const r=e.renderTarget,a=this.get(r),{samples:o,depthBuffer:s,stencilBuffer:l}=r,c=!0===r.isWebGLCubeRenderTarget,u=!0===r.isRenderTarget3D,d=r.depth>1,h=!0===r.isXRRenderTarget,p=!0===h&&!0===r.hasExternalTextures;let m=a.msaaFrameBuffer,f=a.depthRenderbuffer;const A=this.extensions.get("WEBGL_multisampled_render_to_texture"),g=this.extensions.get("OVR_multiview2"),v=this._useMultisampledExtension(r),y=QJ(e);let b;if(c?(a.cubeFramebuffers||(a.cubeFramebuffers={}),b=a.cubeFramebuffers[y]):h&&!1===p?b=this._xrFramebuffer:(a.framebuffers||(a.framebuffers={}),b=a.framebuffers[y]),void 0===b){b=t.createFramebuffer(),n.bindFramebuffer(t.FRAMEBUFFER,b);const i=e.textures,s=[];if(c){a.cubeFramebuffers[y]=b;const{textureGPU:e}=this.get(i[0]),n=this.renderer._activeCubeFace;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,e,0)}else{a.framebuffers[y]=b;for(let n=0;n<i.length;n++){const a=i[n],s=this.get(a);s.renderTarget=e.renderTarget,s.cacheKey=y;const l=t.COLOR_ATTACHMENT0+n;if(r.multiview)g.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,l,s.textureGPU,0,o,0,2);else if(u||d){const e=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,l,s.textureGPU,0,e)}else v?A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,l,t.TEXTURE_2D,s.textureGPU,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,l,t.TEXTURE_2D,s.textureGPU,0)}n.drawBuffers(e,b)}const h=l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(!0===r.autoAllocateDepthBuffer){const n=t.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(n,e,0,v),a.xrDepthRenderbuffer=n,s.push(l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT),t.bindRenderbuffer(t.RENDERBUFFER,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,h,t.RENDERBUFFER,n)}else if(null!==e.depthTexture){s.push(l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT);const n=this.get(e.depthTexture);if(n.renderTarget=e.renderTarget,n.cacheKey=y,r.multiview)g.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,h,n.textureGPU,0,o,0,2);else if(p&&v)A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,h,t.TEXTURE_2D,n.textureGPU,0,o);else if(e.depthTexture.isArrayTexture){const e=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,h,n.textureGPU,0,e)}else t.framebufferTexture2D(t.FRAMEBUFFER,h,t.TEXTURE_2D,n.textureGPU,0)}a.depthInvalidationArray=s}else{if(this._isRenderCameraDepthArray(e)){n.bindFramebuffer(t.FRAMEBUFFER,b);const i=this.renderer._activeCubeFace,r=this.get(e.depthTexture),a=l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.framebufferTextureLayer(t.FRAMEBUFFER,a,r.textureGPU,0,i)}if(h||v||r.multiview){n.bindFramebuffer(t.FRAMEBUFFER,b);const i=this.get(e.textures[0]);r.multiview?g.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,i.textureGPU,0,o,0,2):v?A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.textureGPU,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.textureGPU,0);const s=l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(!0===r.autoAllocateDepthBuffer){const e=a.xrDepthRenderbuffer;t.bindRenderbuffer(t.RENDERBUFFER,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,s,t.RENDERBUFFER,e)}else{const n=this.get(e.depthTexture);r.multiview?g.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,s,n.textureGPU,0,o,0,2):v?A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,s,t.TEXTURE_2D,n.textureGPU,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,s,t.TEXTURE_2D,n.textureGPU,0)}}}if(o>0&&!1===v&&!r.multiview){if(void 0===m){const i=[];m=t.createFramebuffer(),n.bindFramebuffer(t.FRAMEBUFFER,m);const r=[],c=e.textures;for(let n=0;n<c.length;n++){if(r[n]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r[n]),i.push(t.COLOR_ATTACHMENT0+n),s){const e=l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;i.push(e)}const a=e.textures[n],c=this.get(a);t.renderbufferStorageMultisample(t.RENDERBUFFER,o,c.glInternalFormat,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.RENDERBUFFER,r[n])}if(a.msaaFrameBuffer=m,a.msaaRenderbuffers=r,void 0===f){f=t.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(f,e,o),a.depthRenderbuffer=f;const n=l?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;i.push(n)}a.invalidationArray=i}i=a.msaaFrameBuffer}else i=b}n.bindFramebuffer(t.FRAMEBUFFER,i)}_getVaoKey(e){let t="";for(let n=0;n<e.length;n++){t+=":"+this.get(e[n]).id}return t}_createVao(e){const{gl:t}=this,n=t.createVertexArray();let i="",r=!0;t.bindVertexArray(n);for(let a=0;a<e.length;a++){const n=e[a],o=this.get(n);let s,l;i+=":"+o.id,t.bindBuffer(t.ARRAY_BUFFER,o.bufferGPU),t.enableVertexAttribArray(a),(n.isStorageBufferAttribute||n.isStorageInstancedBufferAttribute)&&(r=!1),!0===n.isInterleavedBufferAttribute?(s=n.data.stride*o.bytesPerElement,l=n.offset*o.bytesPerElement):(s=0,l=0),o.isInteger?t.vertexAttribIPointer(a,n.itemSize,o.type,s,l):t.vertexAttribPointer(a,n.itemSize,o.type,n.normalized,s,l),n.isInstancedBufferAttribute&&!n.isInterleavedBufferAttribute?t.vertexAttribDivisor(a,n.meshPerAttribute):n.isInterleavedBufferAttribute&&n.data.isInstancedInterleavedBuffer&&t.vertexAttribDivisor(a,n.data.meshPerAttribute)}return t.bindBuffer(t.ARRAY_BUFFER,null),this.vaoCache[i]=n,{vaoGPU:n,staticVao:r}}_getTransformFeedback(e){let t="";for(let r=0;r<e.length;r++)t+=":"+e[r].id;let n=this.transformFeedbackCache[t];if(void 0!==n)return n;const{gl:i}=this;n=i.createTransformFeedback(),i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,n);for(let r=0;r<e.length;r++){const t=e[r];i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,r,t.transformBuffer)}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[t]=n,n}_setupBindings(e,t){const n=this.gl;for(const i of e)for(const e of i.bindings){const i=this.get(e).index;if(e.isUniformsGroup||e.isUniformBuffer){const r=n.getUniformBlockIndex(t,e.name);n.uniformBlockBinding(t,r,i)}else if(e.isSampledTexture){const r=n.getUniformLocation(t,e.name);n.uniform1i(r,i)}}}_bindUniforms(e){const{gl:t,state:n}=this;for(const i of e)for(const e of i.bindings){const i=this.get(e),r=i.index;e.isUniformsGroup||e.isUniformBuffer?n.bindBufferBase(t.UNIFORM_BUFFER,r,i.bufferGPU):e.isSampledTexture&&n.bindTexture(i.glTextureType,i.textureGPU,t.TEXTURE0+r)}}_useMultisampledExtension(e){return!0===e.multiview||e.samples>0&&!0===this.extensions.has("WEBGL_multisampled_render_to_texture")&&!1!==e.autoAllocateDepthBuffer}dispose(){const e=this.extensions.get("WEBGL_lose_context");e&&e.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const T6="point-list",_6="line-list",S6="line-strip",M6="triangle-list",E6="triangle-strip",C6="never",P6="less",N6="equal",R6="less-equal",D6="greater",I6="not-equal",L6="greater-equal",k6="always",B6="store",F6="load",O6="clear",U6="ccw",V6="none",j6="front",z6="back",q6="uint16",G6="uint32",H6="r8unorm",W6="r8snorm",Q6="r8uint",Y6="r8sint",X6="r16uint",K6="r16sint",Z6="r16float",J6="rg8unorm",$6="rg8snorm",e8="rg8uint",t8="rg8sint",n8="r32uint",i8="r32sint",r8="r32float",a8="rg16uint",o8="rg16sint",s8="rg16float",l8="rgba8unorm",c8="rgba8unorm-srgb",u8="rgba8snorm",d8="rgba8uint",h8="rgba8sint",p8="bgra8unorm",m8="bgra8unorm-srgb",f8="rgb9e5ufloat",A8="rgb10a2unorm",g8="rgb10a2unorm",v8="rg32uint",y8="rg32sint",b8="rg32float",x8="rgba16uint",w8="rgba16sint",T8="rgba16float",_8="rgba32uint",S8="rgba32sint",M8="rgba32float",E8="depth16unorm",C8="depth24plus",P8="depth24plus-stencil8",N8="depth32float",R8="depth32float-stencil8",D8="bc1-rgba-unorm",I8="bc1-rgba-unorm-srgb",L8="bc2-rgba-unorm",k8="bc2-rgba-unorm-srgb",B8="bc3-rgba-unorm",F8="bc3-rgba-unorm-srgb",O8="bc4-r-unorm",U8="bc4-r-snorm",V8="bc5-rg-unorm",j8="bc5-rg-snorm",z8="bc6h-rgb-ufloat",q8="bc6h-rgb-float",G8="bc7-rgba-unorm",H8="bc7-rgba-srgb",W8="etc2-rgb8unorm",Q8="etc2-rgb8unorm-srgb",Y8="etc2-rgb8a1unorm",X8="etc2-rgb8a1unorm-srgb",K8="etc2-rgba8unorm",Z8="etc2-rgba8unorm-srgb",J8="eac-r11unorm",$8="eac-r11snorm",e7="eac-rg11unorm",t7="eac-rg11snorm",n7="astc-4x4-unorm",i7="astc-4x4-unorm-srgb",r7="astc-5x4-unorm",a7="astc-5x4-unorm-srgb",o7="astc-5x5-unorm",s7="astc-5x5-unorm-srgb",l7="astc-6x5-unorm",c7="astc-6x5-unorm-srgb",u7="astc-6x6-unorm",d7="astc-6x6-unorm-srgb",h7="astc-8x5-unorm",p7="astc-8x5-unorm-srgb",m7="astc-8x6-unorm",f7="astc-8x6-unorm-srgb",A7="astc-8x8-unorm",g7="astc-8x8-unorm-srgb",v7="astc-10x5-unorm",y7="astc-10x5-unorm-srgb",b7="astc-10x6-unorm",x7="astc-10x6-unorm-srgb",w7="astc-10x8-unorm",T7="astc-10x8-unorm-srgb",_7="astc-10x10-unorm",S7="astc-10x10-unorm-srgb",M7="astc-12x10-unorm",E7="astc-12x10-unorm-srgb",C7="astc-12x12-unorm",P7="astc-12x12-unorm-srgb",N7="clamp-to-edge",R7="repeat",D7="mirror-repeat",I7="linear",L7="nearest",k7="zero",B7="one",F7="src",O7="one-minus-src",U7="src-alpha",V7="one-minus-src-alpha",j7="dst",z7="one-minus-dst",q7="dst-alpha",G7="one-minus-dst-alpha",H7="src-alpha-saturated",W7="constant",Q7="one-minus-constant",Y7="add",X7="subtract",K7="reverse-subtract",Z7="min",J7="max",$7=0,e9=15,t9="keep",n9="zero",i9="replace",r9="invert",a9="increment-clamp",o9="decrement-clamp",s9="increment-wrap",l9="decrement-wrap",c9="storage",u9="read-only-storage",d9="write-only",h9="read-only",p9="read-write",m9="non-filtering",f9="comparison",A9="float",g9="unfilterable-float",v9="depth",y9="sint",b9="uint",x9="2d",w9="3d",T9="2d",_9="2d-array",S9="cube",M9="3d",E9="all",C9="vertex",P9="instance",N9={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups"};class R9 extends I5{constructor(e,t){super(e),this.texture=t,this.version=t?t.version:0,this.isSampler=!0}}class D9 extends R9{constructor(e,t,n){super(e,t?t.value:null),this.textureNode=t,this.groupNode=n}update(){this.texture=this.textureNode.value}}class I9 extends L5{constructor(e,t){super(e,t?t.array:null),this.attribute=t,this.isStorageBuffer=!0}}let L9=0;class k9 extends I9{constructor(e,t){super("StorageBuffer_"+L9++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:SV.READ_WRITE,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class B9 extends xJ{constructor(e){super(),this.device=e;this.mipmapSampler=e.createSampler({minFilter:I7}),this.flipYSampler=e.createSampler({minFilter:L7}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:"\nstruct VarysStruct {\n\t@builtin( position ) Position: vec4<f32>,\n\t@location( 0 ) vTex : vec2<f32>\n};\n\n@vertex\nfn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {\n\n\tvar Varys : VarysStruct;\n\n\tvar pos = array< vec2<f32>, 4 >(\n\t\tvec2<f32>( -1.0,  1.0 ),\n\t\tvec2<f32>(  1.0,  1.0 ),\n\t\tvec2<f32>( -1.0, -1.0 ),\n\t\tvec2<f32>(  1.0, -1.0 )\n\t);\n\n\tvar tex = array< vec2<f32>, 4 >(\n\t\tvec2<f32>( 0.0, 0.0 ),\n\t\tvec2<f32>( 1.0, 0.0 ),\n\t\tvec2<f32>( 0.0, 1.0 ),\n\t\tvec2<f32>( 1.0, 1.0 )\n\t);\n\n\tVarys.vTex = tex[ vertexIndex ];\n\tVarys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );\n\n\treturn Varys;\n\n}\n"}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:"\n@group( 0 ) @binding( 0 )\nvar imgSampler : sampler;\n\n@group( 0 ) @binding( 1 )\nvar img : texture_2d<f32>;\n\n@fragment\nfn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {\n\n\treturn textureSample( img, imgSampler, vTex );\n\n}\n"}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:"\n@group( 0 ) @binding( 0 )\nvar imgSampler : sampler;\n\n@group( 0 ) @binding( 1 )\nvar img : texture_2d<f32>;\n\n@fragment\nfn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {\n\n\treturn textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );\n\n}\n"})}getTransferPipeline(e){let t=this.transferPipelines[e];return void 0===t&&(t=this.device.createRenderPipeline({label:"mipmap-".concat(e),vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:E6,stripIndexFormat:G6},layout:"auto"}),this.transferPipelines[e]=t),t}getFlipYPipeline(e){let t=this.flipYPipelines[e];return void 0===t&&(t=this.device.createRenderPipeline({label:"flipY-".concat(e),vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:E6,stripIndexFormat:G6},layout:"auto"}),this.flipYPipelines[e]=t),t}flipY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t.format,{width:r,height:a}=t.size,o=this.getTransferPipeline(i),s=this.getFlipYPipeline(i),l=this.device.createTexture({size:{width:r,height:a,depthOrArrayLayers:1},format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),c=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:T9,baseArrayLayer:n}),u=l.createView({baseMipLevel:0,mipLevelCount:1,dimension:T9,baseArrayLayer:0}),d=this.device.createCommandEncoder({}),h=(e,t,n)=>{const i=e.getBindGroupLayout(0),r=this.device.createBindGroup({layout:i,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:t}]}),a=d.beginRenderPass({colorAttachments:[{view:n,loadOp:O6,storeOp:B6,clearValue:[0,0,0,0]}]});a.setPipeline(e),a.setBindGroup(0,r),a.draw(4,1,0,0),a.end()};h(o,c,u),h(s,u,c),this.device.queue.submit([d.finish()]),l.destroy()}generateMipmaps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.get(e);void 0===i.useCount&&(i.useCount=0,i.layers=[]);const r=i.layers[n]||this._mipmapCreateBundles(e,t,n),a=this.device.createCommandEncoder({});this._mipmapRunBundles(a,r),this.device.queue.submit([a.finish()]),0!==i.useCount&&(i.layers[n]=r),i.useCount++}_mipmapCreateBundles(e,t,n){const i=this.getTransferPipeline(t.format),r=i.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:T9,baseArrayLayer:n});const o=[];for(let s=1;s<t.mipLevelCount;s++){const l=this.device.createBindGroup({layout:r,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),c=e.createView({baseMipLevel:s,mipLevelCount:1,dimension:T9,baseArrayLayer:n}),u={colorAttachments:[{view:c,loadOp:O6,storeOp:B6,clearValue:[0,0,0,0]}]},d=this.device.createRenderBundleEncoder({colorFormats:[t.format]});d.setPipeline(i),d.setBindGroup(0,l),d.draw(4,1,0,0),o.push({renderBundles:[d.finish()],passDescriptor:u}),a=c}return o}_mipmapRunBundles(e,t){const n=t.length;for(let i=0;i<n;i++){const n=t[i],r=e.beginRenderPass(n.passDescriptor);r.executeBundles(n.renderBundles),r.end()}}}const F9={[xo]:"never",[wo]:"less",[To]:"equal",[_o]:"less-equal",[So]:"greater",[Eo]:"greater-equal",[Co]:"always",[Mo]:"not-equal"},O9=[0,1,3,2,4,5];class U9{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new ch,this.depthTexture.name="depthBuffer"}createSampler(e){const t=this.backend,n=t.device,i=t.get(e),r={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};r.magFilter===I7&&r.minFilter===I7&&r.mipmapFilter===I7&&(r.maxAnisotropy=e.anisotropy),e.isDepthTexture&&null!==e.compareFunction&&(r.compare=F9[e.compareFunction]),i.sampler=n.createSampler(r)}createDefaultTexture(e){let t;const n=V9(e);e.isCubeTexture?t=this._getDefaultCubeTextureGPU(n):e.isVideoTexture?this.backend.get(e).externalTexture=this._getDefaultVideoFrame():t=this._getDefaultTextureGPU(n),this.backend.get(e).texture=t}createTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.backend,i=n.get(e);if(i.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");void 0===t.needsMipmaps&&(t.needsMipmaps=!1),void 0===t.levels&&(t.levels=1),void 0===t.depth&&(t.depth=1);const{width:r,height:a,depth:o,levels:s}=t;e.isFramebufferTexture&&(t.renderTarget?t.format=this.backend.utils.getCurrentColorFormat(t.renderTarget):t.format=this.backend.utils.getPreferredCanvasFormat());const l=this._getDimension(e),c=e.internalFormat||t.format||V9(e,n.device);i.format=c;const{samples:u,primarySamples:d,isMSAA:h}=n.utils.getTextureSampleData(e);let p=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;!0===e.isStorageTexture&&(p|=GPUTextureUsage.STORAGE_BINDING),!0!==e.isCompressedTexture&&!0!==e.isCompressedArrayTexture&&(p|=GPUTextureUsage.RENDER_ATTACHMENT);const m={label:e.name,size:{width:r,height:a,depthOrArrayLayers:o},mipLevelCount:s,sampleCount:d,dimension:l,format:c,usage:p};if(e.isVideoTexture){const t=e.source.data,n=new VideoFrame(t);m.size.width=n.displayWidth,m.size.height=n.displayHeight,n.close(),i.externalTexture=t}else{if(void 0===c)return console.warn("WebGPURenderer: Texture format not supported."),void this.createDefaultTexture(e);e.isCubeTexture&&(m.textureBindingViewDimension=S9),i.texture=n.device.createTexture(m)}if(h){const e=Object.assign({},m);e.label=e.label+"-msaa",e.sampleCount=u,i.msaaTexture=n.device.createTexture(e)}i.initialized=!0,i.textureDescriptorGPU=m}destroyTexture(e){const t=this.backend,n=t.get(e);void 0!==n.texture&&n.texture.destroy(),void 0!==n.msaaTexture&&n.msaaTexture.destroy(),t.delete(e)}destroySampler(e){delete this.backend.get(e).sampler}generateMipmaps(e){const t=this.backend.get(e);if(e.isCubeTexture)for(let n=0;n<6;n++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,n);else{const n=e.image.depth||1;for(let e=0;e<n;e++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,e)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:t,height:n}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:t,height:n,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.samples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.backend,{width:i,height:r}=n.getDrawingBufferSize(),a=this.depthTexture,o=n.get(a).texture;let s,l;if(t?(s=Yr,l=zr):e&&(s=Qr,l=Fr),void 0!==o){if(a.image.width===i&&a.image.height===r&&a.format===s&&a.type===l)return o;this.destroyTexture(a)}return a.name="depthBuffer",a.format=s,a.type=l,a.image.width=i,a.image.height=r,this.createTexture(a,{width:i,height:r}),n.get(a).texture}updateTexture(e,t){const n=this.backend.get(e),{textureDescriptorGPU:i}=n;if(!e.isRenderTargetTexture&&void 0!==i){if(e.isDataTexture)this._copyBufferToTexture(t.image,n.texture,i,0,e.flipY);else if(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)for(let r=0;r<t.image.depth;r++)this._copyBufferToTexture(t.image,n.texture,i,r,e.flipY,r);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,n.texture,i);else if(e.isCubeTexture)this._copyCubeMapToTexture(t.images,n.texture,i,e.flipY,e.premultiplyAlpha);else if(e.isVideoTexture){const t=e.source.data;n.externalTexture=t}else this._copyImageToTexture(t.image,n.texture,i,0,e.flipY,e.premultiplyAlpha);n.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,t,n,i,r,a){const o=this.backend.device,s=this.backend.get(e),l=s.texture,c=s.textureDescriptorGPU.format,u=this._getBytesPerTexel(c);let d=i*u;d=256*Math.ceil(d/256);const h=o.createBuffer({size:i*r*u,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),p=o.createCommandEncoder();p.copyTextureToBuffer({texture:l,origin:{x:t,y:n,z:a}},{buffer:h,bytesPerRow:d},{width:i,height:r});const m=this._getTypedArrayType(c);o.queue.submit([p.finish()]),await h.mapAsync(GPUMapMode.READ);return new m(h.getMappedRange())}_getDefaultTextureGPU(e){let t=this.defaultTexture[e];if(void 0===t){const n=new Ns;n.minFilter=wr,n.magFilter=wr,this.createTexture(n,{width:1,height:1,format:e}),this.defaultTexture[e]=t=n}return this.backend.get(t).texture}_getDefaultCubeTextureGPU(e){let t=this.defaultTexture[e];if(void 0===t){const n=new ou;n.minFilter=wr,n.magFilter=wr,this.createTexture(n,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=t=n}return this.backend.get(t).texture}_getDefaultVideoFrame(){let e=this.defaultVideoFrame;if(null===e){const t={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=e=new VideoFrame(new Uint8Array([0,0,0,255]),t)}return e}_copyCubeMapToTexture(e,t,n,i,r){for(let a=0;a<6;a++){const o=e[a],s=!0===i?O9[a]:a;o.isDataTexture?this._copyBufferToTexture(o.image,t,n,s,i):this._copyImageToTexture(o,t,n,s,i,r)}}_copyImageToTexture(e,t,n,i,r,a){this.backend.device.queue.copyExternalImageToTexture({source:e,flipY:r},{texture:t,mipLevel:0,origin:{x:0,y:0,z:i},premultipliedAlpha:a},{width:e.width,height:e.height,depthOrArrayLayers:1})}_getPassUtils(){let e=this._passUtils;return null===e&&(this._passUtils=e=new B9(this.backend.device)),e}_generateMipmaps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._getPassUtils().generateMipmaps(e,t,n)}_flipY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._getPassUtils().flipY(e,t,n)}_copyBufferToTexture(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=this.backend.device,s=e.data,l=this._getBytesPerTexel(n.format),c=e.width*l;o.queue.writeTexture({texture:t,mipLevel:0,origin:{x:0,y:0,z:i}},s,{offset:e.width*e.height*l*a,bytesPerRow:c},{width:e.width,height:e.height,depthOrArrayLayers:1}),!0===r&&this._flipY(t,n,i)}_copyCompressedBufferToTexture(e,t,n){const i=this.backend.device,r=this._getBlockData(n.format),a=n.size.depthOrArrayLayers>1;for(let o=0;o<e.length;o++){const s=e[o],l=s.width,c=s.height,u=a?n.size.depthOrArrayLayers:1,d=Math.ceil(l/r.width)*r.byteLength,h=d*Math.ceil(c/r.height);for(let e=0;e<u;e++)i.queue.writeTexture({texture:t,mipLevel:o,origin:{x:0,y:0,z:e}},s.data,{offset:e*h,bytesPerRow:d,rowsPerImage:Math.ceil(c/r.height)},{width:Math.ceil(l/r.width)*r.width,height:Math.ceil(c/r.height)*r.height,depthOrArrayLayers:1})}}_getBlockData(e){return e===D8||e===I8?{byteLength:8,width:4,height:4}:e===L8||e===k8||e===B8||e===F8?{byteLength:16,width:4,height:4}:e===O8||e===U8?{byteLength:8,width:4,height:4}:e===V8||e===j8||e===z8||e===q8||e===G8||e===H8?{byteLength:16,width:4,height:4}:e===W8||e===Q8||e===Y8||e===X8?{byteLength:8,width:4,height:4}:e===K8||e===Z8?{byteLength:16,width:4,height:4}:e===J8||e===$8?{byteLength:8,width:4,height:4}:e===e7||e===t7||e===n7||e===i7?{byteLength:16,width:4,height:4}:e===r7||e===a7?{byteLength:16,width:5,height:4}:e===o7||e===s7?{byteLength:16,width:5,height:5}:e===l7||e===c7?{byteLength:16,width:6,height:5}:e===u7||e===d7?{byteLength:16,width:6,height:6}:e===h7||e===p7?{byteLength:16,width:8,height:5}:e===m7||e===f7?{byteLength:16,width:8,height:6}:e===A7||e===g7?{byteLength:16,width:8,height:8}:e===v7||e===y7?{byteLength:16,width:10,height:5}:e===b7||e===x7?{byteLength:16,width:10,height:6}:e===w7||e===T7?{byteLength:16,width:10,height:8}:e===_7||e===S7?{byteLength:16,width:10,height:10}:e===M7||e===E7?{byteLength:16,width:12,height:10}:e===C7||e===P7?{byteLength:16,width:12,height:12}:void 0}_convertAddressMode(e){let t=N7;return e===yr?t=R7:e===xr&&(t=D7),t}_convertFilterMode(e){let t=I7;return e!==wr&&e!==Tr&&e!==Sr||(t=L7),t}_getBytesPerTexel(e){return e===H6||e===W6||e===Q6||e===Y6?1:e===X6||e===K6||e===Z6||e===J6||e===$6||e===e8||e===t8?2:e===n8||e===i8||e===r8||e===a8||e===o8||e===s8||e===l8||e===c8||e===u8||e===d8||e===h8||e===p8||e===m8||e===f8||e===A8||e===g8||e===N8||e===C8||e===P8||e===R8?4:e===v8||e===y8||e===b8||e===x8||e===w8||e===T8?8:e===_8||e===S8||e===M8?16:void 0}_getTypedArrayType(e){return e===Q6?Uint8Array:e===Y6?Int8Array:e===H6?Uint8Array:e===W6?Int8Array:e===e8?Uint8Array:e===t8?Int8Array:e===J6?Uint8Array:e===$6?Int8Array:e===d8?Uint8Array:e===h8?Int8Array:e===l8?Uint8Array:e===u8?Int8Array:e===X6?Uint16Array:e===K6?Int16Array:e===a8?Uint16Array:e===o8?Int16Array:e===x8?Uint16Array:e===w8?Int16Array:e===Z6||e===s8||e===T8?Uint16Array:e===n8?Uint32Array:e===i8?Int32Array:e===r8?Float32Array:e===v8?Uint32Array:e===y8?Int32Array:e===b8?Float32Array:e===_8?Uint32Array:e===S8?Int32Array:e===M8?Float32Array:e===p8||e===m8?Uint8Array:e===A8||e===f8||e===g8?Uint32Array:e===N8?Float32Array:e===C8||e===P8?Uint32Array:e===R8?Float32Array:void 0}_getDimension(e){let t;return t=e.isData3DTexture?w9:x9,t}}function V9(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.format,i=e.type,r=e.colorSpace,a=bs.getTransfer(r);let o;if(!0===e.isCompressedTexture||!0===e.isCompressedArrayTexture)switch(n){case na:o=a===io?I8:D8;break;case ia:o=a===io?k8:L8;break;case ra:o=a===io?F8:B8;break;case ua:o=a===io?Q8:W8;break;case da:o=a===io?Z8:K8;break;case ha:o=a===io?i7:n7;break;case pa:o=a===io?a7:r7;break;case ma:o=a===io?s7:o7;break;case fa:o=a===io?c7:l7;break;case Aa:o=a===io?d7:u7;break;case ga:o=a===io?p7:h7;break;case va:o=a===io?f7:m7;break;case ya:o=a===io?g7:A7;break;case ba:o=a===io?y7:v7;break;case xa:o=a===io?x7:b7;break;case wa:o=a===io?T7:w7;break;case Ta:o=a===io?S7:_7;break;case _a:o=a===io?E7:M7;break;case Sa:o=a===io?P7:C7;break;case Wr:o=a===io?c8:l8;break;default:console.error("WebGPURenderer: Unsupported texture format.",n)}else switch(n){case Wr:switch(i){case Ir:o=u8;break;case Lr:o=w8;break;case kr:o=x8;break;case Fr:o=_8;break;case Br:o=S8;break;case Dr:o=a===io?c8:l8;break;case Ur:o=T8;break;case Or:o=M8;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",i)}break;case Hr:if(i===qr)o=f8;else console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",i);break;case Xr:switch(i){case Ir:o=W6;break;case Lr:o=K6;break;case kr:o=X6;break;case Fr:o=n8;break;case Br:o=i8;break;case Dr:o=H6;break;case Ur:o=Z6;break;case Or:o=r8;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",i)}break;case Zr:switch(i){case Ir:o=$6;break;case Lr:o=o8;break;case kr:o=a8;break;case Fr:o=v8;break;case Br:o=y8;break;case Dr:o=J6;break;case Ur:o=s8;break;case Or:o=b8;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",i)}break;case Qr:switch(i){case kr:o=E8;break;case Fr:o=C8;break;case Or:o=N8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",i)}break;case Yr:switch(i){case zr:o=P8;break;case Or:t&&!1===t.features.has(N9.Depth32FloatStencil8)&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),o=R8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",i)}break;case Kr:switch(i){case Br:o=i8;break;case Fr:o=n8;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",i)}break;case Jr:switch(i){case Br:o=y8;break;case Fr:o=v8;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",i)}break;case ea:switch(i){case Br:o=S8;break;case Fr:o=_8;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",i)}break;default:console.error("WebGPURenderer: Unsupported texture format.",n)}return o}const j9=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,z9=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/gi,q9={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"};class G9 extends K4{constructor(e){const{type:t,inputs:n,name:i,inputsCode:r,blockCode:a,outputType:o}=(e=>{const t=(e=e.trim()).match(j9);if(null!==t&&4===t.length){const n=t[2],i=[];let r=null;for(;null!==(r=z9.exec(n));)i.push({name:r[1],type:r[2]});const a=[];for(let e=0;e<i.length;e++){const{name:t,type:n}=i[e];let r=n;r.startsWith("ptr")?r="pointer":(r.startsWith("texture")&&(r=n.split("<")[0]),r=q9[r]),a.push(new B4(r,t))}const o=e.substring(t[0].length),s=t[3]||"void",l=void 0!==t[1]?t[1]:"";return{type:q9[s]||s,inputs:a,name:l,inputsCode:n,blockCode:o,outputType:s}}throw new Error("FunctionNode: Function is not a WGSL code.")})(e);super(t,n,i),this.inputsCode=r,this.blockCode=a,this.outputType=o}getCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name;const t="void"!==this.outputType?"-> "+this.outputType:"";return"fn ".concat(e," ( ").concat(this.inputsCode.trim()," ) ").concat(t)+this.blockCode}}class H9 extends X4{parseFunction(e){return new G9(e)}}const W9="undefined"!==typeof self?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},Q9={[SV.READ_ONLY]:"read",[SV.WRITE_ONLY]:"write",[SV.READ_WRITE]:"read_write"},Y9={[yr]:"repeat",[br]:"clamp",[xr]:"mirror"},X9={vertex:W9?W9.VERTEX:1,fragment:W9?W9.FRAGMENT:2,compute:W9?W9.COMPUTE:4},K9={instance:!0,swizzleAssign:!1,storageBuffer:!0},Z9={"^^":"tsl_xor"},J9={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},$9={},eee={tsl_xor:new $0("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new $0("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new $0("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new $0("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new $0("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new $0("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new $0("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new $0("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new $0("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new $0("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new $0("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new $0("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new $0("\nfn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {\n\n\tlet res = vec2f( iRes );\n\n\tlet uvScaled = coord * res;\n\tlet uvWrapping = ( ( uvScaled % res ) + res ) % res;\n\n\t// https://www.shadertoy.com/view/WtyXRy\n\n\tlet uv = uvWrapping - 0.5;\n\tlet iuv = floor( uv );\n\tlet f = fract( uv );\n\n\tlet rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );\n\tlet rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );\n\tlet rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );\n\tlet rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );\n\n\treturn mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );\n\n}\n")},tee={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};"undefined"!==typeof navigator&&/Windows/g.test(navigator.userAgent)&&(eee.pow_float=new $0("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),eee.pow_vec2=new $0("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[eee.pow_float]),eee.pow_vec3=new $0("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[eee.pow_float]),eee.pow_vec4=new $0("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[eee.pow_float]),tee.pow_float="tsl_pow_float",tee.pow_vec2="tsl_pow_vec2",tee.pow_vec3="tsl_pow_vec3",tee.pow_vec4="tsl_pow_vec4");let nee="";!0!==("undefined"!==typeof navigator&&/Firefox|Deno/g.test(navigator.userAgent))&&(nee+="diagnostic( off, derivative_uniformity );\n");class iee extends L4{constructor(e,t){super(e,t,new H9),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(e){return!0===e.isVideoTexture&&e.colorSpace!==$a}_generateTextureSample(e,t,n,i){return"fragment"===(arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.shaderStage)?i?"textureSample( ".concat(t,", ").concat(t,"_sampler, ").concat(n,", ").concat(i," )"):"textureSample( ".concat(t,", ").concat(t,"_sampler, ").concat(n," )"):this._generateTextureSampleLevel(e,t,n,"0",i)}_generateVideoSample(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.shaderStage;if("fragment"===n)return"textureSampleBaseClampToEdge( ".concat(e,", ").concat(e,"_sampler, vec2<f32>( ").concat(t,".x, 1.0 - ").concat(t,".y ) )");console.error("WebGPURenderer: THREE.VideoTexture does not support ".concat(n," shader."))}_generateTextureSampleLevel(e,t,n,i,r){return!1===this.isUnfilterable(e)?"textureSampleLevel( ".concat(t,", ").concat(t,"_sampler, ").concat(n,", ").concat(i," )"):this.isFilteredTexture(e)?this.generateFilteredTexture(e,t,n,i):this.generateTextureLod(e,t,n,r,i)}generateWrapFunction(e){const t="tsl_coord_".concat(Y9[e.wrapS],"S_").concat(Y9[e.wrapT],"_").concat(e.isData3DTexture?"3d":"2d","T");let n=$9[t];if(void 0===n){const i=[],r=e.isData3DTexture?"vec3f":"vec2f";let a="fn ".concat(t,"( coord : ").concat(r," ) -> ").concat(r," {\n\n\treturn ").concat(r,"(\n");const o=(e,t)=>{e===yr?(i.push(eee.repeatWrapping_float),a+="\t\ttsl_repeatWrapping_float( coord.".concat(t," )")):e===br?(i.push(eee.clampWrapping_float),a+="\t\ttsl_clampWrapping_float( coord.".concat(t," )")):e===xr?(i.push(eee.mirrorWrapping_float),a+="\t\ttsl_mirrorWrapping_float( coord.".concat(t," )")):(a+="\t\tcoord.".concat(t),console.warn('WebGPURenderer: Unsupported texture wrap type "'.concat(e,'" for vertex shader.')))};o(e.wrapS,"x"),a+=",\n",o(e.wrapT,"y"),e.isData3DTexture&&(a+=",\n",o(e.wrapR,"z")),a+="\n\t);\n\n}\n",$9[t]=n=new $0(a,i)}return n.build(this),t}generateArrayDeclaration(e,t){return"array< ".concat(this.getType(e),", ").concat(t," >")}generateTextureDimension(e,t,n){const i=this.getDataFromNode(e,this.shaderStage,this.globalCache);void 0===i.dimensionsSnippet&&(i.dimensionsSnippet={});let r=i.dimensionsSnippet[n];if(void 0===i.dimensionsSnippet[n]){let a,o;const{primarySamples:s}=this.renderer.backend.utils.getTextureSampleData(e),l=s>1;o=e.isData3DTexture?"vec3<u32>":"vec2<u32>",a=l||e.isVideoTexture||e.isStorageTexture?t:"".concat(t).concat(n?", u32( ".concat(n," )"):""),r=new FG(new yH("textureDimensions( ".concat(a," )"),o)),i.dimensionsSnippet[n]=r,(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)&&(i.arrayLayerCount=new FG(new yH("textureNumLayers(".concat(t,")"),"u32"))),e.isTextureCube&&(i.cubeFaceCount=new FG(new yH("6u","u32")))}return r.build(this)}generateFilteredTexture(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0u";this._include("biquadraticTexture");const r=this.generateWrapFunction(e),a=this.generateTextureDimension(e,t,i);return"tsl_biquadraticTexture( ".concat(t,", ").concat(r,"( ").concat(n," ), ").concat(a,", u32( ").concat(i," ) )")}generateTextureLod(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0u";const a=this.generateWrapFunction(e),o=this.generateTextureDimension(e,t,r),s=e.isData3DTexture?"vec3":"vec2",l="".concat(s,"<u32>( ").concat(a,"( ").concat(n," ) * ").concat(s,"<f32>( ").concat(o," ) )");return this.generateTextureLoad(e,t,l,i,r)}generateTextureLoad(e,t,n,i){let r,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0u";return!0===e.isVideoTexture?r="textureLoad( ".concat(t,", ").concat(n," )"):i?r="textureLoad( ".concat(t,", ").concat(n,", ").concat(i,", u32( ").concat(a," ) )"):(r="textureLoad( ".concat(t,", ").concat(n,", u32( ").concat(a," ) )"),this.renderer.backend.compatibilityMode&&e.isDepthTexture&&(r+=".x")),r}generateTextureStore(e,t,n,i,r){let a;return a=i?"textureStore( ".concat(t,", ").concat(n,", ").concat(i,", ").concat(r," )"):"textureStore( ".concat(t,", ").concat(n,", ").concat(r," )"),a}isSampleCompare(e){return!0===e.isDepthTexture&&null!==e.compareFunction}isUnfilterable(e){return"float"!==this.getComponentTypeFromTexture(e)||!this.isAvailable("float32Filterable")&&!0===e.isDataTexture&&e.type===Or||!1===this.isSampleCompare(e)&&e.minFilter===wr&&e.magFilter===wr||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.shaderStage,a=null;return a=!0===e.isVideoTexture?this._generateVideoSample(t,n,r):this.isUnfilterable(e)?this.generateTextureLod(e,t,n,i,"0",r):this._generateTextureSample(e,t,n,i,r),a}generateTextureGrad(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.shaderStage;if("fragment"===a)return"textureSampleGrad( ".concat(t,", ").concat(t,"_sampler, ").concat(n,",  ").concat(i[0],", ").concat(i[1]," )");console.error("WebGPURenderer: THREE.TextureNode.gradient() does not support ".concat(a," shader."))}generateTextureCompare(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.shaderStage;if("fragment"===a)return!0===e.isDepthTexture&&!0===e.isArrayTexture?"textureSampleCompare( ".concat(t,", ").concat(t,"_sampler, ").concat(n,", ").concat(r,", ").concat(i," )"):"textureSampleCompare( ".concat(t,", ").concat(t,"_sampler, ").concat(n,", ").concat(i," )");console.error("WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ".concat(a," shader."))}generateTextureLevel(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.shaderStage,o=null;return o=!0===e.isVideoTexture?this._generateVideoSample(t,n,a):this._generateTextureSampleLevel(e,t,n,i,r),o}generateTextureBias(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.shaderStage;if("fragment"===a)return"textureSampleBias( ".concat(t,", ").concat(t,"_sampler, ").concat(n,", ").concat(i," )");console.error("WebGPURenderer: THREE.TextureNode.biasNode does not support ".concat(a," shader."))}getPropertyName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.shaderStage;if(!0===e.isNodeVarying&&!0===e.needsInterpolation){if("vertex"===t)return"varyings.".concat(e.name)}else if(!0===e.isNodeUniform){const t=e.name,n=e.type;return"texture"===n||"cubeTexture"===n||"storageTexture"===n||"texture3D"===n?t:"buffer"===n||"storageBuffer"===n||"indirectStorageBuffer"===n?this.isCustomStruct(e)?t:t+".value":e.groupNode.name+"."+t}return super.getPropertyName(e)}getOutputStructName(){return"output"}getFunctionOperator(e){const t=Z9[e];return void 0!==t?(this._include(t),t):null}getNodeAccess(e,t){return"compute"!==t?SV.READ_ONLY:e.access}getStorageAccess(e,t){return Q9[this.getNodeAccess(e,t)]}getUniformFromNode(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=super.getUniformFromNode(e,t,n,i),a=this.getDataFromNode(e,n,this.globalCache);if(void 0===a.uniformGPU){let o;const s=e.groupNode,l=s.name,c=this.getBindGroupArray(l,n);if("texture"===t||"cubeTexture"===t||"storageTexture"===t||"texture3D"===t){let i=null;const a=this.getNodeAccess(e,n);if("texture"===t||"storageTexture"===t?i=new q5(r.name,r.node,s,a):"cubeTexture"===t?i=new G5(r.name,r.node,s,a):"texture3D"===t&&(i=new H5(r.name,r.node,s,a)),i.store=!0===e.isStorageTextureNode,i.setVisibility(X9[n]),!1===this.isUnfilterable(e.value)&&!1===i.store){const e=new D9("".concat(r.name,"_sampler"),r.node,s);e.setVisibility(X9[n]),c.push(e,i),o=[e,i]}else c.push(i),o=[i]}else if("buffer"===t||"storageBuffer"===t||"indirectStorageBuffer"===t){const a=new("buffer"===t?F5:k9)(e,s);a.setVisibility(X9[n]),c.push(a),o=a,r.name=i||"NodeBuffer_"+r.id}else{const e=this.uniformGroups[n]||(this.uniformGroups[n]={});let i=e[l];void 0===i&&(i=new V5(l,s),i.setVisibility(X9[n]),e[l]=i,c.push(i)),o=this.getNodeUniform(r,t),i.addUniform(o)}a.uniformGPU=o}return r}getBuiltin(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.shaderStage;const r=this.builtins[i]||(this.builtins[i]=new Map);return!1===r.has(e)&&r.set(e,{name:e,property:t,type:n}),t}hasBuiltin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.shaderStage;return void 0!==this.builtins[t]&&this.builtins[t].has(e)}getVertexIndex(){return"vertex"===this.shaderStage?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const t=e.layout,n=this.flowShaderNode(e),i=[];for(const a of t.inputs)i.push(a.name+" : "+this.getType(a.type));let r="fn ".concat(t.name,"( ").concat(i.join(", ")," ) -> ").concat(this.getType(t.type)," {\n").concat(n.vars,"\n").concat(n.code,"\n");return n.result&&(r+="\treturn ".concat(n.result,";\n")),r+="\n}\n",r}getInstanceIndex(){return"vertex"===this.shaderStage?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.shaderStage;(this.directives[t]||(this.directives[t]=new Set)).add(e)}getDirectives(e){const t=[],n=this.directives[e];if(void 0!==n)for(const i of n)t.push("enable ".concat(i,";"));return t.join("\n")}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances","array<f32, ".concat(e," >"),"vertex")}getBuiltins(e){const t=[],n=this.builtins[e];if(void 0!==n)for(const{name:i,property:r,type:a}of n.values())t.push("@builtin( ".concat(i," ) ").concat(r," : ").concat(a));return t.join(",\n\t")}getScopedArray(e,t,n,i){return!1===this.scopedArrays.has(e)&&this.scopedArrays.set(e,{name:e,scope:t,bufferType:n,bufferCount:i}),e}getScopedArrays(e){if("compute"!==e)return;const t=[];for(const{name:n,scope:i,bufferType:r,bufferCount:a}of this.scopedArrays.values()){const e=this.getType(r);t.push("var<".concat(i,"> ").concat(n,": array< ").concat(e,", ").concat(a," >;"))}return t.join("\n")}getAttributes(e){const t=[];if("compute"===e&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),"vertex"===e||"compute"===e){const e=this.getBuiltins("attribute");e&&t.push(e);const n=this.getAttributesArray();for(let i=0,r=n.length;i<r;i++){const e=n[i],r=e.name,a=this.getType(e.type);t.push("@location( ".concat(i," ) ").concat(r," : ").concat(a))}}return t.join(",\n\t")}getStructMembers(e){const t=[];for(const n of e.members){const i=e.output?"@location( "+n.index+" ) ":"";let r=this.getType(n.type);n.atomic&&(r="atomic< "+r+" >"),t.push("\t".concat(i+n.name," : ").concat(r))}return e.output&&t.push("\t".concat(this.getBuiltins("output"))),t.join(",\n")}getStructs(e){let t="";const n=this.structs[e];if(n.length>0){const e=[];for(const t of n){let n="struct ".concat(t.name," {\n");n+=this.getStructMembers(t),n+="\n};",e.push(n)}t="\n"+e.join("\n\n")+"\n"}return t}getVar(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i="var ".concat(t," : ");return i+=null!==n?this.generateArrayDeclaration(e,n):this.getType(e),i}getVars(e){const t=[],n=this.vars[e];if(void 0!==n)for(const i of n)t.push("\t".concat(this.getVar(i.type,i.name,i.count),";"));return"\n".concat(t.join("\n"),"\n")}getVaryings(e){const t=[];if("vertex"===e&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),"vertex"===e||"fragment"===e){const n=this.varyings,i=this.vars[e];for(let r=0;r<n.length;r++){const a=n[r];if(a.needsInterpolation){let e="@location( ".concat(r," )");if(a.interpolationType){const t=null!==a.interpolationSampling?", ".concat(a.interpolationSampling," )"):" )";e+=" @interpolate( ".concat(a.interpolationType).concat(t)}else/^(int|uint|ivec|uvec)/.test(a.type)&&(e+=" @interpolate( ".concat(this.renderer.backend.compatibilityMode?"flat, either":"flat"," )"));t.push("".concat(e," ").concat(a.name," : ").concat(this.getType(a.type)))}else"vertex"===e&&!1===i.includes(a)&&i.push(a)}}const n=this.getBuiltins(e);n&&t.push(n);const i=t.join(",\n\t");return"vertex"===e?this._getWGSLStruct("VaryingsStruct","\t"+i):i}isCustomStruct(e){const t=e.value,n=e.node,i=(t.isBufferAttribute||t.isInstancedBufferAttribute)&&null!==n.structTypeNode,r=n.value&&n.value.array&&"number"===typeof n.value.itemSize&&n.value.array.length>n.value.itemSize;return i&&!r}getUniforms(e){const t=this.uniforms[e],n=[],i=[],r=[],a={};for(const s of t){const t=s.groupNode.name,r=this.bindingsIndexes[t];if("texture"===s.type||"cubeTexture"===s.type||"storageTexture"===s.type||"texture3D"===s.type){const t=s.node.value;let i;!1===this.isUnfilterable(t)&&!0!==s.node.isStorageTextureNode&&(this.isSampleCompare(t)?n.push("@binding( ".concat(r.binding++," ) @group( ").concat(r.group," ) var ").concat(s.name,"_sampler : sampler_comparison;")):n.push("@binding( ".concat(r.binding++," ) @group( ").concat(r.group," ) var ").concat(s.name,"_sampler : sampler;")));let a="";const{primarySamples:o}=this.renderer.backend.utils.getTextureSampleData(t);if(o>1&&(a="_multisampled"),!0===t.isCubeTexture)i="texture_cube<f32>";else if(!0===t.isDepthTexture)i=this.renderer.backend.compatibilityMode&&null===t.compareFunction?"texture".concat(a,"_2d<f32>"):"texture_depth".concat(a,"_2d").concat(!0===t.isArrayTexture?"_array":"");else if(!0===t.isArrayTexture||!0===t.isDataArrayTexture||!0===t.isCompressedArrayTexture)i="texture_2d_array<f32>";else if(!0===t.isVideoTexture)i="texture_external";else if(!0===t.isData3DTexture)i="texture_3d<f32>";else if(!0===s.node.isStorageTextureNode){const n=V9(t),r=this.getStorageAccess(s.node,e);i="texture_storage_2d<".concat(n,", ").concat(r,">")}else{const e=this.getComponentTypeFromTexture(t).charAt(0);i="texture".concat(a,"_2d<").concat(e,"32>")}n.push("@binding( ".concat(r.binding++," ) @group( ").concat(r.group," ) var ").concat(s.name," : ").concat(i,";"))}else if("buffer"===s.type||"storageBuffer"===s.type||"indirectStorageBuffer"===s.type){const t=s.node,n=this.getType(t.getNodeType(this)),a=t.bufferCount,o=a>0&&"buffer"===s.type?", "+a:"",l=t.isStorageBufferNode?"storage, ".concat(this.getStorageAccess(t,e)):"uniform";if(this.isCustomStruct(s))i.push("@binding( ".concat(r.binding++," ) @group( ").concat(r.group," ) var<").concat(l,"> ").concat(s.name," : ").concat(n,";"));else{const e=t.isAtomic?"atomic<".concat(n,">"):"".concat(n),a="\tvalue : array< ".concat(e).concat(o," >");i.push(this._getWGSLStructBinding(s.name,a,l,r.binding++,r.group))}}else{const e=this.getType(this.getVectorType(s.type)),t=s.groupNode.name;(a[t]||(a[t]={index:r.binding++,id:r.group,snippets:[]})).snippets.push("\t".concat(s.name," : ").concat(e))}}for(const s in a){const e=a[s];r.push(this._getWGSLStructBinding(s,e.snippets.join(",\n"),"uniform",e.index,e.id))}let o=n.join("\n");return o+=i.join("\n"),o+=r.join("\n"),o}buildCode(){const e=null!==this.material?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){this.shaderStage=t;const n=e[t];n.uniforms=this.getUniforms(t),n.attributes=this.getAttributes(t),n.varyings=this.getVaryings(t),n.structs=this.getStructs(t),n.vars=this.getVars(t),n.codes=this.getCodes(t),n.directives=this.getDirectives(t),n.scopedArrays=this.getScopedArrays(t);let i="// code\n\n";i+=this.flowCode[t];const r=this.flowNodes[t],a=r[r.length-1],o=a.outputNode,s=void 0!==o&&!0===o.isOutputStructNode;for(const e of r){const r=this.getFlowData(e),l=e.name;if(l&&(i.length>0&&(i+="\n"),i+="\t// flow -> ".concat(l,"\n")),i+="".concat(r.code,"\n\t"),e===a&&"compute"!==t)if(i+="// result\n\n\t","vertex"===t)i+="varyings.Vertex = ".concat(r.result,";");else if("fragment"===t)if(s)n.returnType=o.getNodeType(this),n.structs+="var<private> output : "+n.returnType+";",i+="return ".concat(r.result,";");else{let e="\t@location(0) color: vec4<f32>";const t=this.getBuiltins("output");t&&(e+=",\n\t"+t),n.returnType="OutputStruct",n.structs+=this._getWGSLStruct("OutputStruct",e),n.structs+="\nvar<private> output : OutputStruct;",i+="output.color = ".concat(r.result,";\n\n\treturn output;")}}n.flow=i}this.shaderStage=null,null!==this.material?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==n&&(t=this._getWGSLMethod(e+"_"+n)),void 0===t&&(t=this._getWGSLMethod(e)),t||e}getType(e){return J9[e]||e}isAvailable(e){let t=K9[e];return void 0===t&&("float32Filterable"===e?t=this.renderer.hasFeature("float32-filterable"):"clipDistance"===e&&(t=this.renderer.hasFeature("clip-distances")),K9[e]=t),t}_getWGSLMethod(e){return void 0!==eee[e]&&this._include(e),tee[e]}_include(e){const t=eee[e];return t.build(this),null!==this.currentFunctionNode&&this.currentFunctionNode.includes.push(t),t}_getWGSLVertexCode(e){return"".concat(this.getSignature(),"\n// directives\n").concat(e.directives,"\n\n// structs\n").concat(e.structs,"\n\n// uniforms\n").concat(e.uniforms,"\n\n// varyings\n").concat(e.varyings,"\nvar<private> varyings : VaryingsStruct;\n\n// codes\n").concat(e.codes,"\n\n@vertex\nfn main( ").concat(e.attributes," ) -> VaryingsStruct {\n\n\t// vars\n\t").concat(e.vars,"\n\n\t// flow\n\t").concat(e.flow,"\n\n\treturn varyings;\n\n}\n")}_getWGSLFragmentCode(e){return"".concat(this.getSignature(),"\n// global\n").concat(nee,"\n\n// structs\n").concat(e.structs,"\n\n// uniforms\n").concat(e.uniforms,"\n\n// codes\n").concat(e.codes,"\n\n@fragment\nfn main( ").concat(e.varyings," ) -> ").concat(e.returnType," {\n\n\t// vars\n\t").concat(e.vars,"\n\n\t// flow\n\t").concat(e.flow,"\n\n}\n")}_getWGSLComputeCode(e,t){return"".concat(this.getSignature(),"\n// directives\n").concat(e.directives,"\n\n// system\nvar<private> instanceIndex : u32;\n\n// locals\n").concat(e.scopedArrays,"\n\n// structs\n").concat(e.structs,"\n\n// uniforms\n").concat(e.uniforms,"\n\n// codes\n").concat(e.codes,"\n\n@compute @workgroup_size( ").concat(t," )\nfn main( ").concat(e.attributes," ) {\n\n\t// system\n\tinstanceIndex = globalId.x + globalId.y * numWorkgroups.x * u32(").concat(t,") + globalId.z * numWorkgroups.x * numWorkgroups.y * u32(").concat(t,");\n\n\t// vars\n\t").concat(e.vars,"\n\n\t// flow\n\t").concat(e.flow,"\n\n}\n")}_getWGSLStruct(e,t){return"\nstruct ".concat(e," {\n").concat(t,"\n};")}_getWGSLStructBinding(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a=e+"Struct",o=this._getWGSLStruct(a,t);return"".concat(o,"\n@binding( ").concat(i," ) @group( ").concat(r," )\nvar<").concat(n,"> ").concat(e," : ").concat(a,";")}}class ree{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let t;return null!==e.depthTexture?t=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?t=P8:e.depth&&(t=C8),t}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let t;if(e.isFramebufferTexture)t=1;else if(e.isDepthTexture&&!e.renderTarget){const e=this.backend.renderer,n=e.getRenderTarget();t=n?n.samples:e.samples}else e.renderTarget&&(t=e.renderTarget.samples);t=t||1;const n=t>1&&null!==e.renderTarget&&!0!==e.isDepthTexture&&!0!==e.isFramebufferTexture;return{samples:t,primarySamples:n?1:t,isMSAA:n}}getCurrentColorFormat(e){let t;return t=null!==e.textures?this.getTextureFormatGPU(e.textures[0]):this.getPreferredCanvasFormat(),t}getCurrentColorSpace(e){return null!==e.textures?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,t){return e.isPoints?T6:e.isLineSegments||e.isMesh&&!0===t.wireframe?_6:e.isLine?S6:e.isMesh?M6:void 0}getSampleCount(e){let t=1;return e>1&&(t=Math.pow(2,Math.floor(Math.log2(e))),2===t&&(t=4)),t}getSampleCountRenderContext(e){return null!==e.textures?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){const e=this.backend.parameters.outputType;if(void 0===e)return navigator.gpu.getPreferredCanvasFormat();if(e===Dr)return p8;if(e===Ur)return T8;throw new Error("Unsupported outputType")}}const aee=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),oee=new Map([[_c,["float16"]]]),see=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class lee{constructor(e){this.backend=e}createAttribute(e,t){const n=this._getBufferAttribute(e),i=this.backend,r=i.get(n);let a=r.buffer;if(void 0===a){const o=i.device;let s=n.array;if(!1===e.normalized)if(s.constructor===Int16Array||s.constructor===Int8Array)s=new Int32Array(s);else if((s.constructor===Uint16Array||s.constructor===Uint8Array)&&(s=new Uint32Array(s),t&GPUBufferUsage.INDEX))for(let e=0;e<s.length;e++)65535===s[e]&&(s[e]=4294967295);if(n.array=s,(n.isStorageBufferAttribute||n.isStorageInstancedBufferAttribute)&&3===n.itemSize){s=new s.constructor(4*n.count);for(let e=0;e<n.count;e++)s.set(n.array.subarray(3*e,3*e+3),4*e);n.itemSize=4,n.array=s,r._force3to4BytesAlignment=!0}const l=s.byteLength,c=l+(4-l%4)%4;a=o.createBuffer({label:n.name,size:c,usage:t,mappedAtCreation:!0}),new s.constructor(a.getMappedRange()).set(s),a.unmap(),r.buffer=a}}updateAttribute(e){const t=this._getBufferAttribute(e),n=this.backend,i=n.device,r=n.get(t),a=n.get(t).buffer;let o=t.array;if(!0===r._force3to4BytesAlignment){o=new o.constructor(4*t.count);for(let e=0;e<t.count;e++)o.set(t.array.subarray(3*e,3*e+3),4*e);t.array=o}const s=this._isTypedArray(o),l=t.updateRanges;if(0===l.length)i.queue.writeBuffer(a,0,o,0);else{const e=s?1:o.BYTES_PER_ELEMENT;for(let t=0,n=l.length;t<n;t++){const n=l[t];let c,u;if(!0===r._force3to4BytesAlignment){c=4*Math.floor(n.start/3)*e,u=4*Math.ceil(n.count/3)*e}else c=n.start*e,u=n.count*e;const d=c*(s?o.BYTES_PER_ELEMENT:1);i.queue.writeBuffer(a,d,o,c,u)}t.clearUpdateRanges()}}createShaderVertexBuffers(e){const t=e.getAttributes(),n=new Map;for(let i=0;i<t.length;i++){const e=t[i],r=e.array.BYTES_PER_ELEMENT,a=this._getBufferAttribute(e);let o=n.get(a);if(void 0===o){let t,i;!0===e.isInterleavedBufferAttribute?(t=e.data.stride*r,i=e.data.isInstancedInterleavedBuffer?P9:C9):(t=e.itemSize*r,i=e.isInstancedBufferAttribute?P9:C9),!1!==e.normalized||e.array.constructor!==Int16Array&&e.array.constructor!==Uint16Array||(t=4),o={arrayStride:t,attributes:[],stepMode:i},n.set(a,o)}const s=this._getVertexFormat(e),l=!0===e.isInterleavedBufferAttribute?e.offset*r:0;o.attributes.push({shaderLocation:i,offset:l,format:s})}return Array.from(n.values())}destroyAttribute(e){const t=this.backend;t.get(this._getBufferAttribute(e)).buffer.destroy(),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,n=t.device,i=t.get(this._getBufferAttribute(e)).buffer,r=i.size,a=n.createBuffer({label:"".concat(e.name,"_readback"),size:r,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),o=n.createCommandEncoder({label:"readback_encoder_".concat(e.name)});o.copyBufferToBuffer(i,0,a,0,r);const s=o.finish();n.queue.submit([s]),await a.mapAsync(GPUMapMode.READ);const l=a.getMappedRange(),c=new e.array.constructor(l.slice(0));return a.unmap(),c.buffer}_getVertexFormat(e){const{itemSize:t,normalized:n}=e,i=e.array.constructor,r=e.constructor;let a;if(1===t)a=see.get(i);else{const e=(oee.get(r)||aee.get(i))[n?1:0];if(e){const n=i.BYTES_PER_ELEMENT*t,r=4*Math.floor((n+3)/4)/i.BYTES_PER_ELEMENT;if(r%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a="".concat(e,"x").concat(r)}}return a||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),a}_isTypedArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class cee{constructor(e){this.backend=e,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(e){const t=this.backend,n=t.device,i=[];let r=0;for(const a of e.bindings){const e={binding:r++,visibility:a.visibility};if(a.isUniformBuffer||a.isStorageBuffer){const t={};a.isStorageBuffer&&(4&a.visibility&&(a.access===SV.READ_WRITE||a.access===SV.WRITE_ONLY)?t.type=c9:t.type=u9),e.buffer=t}else if(a.isSampler){const n={};a.texture.isDepthTexture&&(null!==a.texture.compareFunction?n.type=f9:t.compatibilityMode&&(n.type=m9)),e.sampler=n}else if(a.isSampledTexture&&a.texture.isVideoTexture)e.externalTexture={};else if(a.isSampledTexture&&a.store){const t={};t.format=this.backend.get(a.texture).texture.format;const n=a.access;t.access=n===SV.READ_WRITE?p9:n===SV.WRITE_ONLY?d9:h9,e.storageTexture=t}else if(a.isSampledTexture){const n={},{primarySamples:i}=t.utils.getTextureSampleData(a.texture);if(i>1&&(n.multisampled=!0,a.texture.isDepthTexture||(n.sampleType=g9)),a.texture.isDepthTexture)t.compatibilityMode&&null===a.texture.compareFunction?n.sampleType=g9:n.sampleType=v9;else if(a.texture.isDataTexture||a.texture.isDataArrayTexture||a.texture.isData3DTexture){const e=a.texture.type;e===Br?n.sampleType=y9:e===Fr?n.sampleType=b9:e===Or&&(this.backend.hasFeature("float32-filterable")?n.sampleType=A9:n.sampleType=g9)}a.isSampledCubeTexture?n.viewDimension=S9:a.texture.isArrayTexture||a.texture.isDataArrayTexture||a.texture.isCompressedArrayTexture?n.viewDimension=_9:a.isSampledTexture3D&&(n.viewDimension=M9),e.texture=n}else console.error('WebGPUBindingUtils: Unsupported binding "'.concat(a,'".'));i.push(e)}return n.createBindGroupLayout({entries:i})}createBindings(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const{backend:r,bindGroupLayoutCache:a}=this,o=r.get(e);let s,l=a.get(e.bindingsReference);void 0===l&&(l=this.createBindingsLayout(e),a.set(e.bindingsReference,l)),n>0&&(void 0===o.groups&&(o.groups=[],o.versions=[]),o.versions[n]===i&&(s=o.groups[n])),void 0===s&&(s=this.createBindGroup(e,l),n>0&&(o.groups[n]=s,o.versions[n]=i)),o.group=s,o.layout=l}updateBinding(e){const t=this.backend,n=t.device,i=e.buffer,r=t.get(e).buffer;n.queue.writeBuffer(r,0,i,0)}createBindGroupIndex(e,t){const n=this.backend.device,i=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,r=e[0],a=n.createBuffer({label:"bindingCameraIndex_"+r,size:16,usage:i});n.queue.writeBuffer(a,0,e,0);const o=[{binding:0,resource:{buffer:a}}];return n.createBindGroup({label:"bindGroupCameraIndex_"+r,layout:t,entries:o})}createBindGroup(e,t){const n=this.backend,i=n.device;let r=0;const a=[];for(const o of e.bindings){if(o.isUniformBuffer){const e=n.get(o);if(void 0===e.buffer){const t=o.byteLength,n=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,r=i.createBuffer({label:"bindingBuffer_"+o.name,size:t,usage:n});e.buffer=r}a.push({binding:r,resource:{buffer:e.buffer}})}else if(o.isStorageBuffer){const e=n.get(o);if(void 0===e.buffer){const t=o.attribute;e.buffer=n.get(t).buffer}a.push({binding:r,resource:{buffer:e.buffer}})}else if(o.isSampler){const e=n.get(o.texture);a.push({binding:r,resource:e.sampler})}else if(o.isSampledTexture){const e=n.get(o.texture);let t;if(void 0!==e.externalTexture)t=i.importExternalTexture({source:e.externalTexture});else{const n=o.store?1:e.texture.mipLevelCount,i="view-".concat(e.texture.width,"-").concat(e.texture.height,"-").concat(n);if(t=e[i],void 0===t){const r=E9;let a;a=o.isSampledCubeTexture?S9:o.isSampledTexture3D?M9:o.texture.isArrayTexture||o.texture.isDataArrayTexture||o.texture.isCompressedArrayTexture?_9:T9,t=e[i]=e.texture.createView({aspect:r,dimension:a,mipLevelCount:n})}}a.push({binding:r,resource:t})}r++}return i.createBindGroup({label:"bindGroup_"+e.name,layout:t,entries:a})}}class uee{constructor(e){this.backend=e,this._activePipelines=new WeakMap}setPipeline(e,t){this._activePipelines.get(e)!==t&&(e.setPipeline(t),this._activePipelines.set(e,t))}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,t){const{object:n,material:i,geometry:r,pipeline:a}=e,{vertexProgram:o,fragmentProgram:s}=a,l=this.backend,c=l.device,u=l.utils,d=l.get(a),h=[];for(const C of e.getBindings()){const e=l.get(C);h.push(e.layout)}const p=l.attributeUtils.createShaderVertexBuffers(e);let m;i.blending===bi||i.blending===xi&&!1===i.transparent||(m=this._getBlending(i));let f={};!0===i.stencilWrite&&(f={compare:this._getStencilCompare(i),failOp:this._getStencilOperation(i.stencilFail),depthFailOp:this._getStencilOperation(i.stencilZFail),passOp:this._getStencilOperation(i.stencilZPass)});const A=this._getColorWriteMask(i),g=[];if(null!==e.context.textures){const t=e.context.textures;for(let e=0;e<t.length;e++){const n=u.getTextureFormatGPU(t[e]);g.push({format:n,blend:m,writeMask:A})}}else{const t=u.getCurrentColorFormat(e.context);g.push({format:t,blend:m,writeMask:A})}const v=l.get(o).module,y=l.get(s).module,b=this._getPrimitiveState(n,r,i),x=this._getDepthCompare(i),w=u.getCurrentDepthStencilFormat(e.context),T=this._getSampleCount(e.context),_={label:"renderPipeline_".concat(i.name||i.type,"_").concat(i.id),vertex:Object.assign({},v,{buffers:p}),fragment:Object.assign({},y,{targets:g}),primitive:b,multisample:{count:T,alphaToCoverageEnabled:i.alphaToCoverage&&T>1},layout:c.createPipelineLayout({bindGroupLayouts:h})},S={},M=e.context.depth,E=e.context.stencil;if(!0!==M&&!0!==E||(!0===M&&(S.format=w,S.depthWriteEnabled=i.depthWrite,S.depthCompare=x),!0===E&&(S.stencilFront=f,S.stencilBack={},S.stencilReadMask=i.stencilFuncMask,S.stencilWriteMask=i.stencilWriteMask),!0===i.polygonOffset&&(S.depthBias=i.polygonOffsetUnits,S.depthBiasSlopeScale=i.polygonOffsetFactor,S.depthBiasClamp=0),_.depthStencil=S),null===t)d.pipeline=c.createRenderPipeline(_);else{const e=new Promise(e=>{c.createRenderPipelineAsync(_).then(t=>{d.pipeline=t,e()})});t.push(e)}}createBundleEncoder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"renderBundleEncoder";const n=this.backend,{utils:i,device:r}=n,a=i.getCurrentDepthStencilFormat(e),o={label:t,colorFormats:[i.getCurrentColorFormat(e)],depthStencilFormat:a,sampleCount:this._getSampleCount(e)};return r.createRenderBundleEncoder(o)}createComputePipeline(e,t){const n=this.backend,i=n.device,r=n.get(e.computeProgram).module,a=n.get(e),o=[];for(const s of t){const e=n.get(s);o.push(e.layout)}a.pipeline=i.createComputePipeline({compute:r,layout:i.createPipelineLayout({bindGroupLayouts:o})})}_getBlending(e){let t,n;const i=e.blending,r=e.blendSrc,a=e.blendDst,o=e.blendEquation;if(i===Si){const i=null!==e.blendSrcAlpha?e.blendSrcAlpha:r,s=null!==e.blendDstAlpha?e.blendDstAlpha:a,l=null!==e.blendEquationAlpha?e.blendEquationAlpha:o;t={srcFactor:this._getBlendFactor(r),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(o)},n={srcFactor:this._getBlendFactor(i),dstFactor:this._getBlendFactor(s),operation:this._getBlendOperation(l)}}else{const r=(e,i,r,a)=>{t={srcFactor:e,dstFactor:i,operation:Y7},n={srcFactor:r,dstFactor:a,operation:Y7}};if(e.premultipliedAlpha)switch(i){case xi:r(B7,V7,B7,V7);break;case wi:r(B7,B7,B7,B7);break;case Ti:r(k7,O7,k7,B7);break;case _i:r(k7,F7,k7,U7)}else switch(i){case xi:r(U7,V7,B7,V7);break;case wi:r(U7,B7,U7,B7);break;case Ti:r(k7,O7,k7,B7);break;case _i:r(k7,F7,k7,F7)}}if(void 0!==t&&void 0!==n)return{color:t,alpha:n};console.error("THREE.WebGPURenderer: Invalid blending: ",i)}_getBlendFactor(e){let t;switch(e){case Ri:t=k7;break;case Di:t=B7;break;case Ii:t=F7;break;case Li:t=O7;break;case ki:t=U7;break;case Bi:t=V7;break;case Ui:t=j7;break;case Vi:t=z7;break;case Fi:t=q7;break;case Oi:t=G7;break;case ji:t=H7;break;case 211:t=W7;break;case 212:t=Q7;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return t}_getStencilCompare(e){let t;const n=e.stencilFunc;switch(n){case po:t=C6;break;case bo:t=k6;break;case mo:t=P6;break;case Ao:t=R6;break;case fo:t=N6;break;case yo:t=L6;break;case go:t=D6;break;case vo:t=I6;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",n)}return t}_getStencilOperation(e){let t;switch(e){case ao:t=t9;break;case ro:t=n9;break;case oo:t=i9;break;case ho:t=r9;break;case so:t=a9;break;case lo:t=o9;break;case co:t=s9;break;case uo:t=l9;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",t)}return t}_getBlendOperation(e){let t;switch(e){case Mi:t=Y7;break;case Ei:t=X7;break;case Ci:t=K7;break;case Pi:t=Z7;break;case Ni:t=J7;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return t}_getPrimitiveState(e,t,n){const i={},r=this.backend.utils;switch(i.topology=r.getPrimitiveTopology(e,n),null!==t.index&&!0===e.isLine&&!0!==e.isLineSegments&&(i.stripIndexFormat=t.index.array instanceof Uint16Array?q6:G6),n.side){case gi:i.frontFace=U6,i.cullMode=z6;break;case vi:i.frontFace=U6,i.cullMode=j6;break;case yi:i.frontFace=U6,i.cullMode=V6;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",n.side)}return i}_getColorWriteMask(e){return!0===e.colorWrite?e9:$7}_getDepthCompare(e){let t;if(!1===e.depthTest)t=k6;else{const n=e.depthFunc;switch(n){case Wi:t=C6;break;case Qi:t=k6;break;case Yi:t=P6;break;case Xi:t=R6;break;case Ki:t=N6;break;case Zi:t=L6;break;case Ji:t=D6;break;case $i:t=I6;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",n)}}return t}}class dee extends y6{constructor(e,t){super(arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048),this.device=e,this.type=t,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:"queryset_global_timestamp_".concat(t)});const n=8*this.maxQueries;this.resolveBuffer=this.device.createBuffer({label:"buffer_timestamp_resolve_".concat(t),size:n,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:"buffer_timestamp_result_".concat(t),size:n,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(e){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return As("WebGPUTimestampQueryPool [".concat(this.type,"]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.").concat(this.type.toUpperCase()," ).")),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(e.id,t),t}async resolveQueriesAsync(){if(!this.trackTimestamp||0===this.currentQueryIndex||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if("unmapped"!==this.resultBuffer.mapState)return this.lastValue;const e=new Map(this.queryOffsets),t=this.currentQueryIndex,n=8*t;this.currentQueryIndex=0,this.queryOffsets.clear();const i=this.device.createCommandEncoder();i.resolveQuerySet(this.querySet,0,t,this.resolveBuffer,0),i.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,n);const r=i.finish();if(this.device.queue.submit([r]),"unmapped"!==this.resultBuffer.mapState)return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,n),this.isDisposed)return"mapped"===this.resultBuffer.mapState&&this.resultBuffer.unmap(),this.lastValue;const a=new BigUint64Array(this.resultBuffer.getMappedRange(0,n));let o=0;for(const[,s]of e){const e=a[s],t=a[s+1];o+=Number(t-e)/1e6}return this.resultBuffer.unmap(),this.lastValue=o,o}catch(e){return console.error("Error resolving queries:",e),"mapped"===this.resultBuffer.mapState&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(e){console.error("Error waiting for pending resolve:",e)}if(this.resultBuffer&&"mapped"===this.resultBuffer.mapState)try{this.resultBuffer.unmap()}catch(e){console.error("Error unmapping buffer:",e)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class hee extends t6{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.isWebGPUBackend=!0,this.parameters.alpha=void 0===e.alpha||e.alpha,this.parameters.compatibilityMode=void 0!==e.compatibilityMode&&e.compatibilityMode,this.parameters.requiredLimits=void 0===e.requiredLimits?{}:e.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new ree(this),this.attributeUtils=new lee(this),this.bindingUtils=new cee(this),this.pipelineUtils=new uee(this),this.textureUtils=new U9(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const t=this.parameters;let n;if(void 0===t.device){const e={powerPreference:t.powerPreference,featureLevel:t.compatibilityMode?"compatibility":void 0},i="undefined"!==typeof navigator?await navigator.gpu.requestAdapter(e):null;if(null===i)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const r=Object.values(N9),a=[];for(const t of r)i.features.has(t)&&a.push(t);const o={requiredFeatures:a,requiredLimits:t.requiredLimits};n=await i.requestDevice(o)}else n=t.device;n.lost.then(t=>{const n={api:"WebGPU",message:t.message||"Unknown reason",reason:t.reason||null,originalEvent:t};e.onDeviceLost(n)});const i=void 0!==t.context?t.context:e.domElement.getContext("webgpu");this.device=n,this.context=i;const r=t.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature(N9.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:r}),this.updateSize()}get coordinateSystem(){return jo}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let e=this.defaultRenderPassdescriptor;if(null===e){const t=this.renderer;e={colorAttachments:[{view:null}]},!0!==this.renderer.depth&&!0!==this.renderer.stencil||(e.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(t.depth,t.stencil).createView()});const n=e.colorAttachments[0];this.renderer.samples>0?n.view=this.colorBuffer.createView():n.resolveTarget=void 0,this.defaultRenderPassdescriptor=e}const t=e.colorAttachments[0];return this.renderer.samples>0?t.resolveTarget=this.context.getCurrentTexture().createView():t.view=this.context.getCurrentTexture().createView(),e}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.image.depth>1&&e.camera.isArrayCamera}_getRenderPassDescriptor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.renderTarget,i=this.get(n);let r=i.descriptors;if(void 0===r||i.width!==n.width||i.height!==n.height||i.dimensions!==n.dimensions||i.activeMipmapLevel!==e.activeMipmapLevel||i.activeCubeFace!==e.activeCubeFace||i.samples!==n.samples){r={},i.descriptors=r;const e=()=>{n.removeEventListener("dispose",e),this.delete(n)};!1===n.hasEventListener("dispose",e)&&n.addEventListener("dispose",e)}const a=e.getCacheKey();let o=r[a];if(void 0===o){const t=e.textures,s=[];let l;const c=this._isRenderCameraDepthArray(e);for(let i=0;i<t.length;i++){const r=this.get(t[i]),a={label:"colorAttachment_".concat(i),baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:T9};if(n.isRenderTarget3D)l=e.activeCubeFace,a.baseArrayLayer=0,a.dimension=M9,a.depthOrArrayLayers=t[i].image.depth;else if(n.isRenderTarget&&t[i].image.depth>1)if(!0===c){const t=e.camera.cameras;for(let e=0;e<t.length;e++){const t=h(h({},a),{},{baseArrayLayer:e,arrayLayerCount:1,dimension:T9}),n=r.texture.createView(t);s.push({view:n,resolveTarget:void 0,depthSlice:void 0})}}else a.dimension=_9,a.depthOrArrayLayers=t[i].image.depth;if(!0!==c){const e=r.texture.createView(a);let t,n;void 0!==r.msaaTexture?(t=r.msaaTexture.createView(),n=e):(t=e,n=void 0),s.push({view:t,resolveTarget:n,depthSlice:l})}}if(o={textureViews:s},e.depth){const t=this.get(e.depthTexture),n={};e.depthTexture.isArrayTexture&&(n.dimension=T9,n.arrayLayerCount=1,n.baseArrayLayer=e.activeCubeFace),o.depthStencilView=t.texture.createView(n)}r[a]=o,i.width=n.width,i.height=n.height,i.samples=n.samples,i.activeMipmapLevel=e.activeMipmapLevel,i.activeCubeFace=e.activeCubeFace,i.dimensions=n.dimensions}const s={colorAttachments:[]};for(let l=0;l<o.textureViews.length;l++){const e=o.textureViews[l];let n={r:0,g:0,b:0,a:1};0===l&&t.clearValue&&(n=t.clearValue),s.colorAttachments.push({view:e.view,depthSlice:e.depthSlice,resolveTarget:e.resolveTarget,loadOp:t.loadOp||F6,storeOp:t.storeOp||B6,clearValue:n})}return o.depthStencilView&&(s.depthStencilAttachment={view:o.depthStencilView}),s}beginRender(e){const t=this.get(e),n=this.device,i=e.occlusionQueryCount;let r,a;i>0&&(t.currentOcclusionQuerySet&&t.currentOcclusionQuerySet.destroy(),t.currentOcclusionQueryBuffer&&t.currentOcclusionQueryBuffer.destroy(),t.currentOcclusionQuerySet=t.occlusionQuerySet,t.currentOcclusionQueryBuffer=t.occlusionQueryBuffer,t.currentOcclusionQueryObjects=t.occlusionQueryObjects,r=n.createQuerySet({type:"occlusion",count:i,label:"occlusionQuerySet_".concat(e.id)}),t.occlusionQuerySet=r,t.occlusionQueryIndex=0,t.occlusionQueryObjects=new Array(i),t.lastOcclusionObject=null),a=null===e.textures?this._getDefaultRenderPassDescriptor():this._getRenderPassDescriptor(e,{loadOp:F6}),this.initTimestampQuery(e,a),a.occlusionQuerySet=r;const o=a.depthStencilAttachment;if(null!==e.textures){const t=a.colorAttachments;for(let n=0;n<t.length;n++){const i=t[n];e.clearColor?(i.clearValue=0===n?e.clearColorValue:{r:0,g:0,b:0,a:1},i.loadOp=O6):i.loadOp=F6,i.storeOp=B6}}else{const t=a.colorAttachments[0];e.clearColor?(t.clearValue=e.clearColorValue,t.loadOp=O6):t.loadOp=F6,t.storeOp=B6}e.depth&&(e.clearDepth?(o.depthClearValue=e.clearDepthValue,o.depthLoadOp=O6):o.depthLoadOp=F6,o.depthStoreOp=B6),e.stencil&&(e.clearStencil?(o.stencilClearValue=e.clearStencilValue,o.stencilLoadOp=O6):o.stencilLoadOp=F6,o.stencilStoreOp=B6);const s=n.createCommandEncoder({label:"renderContext_"+e.id});if(!0===this._isRenderCameraDepthArray(e)){const n=e.camera.cameras;t.layerDescriptors&&t.layerDescriptors.length===n.length?this._updateDepthLayerDescriptors(e,t,n):this._createDepthLayerDescriptors(e,t,a,n),t.bundleEncoders=[],t.bundleSets=[];for(let i=0;i<n.length;i++){const n=this.pipelineUtils.createBundleEncoder(e,"renderBundleArrayCamera_"+i),r={attributes:{},bindingGroups:[],pipeline:null,index:null};t.bundleEncoders.push(n),t.bundleSets.push(r)}t.currentPass=null}else{const n=s.beginRenderPass(a);if(t.currentPass=n,e.viewport&&this.updateViewport(e),e.scissor){const{x:t,y:i,width:r,height:a}=e.scissorValue;n.setScissorRect(t,i,r,a)}}t.descriptor=a,t.encoder=s,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.renderBundles=[]}_createDepthLayerDescriptors(e,t,n,i){const r=n.depthStencilAttachment;t.layerDescriptors=[];const a=this.get(e.depthTexture);a.viewCache||(a.viewCache=[]);for(let o=0;o<i.length;o++){const i=h(h({},n),{},{colorAttachments:[h(h({},n.colorAttachments[0]),{},{view:n.colorAttachments[o].view})]});if(n.depthStencilAttachment){const t=o;a.viewCache[t]||(a.viewCache[t]=a.texture.createView({dimension:T9,baseArrayLayer:o,arrayLayerCount:1})),i.depthStencilAttachment={view:a.viewCache[t],depthLoadOp:r.depthLoadOp||O6,depthStoreOp:r.depthStoreOp||B6,depthClearValue:r.depthClearValue||1},e.stencil&&(i.depthStencilAttachment.stencilLoadOp=r.stencilLoadOp,i.depthStencilAttachment.stencilStoreOp=r.stencilStoreOp,i.depthStencilAttachment.stencilClearValue=r.stencilClearValue)}else i.depthStencilAttachment=h({},r);t.layerDescriptors.push(i)}}_updateDepthLayerDescriptors(e,t,n){for(let i=0;i<n.length;i++){const n=t.layerDescriptors[i];if(n.depthStencilAttachment){const t=n.depthStencilAttachment;e.depth&&(e.clearDepth?(t.depthClearValue=e.clearDepthValue,t.depthLoadOp=O6):t.depthLoadOp=F6),e.stencil&&(e.clearStencil?(t.stencilClearValue=e.clearStencilValue,t.stencilLoadOp=O6):t.stencilLoadOp=F6)}}}finishRender(e){const t=this.get(e),n=e.occlusionQueryCount;t.renderBundles.length>0&&t.currentPass.executeBundles(t.renderBundles),n>t.occlusionQueryIndex&&t.currentPass.endOcclusionQuery();const i=t.encoder;if(!0===this._isRenderCameraDepthArray(e)){const n=[];for(let e=0;e<t.bundleEncoders.length;e++){const i=t.bundleEncoders[e];n.push(i.finish())}for(let r=0;r<t.layerDescriptors.length;r++)if(r<n.length){const a=t.layerDescriptors[r],o=i.beginRenderPass(a);if(e.viewport){const{x:t,y:n,width:i,height:r,minDepth:a,maxDepth:s}=e.viewportValue;o.setViewport(t,n,i,r,a,s)}if(e.scissor){const{x:t,y:n,width:i,height:r}=e.scissorValue;o.setScissorRect(t,n,i,r)}o.executeBundles([n[r]]),o.end()}}else t.currentPass&&t.currentPass.end();if(n>0){const i=8*n;let r=this.occludedResolveCache.get(i);void 0===r&&(r=this.device.createBuffer({size:i,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(i,r));const a=this.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});t.encoder.resolveQuerySet(t.occlusionQuerySet,0,n,r,0),t.encoder.copyBufferToBuffer(r,0,a,0,i),t.occlusionQueryBuffer=a,this.resolveOccludedAsync(e)}if(this.device.queue.submit([t.encoder.finish()]),null!==e.textures){const t=e.textures;for(let e=0;e<t.length;e++){const n=t[e];!0===n.generateMipmaps&&this.textureUtils.generateMipmaps(n)}}}isOccluded(e,t){const n=this.get(e);return n.occluded&&n.occluded.has(t)}async resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueryBuffer:n,currentOcclusionQueryObjects:i}=t;if(n&&i){const e=new WeakSet;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueryBuffer=null,await n.mapAsync(GPUMapMode.READ);const r=n.getMappedRange(),a=new BigUint64Array(r);for(let t=0;t<i.length;t++)a[t]===BigInt(0)&&e.add(i[t]);n.destroy(),t.occluded=e}}updateViewport(e){const{currentPass:t}=this.get(e),{x:n,y:i,width:r,height:a,minDepth:o,maxDepth:s}=e.viewportValue;t.setViewport(n,i,r,a,o,s)}getClearColor(){const e=super.getClearColor();return!0===this.renderer.alpha&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}clear(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=this.device,a=this.renderer;let o,s,l,c,u=[];if(e){const e=this.getClearColor();s={r:e.r,g:e.g,b:e.b,a:e.a}}if(null===i){l=a.depth,c=a.stencil;const t=this._getDefaultRenderPassDescriptor();if(e){u=t.colorAttachments;const e=u[0];e.clearValue=s,e.loadOp=O6,e.storeOp=B6}(l||c)&&(o=t.depthStencilAttachment)}else{l=i.depth,c=i.stencil;const r={loadOp:e?O6:F6,clearValue:e?s:void 0};l&&(r.depthLoadOp=t?O6:F6,r.depthClearValue=t?a.getClearDepth():void 0,r.depthStoreOp=B6),c&&(r.stencilLoadOp=n?O6:F6,r.stencilClearValue=n?a.getClearStencil():void 0,r.stencilStoreOp=B6);const d=this._getRenderPassDescriptor(i,r);u=d.colorAttachments,o=d.depthStencilAttachment}l&&o&&void 0===o.depthLoadOp&&(t?(o.depthLoadOp=O6,o.depthClearValue=a.getClearDepth(),o.depthStoreOp=B6):(o.depthLoadOp=F6,o.depthStoreOp=B6)),c&&o&&void 0===o.stencilLoadOp&&(n?(o.stencilLoadOp=O6,o.stencilClearValue=a.getClearStencil(),o.stencilStoreOp=B6):(o.stencilLoadOp=F6,o.stencilStoreOp=B6));const d=r.createCommandEncoder({label:"clear"});d.beginRenderPass({colorAttachments:u,depthStencilAttachment:o}).end(),r.queue.submit([d.finish()])}beginCompute(e){const t=this.get(e),n={label:"computeGroup_"+e.id};this.initTimestampQuery(e,n),t.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+e.id}),t.passEncoderGPU=t.cmdEncoderGPU.beginComputePass(n)}compute(e,t,n,i){const{passEncoderGPU:r}=this.get(e),a=this.get(i).pipeline;this.pipelineUtils.setPipeline(r,a);for(let c=0,u=n.length;c<u;c++){const e=n[c],t=this.get(e);r.setBindGroup(c,t.group)}const o=this.device.limits.maxComputeWorkgroupsPerDimension,s=this.get(t);void 0===s.dispatchSize&&(s.dispatchSize={x:0,y:1,z:1});const{dispatchSize:l}=s;t.dispatchCount>o?(l.x=Math.min(t.dispatchCount,o),l.y=Math.ceil(t.dispatchCount/o)):l.x=t.dispatchCount,r.dispatchWorkgroups(l.x,l.y,l.z)}finishCompute(e){const t=this.get(e);t.passEncoderGPU.end(),this.device.queue.submit([t.cmdEncoderGPU.finish()])}async waitForGPU(){await this.device.queue.onSubmittedWorkDone()}draw(e,t){const{object:n,material:i,context:r,pipeline:a}=e,o=e.getBindings(),s=this.get(r),l=this.get(a).pipeline,c=e.getIndex(),u=null!==c,d=e.getDrawParameters();if(null===d)return;const h=(t,n)=>{this.pipelineUtils.setPipeline(t,l),n.pipeline=l;const a=n.bindingGroups;for(let e=0,i=o.length;e<i;e++){const n=o[e],i=this.get(n);a[n.index]!==n.id&&(t.setBindGroup(n.index,i.group),a[n.index]=n.id)}if(!0===u&&n.index!==c){const e=this.get(c).buffer,i=c.array instanceof Uint16Array?q6:G6;t.setIndexBuffer(e,i),n.index=c}const d=e.getVertexBuffers();for(let e=0,i=d.length;e<i;e++){const i=d[e];if(n.attributes[e]!==i){const r=this.get(i).buffer;t.setVertexBuffer(e,r),n.attributes[e]=i}}!0===r.stencil&&!0===i.stencilWrite&&s.currentStencilRef!==i.stencilRef&&(t.setStencilReference(i.stencilRef),s.currentStencilRef=i.stencilRef)},p=(i,r)=>{if(h(i,r),!0===n.isBatchedMesh){const e=n._multiDrawStarts,r=n._multiDrawCounts,a=n._multiDrawCount,o=n._multiDrawInstances;null!==o&&As("THREE.WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let s=0;s<a;s++){const a=o?o[s]:1,l=a>1?0:s;!0===u?i.drawIndexed(r[s],a,e[s]/c.array.BYTES_PER_ELEMENT,0,l):i.draw(r[s],a,e[s],l),t.update(n,r[s],a)}}else if(!0===u){const{vertexCount:r,instanceCount:a,firstVertex:o}=d,s=e.getIndirect();if(null!==s){const e=this.get(s).buffer;i.drawIndexedIndirect(e,0)}else i.drawIndexed(r,a,o,0,0);t.update(n,r,a)}else{const{vertexCount:r,instanceCount:a,firstVertex:o}=d,s=e.getIndirect();if(null!==s){const e=this.get(s).buffer;i.drawIndirect(e,0)}else i.draw(r,a,o,0);t.update(n,r,a)}};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const t=this.get(e.camera),i=e.camera.cameras,a=e.getBindingGroup("cameraIndex");if(void 0===t.indexesGPU||t.indexesGPU.length!==i.length){const e=this.get(a),n=[],r=new Uint32Array([0,0,0,0]);for(let t=0,a=i.length;t<a;t++){r[0]=t;const i=this.bindingUtils.createBindGroupIndex(r,e.layout);n.push(i)}t.indexesGPU=n}const o=this.renderer.getPixelRatio();for(let e=0,l=i.length;e<l;e++){const l=i[e];if(n.layers.test(l.layers)){const n=l.viewport;let i=s.currentPass,c=s.currentSets;if(s.bundleEncoders){i=s.bundleEncoders[e],c=s.bundleSets[e]}n&&i.setViewport(Math.floor(n.x*o),Math.floor(n.y*o),Math.floor(n.width*o),Math.floor(n.height*o),r.viewportValue.minDepth,r.viewportValue.maxDepth),a&&t.indexesGPU&&(i.setBindGroup(a.index,t.indexesGPU[e]),c.bindingGroups[a.index]=a.id),p(i,c)}}}else if(s.currentPass){if(void 0!==s.occlusionQuerySet){const e=s.lastOcclusionObject;e!==n&&(null!==e&&!0===e.occlusionTest&&(s.currentPass.endOcclusionQuery(),s.occlusionQueryIndex++),!0===n.occlusionTest&&(s.currentPass.beginOcclusionQuery(s.occlusionQueryIndex),s.occlusionQueryObjects[s.occlusionQueryIndex]=n),s.lastOcclusionObject=n)}p(s.currentPass,s.currentSets)}}needsRenderUpdate(e){const t=this.get(e),{object:n,material:i}=e,r=this.utils,a=r.getSampleCountRenderContext(e.context),o=r.getCurrentColorSpace(e.context),s=r.getCurrentColorFormat(e.context),l=r.getCurrentDepthStencilFormat(e.context),c=r.getPrimitiveTopology(n,i);let u=!1;return t.material===i&&t.materialVersion===i.version&&t.transparent===i.transparent&&t.blending===i.blending&&t.premultipliedAlpha===i.premultipliedAlpha&&t.blendSrc===i.blendSrc&&t.blendDst===i.blendDst&&t.blendEquation===i.blendEquation&&t.blendSrcAlpha===i.blendSrcAlpha&&t.blendDstAlpha===i.blendDstAlpha&&t.blendEquationAlpha===i.blendEquationAlpha&&t.colorWrite===i.colorWrite&&t.depthWrite===i.depthWrite&&t.depthTest===i.depthTest&&t.depthFunc===i.depthFunc&&t.stencilWrite===i.stencilWrite&&t.stencilFunc===i.stencilFunc&&t.stencilFail===i.stencilFail&&t.stencilZFail===i.stencilZFail&&t.stencilZPass===i.stencilZPass&&t.stencilFuncMask===i.stencilFuncMask&&t.stencilWriteMask===i.stencilWriteMask&&t.side===i.side&&t.alphaToCoverage===i.alphaToCoverage&&t.sampleCount===a&&t.colorSpace===o&&t.colorFormat===s&&t.depthStencilFormat===l&&t.primitiveTopology===c&&t.clippingContextCacheKey===e.clippingContextCacheKey||(t.material=i,t.materialVersion=i.version,t.transparent=i.transparent,t.blending=i.blending,t.premultipliedAlpha=i.premultipliedAlpha,t.blendSrc=i.blendSrc,t.blendDst=i.blendDst,t.blendEquation=i.blendEquation,t.blendSrcAlpha=i.blendSrcAlpha,t.blendDstAlpha=i.blendDstAlpha,t.blendEquationAlpha=i.blendEquationAlpha,t.colorWrite=i.colorWrite,t.depthWrite=i.depthWrite,t.depthTest=i.depthTest,t.depthFunc=i.depthFunc,t.stencilWrite=i.stencilWrite,t.stencilFunc=i.stencilFunc,t.stencilFail=i.stencilFail,t.stencilZFail=i.stencilZFail,t.stencilZPass=i.stencilZPass,t.stencilFuncMask=i.stencilFuncMask,t.stencilWriteMask=i.stencilWriteMask,t.side=i.side,t.alphaToCoverage=i.alphaToCoverage,t.sampleCount=a,t.colorSpace=o,t.colorFormat=s,t.depthStencilFormat=l,t.primitiveTopology=c,t.clippingContextCacheKey=e.clippingContextCacheKey,u=!0),u}getRenderCacheKey(e){const{object:t,material:n}=e,i=this.utils,r=e.context;return[n.transparent,n.blending,n.premultipliedAlpha,n.blendSrc,n.blendDst,n.blendEquation,n.blendSrcAlpha,n.blendDstAlpha,n.blendEquationAlpha,n.colorWrite,n.depthWrite,n.depthTest,n.depthFunc,n.stencilWrite,n.stencilFunc,n.stencilFail,n.stencilZFail,n.stencilZPass,n.stencilFuncMask,n.stencilWriteMask,n.side,i.getSampleCountRenderContext(r),i.getCurrentColorSpace(r),i.getCurrentColorFormat(r),i.getCurrentDepthStencilFormat(r),i.getPrimitiveTopology(t,n),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,n,i,r,a){return this.textureUtils.copyTextureToBuffer(e,t,n,i,r,a)}initTimestampQuery(e,t){if(!this.trackTimestamp)return;const n=e.isComputeNode?"compute":"render";this.timestampQueryPool[n]||(this.timestampQueryPool[n]=new dee(this.device,n,2048));const i=this.timestampQueryPool[n],r=i.allocateQueriesForContext(e);t.timestampWrites={querySet:i.querySet,beginningOfPassWriteIndex:r,endOfPassWriteIndex:r+1}}createNodeBuilder(e,t){return new iee(e,t)}createProgram(e){this.get(e).module={module:this.device.createShaderModule({code:e.code,label:e.stage+(""!==e.name?"_".concat(e.name):"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){this.pipelineUtils.createRenderPipeline(e,t)}createComputePipeline(e,t){this.pipelineUtils.createComputePipeline(e,t)}beginBundle(e){const t=this.get(e);t._currentPass=t.currentPass,t._currentSets=t.currentSets,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,t){const n=this.get(e),i=n.currentPass.finish();this.get(t).bundleGPU=i,n.currentSets=n._currentSets,n.currentPass=n._currentPass}addBundle(e,t){this.get(e).renderBundles.push(this.get(t).bundleGPU)}createBindings(e,t,n,i){this.bindingUtils.createBindings(e,t,n,i)}updateBindings(e,t,n,i){this.bindingUtils.createBindings(e,t,n,i)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(e){return this.device.features.has(e)}copyTextureToTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=0,s=0,l=0,c=0,u=0,d=0,h=e.image.width,p=e.image.height,m=1;null!==n&&(!0===n.isBox3?(c=n.min.x,u=n.min.y,d=n.min.z,h=n.max.x-n.min.x,p=n.max.y-n.min.y,m=n.max.z-n.min.z):(c=n.min.x,u=n.min.y,h=n.max.x-n.min.x,p=n.max.y-n.min.y,m=1)),null!==i&&(o=i.x,s=i.y,l=i.z||0);const f=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+t.id}),A=this.get(e).texture,g=this.get(t).texture;f.copyTextureToTexture({texture:A,mipLevel:r,origin:{x:c,y:u,z:d}},{texture:g,mipLevel:a,origin:{x:o,y:s,z:l}},[h,p,m]),this.device.queue.submit([f.finish()]),0===a&&t.generateMipmaps&&this.textureUtils.generateMipmaps(t)}copyFramebufferToTexture(e,t,n){const i=this.get(t);let r=null;r=t.renderTarget?e.isDepthTexture?this.get(t.depthTexture).texture:this.get(t.textures[0]).texture:e.isDepthTexture?this.textureUtils.getDepthBuffer(t.depth,t.stencil):this.context.getCurrentTexture();const a=this.get(e).texture;if(r.format!==a.format)return void console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",r.format,a.format);let o;if(i.currentPass?(i.currentPass.end(),o=i.encoder):o=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),o.copyTextureToTexture({texture:r,origin:[n.x,n.y,0]},{texture:a},[n.z,n.w]),i.currentPass){const{descriptor:e}=i;for(let t=0;t<e.colorAttachments.length;t++)e.colorAttachments[t].loadOp=F6;if(t.depth&&(e.depthStencilAttachment.depthLoadOp=F6),t.stencil&&(e.depthStencilAttachment.stencilLoadOp=F6),i.currentPass=o.beginRenderPass(e),i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.viewport&&this.updateViewport(t),t.scissor){const{x:e,y:n,width:r,height:a}=t.scissorValue;i.currentPass.setScissorRect(e,n,r,a)}}else this.device.queue.submit([o.finish()]);e.generateMipmaps&&this.textureUtils.generateMipmaps(e)}}class pee extends Lm{constructor(e,t,n,i,r,a){super(e,t,n,i,r,a),this.iesMap=null}copy(e,t){return super.copy(e,t),this.iesMap=e.iesMap,this}}class mee extends Lm{constructor(e,t,n,i,r,a){super(e,t,n,i,r,a),this.aspect=null}copy(e,t){return super.copy(e,t),this.aspect=e.aspect,this}}class fee extends d5{constructor(){super(),this.addMaterial(lK,"MeshPhongMaterial"),this.addMaterial(XZ,"MeshStandardMaterial"),this.addMaterial(ZZ,"MeshPhysicalMaterial"),this.addMaterial(tJ,"MeshToonMaterial"),this.addMaterial($X,"MeshBasicMaterial"),this.addMaterial(oK,"MeshLambertMaterial"),this.addMaterial(UX,"MeshNormalMaterial"),this.addMaterial(aJ,"MeshMatcapMaterial"),this.addMaterial(RX,"LineBasicMaterial"),this.addMaterial(IX,"LineDashedMaterial"),this.addMaterial(dJ,"PointsMaterial"),this.addMaterial(cJ,"SpriteMaterial"),this.addMaterial(mJ,"ShadowMaterial"),this.addLight(P2,Um),this.addLight(F4,zm),this.addLight(j4,Gm),this.addLight(z4,Lm),this.addLight(W4,qm),this.addLight(Q4,Cm),this.addLight(Y4,Wm),this.addLight(q4,pee),this.addLight(H4,mee),this.addToneMapping(q0,rr),this.addToneMapping(G0,ar),this.addToneMapping(H0,or),this.addToneMapping(Q0,sr),this.addToneMapping(Z0,cr),this.addToneMapping(J0,ur)}}class Aee extends D5{constructor(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.forceWebGL?e=w6:(e=hee,t.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new w6(t)));super(new e(t),t),this.library=new fee,this.isWebGPURenderer=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}e4.BRDF_GGX,e4.BRDF_Lambert,e4.BasicShadowFilter,e4.Break,e4.Continue,e4.DFGApprox,e4.D_GGX,e4.Discard,e4.EPSILON,e4.F_Schlick;const gee=e4.Fn,vee=(e4.INFINITY,e4.If),yee=(e4.Switch,e4.Loop),bee=(e4.NodeShaderStage,e4.NodeType,e4.NodeUpdateType,e4.NodeAccess,e4.PCFShadowFilter,e4.PCFSoftShadowFilter,e4.PI,e4.PI2,e4.Return,e4.Schlick_to_F0,e4.ScriptableNodeResources,e4.ShaderNode,e4.TBNViewMatrix,e4.VSMShadowFilter,e4.V_GGX_SmithCorrelated,e4.abs,e4.acesFilmicToneMapping,e4.acos,e4.add,e4.addNodeElement,e4.agxToneMapping,e4.all,e4.alphaT,e4.and,e4.anisotropy,e4.anisotropyB,e4.anisotropyT,e4.any,e4.append,e4.array,e4.arrayBuffer,e4.asin),xee=(e4.assign,e4.atan,e4.atan2,e4.atomicAdd,e4.atomicAnd,e4.atomicFunc,e4.atomicMax,e4.atomicMin,e4.atomicOr,e4.atomicStore,e4.atomicSub,e4.atomicXor,e4.atomicLoad,e4.attenuationColor,e4.attenuationDistance,e4.attribute,e4.attributeArray,e4.backgroundBlurriness,e4.backgroundIntensity,e4.backgroundRotation,e4.batch,e4.billboarding,e4.bitAnd,e4.bitNot,e4.bitOr,e4.bitXor,e4.bitangentGeometry,e4.bitangentLocal,e4.bitangentView,e4.bitangentWorld,e4.bitcast,e4.blendBurn,e4.blendColor,e4.blendDodge,e4.blendOverlay,e4.blendScreen,e4.blur,e4.bool,e4.buffer,e4.bufferAttribute,e4.bumpMap,e4.burn,e4.bvec2,e4.bvec3,e4.bvec4,e4.bypass,e4.cache,e4.call,e4.cameraFar,e4.cameraIndex,e4.cameraNear,e4.cameraNormalMatrix,e4.cameraPosition,e4.cameraProjectionMatrix,e4.cameraProjectionMatrixInverse,e4.cameraViewMatrix,e4.cameraWorldMatrix,e4.cbrt,e4.cdl,e4.ceil,e4.checker,e4.cineonToneMapping,e4.clamp,e4.clearcoat,e4.clearcoatRoughness,e4.code,e4.color,e4.colorSpaceToWorking,e4.colorToDirection,e4.compute,e4.computeSkinning,e4.cond,e4.Const,e4.context,e4.convert,e4.convertColorSpace,e4.convertToTexture,e4.cos),wee=(e4.cross,e4.cubeTexture,e4.dFdx,e4.dFdy,e4.dashSize,e4.debug,e4.decrement,e4.decrementBefore,e4.defaultBuildStages,e4.defaultShaderStages,e4.defined,e4.degrees,e4.deltaTime,e4.densityFog,e4.densityFogFactor,e4.depth,e4.depthPass,e4.difference,e4.diffuseColor,e4.directPointLight,e4.directionToColor,e4.dispersion,e4.distance,e4.div,e4.dodge,e4.dot,e4.drawIndex,e4.dynamicBufferAttribute,e4.element,e4.emissive,e4.equal,e4.equals,e4.equirectUV,e4.exp),Tee=(e4.exp2,e4.expression,e4.faceDirection,e4.faceForward,e4.faceforward,e4.float),_ee=(e4.floor,e4.fog,e4.fract,e4.frameGroup,e4.frameId,e4.frontFacing,e4.fwidth,e4.gain,e4.gapSize,e4.getConstNodeType,e4.getCurrentStack,e4.getDirection,e4.getDistanceAttenuation,e4.getGeometryRoughness,e4.getNormalFromDepth,e4.getParallaxCorrectNormal,e4.getRoughness,e4.getScreenPosition,e4.getShIrradianceAt,e4.getTextureIndex,e4.getViewPosition,e4.getShadowMaterial,e4.getShadowRenderObjectFunction,e4.glsl,e4.glslFn,e4.grayscale,e4.greaterThan,e4.greaterThanEqual,e4.hash,e4.highpModelNormalViewMatrix,e4.highpModelViewMatrix,e4.hue,e4.increment,e4.incrementBefore,e4.instance,e4.instanceIndex),See=(e4.instancedArray,e4.instancedBufferAttribute,e4.instancedDynamicBufferAttribute,e4.instancedMesh,e4.int,e4.inverseSqrt,e4.inversesqrt,e4.invocationLocalIndex,e4.invocationSubgroupIndex,e4.ior,e4.iridescence,e4.iridescenceIOR,e4.iridescenceThickness,e4.ivec2,e4.ivec3,e4.ivec4,e4.js,e4.label,e4.length,e4.lengthSq,e4.lessThan,e4.lessThanEqual,e4.lightPosition,e4.lightShadowMatrix,e4.lightTargetDirection,e4.lightTargetPosition,e4.lightViewPosition,e4.lightingContext,e4.lights,e4.linearDepth,e4.linearToneMapping,e4.localId,e4.globalId,e4.log,e4.log2,e4.logarithmicDepthToViewZ,e4.loop,e4.luminance,e4.mediumpModelViewMatrix,e4.mat2,e4.mat3,e4.mat4,e4.matcapUV,e4.materialAO,e4.materialAlphaTest,e4.materialAnisotropy,e4.materialAnisotropyVector,e4.materialAttenuationColor,e4.materialAttenuationDistance,e4.materialClearcoat,e4.materialClearcoatNormal,e4.materialClearcoatRoughness,e4.materialColor,e4.materialDispersion,e4.materialEmissive,e4.materialIOR,e4.materialIridescence,e4.materialIridescenceIOR,e4.materialIridescenceThickness,e4.materialLightMap,e4.materialLineDashOffset,e4.materialLineDashSize,e4.materialLineGapSize,e4.materialLineScale,e4.materialLineWidth,e4.materialMetalness,e4.materialNormal,e4.materialOpacity,e4.materialPointSize,e4.materialReference,e4.materialReflectivity,e4.materialRefractionRatio,e4.materialRotation,e4.materialRoughness,e4.materialSheen,e4.materialSheenRoughness,e4.materialShininess,e4.materialSpecular,e4.materialSpecularColor,e4.materialSpecularIntensity,e4.materialSpecularStrength,e4.materialThickness,e4.materialTransmission,e4.max,e4.maxMipLevel,e4.metalness,e4.min,e4.mix,e4.mixElement,e4.mod,e4.modInt,e4.modelDirection,e4.modelNormalMatrix,e4.modelPosition,e4.modelRadius,e4.modelScale,e4.modelViewMatrix,e4.modelViewPosition,e4.modelViewProjection,e4.modelWorldMatrix,e4.modelWorldMatrixInverse,e4.morphReference,e4.mrt,e4.mul,e4.mx_aastep,e4.mx_cell_noise_float,e4.mx_contrast,e4.mx_fractal_noise_float,e4.mx_fractal_noise_vec2,e4.mx_fractal_noise_vec3,e4.mx_fractal_noise_vec4,e4.mx_hsvtorgb,e4.mx_noise_float,e4.mx_noise_vec3,e4.mx_noise_vec4,e4.mx_ramplr,e4.mx_ramptb,e4.mx_rgbtohsv,e4.mx_safepower,e4.mx_splitlr,e4.mx_splittb,e4.mx_srgb_texture_to_lin_rec709,e4.mx_transform_uv,e4.mx_worley_noise_float,e4.mx_worley_noise_vec2,e4.mx_worley_noise_vec3,e4.namespace,e4.negate),Mee=(e4.neutralToneMapping,e4.nodeArray,e4.nodeImmutable,e4.nodeObject,e4.nodeObjects,e4.nodeProxy,e4.normalFlat,e4.normalGeometry,e4.normalLocal,e4.normalMap,e4.normalView,e4.normalWorld,e4.normalize,e4.not,e4.notEqual,e4.numWorkgroups,e4.objectDirection,e4.objectGroup,e4.objectPosition,e4.objectRadius,e4.objectScale,e4.objectViewPosition,e4.objectWorldMatrix,e4.oneMinus,e4.or,e4.orthographicDepthToViewZ,e4.oscSawtooth,e4.oscSine,e4.oscSquare,e4.oscTriangle,e4.output,e4.outputStruct,e4.overlay,e4.overloadingFn,e4.parabola,e4.parallaxDirection,e4.parallaxUV,e4.parameter,e4.pass,e4.passTexture,e4.pcurve,e4.perspectiveDepthToViewZ,e4.pmremTexture,e4.pointUV,e4.pointWidth,e4.positionGeometry,e4.positionLocal,e4.positionPrevious,e4.positionView,e4.positionViewDirection,e4.positionWorld,e4.positionWorldDirection,e4.posterize,e4.pow,e4.pow2,e4.pow3,e4.pow4,e4.premult,e4.property,e4.radians,e4.rand,e4.range,e4.rangeFog,e4.rangeFogFactor,e4.reciprocal,e4.lightProjectionUV,e4.reference,e4.referenceBuffer,e4.reflect,e4.reflectVector,e4.reflectView,e4.reflector,e4.refract,e4.refractVector,e4.refractView,e4.reinhardToneMapping,e4.remainder,e4.remap,e4.remapClamp,e4.renderGroup,e4.renderOutput,e4.rendererReference,e4.rotate,e4.rotateUV,e4.roughness,e4.round,e4.rtt,e4.sRGBTransferEOTF,e4.sRGBTransferOETF,e4.sampler,e4.samplerComparison,e4.saturate,e4.saturation,e4.screen,e4.screenCoordinate,e4.screenSize,e4.screenUV,e4.scriptable,e4.scriptableValue,e4.select,e4.setCurrentStack,e4.shaderStages,e4.shadow,e4.pointShadow,e4.shadowPositionWorld,e4.sharedUniformGroup,e4.shapeCircle,e4.sheen,e4.sheenRoughness,e4.shiftLeft,e4.shiftRight,e4.shininess,e4.sign,e4.sin),Eee=(e4.sinc,e4.skinning,e4.smoothstep,e4.smoothstepElement,e4.specularColor,e4.specularF90,e4.spherizeUV,e4.split,e4.spritesheetUV,e4.sqrt),Cee=(e4.stack,e4.step,e4.storage),Pee=(e4.storageBarrier,e4.storageObject,e4.storageTexture,e4.string,e4.struct,e4.sub,e4.subgroupIndex,e4.subgroupSize,e4.tan,e4.tangentGeometry,e4.tangentLocal,e4.tangentView,e4.tangentWorld,e4.temp,e4.texture,e4.texture3D,e4.textureBarrier,e4.textureBicubic,e4.textureCubeUV,e4.textureLoad,e4.textureSize,e4.textureStore,e4.thickness,e4.time,e4.timerDelta,e4.timerGlobal,e4.timerLocal,e4.toneMapping,e4.toneMappingExposure,e4.toonOutlinePass,e4.transformDirection,e4.transformNormal,e4.transformNormalToView,e4.transformedBentNormalView,e4.transformedBitangentView,e4.transformedBitangentWorld,e4.transformedClearcoatNormalView,e4.transformedNormalView,e4.transformedNormalWorld,e4.transformedTangentView,e4.transformedTangentWorld,e4.transmission,e4.transpose,e4.triNoise3D,e4.triplanarTexture,e4.triplanarTextures,e4.trunc,e4.tslFn,e4.uint,e4.uniform),Nee=(e4.uniformCubeTexture,e4.uniformArray,e4.uniformGroup,e4.uniformTexture,e4.uniforms,e4.unpremult,e4.userData,e4.uv,e4.uvec2,e4.uvec3,e4.uvec4,e4.Var,e4.varying,e4.varyingProperty,e4.vec2,e4.vec3,e4.vec4,e4.vectorComponents,e4.velocity,e4.vertexColor,e4.vertexIndex,e4.vibrance,e4.viewZToLogarithmicDepth,e4.viewZToOrthographicDepth,e4.viewZToPerspectiveDepth,e4.viewport,e4.viewportBottomLeft,e4.viewportCoordinate,e4.viewportDepthTexture,e4.viewportLinearDepth,e4.viewportMipTexture,e4.viewportResolution,e4.viewportSafeUV,e4.viewportSharedTexture,e4.viewportSize,e4.viewportTexture,e4.viewportTopLeft,e4.viewportUV,e4.wgsl,e4.wgslFn,e4.workgroupArray,e4.workgroupBarrier,e4.workgroupId,e4.workingToColorSpace,e4.xor,new Os),Ree=new as;class Dee extends Xm{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new Sc([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new Sc([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new qf(t,6,1);return this.setAttribute("instanceStart",new Au(n,3,0)),this.setAttribute("instanceEnd",new Au(n,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new qf(t,6,1);return this.setAttribute("instanceColorStart",new Au(n,3,0)),this.setAttribute("instanceColorEnd",new Au(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new Ip(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Os);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),Nee.setFromBufferAttribute(t),this.boundingBox.union(Nee))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new nl),null===this.boundingBox&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let i=0;for(let r=0,a=e.count;r<a;r++)Ree.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Ree)),Ree.fromBufferAttribute(t,r),i=Math.max(i,n.distanceToSquared(Ree));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}jA.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new is(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},zA.line={uniforms:Zc.merge([jA.common,jA.fog,jA.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tworldStart = start.xyz;\n\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t#else\n\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );\n\t\t\t\tvec3 worldUp = normalize( cross( worldDir, tmpFwd ) );\n\t\t\t\tvec3 worldFwd = cross( worldDir, worldUp );\n\t\t\t\tworldPos = position.y < 0.5 ? start: end;\n\n\t\t\t\t// height offset\n\t\t\t\tfloat hw = linewidth * 0.5;\n\t\t\t\tworldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// cap extension\n\t\t\t\t\tworldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;\n\n\t\t\t\t\t// add width to the box\n\t\t\t\t\tworldPos.xyz += worldFwd * hw;\n\n\t\t\t\t\t// endcaps\n\t\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\t\tworldPos.xyz -= worldFwd * 2.0 * hw;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segments overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\toffset += - dir;\n\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\toffset += dir;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\n\t\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tfloat alpha = opacity;\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};class Iee extends Jc{constructor(e){super({type:"LineMaterial",uniforms:Zc.clone(zA.line.uniforms),vertexShader:zA.line.vertexShader,fragmentShader:zA.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){!0===e?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){!0===e!==this.dashed&&(this.needsUpdate=!0),!0===e?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(!0===e!==this.alphaToCoverage&&(this.needsUpdate=!0),!0===e?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const Lee=new Rs,kee=new as,Bee=new as,Fee=new Rs,Oee=new Rs,Uee=new Rs,Vee=new as,jee=new dl,zee=new nA,qee=new as,Gee=new Os,Hee=new nl,Wee=new Rs;let Qee,Yee;function Xee(e,t,n){return Wee.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),Wee.multiplyScalar(1/Wee.w),Wee.x=Yee/n.width,Wee.y=Yee/n.height,Wee.applyMatrix4(e.projectionMatrixInverse),Wee.multiplyScalar(1/Wee.w),Math.abs(Math.max(Wee.x,Wee.y))}class Kee extends Hc{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dee,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Iee({color:16777215*Math.random()})),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let a=0,o=0,s=t.count;a<s;a++,o+=2)kee.fromBufferAttribute(t,a),Bee.fromBufferAttribute(n,a),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+kee.distanceTo(Bee);const r=new qf(i,2,1);return e.setAttribute("instanceDistanceStart",new Au(r,1,0)),e.setAttribute("instanceDistanceEnd",new Au(r,1,1)),this}raycast(e,t){const n=this.material.worldUnits,i=e.camera;null!==i||n||console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const r=void 0!==e.params.Line2&&e.params.Line2.threshold||0;Qee=e.ray;const a=this.matrixWorld,o=this.geometry,s=this.material;let l,c;if(Yee=s.linewidth+r,null===o.boundingSphere&&o.computeBoundingSphere(),Hee.copy(o.boundingSphere).applyMatrix4(a),n)l=.5*Yee;else{l=Xee(i,Math.max(i.near,Hee.distanceToPoint(Qee.origin)),s.resolution)}if(Hee.radius+=l,!1!==Qee.intersectsSphere(Hee)){if(null===o.boundingBox&&o.computeBoundingBox(),Gee.copy(o.boundingBox).applyMatrix4(a),n)c=.5*Yee;else{c=Xee(i,Math.max(i.near,Gee.distanceToPoint(Qee.origin)),s.resolution)}Gee.expandByScalar(c),!1!==Qee.intersectsBox(Gee)&&(n?function(e,t){const n=e.matrixWorld,i=e.geometry,r=i.attributes.instanceStart,a=i.attributes.instanceEnd;for(let o=0,s=Math.min(i.instanceCount,r.count);o<s;o++){zee.start.fromBufferAttribute(r,o),zee.end.fromBufferAttribute(a,o),zee.applyMatrix4(n);const i=new as,s=new as;Qee.distanceSqToSegment(zee.start,zee.end,s,i),s.distanceTo(i)<.5*Yee&&t.push({point:s,pointOnLine:i,distance:Qee.origin.distanceTo(s),object:e,face:null,faceIndex:o,uv:null,uv1:null})}}(this,t):function(e,t,n){const i=t.projectionMatrix,r=e.material.resolution,a=e.matrixWorld,o=e.geometry,s=o.attributes.instanceStart,l=o.attributes.instanceEnd,c=Math.min(o.instanceCount,s.count),u=-t.near;Qee.at(1,Uee),Uee.w=1,Uee.applyMatrix4(t.matrixWorldInverse),Uee.applyMatrix4(i),Uee.multiplyScalar(1/Uee.w),Uee.x*=r.x/2,Uee.y*=r.y/2,Uee.z=0,Vee.copy(Uee),jee.multiplyMatrices(t.matrixWorldInverse,a);for(let d=0,h=c;d<h;d++){if(Fee.fromBufferAttribute(s,d),Oee.fromBufferAttribute(l,d),Fee.w=1,Oee.w=1,Fee.applyMatrix4(jee),Oee.applyMatrix4(jee),Fee.z>u&&Oee.z>u)continue;if(Fee.z>u){const e=Fee.z-Oee.z,t=(Fee.z-u)/e;Fee.lerp(Oee,t)}else if(Oee.z>u){const e=Oee.z-Fee.z,t=(Oee.z-u)/e;Oee.lerp(Fee,t)}Fee.applyMatrix4(i),Oee.applyMatrix4(i),Fee.multiplyScalar(1/Fee.w),Oee.multiplyScalar(1/Oee.w),Fee.x*=r.x/2,Fee.y*=r.y/2,Oee.x*=r.x/2,Oee.y*=r.y/2,zee.start.copy(Fee),zee.start.z=0,zee.end.copy(Oee),zee.end.z=0;const t=zee.closestPointToPointParameter(Vee,!0);zee.at(t,qee);const o=ns.lerp(Fee.z,Oee.z,t),c=o>=-1&&o<=1,h=Vee.distanceTo(qee)<.5*Yee;if(c&&h){zee.start.fromBufferAttribute(s,d),zee.end.fromBufferAttribute(l,d),zee.start.applyMatrix4(a),zee.end.applyMatrix4(a);const t=new as,i=new as;Qee.distanceSqToSegment(zee.start,zee.end,i,t),n.push({point:i,pointOnLine:t,distance:Qee.origin.distanceTo(i),object:e,face:null,faceIndex:d,uv:null,uv1:null})}}}(this,i,t))}}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(Lee),this.material.uniforms.resolution.value.set(Lee.z,Lee.w))}}class Zee extends Dee{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setPositions(n),this}setColors(e){const t=e.length-3,n=new Float32Array(2*t);for(let i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setColors(n),this}setFromPoints(e){const t=e.length-1,n=new Float32Array(6*t);for(let i=0;i<t;i++)n[6*i]=e[i].x,n[6*i+1]=e[i].y,n[6*i+2]=e[i].z||0,n[6*i+3]=e[i+1].x,n[6*i+4]=e[i+1].y,n[6*i+5]=e[i+1].z||0;return super.setPositions(n),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class Jee extends Kee{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zee,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Iee({color:16777215*Math.random()})),this.isLine2=!0,this.type="Line2"}}class $ee extends bp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.font;if(void 0===n)super();else{const i=n.generateShapes(e,t.size);void 0===t.depth&&(t.depth=50),void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(i,t)}this.type="TextGeometry"}}class ete{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e){const t=[],n=function(e,t,n){const i=Array.from(e),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let s=0,l=0;for(let c=0;c<i.length;c++){const e=i[c];if("\n"===e)s=0,l-=a;else{const t=tte(e,r,s,l,n);s+=t.offsetX,o.push(t.path)}}return o}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,this.data);for(let i=0,r=n.length;i<r;i++)t.push(...n[i].toShapes());return t}}function tte(e,t,n,i,r){const a=r.glyphs[e]||r.glyphs["?"];if(!a)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");const o=new LA;let s,l,c,u,d,h,p,m;if(a.o){const e=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let r=0,a=e.length;r<a;){switch(e[r++]){case"m":s=e[r++]*t+n,l=e[r++]*t+i,o.moveTo(s,l);break;case"l":s=e[r++]*t+n,l=e[r++]*t+i,o.lineTo(s,l);break;case"q":c=e[r++]*t+n,u=e[r++]*t+i,d=e[r++]*t+n,h=e[r++]*t+i,o.quadraticCurveTo(d,h,c,u);break;case"b":c=e[r++]*t+n,u=e[r++]*t+i,d=e[r++]*t+n,h=e[r++]*t+i,p=e[r++]*t+n,m=e[r++]*t+i,o.bezierCurveTo(d,h,p,m,c,u)}}}return{offsetX:a.ha*t,path:o}}new as,new dl,new dl,new as,new as;function nte(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function ite(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function rte(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function ate(e,t,n){return t=mte(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ate()?Reflect.construct(t,n||[],mte(e).constructor):t.apply(e,n))}function ote(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ste(e,t){return e.get(ite(e,t))}function lte(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function cte(e,t,n){return e.set(ite(e,t),n),n}function ute(e,t,n){if(Ate())return Reflect.construct.apply(null,arguments);var i=[null];return i.push.apply(i,t),new(e.bind.apply(e,i))}function dte(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ste(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hte(e,t,n){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(){return pte="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=mte(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},pte.apply(null,arguments)}function mte(e){return mte=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mte(e)}function fte(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xte(e,t)}function Ate(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ate=function(){return!!e})()}function gte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function vte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gte(Object(n),!0).forEach(function(t){hte(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gte(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yte(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,i,r,a){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return bte(c,"_invoke",function(n,i,r){var a,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,s=0,l=e,h.n=n,o}};function p(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,a=u[t],p=h.p,m=a[2];n>3?(r=m===i)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((r=n<2&&p<a[1])?(s=0,h.v=i,h.n=a[1]):p<m&&(r=n<3||a[0]>i||i>m)&&(a[4]=n,a[5]=i,h.n=m,s=0))}if(r||n>1)return o;throw d=!0,i}return function(r,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),s=u,l=m;(t=s<2?e:l)||!d;){a||(s?s<3?(s>1&&(h.n=-1),p(s,l)):h.n=l:h.v=l);try{if(c=2,a){if(s||(r="next"),t=a[r]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);a=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(bte(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,bte(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,bte(d,"constructor",c),bte(c,"constructor",l),l.displayName="GeneratorFunction",bte(c,r,"GeneratorFunction"),bte(d),bte(d,r,"Generator"),bte(d,i,function(){return this}),bte(d,"toString",function(){return"[object Generator]"}),(yte=function(){return{w:a,m:h}})()}function bte(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}bte=function(e,t,n,i){if(t)r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n;else{function a(t,n){bte(e,t,function(e){return this._invoke(t,n,e)})}a("next",0),a("throw",1),a("return",2)}},bte(e,t,n,i)}function xte(e,t){return xte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xte(e,t)}function wte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||Mte(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tte(e,t,n,i){var r=pte(mte(e.prototype),t,n);return"function"==typeof r?function(e){return r.apply(n,e)}:r}function _te(e){return function(e){if(Array.isArray(e))return nte(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mte(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ste(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Mte(e,t){if(e){if("string"==typeof e)return nte(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nte(e,t):void 0}}var Ete=function(e){e instanceof Array?e.forEach(Ete):(e.map&&e.map.dispose(),e.dispose())},Cte=function(e){e.geometry&&e.geometry.dispose(),e.material&&Ete(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(Cte)},Pte=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),Cte(t)}};function Nte(e,t){var n=new t;return{linkProp:function(t){return{default:n[t](),onChange:function(n,i){i[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var i=n[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var s=i[t].apply(i,a);return s===i?this:s}}}}var Rte=100;function Dte(){return Rte}function Ite(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180,a=Rte*(1+n),o=Math.sin(i);return{x:a*o*Math.cos(r),y:a*Math.cos(i),z:a*o*Math.sin(r)}}function Lte(e){var t=e.x,n=e.y,i=e.z,r=Math.sqrt(t*t+n*n+i*i),a=Math.acos(n/r),o=Math.atan2(i,t);return{lat:90-180*a/Math.PI,lng:90-180*o/Math.PI-(o<-Math.PI/2?360:0),altitude:r/Rte-1}}function kte(e){return e*Math.PI/180}var Bte=window.THREE?window.THREE:{BackSide:vi,BufferAttribute:Ac,Color:ic,Mesh:Hc,ShaderMaterial:Jc};var Fte=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.color,a=void 0===r?"gold":r,o=i.size,s=void 0===o?2:o,l=i.coefficient,c=void 0===l?.5:l,u=i.power,d=void 0===u?1:u,h=i.hollowRadius,p=void 0===h?0:h,m=i.backside,f=void 0===m||m;ote(this,t),n=ate(this,t);var A=function(e,t){for(var n=e.clone(),i=new Float32Array(3*e.attributes.position.count),r=0,a=i.length;r<a;r++){var o=e.attributes.normal.array[r],s=e.attributes.position.array[r];i[r]=s+o*t}return n.setAttribute("position",new Bte.BufferAttribute(i,3)),n}(e,s),g=function(e,t,n,i){return new Bte.ShaderMaterial({depthWrite:!1,transparent:!0,vertexShader:"\nuniform float hollowRadius;\n\nvarying vec3 vVertexWorldPosition;\nvarying vec3 vVertexNormal;\nvarying float vCameraDistanceToObjCenter;\nvarying float vVertexAngularDistanceToHollowRadius;\n\nvoid main() {    \n  vVertexNormal\t= normalize(normalMatrix * normal);\n  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  \n  vec4 objCenterViewPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n  vCameraDistanceToObjCenter = length(objCenterViewPosition);\n  \n  float edgeAngle = atan(hollowRadius / vCameraDistanceToObjCenter);\n  float vertexAngle = acos(dot(normalize(modelViewMatrix * vec4(position, 1.0)), normalize(objCenterViewPosition)));\n  vVertexAngularDistanceToHollowRadius = vertexAngle - edgeAngle;\n\n  gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:"\nuniform vec3 color;\nuniform float coefficient;\nuniform float power;\nuniform float hollowRadius;\n\nvarying vec3 vVertexNormal;\nvarying vec3 vVertexWorldPosition;\nvarying float vCameraDistanceToObjCenter;\nvarying float vVertexAngularDistanceToHollowRadius;\n\nvoid main() {\n  if (vCameraDistanceToObjCenter < hollowRadius) discard; // inside the hollowRadius\n  if (vVertexAngularDistanceToHollowRadius < 0.0) discard; // frag position is within the hollow radius\n\n  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;\n  vec3 viewCameraToVertex\t= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;\n  viewCameraToVertex = normalize(viewCameraToVertex);\n  float intensity\t= pow(\n    coefficient + dot(vVertexNormal, viewCameraToVertex),\n    power\n  );\n  gl_FragColor = vec4(color, intensity);\n}",uniforms:{coefficient:{value:e},color:{value:new Bte.Color(t)},power:{value:n},hollowRadius:{value:i}}})}(c,a,d,p);return f&&(g.side=Bte.BackSide),n.geometry=A,n.material=g,n}return fte(t,e),dte(t)}(Bte.Mesh),Ote=window.THREE?window.THREE:{Color:ic,Group:lu,LineBasicMaterial:kd,LineSegments:Qd,Mesh:Hc,MeshPhongMaterial:Vp,SphereGeometry:Cp,SRGBColorSpace:eo,TextureLoader:Mm},Ute=hN({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,t){t.globeGroup.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,t){t.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,t){t.atmosphereObj&&(t.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},globeCurvatureResolution:{default:4},globeTileEngineUrl:{onChange:function(e,t){t.tileEngine.tileUrl=e}},globeTileEngineMaxLevel:{default:17,onChange:function(e,t){t.tileEngine.maxLevel=e},triggerUpdate:!1},updatePov:{onChange:function(e,t){t.tileEngine.updatePov(e)},triggerUpdate:!1},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,t){return void 0!==t?(e.globeObj.material=t||e.defaultGlobeMaterial,this):e.globeObj.material},_destructor:function(e){Pte(e.globeObj),Pte(e.tileEngine),Pte(e.graticulesObj)}},stateInit:function(){var e=new Ote.MeshPhongMaterial({color:0}),t=new Ote.Mesh(void 0,e);t.rotation.y=-Math.PI/2;var n=new vI(Rte),i=new Ote.Group;return i.__globeObjType="globe",i.add(t),i.add(n),{globeGroup:i,globeObj:t,graticulesObj:new Ote.LineSegments(new ML(IL(),Rte,2),new Ote.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1})),defaultGlobeMaterial:e,tileEngine:n}},init:function(e,t){Pte(e),t.scene=e,t.scene.add(t.globeGroup),t.scene.add(t.graticulesObj),t.ready=!1},update:function(e,t){var n=e.globeObj.material;if(e.tileEngine.visible=!(e.globeObj.visible=!e.globeTileEngineUrl),t.hasOwnProperty("globeCurvatureResolution")){var i;null===(i=e.globeObj.geometry)||void 0===i||i.dispose();var r=Math.max(4,Math.round(360/e.globeCurvatureResolution));e.globeObj.geometry=new Ote.SphereGeometry(Rte,r,r/2),e.tileEngine.curvatureResolution=e.globeCurvatureResolution}if(t.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?(new Ote.TextureLoader).load(e.globeImageUrl,function(t){t.colorSpace=Ote.SRGBColorSpace,n.map=t,n.color=null,n.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)}):!n.color&&(n.color=new Ote.Color(0))),t.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&(new Ote.TextureLoader).load(e.bumpImageUrl,function(e){n.bumpMap=e,n.needsUpdate=!0}):(n.bumpMap=null,n.needsUpdate=!0)),(t.hasOwnProperty("atmosphereColor")||t.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),Pte(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var a=e.atmosphereObj=new Fte(e.globeObj.geometry,{color:e.atmosphereColor,size:Rte*e.atmosphereAltitude,hollowRadius:Rte,coefficient:.1,power:3.5});a.visible=!!e.showAtmosphere,a.__globeObjType="atmosphere",e.scene.add(a)}e.ready||e.globeImageUrl&&!e.globeTileEngineUrl||(e.ready=!0,e.onReady())}}),Vte=function(e){return isNaN(e)?parseInt(ZL(e).toHex(),16):e},jte=function(e){return e&&isNaN(e)?sR(e).opacity:1},zte=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1,a=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.eE+-]+)\s*\)$/.exec(e.trim().toLowerCase());if(a){var o=wte(a.slice(1),4),s=o[0],l=o[1],c=o[2],u=o[3];t=new ic("rgb(".concat(+s,",").concat(+l,",").concat(+c,")")),r=Math.min(+u,1)}else t=new ic(e);i&&t.convertLinearToSRGB();var d=t.toArray();return n?[].concat(_te(d),[r]):d};var qte=window.THREE?window.THREE:{BufferAttribute:Ac};function Gte(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(1===t)return new qte.BufferAttribute(new n(e),t);for(var i=new qte.BufferAttribute(new n(e.length*t),t),r=0,a=e.length;r<a;r++)i.set(e[r],r*t);return i}var Hte=new WeakMap,Wte=new WeakMap,Qte=new WeakMap,Yte=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.dataBindAttr,a=void 0===r?"__data":r,o=i.objBindAttr,s=void 0===o?"__threeObj":o,l=i.removeDelay,c=void 0===l?0:l;return ote(this,t),hte(n=ate(this,t),"scene",void 0),lte(n,Hte,void 0),lte(n,Wte,void 0),lte(n,Qte,void 0),n.scene=e,cte(Hte,n,a),cte(Wte,n,s),cte(Qte,n,c),n.onRemoveObj(function(){}),n}return fte(t,e),dte(t,[{key:"onCreateObj",value:function(e){var n=this;return Tte(t,"onCreateObj",this)([function(t){var i=e(t);return t[ste(Wte,n)]=i,i[ste(Hte,n)]=t,n.scene.add(i),i}]),this}},{key:"onRemoveObj",value:function(e){var n=this;return Tte(t,"onRemoveObj",this)([function(i,r){var a=Tte(t,"getData",n)([i]);e(i,r);var o=function(){n.scene.remove(i),Pte(i),delete a[ste(Wte,n)]};ste(Qte,n)?setTimeout(o,ste(Qte,n)):o()}]),this}}])}(zk),Xte=window.THREE?window.THREE:{BufferGeometry:Ic,CylinderGeometry:hh,Matrix4:dl,Mesh:Hc,MeshLambertMaterial:qp,Object3D:Ol,Vector3:as},Kte=Object.assign({},t),Zte=Kte.BufferGeometryUtils||Kte,Jte=hN({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjPoint"})},update:function(e,t){var n=QL(e.pointLat),i=QL(e.pointLng),r=QL(e.pointAltitude),a=QL(e.pointRadius),o=QL(e.pointColor),s=new Xte.CylinderGeometry(1,1,1,e.pointResolution);s.applyMatrix4((new Xte.Matrix4).makeRotationX(Math.PI/2)),s.applyMatrix4((new Xte.Matrix4).makeTranslation(0,0,-.5));var l=2*Math.PI*Rte/360,c={};if(!e.pointsMerge&&t.hasOwnProperty("pointsMerge")&&Pte(e.scene),e.dataMapper.scene=e.pointsMerge?new Xte.Object3D:e.scene,e.dataMapper.onCreateObj(function(){var e=new Xte.Mesh(s);return e.__globeObjType="point",e}).onUpdateObj(function(t,s){var u=function(n){var i=t.__currentTargetD=n,r=i.r,a=i.alt,o=i.lat,s=i.lng;Object.assign(t.position,Ite(o,s));var c=e.pointsMerge?new Xte.Vector3(0,0,0):e.scene.localToWorld(new Xte.Vector3(0,0,0));t.lookAt(c),t.scale.x=t.scale.y=Math.min(30,r)*l,t.scale.z=Math.max(a*Rte,.1)},d={alt:+r(s),r:+a(s),lat:+n(s),lng:+i(s)},h=t.__currentTargetD||Object.assign({},d,{alt:-.001});Object.keys(d).some(function(e){return h[e]!==d[e]})&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?u(d):e.tweenGroup.add(new yN(h).to(d,e.pointsTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(u).start()));if(!e.pointsMerge){var p=o(s),m=p?jte(p):0,f=!!m;t.visible=f,f&&(c.hasOwnProperty(p)||(c[p]=new Xte.MeshLambertMaterial({color:Vte(p),transparent:m<1,opacity:m})),t.material=c[p])}}).digest(e.pointsData),e.pointsMerge){var u=e.pointsData.length?(Zte.mergeGeometries||Zte.mergeBufferGeometries)(e.pointsData.map(function(t){var n=e.dataMapper.getObj(t),i=n.geometry.clone();n.updateMatrix(),i.applyMatrix4(n.matrix);var r=zte(o(t));return i.setAttribute("color",Gte(Array(i.getAttribute("position").count).fill(r),4)),i})):new Xte.BufferGeometry,d=new Xte.Mesh(u,new Xte.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0}));d.__globeObjType="points",d.__data=e.pointsData,e.dataMapper.clear(),Pte(e.scene),e.scene.add(d)}}}),$te=function(){return{uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:"\n    ".concat(VA.common,"\n    ").concat(VA.logdepthbuf_pars_vertex,"\n  \n    uniform float dashTranslate; \n\n    attribute vec4 color;\n    varying vec4 vColor;\n    \n    attribute float relDistance;\n    varying float vRelDistance;\n\n    void main() {\n      // pass through colors and distances\n      vColor = color;\n      vRelDistance = relDistance + dashTranslate;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  \n      ").concat(VA.logdepthbuf_vertex,"\n    }\n  "),fragmentShader:"\n    ".concat(VA.logdepthbuf_pars_fragment,"\n\n    uniform float dashOffset; \n    uniform float dashSize;\n    uniform float gapSize; \n    \n    varying vec4 vColor;\n    varying float vRelDistance;\n    \n    void main() {\n      // ignore pixels in the gap\n      if (vRelDistance < dashOffset) discard;\n      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;\n    \n      // set px color: [r, g, b, a], interpolated between vertices \n      gl_FragColor = vColor; \n  \n      ").concat(VA.logdepthbuf_fragment,"\n    }\n  ")}},ene=function(e){return e.uniforms.surfaceRadius={type:"float",value:0},e.vertexShader=("attribute float surfaceRadius;\nvarying float vSurfaceRadius;\nvarying vec3 vPos;\n"+e.vertexShader).replace("void main() {",["void main() {","vSurfaceRadius = surfaceRadius;","vPos = position;"].join("\n")),e.fragmentShader=("uniform float surfaceRadius;\nvarying float vSurfaceRadius;\nvarying vec3 vPos;\n"+e.fragmentShader).replace("void main() {",["void main() {","if (length(vPos) < max(surfaceRadius, vSurfaceRadius)) discard;"].join("\n")),e},tne=function(e){return e.vertexShader="\n    attribute float r;\n    \n    const float PI = 3.1415926535897932384626433832795;\n    float toRad(in float a) {\n      return a * PI / 180.0;\n    }\n    \n    vec3 Polar2Cartesian(in vec3 c) { // [lat, lng, r]\n      float phi = toRad(90.0 - c.x);\n      float theta = toRad(90.0 - c.y);\n      float r = c.z;\n      return vec3( // x,y,z\n        r * sin(phi) * cos(theta),\n        r * cos(phi),\n        r * sin(phi) * sin(theta)\n      );\n    }\n    \n    vec2 Cartesian2Polar(in vec3 p) {\n      float r = sqrt(p.x * p.x + p.y * p.y + p.z * p.z);\n      float phi = acos(p.y / r);\n      float theta = atan(p.z, p.x);\n      return vec2( // lat,lng\n        90.0 - phi * 180.0 / PI,\n        90.0 - theta * 180.0 / PI - (theta < -PI / 2.0 ? 360.0 : 0.0)\n      );\n    }\n    ".concat(e.vertexShader.replace("}","                  \n        vec3 pos = Polar2Cartesian(vec3(Cartesian2Polar(position), r));\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n      }\n    "),"\n  "),e},nne=function(e,t){return e.onBeforeCompile=function(n){e.userData.shader=t(n)},e},ine=["stroke"],rne=window.THREE?window.THREE:{BufferGeometry:Ic,CubicBezierCurve3:Lh,Curve:xh,Group:lu,Line:qd,Mesh:Hc,NormalBlending:xi,ShaderMaterial:Jc,TubeGeometry:Dp,Vector3:as},ane=qk.default||qk,one=hN({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;null===(t=e.ticker)||void 0===t||t.pause()},resumeAnimation:function(e){var t;null===(t=e.ticker)||void 0===t||t.resume()},_destructor:function(e){var t;e.sharedMaterial.dispose(),null===(t=e.ticker)||void 0===t||t.dispose()}},stateInit:function(e){return{tweenGroup:e.tweenGroup,ticker:new ane,sharedMaterial:new rne.ShaderMaterial(vte(vte({},$te()),{},{transparent:!0,blending:rne.NormalBlending}))}},init:function(e,t){Pte(e),t.scene=e,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjArc"}).onCreateObj(function(){var e=new rne.Group;return e.__globeObjType="arc",e}),t.ticker.onTick.add(function(e,n){t.dataMapper.entries().map(function(e){return wte(e,2)[1]}).filter(function(e){return e.children.length&&e.children[0].material&&e.children[0].__dashAnimateStep}).forEach(function(e){var t=e.children[0],i=t.__dashAnimateStep*n,r=t.material.uniforms.dashTranslate.value%1e9;t.material.uniforms.dashTranslate.value=r+i})})},update:function(e){var t=QL(e.arcStartLat),n=QL(e.arcStartLng),i=QL(e.arcEndLat),r=QL(e.arcEndLng),a=QL(e.arcAltitude),o=QL(e.arcAltitudeAutoScale),s=QL(e.arcStroke),l=QL(e.arcColor),c=QL(e.arcDashLength),u=QL(e.arcDashGap),d=QL(e.arcDashInitialGap),h=QL(e.arcDashAnimateTime);e.dataMapper.onUpdateObj(function(p,m){var f=s(m),A=null!==f&&void 0!==f;if(!p.children.length||A!==("Mesh"===p.children[0].type)){Pte(p);var g=A?new rne.Mesh:new rne.Line(new rne.BufferGeometry);g.material=e.sharedMaterial.clone(),p.add(g)}var v=p.children[0];Object.assign(v.material.uniforms,{dashSize:{value:c(m)},gapSize:{value:u(m)},dashOffset:{value:d(m)}});var y=h(m);v.__dashAnimateStep=y>0?1e3/y:0;var b=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t+1;if(e instanceof Array||e instanceof Function){var a=e instanceof Array?pD().domain(e.map(function(t,n){return n/(e.length-1)})).range(e):e;n=function(e){return zte(a(e),!0,!0)}}else{var o=zte(e,!0,!0);n=function(){return o}}for(var s=[],l=0,c=r;l<c;l++)for(var u=n(l/(c-1)),d=0;d<i;d++)s.push(u);return Gte(s,4)}(l(m),e.arcCurveResolution,A?e.arcCircularResolution+1:1),x=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=0,a=e+1;r<a;r++)for(var o=r/(a-1),s=0;s<t;s++)i.push(o);return n&&i.reverse(),Gte(i,1)}(e.arcCurveResolution,A?e.arcCircularResolution+1:1,!0);v.geometry.setAttribute("color",b),v.geometry.setAttribute("relDistance",x);var w=function(t){var n=p.__currentTargetD=t,i=n.stroke,r=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,ine),a=function(e){var t=e.alt,n=e.altAutoScale,i=e.startLat,r=e.startLng,a=e.endLat,o=e.endLng,s=function(e){var t=wte(e,3),n=t[0],i=Ite(t[1],n,t[2]),r=i.x,a=i.y,o=i.z;return new rne.Vector3(r,a,o)},l=[r,i],c=[o,a],u=t;if((null===u||void 0===u)&&(u=pL(l,c)/2*n),u){var d=mL(l,c),h=wte([.25,.75].map(function(e){return[].concat(_te(d(e)),[1.5*u])}),2),p=h[0],m=h[1];return ute(rne.CubicBezierCurve3,_te([l,p,m,c].map(s)))}var f=.001;return A.apply(void 0,_te([[].concat(l,[f]),[].concat(c,[f])].map(s)));function A(e,t){var n=e.angleTo(t),i=0===n?function(){return e.clone()}:function(i){return(new rne.Vector3).addVectors(e.clone().multiplyScalar(Math.sin((1-i)*n)),t.clone().multiplyScalar(Math.sin(i*n))).divideScalar(Math.sin(n))},r=new rne.Curve;return r.getPoint=i,r}}(r);A?(v.geometry&&v.geometry.dispose(),v.geometry=new rne.TubeGeometry(a,e.arcCurveResolution,i/2,e.arcCircularResolution),v.geometry.setAttribute("color",b),v.geometry.setAttribute("relDistance",x)):v.geometry.setFromPoints(a.getPoints(e.arcCurveResolution))},T={stroke:f,alt:a(m),altAutoScale:+o(m),startLat:+t(m),startLng:+n(m),endLat:+i(m),endLng:+r(m)},_=p.__currentTargetD||Object.assign({},T,{altAutoScale:-.001});Object.keys(T).some(function(e){return _[e]!==T[e]})&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?w(T):e.tweenGroup.add(new yN(_).to(T,e.arcsTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(w).start()))}).digest(e.arcsData)}}),sne=window.THREE?window.THREE:{BufferGeometry:Ic,DoubleSide:yi,Mesh:Hc,MeshLambertMaterial:qp,Object3D:Ol},lne=Object.assign({},t),cne=lne.BufferGeometryUtils||lne,une=hN({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){return.01*e.sumWeight}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjHexbin"})},update:function(e,t){var n=QL(e.hexBinPointLat),i=QL(e.hexBinPointLng),r=QL(e.hexBinPointWeight),a=QL(e.hexAltitude),o=QL(e.hexTopColor),s=QL(e.hexSideColor),l=QL(e.hexMargin),c=vU(e.hexBinPointsData.map(function(t){return vte(vte({},t),{},{h3Idx:JU(n(t),i(t),e.hexBinResolution)})}),"h3Idx"),u=Object.entries(c).map(function(e){var t=wte(e,2),n=t[0],i=t[1];return{h3Idx:n,points:i,sumWeight:i.reduce(function(e,t){return e+ +r(t)},0)}}),d={};if(!e.hexBinMerge&&t.hasOwnProperty("hexBinMerge")&&Pte(e.scene),e.dataMapper.scene=e.hexBinMerge?new sne.Object3D:e.scene,e.dataMapper.id(function(e){return e.h3Idx}).onCreateObj(function(e){var t=new sne.Mesh;t.__hexCenter=$U(e.h3Idx),t.__hexGeoJson=eV(e.h3Idx,!0).reverse();var n=t.__hexCenter[1];return t.__hexGeoJson.forEach(function(e){var t=e[0];Math.abs(n-t)>170&&(e[0]+=n>t?360:-360)}),t.__globeObjType="hexbin",t}).onUpdateObj(function(t,n){var i=Math.max(0,Math.min(1,+l(n))),r=wte(t.__hexCenter,2),c=r[0],u=r[1],h=0===i?t.__hexGeoJson:t.__hexGeoJson.map(function(e){var t=wte(e,2),n=t[0],r=t[1];return[[n,u],[r,c]].map(function(e){var t=wte(e,2);return function(e,t,n){return e-(e-t)*n}(t[0],t[1],i)})}),p=e.hexTopCurvatureResolution;t.geometry&&t.geometry.dispose(),t.geometry=new hU([h],0,Rte,!1,!0,!0,p);var m={alt:+a(n)},f=function(e){var n=(t.__currentTargetD=e).alt;t.scale.x=t.scale.y=t.scale.z=1+n;var i=Rte/(n+1);t.geometry.setAttribute("surfaceRadius",Gte(Array(t.geometry.getAttribute("position").count).fill(i),1))},A=t.__currentTargetD||Object.assign({},m,{alt:-.001});Object.keys(m).some(function(e){return A[e]!==m[e]})&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?f(m):e.tweenGroup.add(new yN(A).to(m,e.hexTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(f).start()));if(!e.hexBinMerge){var g=s(n),v=o(n);[g,v].forEach(function(e){if(!d.hasOwnProperty(e)){var t=jte(e);d[e]=nne(new sne.MeshLambertMaterial({color:Vte(e),transparent:t<1,opacity:t,side:sne.DoubleSide}),ene)}}),t.material=[g,v].map(function(e){return d[e]})}}).digest(u),e.hexBinMerge){var h=u.length?(cne.mergeGeometries||cne.mergeBufferGeometries)(u.map(function(t){var n=e.dataMapper.getObj(t),i=n.geometry.toNonIndexed();n.updateMatrix(),i.applyMatrix4(n.matrix);var r=zte(o(t)),a=zte(s(t)),l=i.getAttribute("position").count,c=i.groups[0].count;return i.setAttribute("color",Gte(_te(new Array(l)).map(function(e,t){return t>=c?r:a}),4)),i})):new sne.BufferGeometry,p=new sne.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0,side:sne.DoubleSide});p.onBeforeCompile=function(e){p.userData.shader=ene(e)};var m=new sne.Mesh(h,p);m.__globeObjType="hexBinPoints",m.__data=u,e.dataMapper.clear(),Pte(e.scene),e.scene.add(m)}}}),dne=function(e){return e*e},hne=function(e){return e*Math.PI/180};var pne=Math.sqrt(2*Math.PI);var mne=function(e){var t=wte(e,2),n=t[0],i=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.lngAccessor,s=void 0===o?function(e){return e[0]}:o,l=a.latAccessor,c=void 0===l?function(e){return e[1]}:l,u=a.weightAccessor,d=void 0===u?function(){return 1}:u,h=a.bandwidth,p=[n,i],m=h*Math.PI/180;return function(e,t){let n=0;if(void 0===t)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}(r.map(function(e){var t=d(e);if(!t)return 0;var n=function(e,t){var n=Math.sqrt,i=Math.cos,r=function(e){return dne(Math.sin(e/2))},a=hne(e[1]),o=hne(t[1]),s=hne(e[0]),l=hne(t[0]);return 2*Math.asin(n(r(o-a)+i(a)*i(o)*r(l-s)))}(p,[s(e),c(e)]);return function(e,t){return Math.exp(-dne(e/t)/2)/(t*pne)}(n,m)*t}))},fne=function(){var e,t=(e=yte().m(function e(t){var n,i,r,a,o,s,l,c,u,d,h,p,m,f,A,g,v,y,b,x,w,T,_,S,M,E,C,P,N,R,D,I,L,k,B,F,O,U,V,j,z,q,G,H=arguments;return yte().w(function(e){for(;;)switch(e.n){case 0:if(i=H.length>1&&void 0!==H[1]?H[1]:[],a=(r=H.length>2&&void 0!==H[2]?H[2]:{}).lngAccessor,o=void 0===a?function(e){return e[0]}:a,s=r.latAccessor,l=void 0===s?function(e){return e[1]}:s,c=r.weightAccessor,u=void 0===c?function(){return 1}:c,d=r.bandwidth,null!==(n=navigator)&&void 0!==n&&n.gpu){e.n=1;break}return console.warn("WebGPU not enabled in browser. Please consider enabling it to improve performance."),e.a(2,t.map(function(e){return mne(e,i,{lngAccessor:o,latAccessor:l,weightAccessor:u,bandwidth:d})}));case 1:return h=gee,p=vee,m=Pee,A=Tee,g=_ee,v=yee,y=Eee,b=Mee,x=xee,w=bee,T=wee,_=See,S=(f=Cee)(new n0(new Float32Array(t.flat().map(hne)),2),"vec2",t.length),M=f(new n0(new Float32Array(i.map(function(e){return[hne(o(e)),hne(l(e)),u(e)]}).flat()),3),"vec3",i.length),E=new n0(t.length,1),C=f(E,"float",t.length),P=A(Math.PI),N=y(P.mul(2)),R=function(e){return e.mul(e)},D=function(e){return R(b(e.div(2)))},I=function(e,t){var n=A(e[1]),i=A(t[1]),r=A(e[0]),a=A(t[0]);return A(2).mul(w(y(D(i.sub(n)).add(x(n).mul(x(i)).mul(D(a.sub(r)))))))},L=function(e,t){return T(_(R(e.div(t)).div(2))).div(t.mul(N))},k=m(hne(d)),B=m(hne(4*d)),F=m(i.length),O=h(function(){var e=S.element(g),t=C.element(g);t.assign(0),v(F,function(n){var i=n.i,r=M.element(i),a=r.z;p(a,function(){var n=I(r.xy,e.xy);p(n&&n.lessThan(B),function(){t.addAssign(L(n,k).mul(a))})})})}),U=O().compute(t.length),V=new Aee,e.n=2,V.computeAsync(U);case 2:return j=Array,z=Float32Array,e.n=3,V.getArrayBufferAsync(E);case 3:return q=e.v,G=new z(q),e.a(2,j.from.call(j,G))}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){rte(a,i,r,o,s,"next",e)}function s(e){rte(a,i,r,o,s,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}(),Ane=window.THREE?window.THREE:{Mesh:Hc,MeshLambertMaterial:qp,SphereGeometry:Cp},gne=function(e){var t=sR(function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}(e));return t.opacity=Math.cbrt(e),t.formatRgb()},vne=hN({props:{heatmapsData:{default:[]},heatmapPoints:{default:function(e){return e}},heatmapPointLat:{default:function(e){return e[0]}},heatmapPointLng:{default:function(e){return e[1]}},heatmapPointWeight:{default:1},heatmapBandwidth:{default:2.5},heatmapColorFn:{default:function(){return gne}},heatmapColorSaturation:{default:1.5},heatmapBaseAltitude:{default:.01},heatmapTopAltitude:{},heatmapsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjHeatmap"}).onCreateObj(function(){var e=new Ane.Mesh(new Ane.SphereGeometry(Rte),nne(new Ane.MeshLambertMaterial({vertexColors:!0,transparent:!0}),tne));return e.__globeObjType="heatmap",e})},update:function(e){var t=QL(e.heatmapPoints),n=QL(e.heatmapPointLat),i=QL(e.heatmapPointLng),r=QL(e.heatmapPointWeight),a=QL(e.heatmapBandwidth),o=QL(e.heatmapColorFn),s=QL(e.heatmapColorSaturation),l=QL(e.heatmapBaseAltitude),c=QL(e.heatmapTopAltitude);e.dataMapper.onUpdateObj(function(u,d){var h=a(d),p=o(d),m=s(d),f=l(d),A=c(d),g=t(d).map(function(e){var t=n(e),a=i(e),o=Ite(t,a);return{x:o.x,y:o.y,z:o.z,lat:t,lng:a,weight:r(e)}}),v=Math.max(.1,h/3.5),y=Math.ceil(360/(v||-1));u.geometry.parameters.widthSegments!==y&&(u.geometry.dispose(),u.geometry=new Ane.SphereGeometry(Rte,y,y/2));var b=function(e){for(var t=e.itemSize,n=[],i=0;i<e.count;i++)n.push(e.array.slice(i*t,(i+1)*t));return n}(u.geometry.getAttribute("position")),x=b.map(function(e){var t=wte(e,3),n=Lte({x:t[0],y:t[1],z:t[2]});return[n.lng,n.lat]});fne(x,g,{latAccessor:function(e){return e.lat},lngAccessor:function(e){return e.lng},weightAccessor:function(e){return e.weight},bandwidth:h}).then(function(t){var n=_te(new Array(100)).map(function(e,t){return zte(p(t/99))}),i=function(e){var t=u.__currentTargetD=e,i=t.kdeVals,r=t.topAlt,a=t.saturation,o=function(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}(i.map(Math.abs))||1e-15,s=Gk([0,o/a],n);u.geometry.setAttribute("color",Gte(i.map(function(e){return s(Math.abs(e))}),4));var l=pD([0,o],[Rte*(1+f),Rte*(1+(r||f))]);u.geometry.setAttribute("r",Gte(i.map(l)))},r={kdeVals:t,topAlt:A,saturation:m},a=u.__currentTargetD||Object.assign({},r,{kdeVals:t.map(function(){return 0}),topAlt:A?f:A,saturation:.5});a.kdeVals.length!==t.length&&(a.kdeVals=t.slice()),Object.keys(r).some(function(e){return a[e]!==r[e]})&&(!e.heatmapsTransitionDuration||e.heatmapsTransitionDuration<0?i(r):e.tweenGroup.add(new yN(a).to(r,e.heatmapsTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(i).start()))})}).digest(e.heatmapsData)}}),yne=window.THREE?window.THREE:{DoubleSide:yi,Group:lu,LineBasicMaterial:kd,LineSegments:Qd,Mesh:Hc,MeshBasicMaterial:sc},bne=hN({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjPolygon"}).id(function(e){return e.id}).onCreateObj(function(){var e=new yne.Group;return e.__defaultSideMaterial=nne(new yne.MeshBasicMaterial({side:yne.DoubleSide,depthWrite:!0}),ene),e.__defaultCapMaterial=new yne.MeshBasicMaterial({side:yne.DoubleSide,depthWrite:!0}),e.add(new yne.Mesh(void 0,[e.__defaultSideMaterial,e.__defaultCapMaterial])),e.add(new yne.LineSegments(void 0,new yne.LineBasicMaterial)),e.__globeObjType="polygon",e})},update:function(e){var t=QL(e.polygonGeoJsonGeometry),n=QL(e.polygonAltitude),i=QL(e.polygonCapCurvatureResolution),r=QL(e.polygonCapColor),a=QL(e.polygonCapMaterial),o=QL(e.polygonSideColor),s=QL(e.polygonSideMaterial),l=QL(e.polygonStrokeColor),c=[];e.polygonsData.forEach(function(e){var u={data:e,capColor:r(e),capMaterial:a(e),sideColor:o(e),sideMaterial:s(e),strokeColor:l(e),altitude:+n(e),capCurvatureResolution:+i(e)},d=t(e),h=e.__id||"".concat(Math.round(1e9*Math.random()));e.__id=h,"Polygon"===d.type?c.push(vte({id:"".concat(h,"_0"),coords:d.coordinates},u)):"MultiPolygon"===d.type?c.push.apply(c,_te(d.coordinates.map(function(e,t){return vte({id:"".concat(h,"_").concat(t),coords:e},u)}))):console.warn("Unsupported GeoJson geometry type: ".concat(d.type,". Skipping geometry..."))}),e.dataMapper.onUpdateObj(function(t,n){var i=n.coords,r=n.capColor,a=n.capMaterial,o=n.sideColor,s=n.sideMaterial,l=n.strokeColor,c=n.altitude,u=n.capCurvatureResolution,d=wte(t.children,2),h=d[0],p=d[1],m=!!l;p.visible=m;var f=!(!r&&!a),A=!(!o&&!s);(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return function(e,t){return e===t}};return Object.entries(t).every(function(t){var i=wte(t,2),r=i[0],a=i[1];return e.hasOwnProperty(r)&&n(r)(e[r],a)})})(h.geometry.parameters||{},{polygonGeoJson:i,curvatureResolution:u,closedTop:f,includeSides:A})||(h.geometry&&h.geometry.dispose(),h.geometry=new hU(i,0,Rte,!1,f,A,u)),!m||p.geometry.parameters&&p.geometry.parameters.geoJson.coordinates===i&&p.geometry.parameters.resolution===u||(p.geometry&&p.geometry.dispose(),p.geometry=new ML({type:"Polygon",coordinates:i},Rte,u));var g=A?0:-1,v=f?A?1:0:-1;if(g>=0&&(h.material[g]=s||t.__defaultSideMaterial),v>=0&&(h.material[v]=a||t.__defaultCapMaterial),[[!s&&o,g],[!a&&r,v]].forEach(function(e){var t=wte(e,2),n=t[0],i=t[1];if(n&&!(i<0)){var r=h.material[i],a=jte(n);r.color.set(Vte(n)),r.transparent=a<1,r.opacity=a}}),m){var y=p.material,b=jte(l);y.color.set(Vte(l)),y.transparent=b<1,y.opacity=b}var x={alt:c},w=function(e){var n=(t.__currentTargetD=e).alt;h.scale.x=h.scale.y=h.scale.z=1+n,m&&(p.scale.x=p.scale.y=p.scale.z=1+n+1e-4),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};if(e.userData.shader)t(e.userData.shader.uniforms);else{var n=e.onBeforeCompile;e.onBeforeCompile=function(e){n(e),t(e.uniforms)}}}(t.__defaultSideMaterial,function(e){return e.surfaceRadius.value=Rte/(n+1)})},T=t.__currentTargetD||Object.assign({},x,{alt:-.001});Object.keys(x).some(function(e){return T[e]!==x[e]})&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||T.alt===x.alt?w(x):e.tweenGroup.add(new yN(T).to(x,e.polygonsTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(w).start()))}).digest(c)}});var xne=window.THREE?window.THREE:{BufferGeometry:Ic,DoubleSide:yi,Mesh:Hc,MeshLambertMaterial:qp,Vector3:as},wne=Object.assign({},t),Tne=wne.BufferGeometryUtils||wne,_ne=hN({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonUseDots:{default:!1},hexPolygonCurvatureResolution:{default:5},hexPolygonDotResolution:{default:12},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjHexPolygon"}).onCreateObj(function(){var e=new xne.Mesh(void 0,new xne.MeshLambertMaterial({side:xne.DoubleSide}));return e.__globeObjType="hexPolygon",e})},update:function(e){var t=QL(e.hexPolygonGeoJsonGeometry),n=QL(e.hexPolygonColor),i=QL(e.hexPolygonAltitude),r=QL(e.hexPolygonResolution),a=QL(e.hexPolygonMargin),o=QL(e.hexPolygonUseDots),s=QL(e.hexPolygonCurvatureResolution),l=QL(e.hexPolygonDotResolution);e.dataMapper.onUpdateObj(function(c,u){var d=t(u),h=r(u),p=i(u),m=Math.max(0,Math.min(1,+a(u))),f=o(u),A=s(u),g=l(u),v=n(u),y=jte(v);c.material.color.set(Vte(v)),c.material.transparent=y<1,c.material.opacity=y;var b={alt:p,margin:m,curvatureResolution:A},x={geoJson:d,h3Res:h},w=c.__currentTargetD||Object.assign({},b,{alt:-.001}),T=c.__currentMemD||x;if(Object.keys(b).some(function(e){return w[e]!==b[e]})||Object.keys(x).some(function(e){return T[e]!==x[e]})){c.__currentMemD=x;var _=[];"Polygon"===d.type?tV(d.coordinates,h,!0).forEach(function(e){return _.push(e)}):"MultiPolygon"===d.type?d.coordinates.forEach(function(e){return tV(e,h,!0).forEach(function(e){return _.push(e)})}):console.warn("Unsupported GeoJson geometry type: ".concat(d.type,". Skipping geometry..."));var S=_.map(function(e){var t=$U(e),n=eV(e,!0).reverse(),i=t[1];return n.forEach(function(e){var t=e[0];Math.abs(i-t)>170&&(e[0]+=i>t?360:-360)}),{h3Idx:e,hexCenter:t,hexGeoJson:n}}),M=function(e){var t=c.__currentTargetD=e,n=t.alt,i=t.margin,r=t.curvatureResolution;c.geometry&&c.geometry.dispose(),c.geometry=S.length?(Tne.mergeGeometries||Tne.mergeBufferGeometries)(S.map(function(e){var t=wte(e.hexCenter,2),a=t[0],o=t[1];if(f){var s=Ite(a,o,n),l=Ite(e.hexGeoJson[0][1],e.hexGeoJson[0][0],n),c=.85*(1-i)*new xne.Vector3(s.x,s.y,s.z).distanceTo(new xne.Vector3(l.x,l.y,l.z)),u=new dh(c,g);return u.rotateX(kte(-a)),u.rotateY(kte(o)),u.translate(s.x,s.y,s.z),u}var d=0===i?e.hexGeoJson:e.hexGeoJson.map(function(e){var t=wte(e,2),n=t[0],r=t[1];return[[n,o],[r,a]].map(function(e){var t=wte(e,2);return function(e,t,n){return e-(e-t)*n}(t[0],t[1],i)})});return new hU([d],Rte,Rte*(1+n),!1,!0,!1,r)})):new xne.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?M(b):e.tweenGroup.add(new yN(w).to(b,e.hexPolygonsTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(M).start())}}).digest(e.hexPolygonsData)}}),Sne=window.THREE?window.THREE:{Vector3:as};function Mne(e,t){var n=Math.max(e.length,t.length),i=DR.apply(void 0,_te([e,t].map(function(e){return e.map(function(e){return[e.x,e.y,e.z]})}).map(function(e){return function(e,t){var n=e[e.length-1];return[].concat(_te(e),_te(Array(t-e.length).fill(n)))}(e,n)})));return function(n){return 0===n?e:1===n?t:i(n).map(function(e){var t=wte(e,3),n=t[0],i=t[1],r=t[2];return new Sne.Vector3(n,i,r)})}}var Ene=window.THREE?window.THREE:{BufferGeometry:Ic,Color:ic,Group:lu,Line:qd,NormalBlending:xi,ShaderMaterial:Jc,Vector3:as},Cne=qk.default||qk,Pne=hN({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(e){var t;null===(t=e.ticker)||void 0===t||t.pause()},resumeAnimation:function(e){var t;null===(t=e.ticker)||void 0===t||t.resume()},_destructor:function(e){var t;null===(t=e.ticker)||void 0===t||t.dispose()}},stateInit:function(e){return{tweenGroup:e.tweenGroup,ticker:new Cne,sharedMaterial:new Ene.ShaderMaterial(vte(vte({},$te()),{},{transparent:!0,blending:Ene.NormalBlending}))}},init:function(e,t){Pte(e),t.scene=e,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjPath"}).onCreateObj(function(){var e=new Ene.Group;return e.__globeObjType="path",e}),t.ticker.onTick.add(function(e,n){t.dataMapper.entries().map(function(e){return wte(e,2)[1]}).filter(function(e){return e.children.length&&e.children[0].material&&e.children[0].__dashAnimateStep}).forEach(function(e){var t=e.children[0],i=t.__dashAnimateStep*n;if("Line"===t.type){var r=t.material.uniforms.dashTranslate.value%1e9;t.material.uniforms.dashTranslate.value=r+i}else if("Line2"===t.type){for(var a=t.material.dashOffset-i,o=t.material.dashSize+t.material.gapSize;a<=-o;)a+=o;t.material.dashOffset=a}})})},update:function(e){var t=QL(e.pathPoints),n=QL(e.pathPointLat),i=QL(e.pathPointLng),r=QL(e.pathPointAlt),a=QL(e.pathStroke),o=QL(e.pathColor),s=QL(e.pathDashLength),l=QL(e.pathDashGap),c=QL(e.pathDashInitialGap),u=QL(e.pathDashAnimateTime);function d(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=t+1;if(e instanceof Array||e instanceof Function){var o=e instanceof Array?pD().domain(e.map(function(t,n){return n/(e.length-1)})).range(e):e;n=function(e){return zte(o(e),r,!0)}}else{var s=zte(e,r,!0);n=function(){return s}}for(var l=[],c=0,u=a;c<u;c++)for(var d=n(c/(u-1)),h=0;h<i;h++)l.push(d);return Gte(l,r?4:3)}e.dataMapper.onUpdateObj(function(h,p){var m=a(p),f=null!==m&&void 0!==m;if(!h.children.length||f===("Line"===h.children[0].type)){Pte(h);var A=f?new Jee(new Zee,new Iee):new Ene.Line(new Ene.BufferGeometry,e.sharedMaterial.clone());h.add(A)}var g=h.children[0],v=function(e,t,n,i,r){var a=function(e,t,n){for(var i=[],r=1;r<=n;r++)i.push(e+(t-e)*r/(n+1));return i},o=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[],n=null;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(i){if(n){for(;Math.abs(n[1]-i[1])>180;)n[1]+=360*(n[1]<i[1]?1:-1);var r=Math.sqrt(Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2));if(r>e)for(var o=Math.floor(r/e),s=a(n[0],i[0],o),l=a(n[1],i[1],o),c=a(n[2],i[2],o),u=0,d=s.length;u<d;u++)t.push([s[u],l[u],c[u]])}t.push(n=i)}),t},s=function(e){var t=wte(e,3),n=Ite(t[0],t[1],t[2]),i=n.x,r=n.y,a=n.z;return new Ene.Vector3(i,r,a)};return o(e.map(function(e){return[t(e),n(e),i(e)]}),r).map(s)}(t(p),n,i,r,e.pathResolution),y=u(p);if(g.__dashAnimateStep=y>0?1e3/y:0,f){g.material.resolution=e.rendererSize;var b=s(p),x=l(p),w=c(p);g.material.dashed=x>0,g.material.dashed?g.material.defines.USE_DASH="":delete g.material.defines.USE_DASH,g.material.dashed&&(g.material.dashScale=1/function(e){var t,n=0;return e.forEach(function(e){t&&(n+=t.distanceTo(e)),t=e}),n}(v),g.material.dashSize=b,g.material.gapSize=x,g.material.dashOffset=-w);var T=o(p);if(T instanceof Array){var _=d(o(p),v.length-1,1,!1);g.geometry.setColors(_.array),g.material.vertexColors=!0}else{var S=T,M=jte(S);g.material.color=new Ene.Color(Vte(S)),g.material.transparent=M<1,g.material.opacity=M,g.material.vertexColors=!1}g.material.needsUpdate=!0}else{Object.assign(g.material.uniforms,{dashSize:{value:s(p)},gapSize:{value:l(p)},dashOffset:{value:c(p)}});var E=d(o(p),v.length),C=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=0,a=e+1;r<a;r++)for(var o=r/(a-1),s=0;s<t;s++)i.push(o);return n&&i.reverse(),Gte(i,1)}(v.length,1,!0);g.geometry.setAttribute("color",E),g.geometry.setAttribute("relDistance",C)}var P=Mne(h.__currentTargetD&&h.__currentTargetD.points||[v[0]],v),N=function(e){var t,n=h.__currentTargetD=e,i=n.stroke,r=n.interpolK,a=h.__currentTargetD.points=P(r);f?(g.geometry.setPositions((t=[]).concat.apply(t,_te(a.map(function(e){return[e.x,e.y,e.z]})))),g.material.linewidth=i,g.material.dashed&&g.computeLineDistances()):(g.geometry.setFromPoints(a),g.geometry.computeBoundingSphere())},R={stroke:m,interpolK:1},D=Object.assign({},h.__currentTargetD||R,{interpolK:0});Object.keys(R).some(function(e){return D[e]!==R[e]})&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?N(R):e.tweenGroup.add(new yN(D).to(R,e.pathTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(N).start()))}).digest(e.pathsData)}}),Nne=window.THREE?window.THREE:{Euler:xl,Mesh:Hc,MeshLambertMaterial:qp,SphereGeometry:Cp},Rne=hN({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new Nne.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjTile"}).onCreateObj(function(){var e=new Nne.Mesh;return e.__globeObjType="tile",e})},update:function(e){var t=QL(e.tileLat),n=QL(e.tileLng),i=QL(e.tileAltitude),r=QL(e.tileWidth),a=QL(e.tileHeight),o=QL(e.tileUseGlobeProjection),s=QL(e.tileMaterial),l=QL(e.tileCurvatureResolution);e.dataMapper.onUpdateObj(function(c,u){c.material=s(u);var d=o(u),h=l(u),p=function(e){var t=c.__currentTargetD=e,n=t.lat,i=t.lng,r=t.alt,a=t.width,o=t.height,s=Dne(i),l=Dne(-n);c.geometry&&c.geometry.dispose(),c.geometry=new Nne.SphereGeometry(Rte*(1+r),Math.ceil(a/(h||-1)),Math.ceil(o/(h||-1)),Dne(90-a/2)+(d?s:0),Dne(a),Dne(90-o/2)+(d?l:0),Dne(o)),d||c.setRotationFromEuler(new Nne.Euler(l,s,0,"YXZ"))},m={lat:+t(u),lng:+n(u),alt:+i(u),width:+r(u),height:+a(u)},f=c.__currentTargetD||Object.assign({},m,{width:0,height:0});Object.keys(m).some(function(e){return f[e]!==m[e]})&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?p(m):e.tweenGroup.add(new yN(f).to(m,e.tilesTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(p).start()))}).digest(e.tilesData)}}),Dne=function(e){return e*Math.PI/180},Ine=window.THREE?window.THREE:{BufferGeometry:Ic,Color:ic,Points:eh,PointsMaterial:Xd},Lne=hN({props:{particlesData:{default:[]},particlesList:{default:function(e){return e}},particleLat:{default:"lat"},particleLng:{default:"lng"},particleAltitude:{default:.01},particlesSize:{default:.5},particlesSizeAttenuation:{default:!0},particlesColor:{default:function(){return"white"}},particlesTexture:{}},init:function(e,t){Pte(e),t.scene=e,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjParticles"}).onCreateObj(function(){var e=new Ine.Points(new Ine.BufferGeometry,new Ine.PointsMaterial);return e.__globeObjType="particles",e}).onUpdateObj(function(e,n){var i=QL(t.particlesList),r=QL(t.particleLat),a=QL(t.particleLng),o=QL(t.particleAltitude);e.geometry.setAttribute("position",Gte(i(n).map(function(e){return Object.values(Ite(r(e),a(e),o(e)))}),3))})},update:function(e,t){["particlesData","particlesList","particleLat","particleLng","particleAltitude"].some(function(e){return t.hasOwnProperty(e)})&&e.dataMapper.digest(e.particlesData);var n=QL(e.particlesColor),i=QL(e.particlesSize),r=QL(e.particlesSizeAttenuation),a=QL(e.particlesTexture);e.dataMapper.entries().forEach(function(t){var o=wte(t,2),s=o[0],l=o[1];if(l.material.size=i(s),l.material.sizeAttenuation=r(s),e.particlesTexture)l.material.color=new Ine.Color(16777215),l.material.transparent=!1,l.material.alphaTest=.5,l.material.map=a(s);else{var c=n(s),u=jte(c);l.material.color=new Ine.Color(Vte(c)),l.material.transparent=u<1,l.material.opacity=u,l.material.alphaTest=0}})}}),kne=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;ote(this,t),(e=ate(this,t)).type="CircleLineGeometry",e.parameters={radius:n,segmentCount:i};for(var r=[],a=0;a<=i;a++){var o=(a/i-.25)*Math.PI*2;r.push({x:Math.cos(o)*n,y:Math.sin(o)*n,z:0})}return e.setFromPoints(r),e}return fte(t,e),dte(t)}((window.THREE?window.THREE:{BufferGeometry:Ic}).BufferGeometry),Bne=window.THREE?window.THREE:{Color:ic,Group:lu,Line:qd,LineBasicMaterial:kd,Vector3:as},Fne=qk.default||qk,One=hN({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;null===(t=e.ticker)||void 0===t||t.pause()},resumeAnimation:function(e){var t;null===(t=e.ticker)||void 0===t||t.resume()},_destructor:function(e){var t;null===(t=e.ticker)||void 0===t||t.dispose()}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjRing",removeDelay:3e4}).onCreateObj(function(){var e=new Bne.Group;return e.__globeObjType="ring",e}),t.ticker=new Fne,t.ticker.onTick.add(function(e){if(t.ringsData.length){var n=QL(t.ringColor),i=QL(t.ringAltitude),r=QL(t.ringMaxRadius),a=QL(t.ringPropagationSpeed),o=QL(t.ringRepeatPeriod);t.dataMapper.entries().filter(function(e){return wte(e,2)[1]}).forEach(function(s){var l,c,u=wte(s,2),d=u[0],h=u[1];if((h.__nextRingTime||0)<=e){var p=o(d)/1e3;h.__nextRingTime=e+(p<=0?1/0:p);var m,f=new Bne.Line(new kne(1,t.ringResolution),new Bne.LineBasicMaterial),A=n(d),g=A instanceof Array||A instanceof Function;g?A instanceof Array?(m=pD().domain(A.map(function(e,t){return t/(A.length-1)})).range(A),f.material.transparent=A.some(function(e){return jte(e)<1})):(m=A,f.material.transparent=!0):(f.material.color=new Bne.Color(Vte(A)),l=f.material,c=jte(A),l.opacity=c,l.transparent=c<1,l.depthWrite=c>=1);var v=Rte*(1+i(d)),y=r(d),b=y*Math.PI/180,x=a(d),w=x<=0,T=function(e){var t=e.t,n=(w?1-t:t)*b;if(f.scale.x=f.scale.y=v*Math.sin(n),f.position.z=v*(1-Math.cos(n)),g){var i=m(t);f.material.color=new Bne.Color(Vte(i)),f.material.transparent&&(f.material.opacity=jte(i))}};if(0===x)T({t:0}),h.add(f);else{var _=1e3*Math.abs(y/x);t.tweenGroup.add(new yN({t:0}).to({t:1},_).onUpdate(T).onStart(function(){return h.add(f)}).onComplete(function(){h.remove(f),Cte(f)}).start())}}})}})},update:function(e){var t=QL(e.ringLat),n=QL(e.ringLng),i=QL(e.ringAltitude),r=e.scene.localToWorld(new Bne.Vector3(0,0,0));e.dataMapper.onUpdateObj(function(e,a){var o=t(a),s=n(a),l=i(a);Object.assign(e.position,Ite(o,s,l)),e.lookAt(r)}).digest(e.ringsData)}}),Une={glyphs:{0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},"\u03bf":{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"\xa6":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},"\u03a4":{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},"\u03a0":{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},"\u0390":{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"\xb2":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"\u2013":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},"\u039a":{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},"\u0192":{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},"\u03cc":{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"\xbb":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"\xa9":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},"\u03ce":{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"\xab":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"\u2219":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},"\xff":{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},"\xb5":{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},"\u0399":{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},"\u038e":{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u2019":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},"\u039d":{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},"\u03c2":{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},"\u03a8":{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},"\u03b9":{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},"\u0386":{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},"\u03b5":{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},"\u0394":{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"\u2030":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"\u2014":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},"\u03c1":{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"\xaf":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},"\u0397":{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},"\u0391":{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"\u2026":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},"\u03bd":{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"\xb6":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},"\u03b2":{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},"\u039c":{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},"\u038c":{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u0389":{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u2022":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"\xa5":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},"\u03b3":{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},"\u03b1":{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"\xad":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},"\u03a7":{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"\u2020":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"\xb0":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},"\u039e":{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "},"\xa0":{x_min:0,x_max:0,ha:853},"\u03ab":{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"\u201d":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},"\u038a":{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},"\u0392":{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},"\u03c5":{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},"\u03c7":{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},"\u03af":{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},"\u0396":{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"\xa8":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"\u2039":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"\u201e":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},"\u03b4":{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},"\u03ad":{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},"\u03c9":{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"\xb4":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"\xb1":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"\u03cb":{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"\xa7":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},"\u03a9":{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},"\u03cd":{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"\u2122":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},"\u03ae":{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},"\u0398":{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"\xae":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},"\u0395":{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"\xb3":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},"\u03c3":{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},"\u03b6":{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},"\u03b8":{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},"\u039f":{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},"\u0393":{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},"\u0388":{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u038f":{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},"\u03aa":{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"\xbd":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},"\u03a1":{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},"\xaa":{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"\u0385":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},"\u03a6":{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"\u204b":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},"\u03a3":{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"\u203a":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"\xa3":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"\xac":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},"\u03bb":{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},"\u03c4":{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},"\u03be":{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},"\u039b":{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},"\u03b0":{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"\xb7":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},"\u03a5":{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},"\u03bc":{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},"\u03c6":{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"\u201c":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"\u2018":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},"\u03ca":{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},"\u03c0":{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},"\u03ac":{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"\xa4":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},"\u03ba":{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"\u2021":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},"\u03c8":{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},"\u03b7":{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},cssFontWeight:"normal",ascender:1189,underlinePosition:-100,cssFontStyle:"normal",boundingBox:{yMin:-334,xMin:-111,yMax:1189,xMax:1672},resolution:1e3,original_font_information:{postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) \u039cagenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"\u039cagenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:'Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r\n\r\nThe above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r\n\r\nThe Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r\n\r\nThis License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r\n\r\nThe Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r\n\r\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.',manufacturer_name:"\u039cagenta ltd",font_sub_family_name:"Regular"},descender:-334,familyName:"Helvetiker",lineHeight:1522,underlineThickness:50},Vne=vte(vte({},window.THREE?window.THREE:{BoxGeometry:Qc,CircleGeometry:dh,DoubleSide:yi,Group:lu,Mesh:Hc,MeshLambertMaterial:qp,TextGeometry:$ee,Vector3:as}),{},{Font:ete,TextGeometry:$ee}),jne=hN({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:.002},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:Une,onChange:function(e,t){t.font=new Vne.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i;var r=new Vne.CircleGeometry(1,32);t.dataMapper=new Yte(e,{objBindAttr:"__threeObjLabel"}).onCreateObj(function(){var e=new Vne.MeshLambertMaterial;e.side=yi;var t=new Vne.Group;t.add(new Vne.Mesh(r,e));var n=new Vne.Mesh(void 0,e);t.add(n);var i=new Vne.Mesh;return i.visible=!1,n.add(i),t.__globeObjType="label",t})},update:function(e){var t=QL(e.labelLat),n=QL(e.labelLng),i=QL(e.labelAltitude),r=QL(e.labelText),a=QL(e.labelSize),o=QL(e.labelRotation),s=QL(e.labelColor),l=QL(e.labelIncludeDot),c=QL(e.labelDotRadius),u=QL(e.labelDotOrientation),d=new Set(["right","top","bottom"]),h=2*Math.PI*Rte/360;e.dataMapper.onUpdateObj(function(p,m){var f=wte(p.children,2),A=f[0],g=f[1],v=wte(g.children,1)[0],y=s(m),b=jte(y);g.material.color.set(Vte(y)),g.material.transparent=b<1,g.material.opacity=b;var x=l(m),w=u(m);!x||!d.has(w)&&(w="bottom");var T=x?+c(m)*h:1e-12;A.scale.x=A.scale.y=T;var _=+a(m)*h;if(g.geometry&&g.geometry.dispose(),g.geometry=new Vne.TextGeometry(r(m),{font:e.font,size:_,depth:0,bevelEnabled:!0,bevelThickness:0,bevelSize:0,curveSegments:e.labelResolution}),v.geometry&&v.geometry.dispose(),g.geometry.computeBoundingBox(),v.geometry=ute(Vne.BoxGeometry,_te((new Vne.Vector3).subVectors(g.geometry.boundingBox.max,g.geometry.boundingBox.min).clampScalar(0,1/0).toArray())),"right"!==w&&g.geometry.center(),x){var S=T+_/2;"right"===w&&(g.position.x=S),g.position.y={right:-_/2,top:S+_/2,bottom:-S-_/2}[w]}var M=function(t){var n=p.__currentTargetD=t,i=n.lat,r=n.lng,a=n.alt,o=n.rot,s=n.scale;Object.assign(p.position,Ite(i,r,a)),p.lookAt(e.scene.localToWorld(new Vne.Vector3(0,0,0))),p.rotateY(Math.PI),p.rotateZ(-o*Math.PI/180),p.scale.x=p.scale.y=p.scale.z=s},E={lat:+t(m),lng:+n(m),alt:+i(m),rot:+o(m),scale:1},C=p.__currentTargetD||Object.assign({},E,{scale:1e-12});Object.keys(E).some(function(e){return C[e]!==E[e]})&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?M(E):e.tweenGroup.add(new yN(C).to(E,e.labelsTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(M).start()))}).digest(e.labelsData)}}),zne=vte(vte({},window.THREE?window.THREE:{}),{},{CSS2DObject:class extends Ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new is(.5,.5),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof e.element.ownerDocument.defaultView.Element&&null!==e.element.parentNode&&e.element.remove()})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}}),qne=hN({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlElementVisibilityModifier:{triggerUpdate:!1},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,t){e.dataMapper&&(t?[t]:e.dataMapper.entries().map(function(e){return wte(e,2)[1]}).filter(function(e){return e})).forEach(function(t){var n=!e.isBehindGlobe||!e.isBehindGlobe(t.position);e.htmlElementVisibilityModifier?(t.visible=!0,e.htmlElementVisibilityModifier(t.element,n)):t.visible=n})}},init:function(e,t,n){var i=n.tweenGroup;Pte(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjHtml"}).onCreateObj(function(e){var n=QL(t.htmlElement)(e),i=new zne.CSS2DObject(n);return i.__globeObjType="html",i})},update:function(e,t){var n=this,i=QL(e.htmlLat),r=QL(e.htmlLng),a=QL(e.htmlAltitude);t.hasOwnProperty("htmlElement")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(t,o){var s=function(e){var i=t.__currentTargetD=e,r=i.alt,a=i.lat,o=i.lng;Object.assign(t.position,Ite(a,o,r)),n.updateObjVisibility(t)},l={lat:+i(o),lng:+r(o),alt:+a(o)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!t.__currentTargetD?s(l):e.tweenGroup.add(new yN(t.__currentTargetD).to(l,e.htmlTransitionDuration).easing(pN.Quadratic.InOut).onUpdate(s).start())}).digest(e.htmlElementsData)}}),Gne=window.THREE?window.THREE:{Group:lu,Mesh:Hc,MeshLambertMaterial:qp,SphereGeometry:Cp},Hne=hN({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new Gne.Mesh(new Gne.SphereGeometry(1,16,8),new Gne.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,t){Pte(e),t.scene=e,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjObject"}).onCreateObj(function(e){var n=QL(t.objectThreeObject)(e);t.objectThreeObject===n&&(n=n.clone());var i=new Gne.Group;return i.add(n),i.__globeObjType="object",i})},update:function(e,t){var n=QL(e.objectLat),i=QL(e.objectLng),r=QL(e.objectAltitude),a=QL(e.objectFacesSurface),o=QL(e.objectRotation);t.hasOwnProperty("objectThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(e,t){var s=+n(t),l=+i(t),c=+r(t);Object.assign(e.position,Ite(s,l,c)),a(t)?e.setRotationFromEuler(new xl(kte(-s),kte(l),0,"YXZ")):e.rotation.set(0,0,0);var u=e.children[0],d=o(t);d&&u.setRotationFromEuler(new xl(kte(d.x||0),kte(d.y||0),kte(d.z||0)))}).digest(e.objectsData)}}),Wne=hN({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,t){Pte(e),t.scene=e,t.dataMapper=new Yte(e,{objBindAttr:"__threeObjCustom"}).onCreateObj(function(e){var n=QL(t.customThreeObject)(e,Rte);return n&&(t.customThreeObject===n&&(n=n.clone()),n.__globeObjType="custom"),n})},update:function(e,t){e.customThreeObjectUpdate||Pte(e.scene);var n=QL(e.customThreeObjectUpdate);t.hasOwnProperty("customThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(e,t){return n(e,t,Rte)}).digest(e.customLayerData)}}),Qne=window.THREE?window.THREE:{Camera:$c,Group:lu,Vector2:is,Vector3:as},Yne=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","heatmapsLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","particlesLayer","ringsLayer","labelsLayer","htmlElementsLayer","objectsLayer","customLayer"],Xne=Nte("globeLayer",Ute),Kne=Object.assign.apply(Object,_te(["globeImageUrl","bumpImageUrl","globeCurvatureResolution","globeTileEngineUrl","globeTileEngineMaxLevel","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map(function(e){return hte({},e,Xne.linkProp(e))}))),Zne=Object.assign.apply(Object,_te(["globeMaterial"].map(function(e){return hte({},e,Xne.linkMethod(e))}))),Jne=Nte("pointsLayer",Jte),$ne=Object.assign.apply(Object,_te(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map(function(e){return hte({},e,Jne.linkProp(e))}))),eie=Nte("arcsLayer",one),tie=Object.assign.apply(Object,_te(["arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map(function(e){return hte({},e,eie.linkProp(e))}))),nie=Nte("hexBinLayer",une),iie=Object.assign.apply(Object,_te(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map(function(e){return hte({},e,nie.linkProp(e))}))),rie=Nte("heatmapsLayer",vne),aie=Object.assign.apply(Object,_te(["heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration"].map(function(e){return hte({},e,rie.linkProp(e))}))),oie=Nte("hexedPolygonsLayer",_ne),sie=Object.assign.apply(Object,_te(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration"].map(function(e){return hte({},e,oie.linkProp(e))}))),lie=Nte("polygonsLayer",bne),cie=Object.assign.apply(Object,_te(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map(function(e){return hte({},e,lie.linkProp(e))}))),uie=Nte("pathsLayer",Pne),die=Object.assign.apply(Object,_te(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map(function(e){return hte({},e,uie.linkProp(e))}))),hie=Nte("tilesLayer",Rne),pie=Object.assign.apply(Object,_te(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map(function(e){return hte({},e,hie.linkProp(e))}))),mie=Nte("particlesLayer",Lne),fie=Object.assign.apply(Object,_te(["particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture"].map(function(e){return hte({},e,mie.linkProp(e))}))),Aie=Nte("ringsLayer",One),gie=Object.assign.apply(Object,_te(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map(function(e){return hte({},e,Aie.linkProp(e))}))),vie=Nte("labelsLayer",jne),yie=Object.assign.apply(Object,_te(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map(function(e){return hte({},e,vie.linkProp(e))}))),bie=Nte("htmlElementsLayer",qne),xie=Object.assign.apply(Object,_te(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration"].map(function(e){return hte({},e,bie.linkProp(e))}))),wie=Nte("objectsLayer",Hne),Tie=Object.assign.apply(Object,_te(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map(function(e){return hte({},e,wie.linkProp(e))}))),_ie=Nte("customLayer",Wne),Sie=Object.assign.apply(Object,_te(["customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(e){return hte({},e,_ie.linkProp(e))}))),Mie=hN({props:vte(vte(vte(vte(vte(vte(vte(vte(vte(vte(vte(vte(vte(vte(vte({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new Qne.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,t){t.pathsLayer.rendererSize(e)},triggerUpdate:!1}},Kne),$ne),tie),iie),aie),cie),sie),die),pie),fie),gie),yie),xie),Tie),Sie),methods:vte({getGlobeRadius:Dte,getCoords:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ite.apply(void 0,n)},toGeoCoords:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Lte.apply(void 0,n)},setPointOfView:function(e,t){var n,i,r,a,o=t instanceof Qne.Camera?t.position:t,s=Dte(),l=void 0;e.scene&&o&&(l=function(t){void 0===n&&(n=o.clone().applyMatrix4(e.scene.matrixWorld.clone().invert())),void 0===i&&(i=n.length()),void 0===r&&(r=Math.sqrt(Math.pow(i,2)-Math.pow(s,2))),void 0===a&&(a=Math.acos(r/i));var l=n.distanceTo(t);if(l<r)return!1;var c=t.length();return Math.acos((Math.pow(i,2)+Math.pow(l,2)-Math.pow(c,2))/(2*i*l))<a});e.layersThatNeedUpdatePov.forEach(function(e){return e.updatePov(t)}),e.layersThatNeedBehindGlobeChecker.forEach(function(e){return e.isBehindGlobe(l)})},pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),e.pausableLayers.forEach(function(e){var t;return null===(t=e.pauseAnimation)||void 0===t?void 0:t.call(e)}),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),e.pausableLayers.forEach(function(e){var t;return null===(t=e.resumeAnimation)||void 0===t?void 0:t.call(e)}),this},_animationCycle:function(e){e.animationFrameRequestId=requestAnimationFrame(this._animationCycle),e.tweenGroup.update()},_destructor:function(e){this.pauseAnimation(),e.destructableLayers.forEach(function(e){return e._destructor()})}},Zne),stateInit:function(){var e=new fN,t={tweenGroup:e},n={globeLayer:Ute(t),pointsLayer:Jte(t),arcsLayer:one(t),hexBinLayer:une(t),heatmapsLayer:vne(t),polygonsLayer:bne(t),hexedPolygonsLayer:_ne(t),pathsLayer:Pne(t),tilesLayer:Rne(t),particlesLayer:Lne(t),ringsLayer:One(t),labelsLayer:jne(t),htmlElementsLayer:qne(t),objectsLayer:Hne(t),customLayer:Wne(t)};return vte(vte({tweenGroup:e},n),{},{layersThatNeedUpdatePov:Object.values(n).filter(function(e){return e.hasOwnProperty("updatePov")}),layersThatNeedBehindGlobeChecker:Object.values(n).filter(function(e){return e.hasOwnProperty("isBehindGlobe")}),destructableLayers:Object.values(n).filter(function(e){return e.hasOwnProperty("_destructor")}),pausableLayers:Object.values(n).filter(function(e){return e.hasOwnProperty("pauseAnimation")})})},init:function(e,t,n){var i=n.animateIn,r=void 0===i||i,a=n.waitForGlobeReady,o=void 0===a||a;Pte(e),t.scene=e,t.scene.visible=!1,Yne.forEach(function(e){var n=new Qne.Group;t.scene.add(n),t[e](n)});var s=function(){if(r){t.scene.scale.set(1e-6,1e-6,1e-6),t.tweenGroup.add(new yN({k:1e-6}).to({k:1},600).easing(pN.Quadratic.Out).onUpdate(function(e){var n=e.k;return t.scene.scale.set(n,n,n)}).start());var e=new Qne.Vector3(0,1,0);t.tweenGroup.add(new yN({rot:2*Math.PI}).to({rot:0},1200).easing(pN.Quintic.Out).onUpdate(function(n){var i=n.rot;return t.scene.setRotationFromAxisAngle(e,i)}).start())}t.scene.visible=!0,t.onGlobeReady&&t.onGlobeReady()};o?t.globeLayer.onReady(s):s(),this._animationCycle()},update:function(e){}});var Eie=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(n){function i(){var n;ote(this,i);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=ate(this,i,[].concat(a))).__kapsuleInstance=ute(e,[].concat(_te(t?[n]:[]),a)),n}return fte(i,n),dte(i)}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object);return Object.keys(e()).forEach(function(e){return n.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}}),n}(Mie,(window.THREE?window.THREE:{Group:lu}).Group,!0),Cie=n(7205),Pie=n(8443);const Nie=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:i,getState:r,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(i,r,a);return a},{useSyncExternalStoreWithSelector:Rie}=Pie,Die=e=>e;const Iie=(e,t)=>{const n=(e=>e?Nie(e):Nie)(e),r=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Die,n=arguments.length>2?arguments[2]:void 0;const r=Rie(e.subscribe,e.getState,e.getInitialState,t,n);return i.useDebugValue(r),r}(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};var Lie=n(2016),kie=n.n(Lie),Bie=n(8784);const Fie=[];function Oie(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const i=e.length;if(t.length!==i)return!1;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}function Uie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const o of Fie)if(Oie(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return i.lifespan&&i.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,i.lifespan)),o.response;if(!n)throw o.promise}const r={keys:t,equal:i.equal,remove:()=>{const e=Fie.indexOf(r);-1!==e&&Fie.splice(e,1)},promise:(a=e,"object"===typeof a&&"function"===typeof a.then?e:e(...t)).then(e=>{r.response=e,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(e=>r.error=e)};var a;if(Fie.push(r),!n)throw r.promise}(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product))})()?i.useLayoutEffect:i.useEffect;function Vie(e,t,n){if(!e)return;if(!0===n(e))return e;let i=t?e.return:e.child;for(;i;){const e=Vie(i,t,n);if(e)return e;i=t?null:i.sibling}}function jie(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const zie=jie(i.createContext(null));class qie extends i.Component{render(){return i.createElement(zie.Provider,{value:this._reactInternals},this.props.children)}}function Gie(){const e=i.useContext(zie);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=i.useId();return i.useMemo(()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=Vie(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}const Hie=Symbol.for("react.context"),Wie=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===Hie;function Qie(){const e=function(){const e=Gie(),[t]=i.useState(()=>new Map);t.clear();let n=e;for(;n;){const e=n.type;Wie(e)&&e!==zie&&!t.has(e)&&t.set(e,i.use(jie(e))),n=n.return}return t}();return i.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>i.createElement(t,null,i.createElement(n.Provider,h(h({},r),{},{value:e.get(n)}))),e=>i.createElement(qie,h({},e))),[e])}const Yie=["params"];function Xie(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}r.act;const Kie=e=>e&&e.isOrthographicCamera,Zie=e=>null!=e&&("string"===typeof e||"number"===typeof e||e.isColor),Jie=((e,t)=>"undefined"!==typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product)))()?i.useLayoutEffect:i.useEffect;function $ie(e){const t=i.useRef(e);return Jie(()=>{t.current=e},[e]),t}function ere(e){let{set:t}=e;return Jie(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const tre=(e=>((e=class extends i.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function nre(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function ire(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}const rre={obj:e=>e===Object(e)&&!rre.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:i="reference",strict:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(rre.str(e)||rre.num(e)||rre.boo(e))return e===t;const a=rre.obj(e);if(a&&"reference"===i)return e===t;const o=rre.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===i){for(s in r?t:e)if(!rre.equ(e[s],t[s],{strict:r,objects:"reference"}))return!1}else for(s in r?t:e)if(e[s]!==t[s])return!1;if(rre.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function are(e){const t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}const ore=["children","key","ref"];function sre(e){const t={};for(const n in e)ore.includes(n)||(t[n]=e[n]);return t}function lre(e,t,n,i){const r=e;let a=null==r?void 0:r.__r3f;return a||(a={root:t,type:n,parent:null,children:[],props:sre(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function cre(e,t){let n=e[t];if(!t.includes("-"))return{root:e,key:t,target:n};n=e;for(const r of t.split("-")){var i;t=r,e=n,n=null==(i=n)?void 0:i[t]}return{root:e,key:t,target:n}}const ure=/-\d+$/;function dre(e,t){if(rre.str(t.props.attach)){if(ure.test(t.props.attach)){const n=t.props.attach.replace(ure,""),{root:i,key:r}=cre(e.object,n);Array.isArray(i[r])||(i[r]=[])}const{root:n,key:i}=cre(e.object,t.props.attach);t.previousAttach=n[i],n[i]=t.object}else rre.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function hre(e,t){if(rre.str(t.props.attach)){const{root:n,key:i}=cre(e.object,t.props.attach),r=t.previousAttach;void 0===r?delete n[i]:n[i]=r}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}const pre=[...ore,"args","dispose","attach","object","onUpdate","dispose"],mre=new Map;function fre(e){let t=mre.get(e.constructor);try{t||(t=new e.constructor,mre.set(e.constructor,t))}catch(ice){}return t}const Are=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],gre=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function vre(e,t){var n;const i=e.__r3f,r=i&&Xie(i).getState(),a=null==i?void 0:i.eventCount;for(const s in t){let n=t[s];if(pre.includes(s))continue;if(i&&gre.test(s)){"function"===typeof n?i.handlers[s]=n:delete i.handlers[s],i.eventCount=Object.keys(i.handlers).length;continue}if(void 0===n)continue;let{root:a,key:l,target:c}=cre(e,s);if(c instanceof wl&&n instanceof wl)c.mask=n.mask;else if(c instanceof ic&&Zie(n))c.set(n);else if(null!==c&&"object"===typeof c&&"function"===typeof c.set&&"function"===typeof c.copy&&null!=n&&n.constructor&&c.constructor===n.constructor)c.copy(n);else if(null!==c&&"object"===typeof c&&"function"===typeof c.set&&Array.isArray(n))"function"===typeof c.fromArray?c.fromArray(n):c.set(...n);else if(null!==c&&"object"===typeof c&&"function"===typeof c.set&&"number"===typeof n)"function"===typeof c.setScalar?c.setScalar(n):c.set(n);else{var o;a[l]=n,r&&!r.linear&&Are.includes(l)&&null!=(o=a[l])&&o.isTexture&&a[l].format===Wr&&a[l].type===Dr&&(a[l].colorSpace=eo)}}if(null!=i&&i.parent&&null!=r&&r.internal&&null!=(n=i.object)&&n.isObject3D&&a!==i.eventCount){const e=i.object,t=r.internal.interaction.indexOf(e);t>-1&&r.internal.interaction.splice(t,1),i.eventCount&&null!==e.raycast&&r.internal.interaction.push(e)}return i&&void 0===i.props.attach&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&yre(i),e}function yre(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);const n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function bre(e,t){e.manual||(Kie(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix())}const xre=e=>null==e?void 0:e.isObject3D;function wre(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Tre(e,t,n,i){const r=n.get(t);r&&(n.delete(t),0===n.size&&(e.delete(i),r.target.releasePointerCapture(i)))}function _re(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const i=e.eventObject.__r3f;if(n.hovered.delete(wre(e)),null!=i&&i.eventCount){const n=i.handlers,r=h(h({},e),{},{intersections:t});null==n.onPointerOut||n.onPointerOut(r),null==n.onPointerLeave||n.onPointerLeave(r)}}}function i(e,t){for(let n=0;n<t.length;n++){const i=t[n].__r3f;null==i||null==i.handlers.onPointerMissed||i.handlers.onPointerMissed(e)}}return{handlePointer:function(r){switch(r){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:i}=e.getState();"pointerId"in t&&i.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{i.capturedMap.has(t.pointerId)&&(i.capturedMap.delete(t.pointerId),n([]))})}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===r,c="onClick"===r||"onContextMenu"===r||"onDoubleClick"===r,u=function(t,n){const i=e.getState(),r=new Set,a=[],o=n?n(i.internal.interaction):i.internal.interaction;for(let e=0;e<o.length;e++){const t=ire(o[e]);t&&(t.raycaster.camera=void 0)}i.previousRoot||null==i.events.compute||i.events.compute(t,i);let s=o.flatMap(function(e){const n=ire(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(i=n.previousRoot)?void 0:i.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var i}).sort((e,t)=>{const n=ire(e.object),i=ire(t.object);return n&&i&&i.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=wre(e);return!r.has(t)&&(r.add(t),!0)});i.events.filter&&(s=i.events.filter(s,i));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push(h(h({},e),{},{eventObject:t})),t=t.parent}}if("pointerId"in t&&i.internal.capturedMap.has(t.pointerId))for(let e of i.internal.capturedMap.get(t.pointerId).values())r.has(wre(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=c?function(t){const{internal:n}=e.getState(),i=t.offsetX-n.initialClick[0],r=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(i*i+r*r))}(a):0;"onPointerDown"===r&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=u.map(e=>e.eventObject)),c&&!u.length&&d<=2&&(i(a,s.interaction),o&&o(a)),l&&n(u),function(e,t,i,r){if(e.length){const a={stopped:!1};for(const o of e){let s=ire(o.object);if(s||o.object.traverseAncestors(e=>{const t=ire(e);if(t)return s=t,!1}),s){const{raycaster:l,pointer:c,camera:u,internal:d}=s,p=new as(c.x,c.y,0).unproject(u),m=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},f=e=>{const n={intersection:o,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,n):d.capturedMap.set(e,new Map([[o.eventObject,n]])),t.target.setPointerCapture(e)},A=e=>{const t=d.capturedMap.get(e);t&&Tre(d.capturedMap,o.eventObject,t,e)};let g={};for(let e in t){let n=t[e];"function"!==typeof n&&(g[e]=n)}let v=h(h(h({},o),g),{},{pointer:c,intersections:e,stopped:a.stopped,delta:i,unprojectedPoint:p,ray:l.ray,camera:u,stopPropagation(){const i="pointerId"in t&&d.capturedMap.get(t.pointerId);(!i||i.has(o.eventObject))&&(v.stopped=a.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===o.eventObject))&&n([...e.slice(0,e.indexOf(o)),o])},target:{hasPointerCapture:m,setPointerCapture:f,releasePointerCapture:A},currentTarget:{hasPointerCapture:m,setPointerCapture:f,releasePointerCapture:A},nativeEvent:t});if(r(v),!0===a.stopped)break}}}}(u,a,d,function(e){const t=e.eventObject,n=t.__r3f;if(null==n||!n.eventCount)return;const o=n.handlers;if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=wre(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[r];n?c&&!s.initialHits.includes(t)||(i(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):c&&s.initialHits.includes(t)&&i(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}const Sre=e=>!(null==e||!e.render),Mre=i.createContext(null),Ere=(e,t)=>{const n=((e,t)=>e?Iie(e,t):Iie)((n,r)=>{const a=new as,o=new as,s=new as;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size;const{width:i,height:l,top:c,left:u}=n,d=i/l;t.isVector3?s.copy(t):s.set(...t);const h=e.getWorldPosition(a).distanceTo(s);if(Kie(e))return{width:i/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:h,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,r=n*(i/l);return{width:r,height:n,top:c,left:u,factor:i/r,distance:h,aspect:d}}}let c;const u=e=>n(t=>({performance:h(h({},t.performance),{},{current:e})})),d=new is,p={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new hf,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();c&&clearTimeout(c),e.performance.current!==e.performance.min&&u(e.performance.min),c=setTimeout(()=>u(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n(t=>h(h({},t),{},{events:h(h({},t.events),e)})),setSize:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=r().camera,c={width:e,height:t,top:i,left:a};n(e=>({size:c,viewport:h(h({},e.viewport),l(s,o,c))}))},setDpr:e=>n(t=>{const n=nre(e);return{viewport:h(h({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:i.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return p}),r=n.getState();let a=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:e,size:t,viewport:i,gl:r,set:l}=n.getState();if(t.width!==a.width||t.height!==a.height||i.dpr!==o){a=t,o=i.dpr,bre(e,t),i.dpr>0&&r.setPixelRatio(i.dpr);const n="undefined"!==typeof HTMLCanvasElement&&r.domElement instanceof HTMLCanvasElement;r.setSize(t.width,t.height,n)}e!==s&&(s=e,l(t=>({viewport:h(h({},t.viewport),t.viewport.getCurrentViewport(e))})))}),n.subscribe(t=>e(t)),n};function Cre(){const e=i.useContext(Mre);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Pre(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return Cre()(e,t)}const Nre=new WeakMap;function Rre(e,t){return function(n){let i;(e=>{var t;return"function"===typeof e&&(null==e||null==(t=e.prototype)?void 0:t.constructor)===e})(n)?(i=Nre.get(n),i||(i=new n,Nre.set(n,i))):i=n,e&&e(i);for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return Promise.all(a.map(e=>new Promise((n,r)=>i.load(e,e=>{xre(null==e?void 0:e.scene)&&Object.assign(e,are(e.scene)),n(e)},t,t=>r(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))))))}}function Dre(e,t,n,i){const r=Array.isArray(t)?t:[t],a=((e,t,n)=>Uie(e,t,!1,n))(Rre(n,i),[e,...r],{equal:rre.equ});return Array.isArray(t)?a:a[0]}function Ire(e){const t=kie()(e);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:i.version}),t}Dre.preload=function(e,t,n){const i=Array.isArray(t)?t:[t];return((e,t,n)=>{Uie(e,t,!0,n)})(Rre(n),[e,...i])},Dre.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)Fie.splice(0,Fie.length);else{const t=Fie.find(t=>Oie(e,t.keys,t.equal));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const Lre={},kre=/^three(?=[A-Z])/,Bre=e=>"".concat(e[0].toUpperCase()).concat(e.slice(1));let Fre=0;function Ore(e){if((e=>"function"===typeof e)(e)){const t="".concat(Fre++);return Lre[t]=e,t}Object.assign(Lre,e)}function Ure(e,t){const n=Bre(e),i=Lre[n];if("primitive"!==e&&!i)throw new Error("R3F: ".concat(n," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if("primitive"===e&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function Vre(e){var t;e.isHidden&&(e.props.attach&&null!=(t=e.parent)&&t.object?dre(e.parent,e):xre(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,yre(e))}function jre(e,t,n){const i=t.root.getState();if(e.parent||e.object===i.scene){if(!t.object){var r,a;const e=Lre[Bre(t.type)];t.object=null!=(r=t.props.object)?r:new e(...null!=(a=t.props.args)?a:[]),t.object.__r3f=t}if(vre(t.object,t.props),t.props.attach)dre(e,t);else if(xre(t.object)&&xre(e.object)){const i=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==i){const n=e.object.children.indexOf(t.object);if(-1!==n){e.object.children.splice(n,1);const r=n<i?i-1:i;e.object.children.splice(r,0,t.object)}else t.object.parent=e.object,e.object.children.splice(i,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object})}else e.object.add(t.object)}for(const e of t.children)jre(t,e);yre(t)}}function zre(e,t){t&&(t.parent=e,e.children.push(t),jre(e,t))}function qre(e,t,n){if(!t||!n)return;t.parent=e;const i=e.children.indexOf(n);-1!==i?e.children.splice(i,0,t):e.children.push(t),jre(e,t,n)}function Gre(e){if("function"===typeof e.dispose){const t=()=>{try{e.dispose()}catch(rce){}};"undefined"!==typeof IS_REACT_ACT_ENVIRONMENT?t():(0,Bie.unstable_scheduleCallback)(Bie.unstable_IdlePriority,t)}}function Hre(e,t,n){if(!t)return;t.parent=null;const i=e.children.indexOf(t);-1!==i&&e.children.splice(i,1),t.props.attach?hre(e,t):xre(t.object)&&xre(e.object)&&(e.object.remove(t.object),function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,i)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(i)}),n.capturedMap.forEach((e,i)=>{Tre(n.capturedMap,t,e,i)})}(Xie(t),t.object));const r=null!==t.props.dispose&&!1!==n;for(let a=t.children.length-1;a>=0;a--){Hre(t,t.children[a],r)}t.children.length=0,delete t.object.__r3f,r&&"primitive"!==t.type&&"Scene"!==t.object.type&&Gre(t.object),void 0===n&&yre(t)}function Wre(e,t){for(const n of[e,e.alternate])if(null!==n)if("function"===typeof n.ref){null==n.refCleanup||n.refCleanup();const e=n.ref(t);"function"===typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}const Qre=[];const Yre=()=>{},Xre={};let Kre=0;const Zre=Ire({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var i;return Ure(e=Bre(e)in Lre?e:e.replace(kre,""),t),"primitive"===e&&null!=(i=t.object)&&i.__r3f&&delete t.object.__r3f,lre(t.object,n,e,t)},removeChild:Hre,appendChild:zre,appendInitialChild:zre,insertBefore:qre,appendChildToContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&zre(n,t)},removeChildFromContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&Hre(n,t)},insertInContainerBefore(e,t,n){const i=e.getState().scene.__r3f;t&&n&&i&&qre(i,t,n)},getRootHostContext:()=>Xre,getChildHostContext:()=>Xre,commitUpdate(e,t,n,i,r){var a,o,s;Ure(t,i);let l=!1;if(("primitive"===e.type&&n.object!==i.object||(null==(a=i.args)?void 0:a.length)!==(null==(o=n.args)?void 0:o.length)||null!=(s=i.args)&&s.some((e,t)=>{var i;return e!==(null==(i=n.args)?void 0:i[t])}))&&(l=!0),l)Qre.push([e,h({},i),r]);else{const t=function(e,t){const n={};for(const i in t)if(!pre.includes(i)&&!rre.equ(t[i],e.props[i])){n[i]=t[i];for(const e in t)e.startsWith("".concat(i,"-"))&&(n[e]=t[e])}for(const i in e.props){if(pre.includes(i)||t.hasOwnProperty(i))continue;const{root:r,key:a}=cre(e.object,i);if(r.constructor&&0===r.constructor.length){const e=fre(r);rre.und(e)||(n[a]=e[a])}else n[a]=0}return n}(e,i);Object.keys(t).length&&(Object.assign(e.props,t),vre(e.object,t))}(null===r.sibling||0===(4&r.flags))&&function(){for(const[n]of Qre){const e=n.parent;if(e){n.props.attach?hre(e,n):xre(n.object)&&xre(e.object)&&e.object.remove(n.object);for(const e of n.children)e.props.attach?hre(n,e):xre(e.object)&&xre(n.object)&&n.object.remove(e.object)}n.isHidden&&Vre(n),n.object.__r3f&&delete n.object.__r3f,"primitive"!==n.type&&Gre(n.object)}for(const[n,i,r]of Qre){n.props=i;const a=n.parent;if(a){var e,t;const i=Lre[Bre(n.type)];n.object=null!=(e=n.props.object)?e:new i(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,Wre(r,n.object),vre(n.object,n.props),n.props.attach?dre(a,n):xre(n.object)&&xre(a.object)&&a.object.add(n.object);for(const e of n.children)e.props.attach?dre(n,e):xre(e.object)&&xre(n.object)&&n.object.add(e.object);yre(n)}}Qre.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>lre(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){var t;e.isHidden||(e.props.attach&&null!=(t=e.parent)&&t.object?hre(e.parent,e):xre(e.object)&&(e.object.visible=!1),e.isHidden=!0,yre(e))},unhideInstance:Vre,createTextInstance:Yre,hideTextInstance:Yre,unhideTextInstance:Yre,scheduleTimeout:"function"===typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"===typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:i.createContext(null),setCurrentUpdatePriority(e){Kre=e},getCurrentUpdatePriority:()=>Kre,resolveUpdatePriority(){var e;if(0!==Kre)return Kre;switch("undefined"!==typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Cie.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Cie.ContinuousEventPriority;default:return Cie.DefaultEventPriority}},resetFormInstance(){}}),Jre=new Map,$re={objects:"shallow",strict:!1};function eae(e){const t=Jre.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const r="function"===typeof reportError?reportError:console.error,a=i||Ere(gae,vae),o=n||Zre.createContainer(a,Cie.ConcurrentRoot,null,!1,null,"",r,r,r,null);let l,c;t||Jre.set(e,{fiber:o,store:a});let u=!1,d=null;return{async configure(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=new Promise(e=>t=e);let{gl:i,size:r,scene:o,events:p,onCreated:m,shadows:f=!1,linear:A=!1,flat:g=!1,legacy:v=!1,orthographic:y=!1,frameloop:b="always",dpr:x=[1,2],performance:w,raycaster:T,camera:_,onPointerMissed:S}=n,M=a.getState(),E=M.gl;if(!M.gl){const t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"===typeof i?await i(t):i;E=Sre(n)?n:new yy(h(h({},t),i)),M.set({gl:E})}let C=M.raycaster;C||M.set({raycaster:C=new Wf});const P=T||{},{params:N}=P,R=s(P,Yie);if(rre.equ(R,C,$re)||vre(C,h({},R)),rre.equ(N,C.params,$re)||vre(C,{params:h(h({},C.params),N)}),!M.camera||M.camera===c&&!rre.equ(c,_,$re)){c=_;const e=null==_?void 0:_.isCamera,t=e?_:y?new Vm(0,0,0,0,.1,1e3):new iu(75,0,.1,1e3);e||(t.position.z=5,_&&(vre(t,_),t.manual||("aspect"in _||"left"in _||"right"in _||"bottom"in _||"top"in _)&&(t.manual=!0,t.updateProjectionMatrix())),M.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),M.set({camera:t}),C.camera=t}if(!M.scene){let e;null!=o&&o.isScene?(e=o,lre(e,a,"",{})):(e=new pu,lre(e,a,"",{}),o&&vre(e,o)),M.set({scene:e})}p&&!M.events.handlers&&M.set({events:p(a)});const D=function(e,t){if(!t&&"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:i,left:r}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:r}}return!t&&"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:h({width:0,height:0,top:0,left:0},t)}(e,r);if(rre.equ(D,M.size,$re)||M.setSize(D.width,D.height,D.top,D.left),x&&M.viewport.dpr!==nre(x)&&M.setDpr(x),M.frameloop!==b&&M.setFrameloop(b),M.onPointerMissed||M.set({onPointerMissed:S}),w&&!rre.equ(w,M.performance,$re)&&M.set(e=>({performance:h(h({},e.performance),w)})),!M.xr){var I;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&vae(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||gae(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(I=E.xr)?void 0:I.addEventListener)&&n.connect(),M.set({xr:n})}if(E.shadowMap){const e=E.shadowMap.enabled,t=E.shadowMap.type;if(E.shadowMap.enabled=!!f,rre.boo(f))E.shadowMap.type=fi;else if(rre.str(f)){var L;const e={basic:pi,percentage:mi,soft:fi,variance:Ai};E.shadowMap.type=null!=(L=e[f])?L:fi}else rre.obj(f)&&Object.assign(E.shadowMap,f);e===E.shadowMap.enabled&&t===E.shadowMap.type||(E.shadowMap.needsUpdate=!0)}return bs.enabled=!v,u||(E.outputColorSpace=A?to:eo,E.toneMapping=g?ir:sr),M.legacy!==v&&M.set(()=>({legacy:v})),M.linear!==A&&M.set(()=>({linear:A})),M.flat!==g&&M.set(()=>({flat:g})),!i||rre.fun(i)||Sre(i)||rre.equ(i,E,$re)||vre(E,i),l=m,u=!0,t(),this},render(t){return u||d||this.configure(),d.then(()=>{Zre.updateContainer((0,Yn.jsx)(tae,{store:a,children:t,onCreated:l,rootElement:e}),o,null,()=>{})}),a},unmount(){nae(e)}}}function tae(e){let{store:t,children:n,onCreated:i,rootElement:r}=e;return Jie(()=>{const e=t.getState();e.set(e=>({internal:h(h({},e.internal),{},{active:!0})})),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(r)},[]),(0,Yn.jsx)(Mre.Provider,{value:t,children:n})}function nae(e,t){const n=Jre.get(e),i=null==n?void 0:n.fiber;if(i){const r=null==n?void 0:n.store.getState();r&&(r.internal.active=!1),Zre.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var n,i,a,o;null==r.events.disconnect||r.events.disconnect(),null==(n=r.gl)||null==(i=n.renderLists)||null==i.dispose||i.dispose(),null==(a=r.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=r.gl)&&o.xr&&r.xr.disconnect(),function(e){"Scene"!==e.type&&(null==e.dispose||e.dispose());for(const t in e){const n=e[t];"Scene"!==(null==n?void 0:n.type)&&(null==n||null==n.dispose||n.dispose())}}(r.scene),Jre.delete(e),t&&t(e)}catch(ice){}},500)})}}const iae=new Set,rae=new Set,aae=new Set;function oae(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function sae(e,t){switch(e){case"before":return oae(iae,t);case"after":return oae(rae,t);case"tail":return oae(aae,t)}}let lae,cae;function uae(e,t,n){let i=t.clock.getDelta();"never"===t.frameloop&&"number"===typeof e&&(i=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),lae=t.internal.subscribers;for(let r=0;r<lae.length;r++)cae=lae[r],cae.ref.current(cae.store.getState(),i,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let dae,hae,pae,mae=!1,fae=!1;function Aae(e){hae=requestAnimationFrame(Aae),mae=!0,dae=0,sae("before",e),fae=!0;for(const n of Jre.values()){var t;pae=n.store.getState(),!pae.internal.active||!("always"===pae.frameloop||pae.internal.frames>0)||null!=(t=pae.gl.xr)&&t.isPresenting||(dae+=uae(e,pae))}if(fae=!1,sae("after",e),0===dae)return sae("tail",e),mae=!1,cancelAnimationFrame(hae)}function gae(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var n;if(!e)return Jre.forEach(e=>gae(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||"never"===e.frameloop||(e.internal.frames=t>1?Math.min(60,e.internal.frames+t):fae?2:1,mae||(mae=!0,requestAnimationFrame(Aae)))}function vae(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(t&&sae("before",e),n)uae(e,n,i);else for(const r of Jre.values())uae(e,r.store.getState());t&&sae("after",e)}const yae={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function bae(e){const{handlePointer:t}=_re(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(yae).reduce((e,n)=>h(h({},e),{},{[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:i}=e.getState();null!=(t=i.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=e.getState();if(null==i.disconnect||i.disconnect(),n(e=>({events:h(h({},e.events),{},{connected:t})})),i.handlers)for(const e in i.handlers){const n=i.handlers[e],[r,a]=yae[e];t.addEventListener(r,n,{passive:a})}},disconnect:()=>{const{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(const e in n.handlers){const t=n.handlers[e],[i]=yae[e];n.connected.removeEventListener(i,t)}t(e=>({events:h(h({},e.events),{},{connected:void 0})}))}}}}function xae(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function wae(){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1};const a=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),c=e?"number"==typeof e?e:e.scroll:null,u=e?"number"==typeof e?e:e.resize:null,d=(0,i.useRef)(!1);(0,i.useEffect)(()=>(d.current=!0,()=>{d.current=!1}));const[h,p,m]=(0,i.useMemo)(()=>{const e=()=>{if(!l.current.element)return;const{left:e,top:t,width:n,height:i,bottom:a,right:o,x:c,y:u}=l.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:i,bottom:a,right:o,x:c,y:u};l.current.element instanceof HTMLElement&&r&&(h.height=l.current.element.offsetHeight,h.width=l.current.element.offsetWidth),Object.freeze(h),d.current&&!Sae(l.current.lastBounds,h)&&s(l.current.lastBounds=h)};return[e,u?xae(e,u):e,c?xae(e,c):e]},[s,r,c,u]);function f(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function A(){l.current.element&&(l.current.resizeObserver=new a(m),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(e=>e.addEventListener("scroll",m,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}return function(e,t){(0,i.useEffect)(()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[e,t])}(m,!!t),function(e){(0,i.useEffect)(()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}(p),(0,i.useEffect)(()=>{f(),A()},[t,m,p]),(0,i.useEffect)(()=>f,[]),[e=>{!e||e===l.current.element||(f(),l.current.element=e,l.current.scrollContainers=Tae(e),A())},o,h]}function Tae(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(e);return[n,i,r].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...Tae(e.parentElement)]}const _ae=["x","y","top","bottom","left","right","width","height"],Sae=(e,t)=>_ae.every(n=>e[n]===t[n]),Mae=["ref","children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"];function Eae(t){let{ref:n,children:r,fallback:a,resize:o,style:l,gl:c,events:u=bae,eventSource:d,eventPrefix:p,shadows:m,linear:f,flat:A,legacy:g,orthographic:v,frameloop:y,dpr:b,performance:x,raycaster:w,camera:T,scene:_,onPointerMissed:S,onCreated:M}=t,E=s(t,Mae);i.useMemo(()=>Ore(e),[]);const C=function(){const e=Gie(),t=Qie();return i.useMemo(()=>n=>{let{children:r}=n;const a=Vie(e,!0,e=>e.type===i.StrictMode)?i.StrictMode:i.Fragment;return(0,Yn.jsx)(a,{children:(0,Yn.jsx)(t,{children:r})})},[e,t])}(),[P,N]=wae(h({scroll:!0,debounce:{scroll:50,resize:0}},o)),R=i.useRef(null),D=i.useRef(null);i.useImperativeHandle(n,()=>R.current);const I=$ie(S),[L,k]=i.useState(!1),[B,F]=i.useState(!1);if(L)throw L;if(B)throw B;const O=i.useRef(null);Jie(()=>{const e=R.current;if(N.width>0&&N.height>0&&e){async function t(){await O.current.configure({gl:c,scene:_,events:u,shadows:m,linear:f,flat:A,legacy:g,orthographic:v,frameloop:y,dpr:b,performance:x,raycaster:w,camera:T,size:N,onPointerMissed:function(){return null==I.current?void 0:I.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(d?(t=d)&&t.hasOwnProperty("current")?d.current:d:D.current),p&&e.setEvents({compute:(e,t)=>{const n=e[p+"X"],i=e[p+"Y"];t.pointer.set(n/t.size.width*2-1,-i/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==M||M(e)}}),O.current.render((0,Yn.jsx)(C,{children:(0,Yn.jsx)(tre,{set:F,children:(0,Yn.jsx)(i.Suspense,{fallback:(0,Yn.jsx)(ere,{set:k}),children:null!=r?r:null})})}))}O.current||(O.current=eae(e)),t()}}),i.useEffect(()=>{const e=R.current;if(e)return()=>nae(e)},[]);const U=d?"none":"auto";return(0,Yn.jsx)("div",h(h({ref:D,style:h({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U},l)},E),{},{children:(0,Yn.jsx)("div",{ref:P,style:{width:"100%",height:"100%"},children:(0,Yn.jsx)("canvas",{ref:R,style:{display:"block"},children:a})})}))}function Cae(e){return(0,Yn.jsx)(qie,{children:(0,Yn.jsx)(Eae,h({},e))})}function Pae(){return Pae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pae.apply(null,arguments)}var Nae=Object.defineProperty,Rae=(e,t,n)=>(((e,t,n)=>{t in e?Nae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class Dae{constructor(){Rae(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e);e.target=null}}}var Iae=Object.defineProperty,Lae=(e,t,n)=>(((e,t,n)=>{t in e?Iae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);const kae=new ul,Bae=new cd,Fae=Math.cos(Math.PI/180*70),Oae=(e,t)=>(e%t+t)%t;class Uae extends Dae{constructor(e,t){super(),Lae(this,"object"),Lae(this,"domElement"),Lae(this,"enabled",!0),Lae(this,"target",new as),Lae(this,"minDistance",0),Lae(this,"maxDistance",1/0),Lae(this,"minZoom",0),Lae(this,"maxZoom",1/0),Lae(this,"minPolarAngle",0),Lae(this,"maxPolarAngle",Math.PI),Lae(this,"minAzimuthAngle",-1/0),Lae(this,"maxAzimuthAngle",1/0),Lae(this,"enableDamping",!1),Lae(this,"dampingFactor",.05),Lae(this,"enableZoom",!0),Lae(this,"zoomSpeed",1),Lae(this,"enableRotate",!0),Lae(this,"rotateSpeed",1),Lae(this,"enablePan",!0),Lae(this,"panSpeed",1),Lae(this,"screenSpacePanning",!0),Lae(this,"keyPanSpeed",7),Lae(this,"zoomToCursor",!1),Lae(this,"autoRotate",!1),Lae(this,"autoRotateSpeed",2),Lae(this,"reverseOrbit",!1),Lae(this,"reverseHorizontalOrbit",!1),Lae(this,"reverseVerticalOrbit",!1),Lae(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Lae(this,"mouseButtons",{LEFT:si.ROTATE,MIDDLE:si.DOLLY,RIGHT:si.PAN}),Lae(this,"touches",{ONE:li.ROTATE,TWO:li.DOLLY_PAN}),Lae(this,"target0"),Lae(this,"position0"),Lae(this,"zoom0"),Lae(this,"_domElementKeyEvents",null),Lae(this,"getPolarAngle"),Lae(this,"getAzimuthalAngle"),Lae(this,"setPolarAngle"),Lae(this,"setAzimuthalAngle"),Lae(this,"getDistance"),Lae(this,"getZoomScale"),Lae(this,"listenToKeyEvents"),Lae(this,"stopListenToKeyEvents"),Lae(this,"saveState"),Lae(this,"reset"),Lae(this,"update"),Lae(this,"connect"),Lae(this,"dispose"),Lae(this,"dollyIn"),Lae(this,"dollyOut"),Lae(this,"getScale"),Lae(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=Oae(e,2*Math.PI),i=c.phi;i<0&&(i+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-i);2*Math.PI-r<r&&(t<i?t+=2*Math.PI:i+=2*Math.PI),u.phi=t-i,n.update()},this.setAzimuthalAngle=e=>{let t=Oae(e,2*Math.PI),i=c.theta;i<0&&(i+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-i);2*Math.PI-r<r&&(t<i?t+=2*Math.PI:i+=2*Math.PI),u.theta=t-i,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",K),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",K),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),s=o.NONE},this.update=(()=>{const t=new as,r=new as(0,1,0),a=(new rs).setFromUnitVectors(e.up,r),p=a.clone().invert(),m=new as,f=new rs,A=2*Math.PI;return function(){const g=n.object.position;a.setFromUnitVectors(e.up,r),p.copy(a).invert(),t.copy(g).sub(n.target),t.applyQuaternion(a),c.setFromVector3(t),n.autoRotate&&s===o.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=u.theta*n.dampingFactor,c.phi+=u.phi*n.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let v=n.minAzimuthAngle,y=n.maxAzimuthAngle;isFinite(v)&&isFinite(y)&&(v<-Math.PI?v+=A:v>Math.PI&&(v-=A),y<-Math.PI?y+=A:y>Math.PI&&(y-=A),c.theta=v<=y?Math.max(v,Math.min(y,c.theta)):c.theta>(v+y)/2?Math.max(v,c.theta):Math.min(y,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),n.zoomToCursor&&_||n.object.isOrthographicCamera?c.radius=F(c.radius):c.radius=F(c.radius*d),t.setFromSpherical(c),t.applyQuaternion(p),g.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),h.set(0,0,0));let b=!1;if(n.zoomToCursor&&_){let i=null;if(n.object instanceof iu&&n.object.isPerspectiveCamera){const e=t.length();i=F(e*d);const r=e-i;n.object.position.addScaledVector(w,r),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const e=new as(T.x,T.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),b=!0;const r=new as(T.x,T.y,0);r.unproject(n.object),n.object.position.sub(r).add(e),n.object.updateMatrixWorld(),i=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==i&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(i).add(n.object.position):(kae.origin.copy(n.object.position),kae.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(kae.direction))<Fae?e.lookAt(n.target):(Bae.setFromNormalAndCoplanarPoint(n.object.up,n.target),kae.intersectPlane(Bae,n.target))))}else n.object instanceof Vm&&n.object.isOrthographicCamera&&(b=1!==d,b&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix()));return d=1,_=!1,!!(b||m.distanceToSquared(n.object.position)>l||8*(1-f.dot(n.object.quaternion))>l)&&(n.dispatchEvent(i),m.copy(n.object.position),f.copy(n.object.quaternion),b=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Z),n.domElement.addEventListener("pointerdown",W),n.domElement.addEventListener("pointercancel",Y),n.domElement.addEventListener("wheel",X)},this.dispose=()=>{var e,t,i,r,a,o;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",Z),null==(t=n.domElement)||t.removeEventListener("pointerdown",W),null==(i=n.domElement)||i.removeEventListener("pointercancel",Y),null==(r=n.domElement)||r.removeEventListener("wheel",X),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointermove",Q),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointerup",Y),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",K)};const n=this,i={type:"change"},r={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const l=1e-6,c=new Xf,u=new Xf;let d=1;const h=new as,p=new is,m=new is,f=new is,A=new is,g=new is,v=new is,y=new is,b=new is,x=new is,w=new as,T=new is;let _=!1;const S=[],M={};function E(){return Math.pow(.95,n.zoomSpeed)}function C(e){n.reverseOrbit||n.reverseHorizontalOrbit?u.theta+=e:u.theta-=e}function P(e){n.reverseOrbit||n.reverseVerticalOrbit?u.phi+=e:u.phi-=e}const N=(()=>{const e=new as;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}})(),R=(()=>{const e=new as;return function(t,i){!0===n.screenSpacePanning?e.setFromMatrixColumn(i,1):(e.setFromMatrixColumn(i,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}})(),D=(()=>{const e=new as;return function(t,i){const r=n.domElement;if(r&&n.object instanceof iu&&n.object.isPerspectiveCamera){const a=n.object.position;e.copy(a).sub(n.target);let o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),N(2*t*o/r.clientHeight,n.object.matrix),R(2*i*o/r.clientHeight,n.object.matrix)}else r&&n.object instanceof Vm&&n.object.isOrthographicCamera?(N(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),R(i*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function I(e){n.object instanceof iu&&n.object.isPerspectiveCamera||n.object instanceof Vm&&n.object.isOrthographicCamera?d=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){I(d/e)}function k(e){I(d*e)}function B(e){if(!n.zoomToCursor||!n.domElement)return;_=!0;const t=n.domElement.getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top,a=t.width,o=t.height;T.x=i/a*2-1,T.y=-r/o*2+1,w.set(T.x,T.y,1).unproject(n.object).sub(n.object.position).normalize()}function F(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function O(e){p.set(e.clientX,e.clientY)}function U(e){A.set(e.clientX,e.clientY)}function V(){if(1==S.length)p.set(S[0].pageX,S[0].pageY);else{const e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);p.set(e,t)}}function j(){if(1==S.length)A.set(S[0].pageX,S[0].pageY);else{const e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);A.set(e,t)}}function z(){const e=S[0].pageX-S[1].pageX,t=S[0].pageY-S[1].pageY,n=Math.sqrt(e*e+t*t);y.set(0,n)}function q(e){if(1==S.length)m.set(e.pageX,e.pageY);else{const t=$(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);m.set(n,i)}f.subVectors(m,p).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*f.x/t.clientHeight),P(2*Math.PI*f.y/t.clientHeight)),p.copy(m)}function G(e){if(1==S.length)g.set(e.pageX,e.pageY);else{const t=$(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);g.set(n,i)}v.subVectors(g,A).multiplyScalar(n.panSpeed),D(v.x,v.y),A.copy(g)}function H(e){const t=$(e),i=e.pageX-t.x,r=e.pageY-t.y,a=Math.sqrt(i*i+r*r);b.set(0,a),x.set(0,Math.pow(b.y/y.y,n.zoomSpeed)),L(x.y),y.copy(b)}function W(e){var t,i;!1!==n.enabled&&(0===S.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",Q),null==(i=n.domElement)||i.ownerDocument.addEventListener("pointerup",Y)),function(e){S.push(e)}(e),"touch"===e.pointerType?function(e){switch(J(e),S.length){case 1:switch(n.touches.ONE){case li.ROTATE:if(!1===n.enableRotate)return;V(),s=o.TOUCH_ROTATE;break;case li.PAN:if(!1===n.enablePan)return;j(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case li.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&z(),n.enablePan&&j(),s=o.TOUCH_DOLLY_PAN;break;case li.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&z(),n.enableRotate&&V(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(r)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case si.DOLLY:if(!1===n.enableZoom)return;!function(e){B(e),y.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case si.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;U(e),s=o.PAN}else{if(!1===n.enableRotate)return;O(e),s=o.ROTATE}break;case si.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;O(e),s=o.ROTATE}else{if(!1===n.enablePan)return;U(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(r)}(e))}function Q(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(J(e),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;q(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;G(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&H(e),n.enablePan&&G(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&H(e),n.enableRotate&&q(e)}(e),n.update();break;default:s=o.NONE}}(e):function(e){if(!1===n.enabled)return;switch(s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),f.subVectors(m,p).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*f.x/t.clientHeight),P(2*Math.PI*f.y/t.clientHeight)),p.copy(m),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){b.set(e.clientX,e.clientY),x.subVectors(b,y),x.y>0?L(E()):x.y<0&&k(E()),y.copy(b),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){g.set(e.clientX,e.clientY),v.subVectors(g,A).multiplyScalar(n.panSpeed),D(v.x,v.y),A.copy(g),n.update()}(e)}}(e))}function Y(e){var t,i,r;!function(e){delete M[e.pointerId];for(let t=0;t<S.length;t++)if(S[t].pointerId==e.pointerId)return void S.splice(t,1)}(e),0===S.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointermove",Q),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointerup",Y)),n.dispatchEvent(a),s=o.NONE}function X(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),n.dispatchEvent(r),function(e){B(e),e.deltaY<0?k(E()):e.deltaY>0&&L(E()),n.update()}(e),n.dispatchEvent(a))}function K(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:D(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:D(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:D(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:D(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function Z(e){!1!==n.enabled&&e.preventDefault()}function J(e){let t=M[e.pointerId];void 0===t&&(t=new is,M[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){const t=e.pointerId===S[0].pointerId?S[1]:S[0];return M[t.pointerId]}this.dollyIn=function(){k(arguments.length>0&&void 0!==arguments[0]?arguments[0]:E()),n.update()},this.dollyOut=function(){L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:E()),n.update()},this.getScale=()=>d,this.setScale=e=>{I(e),n.update()},this.getZoomScale=()=>E(),void 0!==t&&this.connect(t),this.update()}}const Vae=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"],jae=i.forwardRef((e,t)=>{let{makeDefault:n,camera:r,regress:a,domElement:o,enableDamping:l=!0,keyEvents:c=!1,onChange:u,onStart:d,onEnd:h}=e,p=s(e,Vae);const m=Pre(e=>e.invalidate),f=Pre(e=>e.camera),A=Pre(e=>e.gl),g=Pre(e=>e.events),v=Pre(e=>e.setEvents),y=Pre(e=>e.set),b=Pre(e=>e.get),x=Pre(e=>e.performance),w=r||f,T=o||g.connected||A.domElement,_=i.useMemo(()=>new Uae(w),[w]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Cre(),i=n.getState().internal.subscribe,r=$ie(e);Jie(()=>i(r,t,n),[t,i,n])}(()=>{_.enabled&&_.update()},-1),i.useEffect(()=>(c&&_.connect(!0===c?T:c),_.connect(T),()=>{_.dispose()}),[c,T,a,_,m]),i.useEffect(()=>{const e=e=>{m(),a&&x.regress(),u&&u(e)},t=e=>{d&&d(e)},n=e=>{h&&h(e)};return _.addEventListener("change",e),_.addEventListener("start",t),_.addEventListener("end",n),()=>{_.removeEventListener("start",t),_.removeEventListener("end",n),_.removeEventListener("change",e)}},[u,d,h,_,m,v]),i.useEffect(()=>{if(n){const e=b().controls;return y({controls:_}),()=>y({controls:e})}},[n,_]),i.createElement("primitive",Pae({ref:t,object:_,enableDamping:l},p))}),zae=JSON.parse('{"qT":[{"type":"Feature","properties":{"admin":"Afghanistan","name":"Afghanistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[61.21081709172573,35.65007233330922],[62.23065148300588,35.27066396742229],[62.98466230657659,35.404040839167614],[63.19353844590034,35.85716563571891],[63.982895949158696,36.007957465146596],[64.54647911973389,36.31207326918426],[64.74610517767739,37.1118177353333],[65.58894778835783,37.30521678318563],[65.74563073106681,37.66116404881206],[66.21738488145932,37.39379018813391],[66.51860680528866,37.362784328758785],[67.07578209825961,37.35614390720928],[67.8299996275595,37.14499400486468],[68.13556237170137,37.0231151393043],[68.85944583524592,37.34433584243059],[69.19627282092436,37.15114350030742],[69.51878543485795,37.60899669041341],[70.11657840361032,37.588222764632086],[70.27057417184012,37.73516469985401],[70.37630415230927,38.138395901027515],[70.80682050973287,38.48628164321641],[71.34813113799025,38.258905341132156],[71.23940392444815,37.95326508234188],[71.54191775908477,37.90577444106563],[71.44869347523023,37.06564484308051],[71.84463829945058,36.738171291646914],[72.19304080596238,36.94828766534566],[72.63688968291727,37.04755809177835],[73.26005577992498,37.495256862938994],[73.94869591664649,37.421566270490786],[74.9800024758954,37.41999013930589],[75.1580277851409,37.13303091078911],[74.57589277537296,37.02084137628345],[74.06755171091781,36.836175645488446],[72.92002485544445,36.72000702569631],[71.84629194528391,36.50994232842985],[71.26234826038574,36.0743875188578],[71.49876793812108,35.650563259415996],[71.6130762063507,35.15320343682286],[71.11501875192162,34.73312571872223],[71.15677330921345,34.348911444632144],[70.88180301298839,33.98885590263851],[69.93054324735958,34.0201201441751],[70.32359419137158,33.358532619758385],[69.68714725126485,33.10549896904123],[69.26252200712254,32.50194407808829],[69.31776411324255,31.901412258424436],[68.92667687365766,31.620189113892064],[68.55693200060931,31.71331004488201],[67.79268924344477,31.582930406209623],[67.68339358914746,31.303154201781414],[66.93889122911845,31.304911200479346],[66.38145755398601,30.73889923758645],[66.34647260932441,29.88794342703617],[65.04686201361609,29.4721806910319],[64.3504187356185,29.56003062592809],[64.14800215033124,29.340819200145965],[63.550260858011164,29.468330796826162],[62.549856805272775,29.318572496044304],[60.87424848820878,29.829238999952604],[61.78122155136343,30.73585032808123],[61.69931440618081,31.37950613049266],[60.941944614511115,31.548074652628745],[60.86365481958895,32.18291962333442],[60.53607791529076,32.98126882581156],[60.96370039250599,33.52883230237625],[60.528429803311575,33.676446031218],[60.80319339380744,34.404101874319856],[61.21081709172573,35.65007233330922]]]}},{"type":"Feature","properties":{"admin":"Angola","name":"Angola","continent":"Africa"},"geometry":{"type":"MultiPolygon","coordinates":[[[[16.326528354567042,-5.877470391466217],[16.57317996589614,-6.622644545115092],[16.860190870845226,-7.222297865429978],[17.089995965247166,-7.545688978712474],[17.47297000496229,-8.068551120641656],[18.134221632569048,-7.987677504104865],[18.464175652752683,-7.847014255406475],[19.016751743249664,-7.988245944860138],[19.16661339689608,-7.738183688999724],[19.417502475673214,-7.155428562044277],[20.037723016040214,-7.116361179231658],[20.091621534920616,-6.943090101756949],[20.60182295093832,-6.939317722199688],[20.514748162526526,-7.299605808138663],[21.728110792739752,-7.290872491081315],[21.74645592620336,-7.920084730667113],[21.949130893652033,-8.305900974158304],[21.80180138518795,-8.908706556842985],[21.875181919042397,-9.523707777548564],[22.208753289486417,-9.894796237836529],[22.155268182064326,-11.084801120653777],[22.40279829274243,-10.99307545333569],[22.837345411884762,-11.017621758674334],[23.45679080576746,-10.867863457892481],[23.912215203555743,-10.92682626713754],[24.017893507592614,-11.237298272347115],[23.904153680118235,-11.722281589406332],[24.079905226342895,-12.191296888887305],[23.930922072045373,-12.56584767013882],[24.0161365088947,-12.91104623784855],[21.93388634612594,-12.898437188369353],[21.88784264495387,-16.08031015387689],[22.562478468524283,-16.89845142992183],[23.215048455506086,-17.523116143465952],[21.37717614104559,-17.930636488519706],[18.956186964603628,-17.789094740472233],[18.263309360434217,-17.309950860262003],[14.20970665859505,-17.35310068122571],[14.058501417709035,-17.423380629142653],[13.462362094789963,-16.97121184658874],[12.814081251688405,-16.941342868724075],[12.21546146001938,-17.11166838955806],[11.734198846085146,-17.301889336824498],[11.640096062881609,-16.673142185129205],[11.778537224991563,-15.793816013250687],[12.123580763404444,-14.878316338767927],[12.175618930722264,-14.449143568583889],[12.500095249083014,-13.547699883684398],[12.738478631245439,-13.137905775609934],[13.312913852601834,-12.483630466362511],[13.633721144269824,-12.03864470789719],[13.738727654686924,-11.297863050993142],[13.686379428775293,-10.73107594161584],[13.38732791510216,-10.373578383020726],[13.120987583069873,-9.766897067914112],[12.875369500386567,-9.166933689005488],[12.929061313537797,-8.959091078327573],[13.23643273280987,-8.56262948978434],[12.933040398824314,-7.596538588087752],[12.728298374083916,-6.927122084178803],[12.22734703944644,-6.294447523629372],[12.322431674863562,-6.100092461779651],[12.735171339578695,-5.965682061388476],[13.024869419006988,-5.984388929878106],[13.375597364971892,-5.864241224799555],[16.326528354567042,-5.877470391466217]]],[[[12.43668826666092,-5.684303887559223],[12.182336866920277,-5.789930515163801],[11.914963006242115,-5.037986748884733],[12.318607618873923,-4.606230157086158],[12.620759718484548,-4.438023369976121],[12.995517205465202,-4.781103203961918],[12.631611769265842,-4.991271254092935],[12.46800418462976,-5.248361504744991],[12.43668826666092,-5.684303887559223]]]]}},{"type":"Feature","properties":{"admin":"Albania","name":"Albania","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.590247430104906,41.85540416113359],[20.463175083099195,41.51508901627533],[20.605181919037356,41.08622630468522],[21.020040317476397,40.84272695572587],[20.99998986174722,40.580003973953964],[20.67499677906363,40.43499990494302],[20.61500044117275,40.110006822259365],[20.150015903410516,39.624997666983965],[19.980000441170144,39.6949933945234],[19.9600016618732,39.91500580500604],[19.40608198413673,40.25077342382246],[19.31905887215714,40.727230129553554],[19.403549838954287,41.409565741535445],[19.5400272966371,41.71998607031275],[19.371768833094958,41.87754751237064],[19.304486118250786,42.19574514420781],[19.738051385179627,42.688247382165564],[19.80161339689868,42.500093492190835],[20.0707,42.58863],[20.28375451018189,42.320259507815074],[20.52295,42.21787],[20.590247430104906,41.85540416113359]]]}},{"type":"Feature","properties":{"admin":"United Arab Emirates","name":"United Arab Emirates","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[51.57951867046326,24.2454971379511],[51.75744062684417,24.294072984305462],[51.794389275932865,24.0198261581325],[52.57708051942559,24.177439276622703],[53.40400678896014,24.151316840099167],[54.008000929587574,24.121757920828212],[54.693023716048614,24.797892360935084],[55.439024692614126,25.439145209244934],[56.070820753814544,26.055464178973978],[56.26104170108095,25.71460643157676],[56.39684736514399,24.924732163995483],[55.88623253766799,24.92083059335744],[55.80411868675621,24.26960419361526],[55.981213820220454,24.13054291431782],[55.52863162620823,23.9336040308535],[55.52584109886446,23.52486928964093],[55.23448937360287,23.110992743415316],[55.20834109886319,22.70832998299704],[55.0068030129249,22.49694753670713],[52.00073327007432,23.001154486578937],[51.61770755392697,24.014219265228824],[51.57951867046326,24.2454971379511]]]}},{"type":"Feature","properties":{"admin":"Argentina","name":"Argentina","continent":"South America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-65.5,-55.2],[-66.45,-55.25],[-66.95992,-54.89681],[-67.56244,-54.87001],[-68.63335,-54.8695],[-68.63401022758315,-52.63637045887445],[-68.25,-53.1],[-67.75,-53.85],[-66.45,-54.45],[-65.05,-54.7],[-65.5,-55.2]]],[[[-64.96489213729457,-22.075861504812348],[-64.37702104354226,-22.79809132252354],[-63.98683814152246,-21.993644301035953],[-62.84646847192154,-22.034985446869452],[-62.685057135657885,-22.2490292294224],[-60.84656470400993,-23.8807125790383],[-60.02896603050397,-24.03279631927324],[-58.80712846539494,-24.77145924245327],[-57.77721716981795,-25.162339776309032],[-57.633660040911124,-25.603656508081666],[-58.61817359071971,-27.123718763947117],[-57.609759690976134,-27.39589853282842],[-56.48670162619299,-27.548499037386243],[-55.695845506398186,-27.387837009390815],[-54.78879492859504,-26.621785577096087],[-54.62529069682354,-25.73925546641548],[-54.13004960795441,-25.547639255477243],[-53.628348965048716,-26.12486500417743],[-53.648735317587885,-26.923472588816104],[-54.49072526713552,-27.474756768505767],[-55.162286342984586,-27.881915378533414],[-56.29089962423909,-28.85276051200085],[-57.62513342958291,-30.21629485445424],[-57.8749373032819,-31.016556084926158],[-58.14244035504074,-32.04450367607618],[-58.132647671121404,-33.04056690850201],[-58.34961117209882,-33.26318897881543],[-58.42707414410437,-33.90945444105754],[-58.49544206402654,-34.4314897600701],[-57.22582963726363,-35.288026625307886],[-57.36235877137874,-35.9773902320815],[-56.73748735210545,-36.413125909166574],[-56.78828528504834,-36.90157154718933],[-57.74915686708342,-38.1838705380799],[-59.231857062401865,-38.7202202288372],[-61.2374452378656,-38.92842457454114],[-62.335956997310134,-38.82770720800436],[-62.125763108962914,-39.42410491308487],[-62.33053097191943,-40.172586358400316],[-62.14599443220523,-40.67689666113672],[-62.74580278181697,-41.02876148861208],[-63.770494757732514,-41.16678923926366],[-64.7320898098197,-40.80267709733513],[-65.11803524439158,-41.064314874028874],[-64.97856055363583,-42.05800099056931],[-64.30340796574247,-42.359016208669495],[-63.75594784204234,-42.043686618824495],[-63.45805904809588,-42.563138116222355],[-64.37880388045629,-42.87355844499964],[-65.18180396183969,-43.49538095476778],[-65.32882341171013,-44.50136606219369],[-65.56526892766159,-45.03678557716978],[-66.50996578638934,-45.03962778094584],[-67.29379391139243,-45.55189625425518],[-67.58054643418008,-46.30177296324253],[-66.59706641301726,-47.033924655953804],[-65.64102657740143,-47.23613453551188],[-65.98508826360073,-48.13328907653113],[-67.16617896184765,-48.69733733499693],[-67.81608761256645,-49.86966887797041],[-68.72874508327315,-50.26421843851886],[-69.13853919134779,-50.73251026794779],[-68.81556148952352,-51.7711040115941],[-68.1499948798204,-52.3499834061277],[-68.57154537624133,-52.29944385534625],[-69.49836218939608,-52.142760912637236],[-71.91480383979632,-52.00902230586591],[-72.32940385607402,-51.425956312872394],[-72.30997351753234,-50.67700977966634],[-72.97574683296462,-50.7414502907343],[-73.32805091011446,-50.378785088909865],[-73.41543575712002,-49.31843637471295],[-72.64824744331493,-48.878618259476774],[-72.33116085477194,-48.24423837666182],[-72.44735531278026,-47.73853281025352],[-71.9172584703302,-46.884838148791786],[-71.55200944689123,-45.56073292417712],[-71.65931555854532,-44.97368865334143],[-71.22277889675972,-44.78424285255941],[-71.3298007880362,-44.40752166115168],[-71.79362260607193,-44.2071721331561],[-71.4640561591305,-43.787611179378324],[-71.9154239569839,-43.408564548517404],[-72.14889807807852,-42.254888197601375],[-71.74680375841545,-42.05138640723599],[-71.91573401557754,-40.832339369470716],[-71.68076127794644,-39.80816415787806],[-71.41351660834904,-38.91602223079111],[-70.8146642727347,-38.55299529394073],[-71.11862504747542,-37.57682748794719],[-71.12188066270977,-36.65812387466233],[-70.36476925320166,-36.00508879978993],[-70.38804948594908,-35.16968759535944],[-69.81730912950145,-34.19357146579828],[-69.81477698431921,-33.27388600029984],[-70.07439938015362,-33.09120981214803],[-70.53506893581944,-31.36501026787028],[-69.91900834825192,-30.336339206668306],[-70.01355038112986,-29.367922865518544],[-69.65613033718314,-28.459141127233686],[-69.00123491074827,-27.521213881136127],[-68.29554155137039,-26.899339694935787],[-68.59479977077267,-26.50690886811126],[-68.38600114609734,-26.18501637136523],[-68.41765296087611,-24.518554782816874],[-67.32844295924413,-24.025303236590908],[-66.98523393417763,-22.986348565362825],[-67.1066735500636,-22.735924574476392],[-66.27333940292483,-21.832310479420677],[-64.96489213729457,-22.075861504812348]]]]}},{"type":"Feature","properties":{"admin":"Armenia","name":"Armenia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[43.582745802592726,41.09214325618256],[44.97248009621807,41.24812856705559],[45.179495883979335,40.9853539088514],[45.56035118997043,40.81228953710592],[45.359174839058156,40.56150381119345],[45.891907179555076,40.21847565363999],[45.61001224140291,39.899993801425175],[46.03453413268066,39.62802073827306],[46.48349897643244,39.46415477147553],[46.505719842317966,38.77060537368629],[46.14362308124881,38.74120148371221],[45.735379266143006,39.319719143219736],[45.739978468616975,39.473999131827114],[45.298144972521456,39.47175120702242],[45.00198733905674,39.74000356704955],[44.79398969908193,39.71300263117704],[44.400008579288695,40.00500031184227],[43.656436395040934,40.25356395116618],[43.7526579119684,40.740200914058754],[43.582745802592726,41.09214325618256]]]}},{"type":"Feature","properties":{"admin":"French Southern and Antarctic Lands","name":"Fr. S. Antarctic Lands","continent":"Seven seas (open ocean)"},"geometry":{"type":"Polygon","coordinates":[[[68.935,-48.625],[69.58,-48.94],[70.525,-49.065],[70.56,-49.255],[70.28,-49.71],[68.745,-49.775],[68.72,-49.2425],[68.8675,-48.83],[68.935,-48.625]]]}},{"type":"Feature","properties":{"admin":"Australia","name":"Australia","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[145.39797814349478,-40.79254851660588],[146.3641207216237,-41.137695407883335],[146.90858361225082,-41.00054615658067],[147.68925947488412,-40.80825815202268],[148.289067824496,-40.87543751400212],[148.35986453673578,-42.06244516374644],[148.01730146707308,-42.40702361426861],[147.91405195535378,-43.211522312188485],[147.56456424376398,-42.937688897473855],[146.87034305235494,-43.63459726336208],[146.66332726459365,-43.58085377377854],[146.0483777203204,-43.54974456153888],[145.43192955951054,-42.69377613705627],[145.29509036680167,-42.03360971452755],[144.7180713238306,-41.16255177181571],[144.74375451067962,-40.703975111657705],[145.39797814349478,-40.79254851660588]]],[[[143.56181115129993,-13.76365569423221],[143.92209923723888,-14.548310642152],[144.5637138205748,-14.171176039285879],[144.89490807513351,-14.594457696188622],[145.37472374896342,-14.984976495018284],[145.27199100156724,-15.428205254785691],[145.48525963763575,-16.28567229580477],[145.63703331927695,-16.78491830817661],[145.88890425026767,-16.906926364817647],[146.16030887266447,-17.76165455492524],[146.06367394427866,-18.280072523677315],[146.38747846901958,-18.958274021075905],[147.4710815777479,-19.480722751546676],[148.17760176004248,-19.955939222902767],[148.84841352762322,-20.39120981209725],[148.71746544819558,-20.633468926681513],[149.28942020080206,-21.260510756111096],[149.67833703023064,-22.34251189543839],[150.0773824403886,-22.122783705333315],[150.48293908101516,-22.556142266533012],[150.72726525289116,-22.402404880464655],[150.89955447815225,-23.46223683033868],[151.6091752463842,-24.076256198830755],[152.07353966695905,-24.45788665130619],[152.8551973818059,-25.267501316023008],[153.13616214417675,-26.071173191026187],[153.16194868389036,-26.64131926850244],[153.09290897034856,-27.260299574494503],[153.56946902894418,-28.1100668271021],[153.51210818910022,-28.99507740653275],[153.33909549378706,-29.458201592732443],[153.06924116435886,-30.35024016695481],[153.0896016786818,-30.923641859665445],[152.89157759013938,-31.64044565198595],[152.45000247620533,-32.55000253675524],[151.70911746643677,-33.04134205498634],[151.3439717958624,-33.816023451473846],[151.0105554547151,-34.31036020277788],[150.71413943908902,-35.1734599749168],[150.32821984273323,-35.67187916437192],[150.07521203023225,-36.42020558039051],[149.94612430236714,-37.10905242284122],[149.99728397033613,-37.42526051203512],[149.42388227762552,-37.77268116633346],[148.3046224306159,-37.809061374666875],[147.38173302631526,-38.21921721776754],[146.92212283751132,-38.606532077795116],[146.31792199115478,-39.03575652441143],[145.48965213438055,-38.59376799901904],[144.87697635312816,-38.41744801203911],[145.03221235573295,-37.89618783951097],[144.485682407814,-38.08532358169926],[143.60997358619608,-38.80946542740532],[142.74542687395297,-38.53826751073752],[142.17832970598198,-38.380034275059835],[141.60658165910468,-38.30851409276787],[140.6385787294132,-38.01933277766254],[139.99215823787432,-37.402936293285094],[139.80658816951404,-36.64360279718827],[139.57414757706522,-36.138362318670666],[139.08280805883408,-35.732754001611774],[138.1207479188563,-35.6122962379394],[138.449461704665,-35.12726124444789],[138.20756432510666,-34.384722588845925],[137.71917036351613,-35.07682504653102],[136.8294055523147,-35.260534763328614],[137.35237104710848,-34.70733855564409],[137.50388634658833,-34.13026783624077],[137.89011600153765,-33.64047861097833],[137.8103275900791,-32.900007012668105],[136.99683719294035,-33.75277149834863],[136.37206912653164,-34.094766127256186],[135.98904341038434,-34.89011809666048],[135.2082125184541,-34.4786703427526],[135.23921837782916,-33.94795338311497],[134.6134167827746,-33.222778008763136],[134.0859037619391,-32.84807219821476],[134.27390262261702,-32.61723357516695],[132.9907768088098,-32.01122405368019],[132.28808068250487,-31.98264698662276],[131.3263306011209,-31.49580331800104],[129.53579389863967,-31.590422865527476],[128.2409375347022,-31.94848886487785],[127.10286746633828,-32.28226694105104],[126.14871382050113,-32.2159660784206],[125.08862348846559,-32.72875131605283],[124.22164798390493,-32.95948658623606],[124.02894656788851,-33.48384734470171],[123.65966678273071,-33.89017913181272],[122.81103641163361,-33.914467054989835],[122.18306440642283,-34.00340219496422],[121.29919070850258,-33.821036065406126],[120.58026818245811,-33.93017669040662],[119.89369510302822,-33.97606536228181],[119.29889936734878,-34.50936614353396],[119.00734093635798,-34.46414926527853],[118.50571780810077,-34.74681934991509],[118.02497195848952,-35.06473276137471],[117.29550744025744,-35.02545867283286],[116.62510908413492,-35.02509693780683],[115.56434695847969,-34.38642791111155],[115.02680870977952,-34.19651702243892],[115.04861616420676,-33.623425388322026],[115.54512332566708,-33.48725798923295],[115.71467370001666,-33.259571628554944],[115.67937869676138,-32.900368747694124],[115.80164513556396,-32.205062351207026],[115.6896106303551,-31.612437025683782],[115.16090905157694,-30.601594333622455],[114.99704308477942,-30.03072478609416],[115.04003787644625,-29.461095472940794],[114.64197431850198,-28.810230808224706],[114.61649783738217,-28.516398614213042],[114.17357913620845,-28.11807667410732],[114.04888390508813,-27.33476531342712],[113.47749759323688,-26.5431340471479],[113.33895307826248,-26.116545098578477],[113.77835778204026,-26.549025160429174],[113.44096235560659,-25.621278171493152],[113.93690107631164,-25.911234633082877],[114.23285200404729,-26.29844614024587],[114.216160516417,-25.786281019801105],[113.72125532435768,-24.998938897402123],[113.62534386602402,-24.683971042583146],[113.39352339076267,-24.38476449961326],[113.50204389857561,-23.80635019297025],[113.70699262904515,-23.56021534596406],[113.84341841029567,-23.059987481378734],[113.73655154831607,-22.475475355725372],[114.14975630092187,-21.75588103606101],[114.22530724493265,-22.51748829517863],[114.64776207891866,-21.829519952076904],[115.4601672709793,-21.49517343514854],[115.94737267462699,-21.068687839443708],[116.71161543179153,-20.701681817306817],[117.16631635952768,-20.6235987281138],[117.44154503791424,-20.746898695562162],[118.22955895393295,-20.374208265873232],[118.8360852397427,-20.263310642174822],[118.98780724495175,-20.04420256925732],[119.25249393115062,-19.952941989829835],[119.80522505094454,-19.976506442954978],[120.85622033089663,-19.683707777589188],[121.3998563986072,-19.23975554776973],[121.65513797412906,-18.70531788500713],[122.24166548064176,-18.197648614171765],[122.28662397673565,-17.79860320401391],[122.31277225147541,-17.254967136303446],[123.0125744975719,-16.405199883695854],[123.43378909718301,-17.268558037996225],[123.85934451710659,-17.06903533291725],[123.50324222218323,-16.596506036040363],[123.81707319549191,-16.11131601325199],[124.25828657439985,-16.32794361741956],[124.3797261902858,-15.567059828353973],[124.92615278534002,-15.07510019293532],[125.16727501841387,-14.680395603090004],[125.67008670461382,-14.510070082256018],[125.68579634003049,-14.230655612853834],[126.1251493673761,-14.34734099696895],[126.14282270721986,-14.09598683030121],[126.58258914602374,-13.95279143642041],[127.06586714081733,-13.817967624570922],[127.80463341686193,-14.276906019755042],[128.35968997610894,-14.869169610252253],[128.9855432475959,-14.875990899314738],[129.6214734233796,-14.969783623924553],[129.409600050983,-14.420669854391031],[129.8886405783286,-13.61870330165348],[130.33946577364293,-13.357375583553473],[130.18350630098598,-13.1075200334223],[130.61779503796697,-12.536392103732464],[131.22349450086,-12.183648776908113],[131.73509118054946,-12.302452894747159],[132.5752982931831,-12.114040622611013],[132.55721154188103,-11.603012383676683],[131.82469811414364,-11.273781833545097],[132.3572237489114,-11.128519382372641],[133.0195605815964,-11.376411228076844],[133.55084598198903,-11.786515394745134],[134.39306847548198,-12.042365411022173],[134.67863244032702,-11.9411829565947],[135.29849124566798,-12.248606052299051],[135.8826933127276,-11.962266940969796],[136.25838097548944,-12.049341729381606],[136.49247521377163,-11.85720875412039],[136.951620314685,-12.351958916882735],[136.68512495335574,-12.887223402562054],[136.3054065288751,-13.291229750219895],[135.9617582541341,-13.32450937261589],[136.07761681533253,-13.72427825282578],[135.78383629775323,-14.22398935308821],[135.4286641786112,-14.715432224183896],[135.50018436090318,-14.997740573794427],[136.29517459528137,-15.550264987859121],[137.06536014215948,-15.870762220933353],[137.5804708192448,-16.215082289294084],[138.30321740127897,-16.807604261952658],[138.58516401586337,-16.806622409739173],[139.10854292211548,-17.062679131745366],[139.2605749859182,-17.371600843986183],[140.21524539607827,-17.710804945550063],[140.87546349503924,-17.36906869880394],[141.07111046769626,-16.83204721442672],[141.2740954937388,-16.388870131091604],[141.39822228410378,-15.840531508042584],[141.7021830588446,-15.044921156476928],[141.56338016170866,-14.561333103089506],[141.6355204611881,-14.270394789286284],[141.51986860571895,-13.698078301653805],[141.650920038011,-12.944687595270562],[141.8426912782462,-12.741547539931187],[141.68699018775078,-12.407614434461134],[141.92862918514754,-11.877465915578778],[142.11848839738798,-11.32804208745162],[142.14370649634634,-11.04273650476814],[142.51526004452495,-10.668185723516642],[142.79731001197405,-11.157354831591515],[142.86676313697427,-11.78470671961493],[143.11594689348567,-11.90562957117791],[143.15863162655876,-12.325655612846187],[143.52212365129986,-12.834358412327429],[143.59715783098767,-13.400422051652594],[143.56181115129993,-13.76365569423221]]]]}},{"type":"Feature","properties":{"admin":"Austria","name":"Austria","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[16.979666782304033,48.1234970159763],[16.903754103267257,47.71486562762832],[16.34058434415041,47.712901923201215],[16.534267612380372,47.4961709661691],[16.20229821133736,46.85238597267695],[16.011663852612653,46.68361074481169],[15.137091912504982,46.658702704447016],[14.632471551174827,46.431817328469535],[13.806475457421524,46.5093061386912],[12.376485223040813,46.76755910906984],[12.15308800624305,47.11539317482644],[11.164827915093268,46.94157949481272],[11.048555942436533,46.751358547546324],[10.442701450246627,46.893546250997424],[9.932448357796657,46.92072805438295],[9.47996951664902,47.10280996356337],[9.632931756232974,47.347601223329974],[9.594226108446346,47.525058091820256],[9.896068149463188,47.58019684507569],[10.40208377446521,47.302487697939156],[10.544504021861625,47.56639923765376],[11.426414015354736,47.52376618101297],[12.141357456112784,47.70308340106576],[12.620759718484491,47.672387600284395],[12.932626987365945,47.46764557554398],[13.025851271220487,47.637583523135824],[12.884102817443901,48.2891458196879],[13.243357374736998,48.41611481382904],[13.595945672264433,48.877171942737135],[14.33889773932472,48.55530528420719],[14.901447381254055,48.96440176044582],[15.253415561593979,49.039074205107575],[16.029647251050218,48.733899034207916],[16.49928266771877,48.785808010445095],[16.960288120194573,48.59698232685059],[16.879982944412998,48.47001333270946],[16.979666782304033,48.1234970159763]]]}},{"type":"Feature","properties":{"admin":"Azerbaijan","name":"Azerbaijan","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[45.00198733905679,39.74000356704959],[45.298144972521435,39.47175120702242],[45.739978468617,39.47399913182715],[45.73537926614309,39.319719143219785],[46.14362308124881,38.74120148371221],[45.45772179543873,38.87413910578311],[44.952688022650264,39.33576467544642],[44.79398969908199,39.71300263117703],[45.00198733905679,39.74000356704959]]],[[[47.373315464066216,41.21973236751125],[47.81566572448471,41.15141612402134],[47.98728315612603,41.40581920019422],[48.58435265482628,41.80886953385467],[49.11026370626065,41.28228668880052],[49.61891482930959,40.572924302729966],[50.08482954285309,40.52615713150578],[50.392821079312704,40.2565611842391],[49.569202101444795,40.1761009791607],[49.39525923035042,39.39948171646224],[49.2232283872507,39.04921885838791],[48.856532423707584,38.815486355131775],[48.88324913920253,38.32024526626264],[48.63437544128483,38.270377509100925],[48.0107442563865,38.79401479751453],[48.35552941263793,39.288764960276886],[48.060095249225256,39.58223541926244],[47.68507938008312,39.508363959301185],[46.505719842317966,38.77060537368625],[46.48349897643244,39.46415477147553],[46.0345341326807,39.628020738273044],[45.61001224140291,39.899993801425175],[45.89190717955513,40.21847565363997],[45.359174839058156,40.56150381119348],[45.56035118997047,40.81228953710595],[45.17949588397939,40.98535390885143],[44.972480096218156,41.24812856705562],[45.217426385281634,41.41145193131404],[45.96260053893044,41.12387258560979],[46.50163740416698,41.064444688474104],[46.63790815612057,41.18167267512822],[46.14543175637898,41.72280243587263],[46.40495079934882,41.86067515722734],[46.68607059101665,41.8271371526699],[47.373315464066216,41.21973236751125]]]]}},{"type":"Feature","properties":{"admin":"Burundi","name":"Burundi","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[29.339997592900342,-4.499983412294092],[29.276383904749046,-3.293907159034063],[29.02492638521678,-2.839257907730157],[29.632176141078585,-2.917857761246096],[29.938359002407935,-2.348486830254238],[30.46969607923298,-2.413857517103458],[30.527677036264457,-2.807631931167534],[30.74301272962469,-3.034284763199686],[30.752262811004943,-3.359329522315569],[30.50555952324356,-3.568567396665364],[30.116332635221166,-4.090137627787242],[29.75351240409992,-4.45238941815328],[29.339997592900342,-4.499983412294092]]]}},{"type":"Feature","properties":{"admin":"Belgium","name":"Belgium","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[3.314971144228536,51.34578095153607],[4.047071160507527,51.267258612668556],[4.973991326526913,51.475023708698124],[5.60697594567,51.03729848896977],[6.156658155958779,50.803721015010574],[6.043073357781109,50.12805166279422],[5.782417433300905,50.090327867221205],[5.674051954784828,49.52948354755749],[4.799221632515809,49.98537303323637],[4.286022983425084,49.90749664977254],[3.588184441755685,50.37899241800356],[3.123251580425801,50.78036326761456],[2.658422071960274,50.79684804951573],[2.513573032246142,51.148506171261815],[3.314971144228536,51.34578095153607]]]}},{"type":"Feature","properties":{"admin":"Benin","name":"Benin","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[2.691701694356254,6.258817246928628],[1.865240512712318,6.14215770102973],[1.618950636409238,6.832038072126236],[1.664477573258381,9.128590399609378],[1.46304284018467,9.334624335157086],[1.425060662450136,9.825395412632998],[1.077795037448737,10.175606594275022],[0.772335646171484,10.470808213742357],[0.899563022474069,10.997339382364258],[1.243469679376488,11.11051076908346],[1.447178175471066,11.547719224488857],[1.93598554851988,11.641150214072551],[2.154473504249921,11.940150051313337],[2.49016360841793,12.233052069543671],[2.84864301922667,12.235635891158266],[3.611180454125558,11.660167141155966],[3.572216424177469,11.327939357951516],[3.797112257511713,10.734745591673104],[3.600070021182801,10.332186184119406],[3.705438266625918,10.063210354040207],[3.220351596702101,9.4441525333997],[2.912308383810255,9.13760793704432],[2.723792758809509,8.506845404489708],[2.74906253420022,7.870734361192886],[2.691701694356254,6.258817246928628]]]}},{"type":"Feature","properties":{"admin":"Burkina Faso","name":"Burkina Faso","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-2.827496303712706,9.642460842319775],[-3.511898972986272,9.900326239456216],[-3.980449184576684,9.862344061721698],[-4.330246954760383,9.61083486575714],[-4.779883592131966,9.821984768101741],[-4.954653286143098,10.152713934769732],[-5.404341599946973,10.370736802609144],[-5.470564947929004,10.951269842976044],[-5.197842576508648,11.375145778850136],[-5.220941941743119,11.713858954307224],[-4.427166103523802,12.542645575404292],[-4.280405035814879,13.228443508349738],[-4.006390753587225,13.472485459848112],[-3.52280270019986,13.337661647998612],[-3.103706834312759,13.54126679122859],[-2.967694464520576,13.798150336151506],[-2.191824510090384,14.246417548067352],[-2.001035122068771,14.559008287000887],[-1.066363491205663,14.973815009007764],[-0.515854458000348,15.116157741755725],[-0.26625729003058,14.924308986872147],[0.374892205414682,14.928908189346128],[0.295646396495101,14.44423493088065],[0.429927605805517,13.988733018443922],[0.993045688490071,13.33574962000382],[1.024103224297477,12.851825669806573],[2.177107781593775,12.625017808477532],[2.154473504249921,11.940150051313337],[1.93598554851988,11.641150214072551],[1.447178175471066,11.547719224488857],[1.243469679376488,11.11051076908346],[0.899563022474069,10.997339382364258],[0.023802524423701,11.018681748900802],[-0.438701544588582,11.09834096927872],[-0.761575893548183,10.936929633015053],[-1.203357713211431,11.009819240762736],[-2.94040930827046,10.962690334512557],[-2.963896246747111,10.395334784380081],[-2.827496303712706,9.642460842319775]]]}},{"type":"Feature","properties":{"admin":"Bangladesh","name":"Bangladesh","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[92.67272098182555,22.041238918541247],[92.65225711463798,21.32404755297848],[92.30323449093865,21.475485337809815],[92.3685535013556,20.670883287025344],[92.08288618364612,21.192195135985767],[92.02521528520836,21.701569729086764],[91.83489098507741,22.18293569588556],[91.41708702999765,22.765019029221218],[90.49600630082725,22.805016587815125],[90.58695682166095,22.392793687422863],[90.27297081905554,21.836367702720107],[89.84746707556427,22.03914602303342],[89.70204959509492,21.8571157902853],[89.41886274613546,21.966178900637296],[89.0319612975662,22.055708319582973],[88.87631188350306,22.879146429937826],[88.52976972855376,23.631141872649163],[88.6999402200909,24.233714911388557],[88.0844222350624,24.501657212821918],[88.30637251175601,24.8660794133442],[88.93155398962307,25.23869232838477],[88.20978925980248,25.768065700782707],[88.56304935094974,26.446525580342716],[89.35509402868728,26.014407253518065],[89.83248091019959,25.965082098895476],[89.92069258012184,25.26974986419217],[90.8722107279121,25.13260061288954],[91.79959598182207,25.14743174895731],[92.37620161333479,24.97669281666496],[91.9150928079944,24.13041372323711],[91.46772993364367,24.07263947193479],[91.15896325069971,23.50352692310438],[91.70647505083208,22.985263983649183],[91.8699276061713,23.62434642180278],[92.1460347839068,23.62749868417259],[92.67272098182555,22.041238918541247]]]}},{"type":"Feature","properties":{"admin":"Bulgaria","name":"Bulgaria","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.657149692482985,44.234923000661276],[22.94483239105184,43.82378530534712],[23.33230228037632,43.89701080990471],[24.10067915212417,43.741051337247846],[25.569271681426923,43.68844472917471],[26.06515872569974,43.94349376075126],[27.242399529740904,44.1759860296324],[27.970107049275068,43.8124681666752],[28.55808149589199,43.70746165625812],[28.039095086384712,43.29317169857418],[27.67389773937804,42.577892361006214],[27.996720411905383,42.007358710287775],[27.135739373490473,42.141484890301335],[26.117041863720793,41.826904608724554],[26.106138136507205,41.328898830727766],[25.19720136892544,41.23448598893052],[24.49264489105803,41.58389618587203],[23.692073601992345,41.30908091894384],[22.952377150166445,41.33799388281114],[22.881373732197424,41.99929718685024],[22.380525750424585,42.32025950781508],[22.545011834409614,42.461362006188025],[22.436594679461273,42.58032115332393],[22.604801466571324,42.89851878516114],[22.98601850758848,43.21116120052696],[22.500156691180276,43.64281443946098],[22.410446404721593,44.00806346289995],[22.657149692482985,44.234923000661276]]]}},{"type":"Feature","properties":{"admin":"The Bahamas","name":"Bahamas","continent":"North America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-77.53466,23.75975],[-77.78,23.71],[-78.03405,24.28615],[-78.40848,24.57564],[-78.19087,25.2103],[-77.89,25.17],[-77.54,24.34],[-77.53466,23.75975]]],[[[-77.82,26.58],[-78.91,26.42],[-78.98,26.79],[-78.51,26.87],[-77.85,26.84],[-77.82,26.58]]],[[[-77,26.59],[-77.17255,25.87918],[-77.35641,26.00735],[-77.34,26.53],[-77.78802,26.92516],[-77.79,27.04],[-77,26.59]]]]}},{"type":"Feature","properties":{"admin":"Bosnia and Herzegovina","name":"Bosnia and Herz.","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[19.005486281010118,44.860233669609144],[19.36803,44.863],[19.11761,44.42307],[19.59976,44.03847],[19.454,43.568100000000115],[19.21852,43.52384],[19.03165,43.43253],[18.70648,43.20011],[18.56,42.65],[17.67492150235898,43.0285625270236],[17.29737348803445,43.44634064388735],[16.916156447017325,43.66772247982566],[16.45644290534886,44.041239732431265],[16.239660271884528,44.351143296885695],[15.750026075918978,44.81871165626255],[15.959367303133373,45.233776760430935],[16.31815677253587,45.0041266953259],[16.534939406000202,45.211607570977705],[17.00214603035101,45.233776760430935],[17.8617834815264,45.06774038347714],[18.553214145591646,45.08158966733145],[19.005486281010118,44.860233669609144]]]}},{"type":"Feature","properties":{"admin":"Belarus","name":"Belarus","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[23.48412763844984,53.91249766704112],[24.45068362803703,53.90570221619475],[25.53635379405699,54.282423407602515],[25.76843265147979,54.84696259217508],[26.588279249790386,55.16717560487166],[26.49433149588375,55.61510691997762],[27.102459751094525,55.78331370708767],[28.17670942557799,56.16912995057881],[29.2295133806603,55.918344224666356],[29.37157189303067,55.67009064393617],[29.896294386522353,55.789463202530406],[30.87390913262,55.550976467503396],[30.97183597181313,55.08154775656403],[30.75753380709871,54.8117709417843],[31.384472283663733,54.15705638286242],[31.79142418796223,53.97463857687212],[31.731272820774503,53.79402944601201],[32.40559858575116,53.61804535584203],[32.693643019346034,53.351420803432106],[32.304519484188226,53.1327261419729],[31.497643670382924,53.16742686625689],[31.30520063652801,53.073995876673195],[31.540018344862254,52.742052313846344],[31.78599816257158,52.10167796488544],[30.927549269338975,52.04235342061438],[30.619454380014837,51.82280609802236],[30.55511722181145,51.31950348571564],[30.15736372246089,51.416138414101454],[29.25493818534792,51.36823436136688],[28.992835320763522,51.60204437927146],[28.61761274589224,51.427713934934836],[28.241615024536564,51.57222707783906],[27.454066196408426,51.59230337178446],[26.33795861176855,51.832288723347915],[25.327787713327005,51.91065603291854],[24.55310631683951,51.88846100524918],[24.005077752384206,51.61744395609445],[23.52707075368437,51.57845408793023],[23.50800215016869,52.02364655212472],[23.19949384938618,52.486977444053664],[23.799198846133375,52.69109935160655],[23.804934930117774,53.08973135030606],[23.527535841574995,53.47012156840654],[23.48412763844984,53.91249766704112]]]}},{"type":"Feature","properties":{"admin":"Belize","name":"Belize","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-89.1430804105033,17.808318996649316],[-89.15090938999552,17.955467637600414],[-89.02985734735181,18.001511338772485],[-88.84834387892658,17.88319814704023],[-88.49012285027933,18.486830552641603],[-88.30003109409367,18.499982204659897],[-88.2963362291848,18.353272813383263],[-88.10681291375437,18.348673610909284],[-88.12347856316848,18.076674709541003],[-88.28535498732278,17.64414297125803],[-88.19786678745263,17.489475409408453],[-88.30264075392442,17.13169363043566],[-88.2395179918799,17.03606639247955],[-88.35542822951055,16.530774237529624],[-88.55182451043582,16.265467434143144],[-88.73243364129593,16.23363475185135],[-88.93061275913524,15.887273464415072],[-89.22912167026927,15.886937567605166],[-89.15080603713092,17.015576687075832],[-89.1430804105033,17.808318996649316]]]}},{"type":"Feature","properties":{"admin":"Bolivia","name":"Bolivia","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-62.84646847192154,-22.03498544686944],[-63.98683814152246,-21.993644301035946],[-64.37702104354224,-22.798091322523533],[-64.9648921372946,-22.07586150481232],[-66.27333940292483,-21.832310479420713],[-67.10667355006359,-22.735924574476414],[-67.82817989772272,-22.87291879648217],[-68.21991309271127,-21.49434661223186],[-68.75716712103373,-20.37265797290446],[-68.4422251044309,-19.405068454671426],[-68.96681840684185,-18.9816834449041],[-69.10024695501947,-18.260125420812674],[-69.59042375352404,-17.58001189541933],[-68.95963538275329,-16.500697930571267],[-69.3897641669347,-15.66012908291165],[-69.16034664577494,-15.323973890853015],[-69.339534674747,-14.953195489158828],[-68.94888668483658,-14.45363941819328],[-68.92922380234953,-13.602683607643007],[-68.88007951523996,-12.89972909917665],[-68.66507971868961,-12.56130014409717],[-69.52967810736493,-10.951734307502193],[-68.78615759954947,-11.036380303596276],[-68.27125362819325,-11.014521172736817],[-68.04819230820537,-10.712059014532484],[-67.17380123561072,-10.30681243249961],[-66.64690833196279,-9.93133147546686],[-65.33843522811641,-9.76198780684639],[-65.44483700220538,-10.51145110437543],[-65.321898769783,-10.895872084194675],[-65.40228146021302,-11.566270440317151],[-64.31635291203159,-12.461978041232191],[-63.19649878605056,-12.627032565972433],[-62.80306026879637,-13.000653171442682],[-62.12708085798637,-13.19878061284972],[-61.71320431176077,-13.489202162330049],[-61.084121263255646,-13.479383640194595],[-60.50330400251112,-13.775954685117656],[-60.459198167550014,-14.354007256734551],[-60.264326341377355,-14.645979099183638],[-60.25114885114292,-15.077218926659318],[-60.54296566429513,-15.093910414289592],[-60.15838965517902,-16.258283786690082],[-58.24121985536667,-16.29957325609129],[-58.38805843772403,-16.877109063385273],[-58.280804002502244,-17.271710300366014],[-57.73455827496099,-17.552468357007765],[-57.49837114117097,-18.17418751391129],[-57.6760088771743,-18.961839694904025],[-57.94999732118582,-19.400004164306814],[-57.853801642474494,-19.969995212486186],[-58.16639238140804,-20.176700941653674],[-58.18347144228049,-19.86839934660036],[-59.11504248720609,-19.356906019775398],[-60.04356462262648,-19.34274667732742],[-61.78632646345376,-19.633736667562957],[-62.265961269770784,-20.513734633061272],[-62.2911793687292,-21.05163461678739],[-62.68505713565787,-22.24902922942238],[-62.84646847192154,-22.03498544686944]]]}},{"type":"Feature","properties":{"admin":"Brazil","name":"Brazil","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-57.625133429582945,-30.216294854454258],[-56.29089962423907,-28.852760512000884],[-55.16228634298456,-27.881915378533456],[-54.49072526713551,-27.474756768505785],[-53.648735317587885,-26.923472588816086],[-53.62834896504874,-26.124865004177465],[-54.130049607954376,-25.547639255477247],[-54.62529069682356,-25.739255466415507],[-54.42894609233058,-25.162184747012162],[-54.293476325077435,-24.570799655863958],[-54.29295956075451,-24.021014092710722],[-54.65283423523512,-23.839578138933955],[-55.02790178080954,-24.001273695575225],[-55.40074723979541,-23.956935316668797],[-55.51763932963962,-23.57199757252663],[-55.61068274598113,-22.65561939869484],[-55.797958136606894,-22.356929620047815],[-56.47331743022938,-22.08630014413528],[-56.881509568902885,-22.282153822521476],[-57.93715572776129,-22.09017587655717],[-57.870673997617786,-20.732687676681948],[-58.16639238140804,-20.176700941653674],[-57.853801642474494,-19.969995212486186],[-57.94999732118582,-19.400004164306814],[-57.6760088771743,-18.961839694904025],[-57.49837114117097,-18.17418751391129],[-57.73455827496099,-17.552468357007765],[-58.280804002502244,-17.271710300366014],[-58.38805843772403,-16.877109063385273],[-58.24121985536667,-16.29957325609129],[-60.15838965517902,-16.258283786690082],[-60.54296566429513,-15.093910414289592],[-60.25114885114292,-15.077218926659318],[-60.264326341377355,-14.645979099183638],[-60.459198167550014,-14.354007256734551],[-60.50330400251112,-13.775954685117656],[-61.084121263255646,-13.479383640194595],[-61.71320431176077,-13.489202162330049],[-62.12708085798637,-13.19878061284972],[-62.80306026879637,-13.000653171442682],[-63.19649878605056,-12.627032565972433],[-64.31635291203159,-12.461978041232191],[-65.40228146021302,-11.566270440317151],[-65.321898769783,-10.895872084194675],[-65.44483700220538,-10.51145110437543],[-65.33843522811641,-9.76198780684639],[-66.64690833196279,-9.93133147546686],[-67.17380123561072,-10.30681243249961],[-68.04819230820537,-10.712059014532484],[-68.27125362819325,-11.014521172736817],[-68.78615759954947,-11.036380303596276],[-69.52967810736493,-10.951734307502193],[-70.09375220404688,-11.12397185633101],[-70.5486856757284,-11.009146823778462],[-70.48189388699116,-9.490118096558842],[-71.30241227892152,-10.079436130415372],[-72.18489071316982,-10.05359791426943],[-72.56303300646563,-9.520193780152715],[-73.22671342639015,-9.462212823121233],[-73.01538265653254,-9.03283334720806],[-73.57105933296705,-8.424446709835832],[-73.98723548042965,-7.523829847853063],[-73.72340145536349,-7.340998630404412],[-73.72448666044163,-6.918595472850638],[-73.12002743192357,-6.629930922068238],[-73.2197112698146,-6.089188734566076],[-72.96450720894119,-5.741251315944892],[-72.89192765978724,-5.274561455916979],[-71.74840572781653,-4.59398284263301],[-70.92884334988356,-4.401591485210367],[-70.79476884630229,-4.251264743673302],[-69.89363521999661,-4.298186944194326],[-69.4441019354896,-1.556287123219817],[-69.42048580593222,-1.122618503426409],[-69.57706539577659,-0.549991957200163],[-70.02065589057004,-0.185156345219539],[-70.0155657619893,0.541414292804205],[-69.45239600287245,0.706158758950693],[-69.25243404811904,0.602650865070075],[-69.21863766140017,0.985676581217433],[-69.8045967271577,1.089081122233466],[-69.81697323269161,1.714805202639624],[-67.86856502955882,1.692455145673392],[-67.53781002467468,2.037162787276329],[-67.25999752467358,1.719998684084956],[-67.06504818385248,1.130112209473225],[-66.87632585312257,1.253360500489336],[-66.32576514348494,0.724452215982012],[-65.54826738143755,0.78925446207603],[-65.35471330428835,1.0952822941085],[-64.61101192895985,1.328730576987041],[-64.1993057928905,1.49285492594602],[-64.08308549666607,1.91636912679408],[-63.36878801131164,2.200899562993129],[-63.422867397705105,2.411067613124174],[-64.26999915226578,2.497005520025566],[-64.4088278876179,3.126786200366623],[-64.36849443221409,3.797210394705246],[-64.816064012294,4.056445217297422],[-64.62865943058753,4.14848094320925],[-63.888342861574145,4.020530096854571],[-63.09319759789909,3.770571193858784],[-62.80453304711669,4.006965033377951],[-62.085429653559125,4.162123521334308],[-60.96689327660152,4.536467596856638],[-60.60117916527192,4.918098049332129],[-60.73357418480371,5.2002772078619],[-60.21368343773132,5.2444863956876],[-59.980958624904865,5.014061184098138],[-60.11100236676737,4.574966538914082],[-59.7674057684587,4.423502915866606],[-59.53803992373122,3.958802598481937],[-59.81541317405785,3.606498521332085],[-59.97452490908454,2.755232652188055],[-59.71854570172673,2.249630438644359],[-59.64604366722124,1.786893825686789],[-59.03086157900264,1.317697658692722],[-58.54001298687829,1.26808828369252],[-58.42947709820596,1.46394196207872],[-58.113449876525,1.507195135907025],[-57.66097103537736,1.682584947105638],[-57.33582292339689,1.948537705895759],[-56.782704230360814,1.863710842288653],[-56.53938574891454,1.89952260986692],[-55.99569800477174,1.817667141116601],[-55.90560014507087,2.021995754398659],[-56.07334184429028,2.220794989425499],[-55.97332210958936,2.510363877773016],[-55.569755011605984,2.42150625244713],[-55.097587449755125,2.523748073736612],[-54.52475419779971,2.311848863123785],[-54.08806250671724,2.105556545414629],[-53.7785206772889,2.376702785650081],[-53.55483924011354,2.33489655192595],[-53.4184651352953,2.05338918701598],[-52.93965715189495,2.124857692875636],[-52.55642473001841,2.504705308437053],[-52.24933753112394,3.241094468596244],[-51.65779741067888,4.156232408053028],[-51.31714636901084,4.203490505383953],[-51.06977128762965,3.65039765056403],[-50.50887529153364,1.901563828942456],[-49.974075893745045,1.736483465986069],[-49.947100796088705,1.046189683431223],[-50.6992512680969,0.222984117021681],[-50.38821082213212,-0.078444512536819],[-48.62056677915631,-0.235489190271821],[-48.58449662941658,-1.237805271005001],[-47.82495642759062,-0.5816179337628],[-46.56658362485122,-0.941027520352776],[-44.9057030909904,-1.551739597178134],[-44.41761918799366,-2.137750339367975],[-44.58158850765577,-2.691308282078523],[-43.41879126644019,-2.383110039889793],[-41.47265682632824,-2.912018324397116],[-39.97866533055403,-2.87305429444904],[-38.50038347019656,-3.700652357603394],[-37.22325212253519,-4.820945733258915],[-36.45293738457638,-5.109403578312153],[-35.597795783010454,-5.149504489770648],[-35.23538896334755,-5.464937432480245],[-34.896029832486825,-6.738193047719709],[-34.72999345553303,-7.343220716992965],[-35.128212042774216,-8.996401462442284],[-35.63696651868771,-9.649281508017811],[-37.04651872409699,-11.0407211239088],[-37.683611619607355,-12.17119475672582],[-38.423876512188436,-13.038118584854285],[-38.67388709161651,-13.057652276260615],[-38.95327572280254,-13.79336964280002],[-38.882298143049645,-15.667053724838764],[-39.161092495264306,-17.20840667080847],[-39.267339240056394,-17.86774627042048],[-39.58352149103422,-18.262295830968934],[-39.76082333022763,-19.599113457927402],[-40.77474077001033,-20.90451181405242],[-40.9447562322506,-21.937316989837807],[-41.75416419123821,-22.370675551037454],[-41.988284267736546,-22.97007048919089],[-43.07470374202474,-22.967693373305462],[-44.6478118556378,-23.35195932382784],[-45.35213578955991,-23.79684172942858],[-46.47209326840552,-24.08896860117454],[-47.648972337420645,-24.885199069927715],[-48.49545813657769,-25.877024834905647],[-48.641004808127725,-26.62369760509093],[-48.47473588722865,-27.175911960561887],[-48.66152035174761,-28.186134535435713],[-48.88845740415739,-28.674115085567877],[-49.58732947447267,-29.224469089476333],[-50.69687415221148,-30.984465020472953],[-51.57622616230615,-31.777698256153204],[-52.25608130553803,-32.24536996839466],[-52.71209998229768,-33.196578057591175],[-53.37366166849823,-33.76837778090076],[-53.650543992718084,-33.20200408298182],[-53.20958899597153,-32.72766611097472],[-53.787951626182185,-32.04724252698762],[-54.572451544805105,-31.494511407193745],[-55.60151017924933,-30.853878676071385],[-55.97324459494093,-30.883075860316296],[-56.97602576356472,-30.10968637463612],[-57.625133429582945,-30.216294854454258]]]}},{"type":"Feature","properties":{"admin":"Brunei","name":"Brunei","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[114.20401655482834,4.525873928236805],[114.59996137904871,4.900011298029965],[115.4507104838698,5.447729803891532],[115.40570031134357,4.955227565933837],[115.34746097215064,4.316636053887009],[114.86955732631537,4.348313706881924],[114.6595959819135,4.007636826997753],[114.20401655482834,4.525873928236805]]]}},{"type":"Feature","properties":{"admin":"Bhutan","name":"Bhutan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[91.69665652869665,27.77174184825166],[92.10371178585973,27.4526140406332],[92.03348351437508,26.838310451763554],[91.2175126484864,26.80864817962802],[90.37327477413406,26.875724188742872],[89.74452762243884,26.71940298105995],[88.83564253128937,27.098966376243755],[88.81424848832054,27.29931590423936],[89.4758101745211,28.04275889740639],[90.01582889197115,28.29643850352721],[90.73051395056777,28.06495392507575],[91.2588537943199,28.040614325466287],[91.69665652869665,27.77174184825166]]]}},{"type":"Feature","properties":{"admin":"Botswana","name":"Botswana","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[25.649163445750155,-18.536025892818987],[25.850391473094724,-18.714412937090533],[26.16479088715848,-19.293085625894935],[27.2965047543505,-20.391519870690995],[27.724747348753247,-20.499058526290387],[27.727227817503252,-20.85180185311471],[28.02137007010861,-21.485975030200578],[28.79465620292421,-21.639454034107445],[29.432188348109033,-22.091312758067584],[28.017235955525244,-22.82775359465907],[27.119409620886238,-23.57432301197977],[26.78640669119741,-24.240690606383478],[26.485753208123292,-24.616326592713097],[25.94165205252215,-24.696373386333214],[25.765848829865206,-25.17484547292367],[25.66466637543771,-25.486816094669706],[25.025170525825782,-25.71967009857689],[24.211266717228792,-25.670215752873567],[23.733569777122703,-25.39012948985161],[23.31209679535018,-25.268689873965712],[22.824271274514896,-25.500458672794768],[22.579531691180584,-25.979447523708142],[22.105968865657864,-26.28025603607913],[21.60589603036939,-26.72653370535175],[20.88960900237173,-26.828542982695907],[20.666470167735437,-26.477453301704916],[20.75860924651183,-25.868136488551446],[20.165725538827186,-24.917961928000768],[19.895767856534427,-24.767790215760588],[19.895457797940672,-21.849156996347865],[20.881134067475866,-21.814327080983144],[20.91064131031453,-18.25221892667202],[21.65504031747897,-18.219146010005222],[23.196858351339298,-17.869038181227783],[23.579005568137713,-18.281261081620055],[24.21736453623921,-17.889347019118485],[24.520705193792534,-17.887124932529932],[25.084443393664564,-17.661815687737366],[25.264225701608005,-17.736539808831413],[25.649163445750155,-18.536025892818987]]]}},{"type":"Feature","properties":{"admin":"Central African Republic","name":"Central African Rep.","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[15.279460483469107,7.421924546737968],[16.106231723706767,7.497087917506504],[16.290561557691884,7.754307359239304],[16.456184523187343,7.734773667832966],[16.70598839688625,7.508327541529978],[17.964929640380884,7.890914008002865],[18.389554884523218,8.281303615751822],[18.911021762780504,8.630894680206351],[18.81200971850927,8.982914536978596],[19.094008009526018,9.074846910025837],[20.059685499764267,9.01270600019485],[21.00086836109616,9.475985215691507],[21.723821648859452,10.567055568885973],[22.231129184668784,10.971888739460507],[22.864165480244218,11.142395127807543],[22.977543572692603,10.714462591998538],[23.554304233502187,10.089255275915306],[23.557249790142826,9.681218166538683],[23.39477908701718,9.26506785729222],[23.45901289235598,8.954285793488891],[23.805813429466745,8.666318874542425],[24.567369012152078,8.229187933785466],[25.114932488716786,7.825104071479172],[25.12413089366472,7.500085150579436],[25.79664798351117,6.979315904158069],[26.21341840994511,6.546603298362071],[26.46590945812323,5.94671743410187],[27.213409051225163,5.550953477394557],[27.374226108517483,5.233944403500059],[27.044065382604703,5.127852688004835],[26.402760857862535,5.150874538590869],[25.650455356557465,5.256087754737123],[25.278798455514302,5.170408229997191],[25.128833449003274,4.927244777847789],[24.80502892426241,4.897246608902349],[24.41053104014625,5.108784084489129],[23.297213982850135,4.609693101414221],[22.841479526468103,4.710126247573483],[22.704123569436284,4.633050848810156],[22.40512373219553,4.02916006104732],[21.65912275563002,4.224341945813719],[20.927591180106273,4.322785549329736],[20.290679152108932,4.691677761245287],[19.467783644293146,5.031527818212779],[18.932312452884755,4.709506130385973],[18.542982211997778,4.201785183118317],[18.453065219809925,3.504385891123348],[17.80990034350526,3.560196437998569],[17.133042433346297,3.728196519379451],[16.537058139724135,3.198254706226278],[16.01285241055535,2.267639675298084],[15.907380812247649,2.557389431158612],[15.862732374747479,3.013537298998982],[15.40539594896438,3.335300604664339],[15.036219516671249,3.851367295747123],[14.950953403389658,4.21038930909492],[14.478372430080466,4.732605495620446],[14.558935988023501,5.03059764243153],[14.459407179429345,5.451760565610299],[14.53656009284111,6.22695872642069],[14.776545444404572,6.408498033062044],[15.279460483469107,7.421924546737968]]]}},{"type":"Feature","properties":{"admin":"Canada","name":"Canada","continent":"North America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-63.6645,46.55001],[-62.9393,46.41587],[-62.01208,46.44314],[-62.50391,46.03339],[-62.87433,45.96818],[-64.1428,46.39265],[-64.39261,46.72747],[-64.01486,47.03601],[-63.6645,46.55001]]],[[[-61.806305,49.10506],[-62.29318,49.08717],[-63.58926,49.40069],[-64.51912,49.87304],[-64.17322,49.95718],[-62.85829,49.70641],[-61.835585,49.28855],[-61.806305,49.10506]]],[[[-123.51000158755112,48.51001089130343],[-124.01289078839947,48.3708462591414],[-125.65501277733834,48.825004584338494],[-125.95499446679273,49.17999583596764],[-126.85000443587185,49.53000031188042],[-127.02999344954439,49.81499583597007],[-128.0593363043662,49.994959011426594],[-128.44458410710214,50.53913768167611],[-128.3584136562554,50.77064809834368],[-127.30858109602988,50.55257355407195],[-126.6950009772123,50.40090322529538],[-125.75500667382316,50.29501821552937],[-125.41500158755879,49.950000515332604],[-124.92076818911931,49.47527497008339],[-123.92250870832099,49.062483628935794],[-123.51000158755112,48.51001089130343]]],[[[-56.13403581401711,50.6870097926793],[-56.79588172059526,49.812308661490945],[-56.14310502788429,50.15011749938283],[-55.471492275602934,49.93581533466845],[-55.82240108908091,49.58712860777909],[-54.93514258484565,49.31301097268683],[-54.47377539734377,49.55669118915917],[-53.47654944519131,49.24913890237405],[-53.78601375997123,48.51678050393362],[-53.08613399922625,48.68780365660353],[-52.95864824076223,48.15716421161447],[-52.64809872090417,47.53554840757549],[-53.069158291218336,46.655498765644936],[-53.52145626485303,46.61829173439482],[-54.17893551290253,46.807065741557],[-53.96186865906047,47.62520701760191],[-54.24048214376212,47.75227936460762],[-55.40077307801148,46.88499380145312],[-55.997480841685835,46.91972036395329],[-55.291219041552765,47.38956248635098],[-56.25079871278051,47.63254507098738],[-57.325229254777085,47.57280711525799],[-59.26601518414676,47.6033478867425],[-59.41949418805369,47.89945384377485],[-58.7965864732074,48.25152537697947],[-59.23162451845652,48.52318838153779],[-58.39180497906521,49.12558055276416],[-57.358689744686025,50.718274034215845],[-56.738650071832,51.28743825947853],[-55.87097693543528,51.63209422464919],[-55.4069742498866,51.58827261006572],[-55.60021826844208,51.31707469339791],[-56.13403581401711,50.6870097926793]]],[[[-133.18000404171167,54.16997549093531],[-132.7100078844313,54.04000931542352],[-131.74998958400326,54.12000438090921],[-132.04948034735096,52.98462148702452],[-131.17904252182657,52.18043284769827],[-131.5778295498229,52.182370713909236],[-132.18042842677852,52.63970713969239],[-132.54999243231384,53.10001496033213],[-133.0546111787555,53.41146881775536],[-133.23966448279268,53.851080227262386],[-133.18000404171167,54.16997549093531]]],[[[-79.26582,62.158675],[-79.65752,61.63308],[-80.09956,61.7181],[-80.36215,62.01649],[-80.315395,62.085565],[-79.92939,62.3856],[-79.52002,62.36371],[-79.26582,62.158675]]],[[[-81.89825,62.7108],[-83.06857,62.15922],[-83.77462,62.18231],[-83.99367,62.4528],[-83.25048,62.91409],[-81.87699,62.90458],[-81.89825,62.7108]]],[[[-85.16130794954985,65.6572846543928],[-84.97576371940593,65.21751821558898],[-84.4640120104195,65.37177236598016],[-83.88262630891974,65.10961782496354],[-82.78757687043877,64.76669302027467],[-81.64201371939251,64.45513580998694],[-81.55344031444425,63.97960928003713],[-80.81736121287885,64.057485663501],[-80.1034513007666,63.7259813503486],[-80.99101986359565,63.41124603947496],[-82.547178107417,63.65172231714523],[-83.10879757356504,64.10187571883971],[-84.10041663281385,63.569711819098],[-85.52340471061899,63.052379055424076],[-85.86676876498234,63.63725291610354],[-87.22198320183672,63.54123810490521],[-86.35275977247126,64.0358332383707],[-86.22488644076513,64.82291697860826],[-85.88384782585486,65.73877838811704],[-85.16130794954985,65.6572846543928]]],[[[-75.86588,67.14886],[-76.98687,67.09873],[-77.2364,67.58809],[-76.81166,68.14856],[-75.89521,68.28721],[-75.1145,68.01036],[-75.10333,67.58202],[-75.21597,67.44425],[-75.86588,67.14886]]],[[[-95.64768120380049,69.10769035832176],[-96.26952120380058,68.75704035832173],[-97.61740120380054,69.06003035832178],[-98.4318012038005,68.95070035832177],[-99.7974012038005,69.40003035832179],[-98.91740120380052,69.71003035832179],[-98.21826120380047,70.14354035832174],[-97.15740120380053,69.8600303583218],[-96.55740120380052,69.68003035832176],[-96.2574012038005,69.49003035832176],[-95.64768120380049,69.10769035832176]]],[[[-90.5471,69.49766],[-90.55151,68.47499],[-89.21515,69.25873],[-88.01966,68.61508],[-88.31749,67.87338],[-87.35017,67.19872],[-86.30607,67.92146],[-85.57664,68.78456],[-85.52197,69.88211],[-84.10081,69.80539],[-82.62258,69.65826],[-81.28043,69.16202],[-81.2202,68.66567],[-81.96436,68.13253],[-81.25928,67.59716],[-81.38653,67.11078],[-83.34456,66.41154],[-84.73542,66.2573],[-85.76943,66.55833],[-86.0676,66.05625],[-87.03143,65.21297],[-87.32324,64.77563],[-88.48296,64.09897],[-89.91444,64.03273],[-90.70398,63.61017],[-90.77004,62.96021],[-91.93342,62.83508],[-93.15698,62.02469],[-94.24153,60.89865],[-94.62931,60.11021],[-94.6846,58.94882],[-93.21502,58.78212],[-92.76462,57.84571],[-92.29702999999989,57.08709],[-90.89769,57.28468],[-89.03953,56.85172],[-88.03978,56.47162],[-87.32421,55.99914],[-86.07121,55.72383],[-85.01181,55.3026],[-83.36055,55.24489],[-82.27285,55.14832],[-82.4362,54.28227],[-82.12502,53.27703],[-81.40075,52.15788],[-79.91289,51.20842],[-79.14301,51.53393],[-78.60191,52.56208],[-79.12421,54.14145],[-79.82958,54.66772],[-78.22874,55.13645],[-77.0956,55.83741],[-76.54137,56.53423],[-76.62319,57.20263],[-77.30226,58.05209],[-78.51688,58.80458],[-77.33676,59.85261],[-77.77272,60.75788],[-78.10687,62.31964],[-77.41067,62.55053],[-75.69621,62.2784],[-74.6682,62.18111],[-73.83988,62.4438],[-72.90853,62.10507],[-71.67708,61.52535],[-71.37369,61.13717],[-69.59042,61.06141],[-69.62033,60.22125],[-69.2879,58.95736],[-68.37455,58.80106],[-67.64976,58.21206],[-66.20178,58.76731],[-65.24517,59.87071],[-64.58352,60.33558],[-63.80475,59.4426],[-62.50236,58.16708],[-61.39655,56.96745],[-61.79866,56.33945],[-60.46853,55.77548],[-59.56962,55.20407],[-57.97508,54.94549],[-57.3332,54.6265],[-56.93689,53.78032],[-56.15811,53.64749],[-55.75632,53.27036],[-55.68338,52.14664],[-56.40916,51.7707],[-57.12691,51.41972],[-58.77482,51.0643],[-60.03309,50.24277],[-61.72366,50.08046],[-63.86251,50.29099],[-65.36331,50.2982],[-66.39905,50.22897],[-67.23631,49.51156],[-68.51114,49.06836],[-69.95362,47.74488],[-71.10458,46.82171],[-70.25522,46.98606],[-68.65,48.3],[-66.55243,49.1331],[-65.05626,49.23278],[-64.17099,48.74248],[-65.11545,48.07085],[-64.79854,46.99297],[-64.47219,46.23849],[-63.17329,45.73902],[-61.52072,45.88377],[-60.51815,47.00793],[-60.4486,46.28264],[-59.80287,45.9204],[-61.03988,45.26525],[-63.25471,44.67014],[-64.24656,44.26553],[-65.36406,43.54523],[-66.1234,43.61867],[-66.16173,44.46512],[-64.42549,45.29204],[-66.02605,45.25931],[-67.13741,45.13753],[-67.79134,45.70281],[-67.79046,47.06636],[-68.23444,47.35486],[-68.905,47.185],[-69.237216,47.447781],[-69.99997,46.69307],[-70.305,45.915],[-70.66,45.46],[-71.08482,45.30524],[-71.405,45.255],[-71.50506,45.0082],[-73.34783,45.00738],[-74.867,45.00048],[-75.31821,44.81645],[-76.375,44.09631],[-76.5,44.01845889375871],[-76.82003414580556,43.62878428809375],[-77.73788509795769,43.62905558936329],[-78.72027991404237,43.62508942318487],[-79.17167355011186,43.466339423184216],[-79.01,43.27],[-78.92,42.965],[-78.93936214874368,42.86361135514803],[-80.24744767934793,42.366199856122584],[-81.27774654816714,42.209025987306845],[-82.43927771679161,41.67510508886715],[-82.69008928092016,41.67510508886715],[-83.02981014680691,41.832795722005834],[-83.14199968131256,41.975681057292825],[-83.12,42.08],[-82.9,42.43],[-82.43,42.98],[-82.13764238150388,43.57108755143991],[-82.33776312543105,44.44],[-82.55092464875817,45.34751658790537],[-83.59285071484307,45.81689362241237],[-83.46955074739462,45.994686387712584],[-83.61613094759056,46.116926988299056],[-83.89076534700573,46.116926988299056],[-84.09185126416146,46.27541860613816],[-84.14211951367335,46.51222585711572],[-84.3367,46.40877],[-84.6049,46.4396],[-84.54374874544585,46.53868419044913],[-84.77923824739989,46.63710195574904],[-84.87607988151485,46.900083319682366],[-85.65236324740341,47.2202188177305],[-86.46199083122825,47.55333801939204],[-87.4397926233002,47.94],[-88.3781141832867,48.30291758889373],[-89.27291744663665,48.01980825458266],[-89.6,48.01],[-90.83,48.27],[-91.64,48.14],[-92.61,48.45],[-93.63087,48.60926],[-94.32914,48.67074],[-94.64,48.84],[-94.81758,49.38905],[-95.15609,49.38425],[-95.15906950917201,49],[-97.2287200000048,49.0007],[-100.65,49],[-104.04826,48.99986],[-107.05,49],[-110.05,49],[-113,49],[-116.04818,49],[-117.03121,49],[-120,49],[-122.84,49],[-122.97421,49.00253777777779],[-124.91024,49.98456],[-125.62461,50.41656],[-127.43561,50.83061],[-127.99276,51.71583],[-127.85032,52.32961],[-129.12979,52.75538],[-129.30523,53.56159],[-130.51497,54.28757],[-130.53611,54.80278],[-129.98,55.285],[-130.00778,55.91583],[-131.70781,56.55212],[-132.73042,57.69289],[-133.35556,58.41028],[-134.27111,58.86111],[-134.945,59.27056],[-135.47583,59.78778],[-136.47972,59.46389],[-137.4525,58.905],[-138.34089,59.56211],[-139.039,60],[-140.013,60.27682],[-140.99778,60.30639],[-140.9925,66.00003],[-140.986,69.712],[-139.12052,69.47102],[-137.54636,68.99002],[-136.50358,68.89804],[-135.62576,69.31512],[-134.41464,69.62743],[-132.92925,69.50534],[-131.43136,69.94451],[-129.79471,70.19369],[-129.10773,69.77927],[-128.36156,70.01286],[-128.13817,70.48384],[-127.44712,70.37721],[-125.75632,69.48058],[-124.42483,70.1584],[-124.28968,69.39969],[-123.06108,69.56372],[-122.6835,69.85553],[-121.47226,69.79778],[-119.94288,69.37786],[-117.60268,69.01128],[-116.22643,68.84151],[-115.2469,68.90591],[-113.89794,68.3989],[-115.30489,67.90261],[-113.49727,67.68815],[-110.798,67.80612],[-109.94619,67.98104],[-108.8802,67.38144],[-107.79239,67.88736],[-108.81299,68.31164],[-108.16721,68.65392],[-106.95,68.7],[-106.15,68.8],[-105.34282,68.56122],[-104.33791,68.018],[-103.22115,68.09775],[-101.45433,67.64689],[-99.90195,67.80566],[-98.4432,67.78165],[-98.5586,68.40394],[-97.66948,68.57864],[-96.11991,68.23939],[-96.12588,67.29338],[-95.48943,68.0907],[-94.685,68.06383],[-94.23282,69.06903],[-95.30408,69.68571],[-96.47131,70.08976],[-96.39115,71.19482],[-95.2088,71.92053],[-93.88997,71.76015],[-92.87818,71.31869],[-91.51964,70.19129],[-92.40692,69.69997],[-90.5471,69.49766]]],[[[-114.16716999999987,73.12145],[-114.66634,72.65277],[-112.44101999999987,72.9554],[-111.05039,72.4504],[-109.92034999999986,72.96113],[-109.00654,72.63335],[-108.18834999999989,71.65089],[-107.68599,72.06548],[-108.39639,73.08953],[-107.51645,73.23598],[-106.52258999999987,73.07601],[-105.40245999999988,72.67259],[-104.77484,71.6984],[-104.46475999999981,70.99297],[-102.78537,70.49776],[-100.98077999999987,70.02432],[-101.08928999999989,69.58447000000011],[-102.73115999999987,69.50402],[-102.09329,69.11962],[-102.43024,68.75282],[-104.24,68.91],[-105.96,69.18000000000013],[-107.12254,69.11922],[-108.99999999999987,68.78],[-111.53414887520012,68.63005915681792],[-113.3132,68.53554],[-113.8549599999998,69.0074400000001],[-115.22,69.28],[-116.10794,69.16821],[-117.34,69.96000000000011],[-116.67472999999987,70.06655],[-115.13112,70.2373],[-113.72141,70.19237],[-112.4161,70.36638],[-114.35,70.6],[-116.48684,70.52045],[-117.9048,70.54056000000013],[-118.43238,70.9092],[-116.11311,71.30918],[-117.65568,71.2952],[-119.40199,71.55859],[-118.56267,72.30785],[-117.86641999999988,72.70594],[-115.18909,73.31459000000011],[-114.16716999999987,73.12145]]],[[[-104.5,73.42],[-105.38,72.76],[-106.94,73.46],[-106.6,73.6],[-105.26,73.64],[-104.5,73.42]]],[[[-76.34,73.102684989953],[-76.25140380859374,72.82638549804686],[-77.3144378662109,72.85554504394527],[-78.3916702270508,72.87665557861325],[-79.48625183105464,72.74220275878906],[-79.77583312988283,72.80290222167973],[-80.87609863281251,73.3331832885742],[-80.83388519287105,73.69318389892577],[-80.35305786132811,73.75971984863277],[-78.06443786621092,73.65193176269533],[-76.34,73.102684989953]]],[[[-86.56217851433411,73.15744700793844],[-85.77437130404452,72.5341258816338],[-84.85011247428822,73.34027822538711],[-82.31559017610097,73.75095083281057],[-80.60008765330761,72.71654368762418],[-80.74894161652439,72.06190664335075],[-78.77063859731076,72.35217316353415],[-77.82462398955957,72.74961660429103],[-75.60584469267572,72.24367849393738],[-74.22861609566498,71.76714427355789],[-74.0991407945577,71.33084015571764],[-72.24222571479764,71.5569245469945],[-71.20001542833519,70.92001251899721],[-68.78605424668487,70.52502370877424],[-67.91497046575692,70.1219475368976],[-66.96903337265415,69.18608734809186],[-68.80512285020053,68.72019847276441],[-66.44986609563385,68.067163397892],[-64.86231441919522,67.84753856065161],[-63.424934454996745,66.92847321234065],[-61.85198137068057,66.86212067327783],[-62.163176845942296,66.1602513698896],[-63.91844438338417,64.99866852483284],[-65.14886023625361,65.42603261988667],[-66.72121904159853,66.38804108343219],[-68.01501603867395,66.26272573512439],[-68.14128740097915,65.68978913030436],[-67.08964616562339,65.10845510523698],[-65.73208045109975,64.64840566675862],[-65.32016760930127,64.38273712834605],[-64.66940629744967,63.39292674422747],[-65.0138038804589,62.674185085695974],[-66.27504472519045,62.94509878198607],[-68.78318620469271,63.745670071051805],[-67.36968075221303,62.88396556258487],[-66.3282972886672,62.28007477482204],[-66.16556820338015,61.93089712182588],[-68.87736650254463,62.3301492377128],[-71.02343705919382,62.91070811629583],[-72.23537858751898,63.397836005295154],[-71.88627844917129,63.67998932560884],[-73.37830624051837,64.19396312118381],[-74.83441891142259,64.67907562932378],[-74.8185025702767,64.38909332951796],[-77.70997982452002,64.22954234481678],[-78.55594885935416,64.57290639918013],[-77.89728105336191,65.30919220647478],[-76.01827429879718,65.32696889918314],[-73.95979529488271,65.45476471624089],[-74.29388342964963,65.81177134872938],[-73.94491248238262,66.31057811142672],[-72.65116716173938,67.28457550726385],[-72.92605994331608,67.72692576768237],[-73.31161780464572,68.0694371609129],[-74.8433072577768,68.55462718370127],[-76.86910091826674,68.89473562283025],[-76.22864905465734,69.14776927354741],[-77.28736996123709,69.76954010688327],[-78.16863399932659,69.8264875352689],[-78.95724219431672,70.1668801947754],[-79.49245500356365,69.8718077663889],[-81.30547095409173,69.74318512641433],[-84.94470618359846,69.96663401964439],[-87.06000342481786,70.26000112576536],[-88.6817132230015,70.4107412787608],[-89.51341956252301,70.76203766548097],[-88.46772111688075,71.21818553332132],[-89.88815121128746,71.22255219184994],[-90.20516028518199,72.23507436796079],[-89.43657670770493,73.12946421985235],[-88.40824154331278,73.53788890247121],[-85.8261510892009,73.80381582304521],[-86.56217851433411,73.15744700793844]]],[[[-100.35642,73.84389],[-99.16387,73.63339],[-97.38,73.76],[-97.12,73.47],[-98.05359,72.99052],[-96.54,72.56],[-96.72,71.66],[-98.35966,71.27285],[-99.32286,71.35639],[-100.01482,71.73827],[-102.5,72.51],[-102.48,72.83],[-100.43836,72.70588],[-101.54,73.36],[-100.35642,73.84389]]],[[[-93.1962955391002,72.77199249947334],[-94.26904659704725,72.02459625923595],[-95.40985551632264,72.06188080513458],[-96.03374508338243,72.94027680123179],[-96.01826799191096,73.43742991809579],[-95.495793423224,73.86241689726415],[-94.50365759965233,74.1349067247392],[-92.42001217321175,74.10002513294218],[-90.50979285354258,73.85673248971203],[-92.00396521682987,72.96624420845848],[-93.1962955391002,72.77199249947334]]],[[[-120.46,71.38360179308758],[-123.09219,70.90164],[-123.62,71.34],[-125.92894873747332,71.8686884630114],[-125.49999999999987,72.292260811795],[-124.80729,73.02256],[-123.94,73.68000000000013],[-124.9177499999999,74.29275000000011],[-121.53788,74.44893],[-120.10978,74.24135],[-117.55564,74.18577],[-116.58442,73.89607],[-115.51081,73.47519],[-116.76793999999988,73.22292],[-119.22,72.52],[-120.46,71.82],[-120.46,71.38360179308758]]],[[[-93.61275590694046,74.97999726022444],[-94.15690873897381,74.59234650338685],[-95.60868058956558,74.66686391875176],[-96.82093217648456,74.92762319609658],[-96.28858740922979,75.37782827422333],[-94.85081987178911,75.64721751576089],[-93.97774654821791,75.29648956979595],[-93.61275590694046,74.97999726022444]]],[[[-98.5,76.72],[-97.735585,76.25656],[-97.704415,75.74344],[-98.16,75],[-99.80874,74.89744],[-100.88366,75.05736],[-100.86292,75.64075],[-102.50209,75.5638],[-102.56552,76.3366],[-101.48973,76.30537],[-99.98349,76.64634],[-98.57699,76.58859],[-98.5,76.72]]],[[[-108.21141,76.20168],[-107.81943,75.84552],[-106.92893,76.01282],[-105.881,75.9694],[-105.70498,75.47951],[-106.31347,75.00527],[-109.7,74.85],[-112.22307,74.41696],[-113.74381,74.39427],[-113.87135,74.72029],[-111.79421,75.1625],[-116.31221,75.04343],[-117.7104,75.2222],[-116.34602,76.19903],[-115.40487,76.47887],[-112.59056,76.14134],[-110.81422,75.54919],[-109.0671,75.47321],[-110.49726,76.42982],[-109.5811,76.79417],[-108.54859,76.67832],[-108.21141,76.20168]]],[[[-94.68408586299944,77.09787832305837],[-93.5739210680731,76.77629588490606],[-91.60502315953659,76.7785179714946],[-90.74184587274921,76.44959747995681],[-90.96966142450798,76.07401317005944],[-89.82223792189924,75.84777374948563],[-89.18708289259978,75.61016551380762],[-87.83827633334961,75.56618886992722],[-86.37919226758866,75.48242137318216],[-84.7896252102906,75.6992040066465],[-82.75344458691005,75.78431509063122],[-81.12853084992436,75.71398346628202],[-80.05751095245914,75.33684886341587],[-79.83393286814832,74.92312734648719],[-80.45777075877582,74.65730377877777],[-81.94884253612551,74.44245901152432],[-83.2288936022114,74.56402781849093],[-86.09745235873329,74.41003205026114],[-88.1503503079602,74.39230703398498],[-89.76472205275836,74.51555532500112],[-92.42244096552942,74.83775788034097],[-92.76828548864279,75.38681997344213],[-92.88990597204172,75.88265534128263],[-93.89382402217598,76.31924367950052],[-95.9624574450358,76.44138092722244],[-97.12137895382946,76.75107778594759],[-96.74512285031234,77.16138865834513],[-94.68408586299944,77.09787832305837]]],[[[-116.19858659550732,77.6452867703262],[-116.33581336145835,76.87696157501055],[-117.10605058476877,76.53003184681911],[-118.04041215703812,76.48117178008708],[-119.89931758688569,76.05321340606197],[-121.49999507712647,75.90001862253278],[-122.85492448615895,76.11654287383568],[-122.85492529360319,76.11654287383568],[-121.15753536032824,76.86450755482834],[-119.10393897182102,77.51221995717461],[-117.57013078496595,77.4983189968881],[-116.19858659550732,77.6452867703262]]],[[[-93.84000301794397,77.51999726023449],[-94.29560828324524,77.49134267852868],[-96.16965410031005,77.55511139597688],[-96.43630449093611,77.83462921824362],[-94.42257727738635,77.82000478790498],[-93.72065629756587,77.63433136668031],[-93.84000301794397,77.51999726023449]]],[[[-110.18693803591295,77.69701487905029],[-112.05119116905846,77.40922882761684],[-113.53427893761904,77.73220652944114],[-112.72458675825384,78.05105011668194],[-111.26444332563082,78.15295604116154],[-109.85445187054707,77.99632477488481],[-110.18693803591295,77.69701487905029]]],[[[-109.66314571820256,78.60197256134568],[-110.88131425661885,78.40691986766],[-112.54209143761514,78.4079017198735],[-112.52589087609157,78.55055451121522],[-111.50001034223337,78.84999359813054],[-110.96366065147599,78.8044408230652],[-109.66314571820256,78.60197256134568]]],[[[-95.83029496944931,78.05694122996324],[-97.30984290239797,77.85059723582178],[-98.12428931353396,78.08285696075757],[-98.55286780474664,78.45810537384509],[-98.6319844225855,78.87193024363837],[-97.3372314115126,78.83198436147676],[-96.75439876990876,78.76581268992699],[-95.55927792029456,78.41831452098026],[-95.83029496944931,78.05694122996324]]],[[[-100.06019182005211,78.32475434031589],[-99.6709390938136,77.90754466420739],[-101.30394019245298,78.0189848904448],[-102.94980872273302,78.3432286648602],[-105.17613277873151,78.38033234324574],[-104.21042945027715,78.67742015249178],[-105.41958045125851,78.91833567983643],[-105.49228919149313,79.30159393992918],[-103.52928239623792,79.16534902619162],[-100.8251580472688,78.80046173777869],[-100.06019182005211,78.32475434031589]]],[[[-87.02,79.66],[-85.81435,79.3369],[-87.18756,79.0393],[-89.03535,78.28723],[-90.80436,78.21533],[-92.87669,78.34333],[-93.95116,78.75099],[-93.93574,79.11373],[-93.14524,79.3801],[-94.974,79.37248],[-96.07614,79.70502],[-96.70972,80.15777],[-96.01644,80.60233],[-95.32345,80.90729],[-94.29843,80.97727],[-94.73542,81.20646],[-92.40984,81.25739],[-91.13289,80.72345],[-89.45,80.50932203389826],[-87.81,80.32],[-87.02,79.66]]],[[[-68.5,83.10632151676573],[-65.82735,83.02801],[-63.68,82.9],[-61.85,82.6286],[-61.89388,82.36165],[-64.334,81.92775],[-66.75342,81.72527],[-67.65755,81.50141],[-65.48031,81.50657],[-67.84,80.9],[-69.4697,80.61683],[-71.18,79.8],[-73.2428,79.63415],[-73.88,79.43016220480207],[-76.90773,79.32309],[-75.52924,79.19766],[-76.22046,79.01907],[-75.39345,78.52581],[-76.34354,78.18296],[-77.88851,77.89991],[-78.36269,77.50859],[-79.75951,77.20968],[-79.61965,76.98336],[-77.91089,77.022045],[-77.88911,76.777955],[-80.56125,76.17812],[-83.17439,76.45403],[-86.11184,76.29901],[-87.6,76.42],[-89.49068,76.47239],[-89.6161,76.95213],[-87.76739,77.17833],[-88.26,77.9],[-87.65,77.9702222222222],[-84.97634,77.53873],[-86.34,78.18],[-87.96192,78.37181],[-87.15198,78.75867],[-85.37868,78.9969],[-85.09495,79.34543],[-86.50734,79.73624],[-86.93179,80.25145],[-84.19844,80.20836],[-83.40869565217382,80.1],[-81.84823,80.46442],[-84.1,80.58],[-87.59895,80.51627],[-89.36663,80.85569],[-90.2,81.26],[-91.36786,81.5531],[-91.58702,81.89429],[-90.1,82.085],[-88.93227,82.11751],[-86.97024,82.27961],[-85.5,82.65227345805702],[-84.260005,82.6],[-83.18,82.32],[-82.42,82.86],[-81.1,83.02],[-79.30664,83.13056],[-76.25,83.17205882352937],[-75.71878,83.06404],[-72.83153,83.23324],[-70.665765,83.16978075838283],[-68.5,83.10632151676573]]]]}},{"type":"Feature","properties":{"admin":"Switzerland","name":"Switzerland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[9.594226108446346,47.525058091820256],[9.632931756232974,47.347601223329974],[9.47996951664902,47.10280996356337],[9.932448357796657,46.92072805438295],[10.442701450246627,46.893546250997424],[10.36337812667861,46.48357127540985],[9.922836541390378,46.31489940040918],[9.182881707403054,46.440214748716976],[8.966305779667804,46.036931871111186],[8.489952426801322,46.00515086525167],[8.316629672894377,46.16364248309085],[7.755992058959832,45.8244900579593],[7.273850945676655,45.77694774025077],[6.843592970414504,45.991146552100595],[6.500099724970424,46.42967275652943],[6.022609490593537,46.272989813820466],[6.037388950229,46.72577871356186],[6.768713820023605,47.287708238303686],[6.736571079138058,47.54180125588284],[7.192202182655505,47.449765529971],[7.466759067422228,47.620581976911794],[8.31730146651415,47.613579820336255],[8.522611932009765,47.830827541691285],[9.594226108446346,47.525058091820256]]]}},{"type":"Feature","properties":{"admin":"Chile","name":"Chile","continent":"South America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-68.63401022758315,-52.63637045887435],[-68.63334999999988,-54.8695],[-67.56244,-54.87001],[-66.95992,-54.89681],[-67.29102999999988,-55.30124],[-68.14862999999984,-55.61183],[-68.6399908108118,-55.58001799908688],[-69.2321,-55.49906],[-69.95809,-55.19843],[-71.00568,-55.05383],[-72.2639,-54.49514],[-73.2852,-53.957519999999874],[-74.66253,-52.83749],[-73.8381,-53.04743],[-72.43418,-53.7154],[-71.10773,-54.07433],[-70.59177999999979,-53.61583],[-70.26748,-52.93123],[-69.34564999999988,-52.5183],[-68.63401022758315,-52.63637045887435]]],[[[-68.21991309271122,-21.49434661223183],[-67.82817989772263,-22.87291879648218],[-67.1066735500636,-22.735924574476392],[-66.98523393417763,-22.986348565362825],[-67.32844295924413,-24.025303236590908],[-68.41765296087611,-24.518554782816874],[-68.38600114609734,-26.18501637136523],[-68.59479977077267,-26.50690886811126],[-68.29554155137039,-26.899339694935787],[-69.00123491074827,-27.521213881136127],[-69.65613033718314,-28.459141127233686],[-70.01355038112986,-29.367922865518544],[-69.91900834825192,-30.336339206668306],[-70.53506893581944,-31.36501026787028],[-70.07439938015362,-33.09120981214803],[-69.81477698431921,-33.27388600029984],[-69.81730912950145,-34.19357146579828],[-70.38804948594908,-35.16968759535944],[-70.36476925320166,-36.00508879978993],[-71.12188066270977,-36.65812387466233],[-71.11862504747542,-37.57682748794719],[-70.8146642727347,-38.55299529394073],[-71.41351660834904,-38.91602223079111],[-71.68076127794644,-39.80816415787806],[-71.91573401557754,-40.832339369470716],[-71.74680375841545,-42.05138640723599],[-72.14889807807852,-42.254888197601375],[-71.9154239569839,-43.408564548517404],[-71.4640561591305,-43.787611179378324],[-71.79362260607193,-44.2071721331561],[-71.3298007880362,-44.40752166115168],[-71.22277889675972,-44.78424285255941],[-71.65931555854532,-44.97368865334143],[-71.55200944689123,-45.56073292417712],[-71.9172584703302,-46.884838148791786],[-72.44735531278026,-47.73853281025352],[-72.33116085477194,-48.24423837666182],[-72.64824744331493,-48.878618259476774],[-73.41543575712002,-49.31843637471295],[-73.32805091011446,-50.378785088909865],[-72.97574683296462,-50.7414502907343],[-72.30997351753234,-50.67700977966634],[-72.32940385607402,-51.425956312872394],[-71.91480383979632,-52.00902230586591],[-69.49836218939608,-52.142760912637236],[-68.57154537624133,-52.29944385534625],[-69.46128434922662,-52.291950772663924],[-69.94277950710611,-52.53793059037324],[-70.8451016913545,-52.89920052852571],[-71.00633216010522,-53.833252042201345],[-71.42979468452093,-53.85645476030037],[-72.55794287788486,-53.53141000118445],[-73.70275672066286,-52.83506926860725],[-73.70275672066286,-52.83507007605149],[-74.94676347522515,-52.26275358841902],[-75.2600260077785,-51.62935475037321],[-74.9766324530898,-51.043395684615675],[-75.47975419788348,-50.37837167745155],[-75.60801510283194,-48.673772881871784],[-75.18276974150213,-47.71191944762315],[-74.12658098010468,-46.939253431995084],[-75.64439531116544,-46.647643324572016],[-74.69215369332305,-45.76397633238097],[-74.35170935738425,-44.10304412208788],[-73.24035600451519,-44.45496062599561],[-72.71780392117977,-42.383355808278985],[-73.38889990913823,-42.11753224056957],[-73.70133561877483,-43.36577646257974],[-74.33194312203257,-43.224958184584395],[-74.01795711942715,-41.79481292090683],[-73.67709937202994,-39.94221282324311],[-73.21759253609066,-39.25868865331851],[-73.50555945503704,-38.282882582351064],[-73.58806087919108,-37.156284681956016],[-73.16671708849928,-37.12378020604435],[-72.55313696968172,-35.50884002049102],[-71.86173214383255,-33.90909270603152],[-71.4384504869299,-32.41889942803082],[-71.66872066922242,-30.920644626592516],[-71.37008256700771,-30.095682061484997],[-71.48989437527645,-28.86144215262591],[-70.90512386746157,-27.640379734001193],[-70.72495398627596,-25.70592416758721],[-70.40396582709504,-23.628996677344542],[-70.09124589708067,-21.393319187101223],[-70.16441972520597,-19.756468194256183],[-70.37257239447771,-18.34797535570888],[-69.8584435696058,-18.092693780187027],[-69.59042375352398,-17.580011895419286],[-69.1002469550194,-18.260125420812653],[-68.96681840684182,-18.98168344490409],[-68.44222510443092,-19.40506845467142],[-68.7571671210337,-20.37265797290447],[-68.21991309271122,-21.49434661223183]]]]}},{"type":"Feature","properties":{"admin":"China","name":"China","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[110.33918786015153,18.678395087147603],[109.4752095886637,18.19770091396861],[108.65520796105613,18.507681993071397],[108.62621748254043,19.367887885001974],[109.119055617308,19.821038519769385],[110.21159874882284,20.101253973872073],[110.78655073450223,20.077534491450077],[111.01005130416462,19.695929877190732],[110.5706466003868,19.255879218009305],[110.33918786015153,18.678395087147603]]],[[[127.65740726126238,49.76027049417293],[129.39781782442043,49.44060008401543],[130.58229332898236,48.72968740497611],[130.98728152885383,47.79013235126139],[132.5066719910995,47.788969631534876],[133.373595819228,48.183441677434914],[135.0263114767867,48.4782298854439],[134.5008138368106,47.57843984637783],[134.1123620952726,47.21246735288672],[133.76964399631288,46.116926988299056],[133.09712690646643,45.14406647397216],[131.88345421765956,45.32116160743643],[131.02521203015607,44.96795319272157],[131.28855512911554,44.11151968034825],[131.14468794161485,42.92998973242693],[130.6338664084098,42.90301463477054],[130.64001590385243,42.39500946712527],[129.99426720593323,42.98538686784379],[129.59666873587946,42.42498179785459],[128.0522152039723,41.994284572917984],[128.20843305879072,41.466771552082534],[127.34378299368302,41.50315176041595],[126.86908328664985,41.816569322266155],[126.18204511932943,41.10733612727636],[125.07994184784059,40.56982371679245],[124.26562462778531,39.928493353834135],[122.86757042856101,39.637787583976255],[122.13138797413092,39.17045176854462],[121.05455447803286,38.89747101496291],[121.58599490772247,39.360853583324136],[121.37675703337264,39.750261338859524],[122.16859500538101,40.422442531896046],[121.64035851449353,40.946389878903304],[120.76862877816195,40.593388169917596],[119.63960208544906,39.89805593521421],[119.02346398323301,39.252333075511096],[118.0427486511979,39.204273993479674],[117.53270226447705,38.73763580988409],[118.05969852098967,38.06147553156105],[118.87814985562835,37.8973253443859],[118.9116361837535,37.44846385349872],[119.70280236214204,37.15638865818507],[120.82345747282365,37.87042776137797],[121.71125857959794,37.481123358707165],[122.35793745329846,37.45448415786068],[122.51999474496581,36.93061432550183],[121.10416385303303,36.65132904718043],[120.63700890511457,36.111439520811125],[119.66456180224607,35.60979055433773],[119.15120812385857,34.90985911716046],[120.22752485563372,34.36033193616861],[120.62036909391657,33.37672272392512],[121.22901411345022,32.460318711877186],[121.90814578663004,31.692174384074683],[121.89191938689034,30.9493515080951],[121.2642574402733,30.676267401648712],[121.50351932178472,30.14291494396425],[122.09211388558909,29.832520453403156],[121.93842817595305,29.018022365834803],[121.68443851123847,28.225512600206677],[121.12566124886644,28.13567312266718],[120.3954732605823,27.053206895449385],[119.58549686083956,25.740780544532605],[118.65687137255452,24.547390855400234],[117.28160647997083,23.624501451099714],[115.89073530483512,22.782873236578094],[114.76382734584621,22.668074042241663],[114.15254682826566,22.223760077396204],[113.80677981980075,22.548339748621423],[113.24107791550159,22.051367499270462],[111.84359215703245,21.550493679281512],[110.78546552942413,21.39714386645533],[110.44403934127166,20.34103261970639],[109.88986128137357,20.28245738370344],[109.62765506392464,21.008227037026725],[109.86448815311832,21.395050970947516],[108.52281294152442,21.71521230721182],[108.05018029178298,21.5523798690601],[107.04342003787264,21.8118989120299],[106.56727339073535,22.21820486092474],[106.72540327354847,22.794267889898375],[105.81124718630521,22.9768924016179],[105.32920942588663,23.352063300056976],[104.47685835166448,22.819150092046918],[103.5045146016605,22.703756618739217],[102.70699222210015,22.708795070887696],[102.17043582561355,22.464753119389336],[101.65201785686158,22.318198757409554],[101.8031197448829,21.17436676684505],[101.27002566936001,21.201651923095167],[101.18000532430756,21.436572984294052],[101.15003299357824,21.849984442629015],[100.41653771362735,21.558839423096654],[99.98348921102155,21.74293671313645],[99.2408988789872,22.11831431730456],[99.53199222208741,22.94903880461259],[98.8987492207828,23.14272207284258],[98.66026248575578,24.063286037690002],[97.60471967976203,23.89740469003305],[97.72460900267913,25.083637193293036],[98.67183800658921,25.91870250091349],[98.71209394734456,26.743535874940243],[98.68269005737051,27.508812160750658],[98.24623091023335,27.747221381129172],[97.91198774616943,28.335945136014367],[97.32711388549001,28.26158274994634],[96.24883344928783,28.411030992134467],[96.58659061074752,28.83097951915436],[96.117678664131,29.452802028922513],[95.40480228066463,29.031716620392157],[94.56599043170293,29.27743805593996],[93.41334760943266,28.640629380807233],[92.50311893104362,27.896876329046442],[91.69665652869669,27.771741848251615],[91.25885379431988,28.040614325466343],[90.7305139505678,28.064953925075738],[90.01582889197118,28.296438503527177],[89.47581017452116,28.042758897406365],[88.81424848832057,27.29931590423939],[88.73032596227853,28.08686473236755],[88.12044070836994,27.876541652939572],[86.95451704300064,27.974261786403524],[85.82331994013153,28.203575954698742],[85.01163821812305,28.64277395274737],[84.23457970575015,28.83989370372469],[83.89899295444674,29.320226141877633],[83.33711510613718,29.463731594352193],[82.32751264845088,30.115268052688204],[81.52580447787479,30.42271698660866],[81.11125613802928,30.183480943313402],[79.72136681510712,30.882714748654728],[78.738894484374,31.515906073527045],[78.45844648632603,32.61816437431272],[79.17612877799554,32.48377981213775],[79.20889163606854,32.99439463961374],[78.81108646028572,33.5061980250324],[78.91226891471321,34.32193634697577],[77.83745079947461,35.494009507787794],[76.1928483417857,35.89840342868785],[75.89689741405017,36.66680613865187],[75.15802778514099,37.13303091078915],[74.9800024758954,37.41999013930589],[74.82998579295214,37.990007025701445],[74.86481570831678,38.37884634048159],[74.25751427602269,38.606506862943476],[73.9288521666464,38.50581533462272],[73.67537926625484,39.431236884105566],[73.96001305531843,39.660008449861714],[73.82224368682832,39.893973497063136],[74.77686242055604,40.36642527929162],[75.46782799673072,40.56207225194867],[76.52636803579743,40.42794607193513],[76.90448449087711,41.06648590754965],[78.18719689322604,41.1853158636048],[78.54366092317525,41.58224254003871],[80.1194303730514,42.12394074153822],[80.25999026888532,42.34999929459908],[80.18015018099437,42.920067857426844],[80.86620649610121,43.18036204688101],[79.96610639844143,44.91751699480462],[81.94707075391808,45.31702749285314],[82.45892581576904,45.5396495631665],[83.18048383986054,47.330031236350735],[85.16429039911321,47.0009557155161],[85.72048383987067,47.45296946877308],[85.76823286330837,48.455750637396896],[86.59877648310335,48.549181626980605],[87.35997033076269,49.21498078062915],[87.75126427607667,49.297197984405464],[88.01383222855168,48.599462795600594],[88.85429772334675,48.06908173277301],[90.2808256367639,47.6935490993079],[90.97080936072496,46.88814606382293],[90.58576826371831,45.71971609148749],[90.94553958533432,45.28607330991024],[92.13389082231822,45.11507599545643],[93.48073367714132,44.97547211362],[94.68892866412536,44.352331854828456],[95.3068754414715,44.24133087826546],[95.76245486855669,43.31944916439462],[96.34939578652781,42.72563528092864],[97.45175744017797,42.74888967546007],[99.51581749878,42.52469147396169],[100.84586551310828,42.66380442969142],[101.83304039917994,42.51487295182627],[103.31227827353479,41.90746816666761],[104.522281935649,41.90834666601662],[104.96499393109343,41.597409572916334],[106.12931562706166,42.13432770442889],[107.74477257693798,42.48151581478191],[109.24359581913143,42.51944631608415],[110.4121033061153,42.871233628911014],[111.12968224492022,43.40683401140017],[111.82958784388137,43.743118394539486],[111.6677372579432,44.073175767587706],[111.34837690637943,44.45744171811005],[111.87330610560025,45.10207937273511],[112.43606245325884,45.01164561622425],[113.4639066915442,44.80889313412711],[114.46033165899604,45.339816799493875],[115.98509647020013,45.727235012386004],[116.71786828009886,46.38820241961524],[117.42170128791425,46.67273285581421],[118.87432579963871,46.805412095723646],[119.66326989143874,46.692679958678944],[119.77282392789756,47.04805878355013],[118.86657433479495,47.747060044946195],[118.06414269416672,48.06673045510373],[117.29550744025744,47.697709052107385],[116.30895267137323,47.85341014260281],[115.74283735561573,47.72654450132627],[115.48528201707302,48.13538259540344],[116.1918021993676,49.134598090199056],[116.67880089728618,49.8885313991214],[117.87924441942637,49.510983384796944],[119.28846072802584,50.14288279886203],[119.27936567594236,50.58290761982728],[120.18204959521692,51.64356639261802],[120.73819135954197,51.96411530212455],[120.72578901579197,52.516226304730814],[120.17708865771687,52.753886216841195],[121.00308475147023,53.25140106873123],[122.24574791879286,53.43172597921368],[123.57150678924084,53.45880442973463],[125.06821129771043,53.16104482686883],[125.94634891164617,52.792798570356936],[126.56439904185696,51.78425547953269],[126.93915652883766,51.353894151405896],[127.2874556824849,50.739797268265434],[127.65740726126238,49.76027049417293]]]]}},{"type":"Feature","properties":{"admin":"Ivory Coast","name":"C\xf4te d\'Ivoire","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-2.856125047202397,4.994475816259508],[-3.311084357100071,4.984295559098014],[-4.008819545904941,5.179813340674314],[-4.64991736491791,5.168263658057084],[-5.834496222344525,4.993700669775135],[-6.528769090185845,4.705087795425015],[-7.518941209330434,4.338288479017307],[-7.712159389669749,4.364565944837721],[-7.63536821128403,5.188159084489455],[-7.53971513511176,5.313345241716517],[-7.570152553731686,5.707352199725903],[-7.993692592795879,6.126189683451541],[-8.311347622094017,6.193033148621081],[-8.602880214868618,6.467564195171659],[-8.385451626000572,6.911800645368742],[-8.485445522485348,7.395207831243068],[-8.439298468448696,7.686042792181736],[-8.280703497744936,7.687179673692156],[-8.221792364932197,8.123328762235571],[-8.299048631208562,8.316443589710302],[-8.203498907900878,8.455453192575446],[-7.832100389019186,8.575704250518625],[-8.079113735374348,9.376223863152033],[-8.309616461612249,9.78953196862244],[-8.22933712404682,10.129020290563897],[-8.029943610048617,10.206534939001711],[-7.89958980959237,10.297382106970824],[-7.622759161804808,10.147236232946792],[-6.850506557635057,10.138993841996237],[-6.666460944027547,10.430810655148447],[-6.493965013037267,10.411302801958268],[-6.205222947606429,10.524060777219132],[-6.050452032892266,10.096360785355442],[-5.816926235365286,10.22255463301219],[-5.404341599946973,10.370736802609144],[-4.954653286143098,10.152713934769732],[-4.779883592131966,9.821984768101741],[-4.330246954760383,9.61083486575714],[-3.980449184576684,9.862344061721698],[-3.511898972986272,9.900326239456216],[-2.827496303712706,9.642460842319775],[-2.56218950032624,8.219627793811481],[-2.983584967450326,7.379704901555511],[-3.244370083011261,6.2504715031135],[-2.810701463217839,5.389051215024109],[-2.856125047202397,4.994475816259508]]]}},{"type":"Feature","properties":{"admin":"Cameroon","name":"Cameroon","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[13.07582238124675,2.267097072759014],[12.951333855855605,2.321615708826939],[12.359380323952218,2.19281220133945],[11.751665480199787,2.326757513839993],[11.276449008843711,2.261050930180871],[9.649158155972627,2.283866075037735],[9.795195753629455,3.073404445809117],[9.404366896205998,3.734526882335202],[8.948115675501068,3.904128933117135],[8.744923943729416,4.352215277519959],[8.488815545290889,4.495617377129917],[8.500287713259693,4.771982937026847],[8.757532993208626,5.47966583904791],[9.233162876023043,6.444490668153334],[9.522705926154398,6.453482367372116],[10.118276808318255,7.038769639509879],[10.497375115611417,7.055357774275562],[11.05878787603035,6.644426784690593],[11.745774366918509,6.981382961449753],[11.8393087093668,7.397042344589434],[12.063946160539556,7.799808457872301],[12.218872104550597,8.305824082874322],[12.753671502339214,8.717762762888993],[12.95546797043897,9.417771714714702],[13.1675997249971,9.64062632897341],[13.308676385153914,10.160362046748926],[13.572949659894558,10.798565985553564],[14.415378859116682,11.572368882692071],[14.468192172918974,11.90475169519341],[14.57717776862253,12.0853608260535],[14.181336297266792,12.483656927943112],[14.213530714584634,12.802035427293344],[14.495787387762842,12.859396267137326],[14.893385857816522,12.219047756392582],[14.960151808337598,11.555574042197222],[14.923564894274955,10.891325181517471],[15.467872755605269,9.982336737503429],[14.909353875394713,9.99212942142273],[14.627200555081057,9.920919297724536],[14.171466098699025,10.021378282099928],[13.954218377344002,9.549494940626685],[14.544466586981766,8.965861314322266],[14.979995558337688,8.79610423424347],[15.12086551276533,8.382150173369423],[15.436091749745765,7.692812404811971],[15.279460483469107,7.421924546737968],[14.776545444404572,6.408498033062044],[14.53656009284111,6.22695872642069],[14.459407179429345,5.451760565610299],[14.558935988023501,5.03059764243153],[14.478372430080466,4.732605495620446],[14.950953403389658,4.21038930909492],[15.036219516671249,3.851367295747123],[15.40539594896438,3.335300604664339],[15.862732374747479,3.013537298998982],[15.907380812247649,2.557389431158612],[16.01285241055535,2.267639675298084],[15.94091881680506,1.727672634280295],[15.14634199388524,1.964014797367184],[14.337812534246577,2.22787466064949],[13.07582238124675,2.267097072759014]]]}},{"type":"Feature","properties":{"admin":"Democratic Republic of the Congo","name":"Dem. Rep. Congo","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[30.8338598975938,3.50916596111034],[30.773346795380036,2.339883327642127],[31.174149204235807,2.204465236821263],[30.852670118948048,1.849396470543809],[30.46850752129029,1.58380544677972],[30.086153598762703,1.062312730306288],[29.875778842902488,0.597379868976304],[29.819503208136634,-0.205310153813372],[29.587837762172164,-0.58740569417948],[29.579466180140876,-1.341313164885626],[29.29188683443661,-1.620055840667987],[29.254834832483336,-2.215109958508911],[29.117478875451546,-2.292211195488384],[29.02492638521678,-2.839257907730157],[29.276383904749046,-3.293907159034063],[29.339997592900342,-4.499983412294092],[29.519986606572925,-5.419978936386313],[29.41999271008816,-5.939998874539432],[29.620032179490003,-6.520015150583424],[30.199996779101692,-7.079980970898161],[30.74001549655178,-8.340007419470913],[30.34608605319081,-8.238256524288216],[29.002912225060467,-8.40703175215347],[28.734866570762495,-8.526559340044576],[28.44987104667282,-9.164918308146083],[28.673681674928922,-9.60592498132493],[28.496069777141763,-10.789883721564044],[28.37225304537042,-11.793646742401389],[28.642417433392346,-11.971568698782312],[29.341547885869087,-12.36074391037241],[29.616001417771223,-12.178894545137307],[29.699613885219485,-13.257226657771827],[28.934285922976834,-13.248958428605132],[28.52356163912102,-12.69860442469668],[28.15510867687998,-12.272480564017894],[27.38879886242378,-12.132747491100663],[27.164419793412456,-11.608748467661071],[26.55308759939961,-11.924439792532125],[25.752309604604726,-11.784965101776356],[25.418118116973197,-11.330935967659958],[24.783169793402948,-11.238693536018962],[24.314516228947948,-11.262826429899269],[24.257155389103982,-10.951992689663655],[23.912215203555714,-10.926826267137512],[23.456790805767433,-10.867863457892481],[22.837345411884733,-11.017621758674329],[22.40279829274237,-10.99307545333569],[22.155268182064304,-11.084801120653768],[22.20875328948639,-9.894796237836507],[21.87518191904234,-9.523707777548564],[21.801801385187897,-8.908706556842978],[21.949130893652036,-8.305900974158275],[21.746455926203303,-7.920084730667147],[21.728110792739695,-7.2908724910813],[20.514748162526498,-7.299605808138629],[20.601822950938292,-6.93931772219968],[20.091621534920645,-6.943090101756993],[20.037723016040214,-7.116361179231644],[19.417502475673157,-7.155428562044297],[19.166613396896107,-7.738183688999753],[19.016751743249664,-7.988245944860132],[18.464175652752683,-7.847014255406442],[18.134221632569048,-7.98767750410492],[17.47297000496223,-8.068551120641699],[17.089995965247166,-7.545688978712525],[16.860190870845198,-7.222297865429984],[16.57317996589614,-6.622644545115087],[16.326528354567042,-5.877470391466267],[13.375597364971892,-5.864241224799548],[13.02486941900696,-5.984388929878157],[12.735171339578695,-5.965682061388497],[12.322431674863507,-6.100092461779658],[12.182336866920249,-5.789930515163837],[12.436688266660866,-5.684303887559245],[12.468004184629734,-5.248361504745003],[12.631611769265788,-4.991271254092935],[12.995517205465173,-4.781103203961883],[13.258240187237044,-4.882957452009165],[13.600234816144676,-4.500138441590969],[14.144956088933295,-4.510008640158715],[14.20903486497522,-4.793092136253597],[14.58260379401318,-4.970238946150139],[15.170991652088441,-4.3435071753143],[15.753540073314749,-3.855164890156096],[16.006289503654298,-3.535132744972528],[15.97280317552915,-2.712392266453612],[16.40709191251005,-1.740927015798682],[16.86530683764212,-1.225816338713287],[17.523716261472853,-0.743830254726987],[17.638644646889983,-0.424831638189246],[17.663552687254676,-0.058083998213817],[17.826540154703245,0.288923244626105],[17.774191928791563,0.855658677571085],[17.89883548347958,1.741831976728278],[18.09427575040743,2.365721543788055],[18.39379235197114,2.90044342692822],[18.453065219809925,3.504385891123348],[18.542982211997778,4.201785183118317],[18.932312452884755,4.709506130385973],[19.467783644293146,5.031527818212779],[20.290679152108932,4.691677761245287],[20.927591180106273,4.322785549329736],[21.65912275563002,4.224341945813719],[22.40512373219553,4.02916006104732],[22.704123569436284,4.633050848810156],[22.841479526468103,4.710126247573483],[23.297213982850135,4.609693101414221],[24.41053104014625,5.108784084489129],[24.80502892426241,4.897246608902349],[25.128833449003274,4.927244777847789],[25.278798455514302,5.170408229997191],[25.650455356557465,5.256087754737123],[26.402760857862535,5.150874538590869],[27.044065382604703,5.127852688004835],[27.374226108517483,5.233944403500059],[27.979977247842807,4.408413397637373],[28.428993768026906,4.287154649264493],[28.696677687298795,4.455077215996936],[29.159078403446497,4.38926727947323],[29.715995314256013,4.600804755060024],[29.953500197069467,4.173699042167683],[30.8338598975938,3.50916596111034]]]}},{"type":"Feature","properties":{"admin":"Republic of Congo","name":"Congo","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[12.995517205465173,-4.781103203961883],[12.620759718484491,-4.438023369976135],[12.318607618873923,-4.606230157086187],[11.914963006242086,-5.037986748884789],[11.093772820691923,-3.978826592630546],[11.855121697648114,-3.42687061932105],[11.4780387712143,-2.765618991714241],[11.820963575903189,-2.514161472181982],[12.49570275233816,-2.391688327650242],[12.575284458067639,-1.948511244315134],[13.109618767965626,-2.428740329603513],[13.992407260807706,-2.470804945489099],[14.299210239324564,-1.998275648612213],[14.425455763413593,-1.333406670744971],[14.31641849127774,-0.552627455247048],[13.843320753645653,0.038757635901149],[14.276265903386953,1.196929836426619],[14.026668735417214,1.395677395021153],[13.282631463278816,1.31418366129688],[13.003113641012074,1.830896307783319],[13.07582238124675,2.267097072759014],[14.337812534246577,2.22787466064949],[15.14634199388524,1.964014797367184],[15.94091881680506,1.727672634280295],[16.01285241055535,2.267639675298084],[16.537058139724135,3.198254706226278],[17.133042433346297,3.728196519379451],[17.80990034350526,3.560196437998569],[18.453065219809925,3.504385891123348],[18.39379235197114,2.90044342692822],[18.09427575040743,2.365721543788055],[17.89883548347958,1.741831976728278],[17.774191928791563,0.855658677571085],[17.826540154703245,0.288923244626105],[17.663552687254676,-0.058083998213817],[17.638644646889983,-0.424831638189246],[17.523716261472853,-0.743830254726987],[16.86530683764212,-1.225816338713287],[16.40709191251005,-1.740927015798682],[15.97280317552915,-2.712392266453612],[16.006289503654298,-3.535132744972528],[15.753540073314749,-3.855164890156096],[15.170991652088441,-4.3435071753143],[14.58260379401318,-4.970238946150139],[14.20903486497522,-4.793092136253597],[14.144956088933295,-4.510008640158715],[13.600234816144676,-4.500138441590969],[13.258240187237044,-4.882957452009165],[12.995517205465173,-4.781103203961883]]]}},{"type":"Feature","properties":{"admin":"Colombia","name":"Colombia","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-75.37322323271384,-0.15203175212045],[-75.80146582711659,0.084801337073202],[-76.29231441924094,0.416047268064119],[-76.57637976754938,0.256935533037435],[-77.42498430043037,0.395686753741117],[-77.66861284047042,0.825893052570961],[-77.85506140817951,0.809925034992773],[-78.85525875518869,1.380923773601822],[-78.99093522817103,1.691369940595251],[-78.6178313870237,1.766404120283056],[-78.66211808949784,2.267355454920476],[-78.4276104397573,2.629555568854215],[-77.93154252797147,2.696605739752925],[-77.510431281225,3.325016994638246],[-77.12768978545525,3.849636135265356],[-77.496271938777,4.087606105969427],[-77.30760128447938,4.667984117039452],[-77.53322058786571,5.582811997902496],[-77.31881507028672,5.845354112161359],[-77.47666073272227,6.691116441266301],[-77.88157141794524,7.223771267114783],[-77.75341386586139,7.709839789252141],[-77.43110795765698,7.638061224798733],[-77.24256649444007,7.935278225125442],[-77.47472286651131,8.524286200388216],[-77.35336076527385,8.670504665558068],[-76.83667395700354,8.638749497914715],[-76.08638383655784,9.336820583529486],[-75.67460018584003,9.443248195834597],[-75.66470414905615,9.774003200718736],[-75.48042599150334,10.618990383339305],[-74.90689510771197,11.08304474532032],[-74.27675269234487,11.102035834187586],[-74.19722266304768,11.310472723836865],[-73.41476396350028,11.227015285685479],[-72.62783525255962,11.73197154382552],[-72.2381949530789,11.955549628136325],[-71.75409013536863,12.437303168177305],[-71.39982235379169,12.37604075769529],[-71.13746110704587,12.112981879113503],[-71.33158362495028,11.776284084515805],[-71.97392167833827,11.608671576377116],[-72.22757544624292,11.108702093953237],[-72.6146577623252,10.821975409381777],[-72.90528601753469,10.45034434655477],[-73.02760413276955,9.73677033125244],[-73.30495154488003,9.151999823437604],[-72.78872982450038,9.08502716718733],[-72.66049475776809,8.62528778730268],[-72.43986223009794,8.405275376820027],[-72.36090064155596,8.002638454617893],[-72.47967892117883,7.632506008327352],[-72.44448727078806,7.42378489830048],[-72.19835242378187,7.340430813013682],[-71.96017574734863,6.991614895043538],[-70.6742335679815,7.087784735538717],[-70.09331295437241,6.960376491723109],[-69.3894799465571,6.099860541198835],[-68.98531856960233,6.206804917826856],[-68.26505245631822,6.153268133972473],[-67.695087246355,6.267318020040645],[-67.34143958196556,6.095468044454021],[-67.52153194850274,5.556870428891968],[-67.7446966213552,5.221128648291667],[-67.82301225449353,4.503937282728898],[-67.62183590358127,3.839481716319994],[-67.33756384954367,3.542342230641721],[-67.30317318385342,3.31845408773718],[-67.80993811712369,2.820655015469569],[-67.4470920477863,2.600280869960869],[-67.18129431829304,2.250638129074062],[-66.87632585312257,1.253360500489336],[-67.06504818385248,1.130112209473225],[-67.25999752467358,1.719998684084956],[-67.53781002467468,2.037162787276329],[-67.86856502955882,1.692455145673392],[-69.81697323269161,1.714805202639624],[-69.8045967271577,1.089081122233466],[-69.21863766140017,0.985676581217433],[-69.25243404811904,0.602650865070075],[-69.45239600287245,0.706158758950693],[-70.0155657619893,0.541414292804205],[-70.02065589057004,-0.185156345219539],[-69.57706539577659,-0.549991957200163],[-69.42048580593222,-1.122618503426409],[-69.4441019354896,-1.556287123219817],[-69.89363521999661,-4.298186944194326],[-70.39404395209498,-3.766591485207825],[-70.6926820543097,-3.742872002785858],[-70.04770850287484,-2.725156345229699],[-70.81347571479195,-2.256864515800742],[-71.41364579942977,-2.342802422702128],[-71.77476070828538,-2.169789727388937],[-72.32578650581364,-2.434218031426453],[-73.07039221870721,-2.308954359550952],[-73.65950354683459,-1.260491224781134],[-74.12239518908905,-1.002832533373848],[-74.44160051135596,-0.530820000819887],[-75.10662451852006,-0.05720549886486],[-75.37322323271384,-0.15203175212045]]]}},{"type":"Feature","properties":{"admin":"Costa Rica","name":"Costa Rica","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-82.96578304719735,8.225027980985983],[-83.50843726269429,8.446926581247281],[-83.71147396516906,8.656836249216864],[-83.59631303580663,8.830443223501417],[-83.63264156770782,9.05138580976532],[-83.90988562695372,9.290802720573579],[-84.30340165885634,9.487354030795712],[-84.64764421256865,9.615537421095707],[-84.71335079622774,9.908051866083849],[-84.97566036654132,10.086723130733004],[-84.91137488477021,9.795991522658921],[-85.11092342806529,9.557039699741308],[-85.33948828809226,9.834542141148658],[-85.66078650586697,9.93334747969072],[-85.79744483106282,10.134885565629032],[-85.79170874707842,10.439337266476612],[-85.65931372754666,10.754330959511718],[-85.94172543002175,10.8952784285878],[-85.71254045280729,11.088444932494822],[-85.56185197624417,11.217119248901593],[-84.90300330273892,10.952303371621895],[-84.67306901725624,11.08265717207814],[-84.35593075228103,10.999225572142901],[-84.19017859570482,10.79345001875667],[-83.89505449088593,10.726839097532444],[-83.65561174186156,10.938764146361418],[-83.40231970898294,10.39543813724465],[-83.01567664257516,9.992982082555553],[-82.54619625520347,9.566134751824674],[-82.93289099804356,9.476812038608172],[-82.92715491405914,9.074330145702914],[-82.71918311230051,8.925708726431493],[-82.86865719270476,8.80726634361852],[-82.82977067740515,8.626295477732368],[-82.9131764391242,8.423517157419068],[-82.96578304719735,8.225027980985983]]]}},{"type":"Feature","properties":{"admin":"Cuba","name":"Cuba","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-82.26815121125703,23.188610744717703],[-81.40445716014682,23.117271429938775],[-80.61876868358118,23.105980129482994],[-79.67952368846022,22.765303249598823],[-79.28148596873207,22.39920156502705],[-78.34743445505647,22.512166246017085],[-77.99329586456025,22.277193508385928],[-77.14642249216104,21.65785146736783],[-76.52382483590853,21.20681956632437],[-76.19462012399318,21.220565497314006],[-75.59822241891266,21.01662445727413],[-75.67106035022803,20.735091254148],[-74.93389604358448,20.69390513761138],[-74.17802486845125,20.284627793859737],[-74.29664811877724,20.050378526280678],[-74.96159461129292,19.923435370355687],[-75.63468014189458,19.873774318923193],[-76.32365617542598,19.952890936762056],[-77.75548092315304,19.855480861891873],[-77.08510840524673,20.41335378669879],[-77.4926545885166,20.673105373613886],[-78.13729224314157,20.739948838783427],[-78.48282670766116,21.028613389565848],[-78.719866502584,21.59811351163843],[-79.28499996612791,21.559175319906497],[-80.21747534861863,21.827324327069032],[-80.5175345527214,22.037078965741756],[-81.82094336620317,22.192056586185068],[-82.16999182811861,22.387109279870746],[-81.79500179719264,22.63696483000195],[-82.77589799674084,22.688150336187057],[-83.49445878775933,22.168517971276124],[-83.90880042187561,22.15456533455733],[-84.05215084505325,21.91057505949125],[-84.54703019889635,21.80122772876164],[-84.97491105827308,21.896028143801082],[-84.44706214062775,22.204949856041903],[-84.23035702181177,22.56575470630376],[-83.77823991569016,22.78811839445569],[-83.26754757356574,22.98304189706064],[-82.5104361640575,23.07874664966518],[-82.26815121125703,23.188610744717703]]]}},{"type":"Feature","properties":{"admin":"Northern Cyprus","name":"N. Cyprus","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[32.731780226377445,35.14002594658843],[32.80247358575274,35.14550364841136],[32.9469608904408,35.38670339613369],[33.66722700372494,35.37321584730551],[34.57647382990046,35.671595567358786],[33.9008044776842,35.24575592705761],[33.973616570783456,35.058506374648],[33.866439650210104,35.09359467217418],[33.67539188002706,35.017862860650446],[33.525685255677494,35.038688462864066],[33.475817498515845,35.0003445501035],[33.45592207208346,35.1014236516664],[33.383833449036295,35.16271190036456],[33.19097700372304,35.17312470147137],[32.91957238132613,35.087832749973636],[32.731780226377445,35.14002594658843]]]}},{"type":"Feature","properties":{"admin":"Cyprus","name":"Cyprus","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[33.973616570783456,35.058506374648],[34.00488081232003,34.97809784600185],[32.97982710137844,34.571869411755436],[32.49029625827753,34.70165477145647],[32.25666710788595,35.10323232679662],[32.731780226377445,35.14002594658843],[32.91957238132613,35.087832749973636],[33.19097700372304,35.17312470147137],[33.383833449036295,35.16271190036456],[33.45592207208346,35.1014236516664],[33.475817498515845,35.0003445501035],[33.525685255677494,35.038688462864066],[33.67539188002706,35.017862860650446],[33.866439650210104,35.09359467217418],[33.973616570783456,35.058506374648]]]}},{"type":"Feature","properties":{"admin":"Czech Republic","name":"Czech Rep.","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[16.960288120194573,48.59698232685059],[16.49928266771877,48.785808010445095],[16.029647251050218,48.733899034207916],[15.253415561593979,49.039074205107575],[14.901447381254055,48.96440176044582],[14.33889773932472,48.55530528420719],[13.595945672264433,48.877171942737135],[13.031328973043427,49.30706818297323],[12.52102420416119,49.54741526956272],[12.415190870827441,49.96912079528056],[12.240111118222556,50.26633779560727],[12.96683678554319,50.48407644306907],[13.338131951560282,50.733234361364346],[14.05622765468817,50.926917629594286],[14.307013380600633,51.1172677679414],[14.570718214586062,51.00233938252426],[15.016995883858666,51.106674099321566],[15.490972120839725,50.7847299261432],[16.238626743238566,50.69773265237983],[16.176253289462263,50.4226073268579],[16.71947594571443,50.21574656839353],[16.868769158605655,50.473973700556016],[17.554567091551117,50.36214590107641],[17.649445021238986,50.04903839781994],[18.39291385262217,49.98862864847074],[18.85314415861361,49.496229763377634],[18.55497114428948,49.49501536721878],[18.399993523846174,49.315000515330034],[18.17049848803796,49.27151479755642],[18.10497277189185,49.0439834661753],[17.91351159025046,48.99649282489907],[17.886484816161808,48.903475246773695],[17.5450069515771,48.80001902932536],[17.101984897538895,48.8169688991171],[16.960288120194573,48.59698232685059]]]}},{"type":"Feature","properties":{"admin":"Germany","name":"Germany","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[9.92190636560923,54.983104153048025],[9.939579705452898,54.59664195415324],[10.950112338920517,54.36360708273315],[10.939466993868447,54.00869334575258],[11.95625247564328,54.196485500701144],[12.51844038254671,54.47037059184799],[13.647467075259495,54.075510972705885],[14.119686313542555,53.757029120491026],[14.353315463934164,53.24817129171309],[14.07452111171943,52.981262518925334],[14.437599725002197,52.62485016540829],[14.685026482815713,52.08994741475521],[14.607098422919645,51.745188096719964],[15.016995883858781,51.1066740993217],[14.570718214586119,51.00233938252437],[14.307013380600662,51.117267767941364],[14.05622765468831,50.92691762959435],[13.338131951560397,50.73323436136427],[12.966836785543249,50.48407644306916],[12.240111118222668,50.266337795607214],[12.41519087082747,49.9691207952806],[12.521024204161332,49.54741526956274],[13.031328973043513,49.30706818297323],[13.595945672264575,48.87717194273716],[13.243357374737112,48.416114813829026],[12.884102817443873,48.289145819687846],[13.025851271220514,47.637583523135945],[12.93262698736606,47.46764557554398],[12.62075971848452,47.67238760028441],[12.14135745611287,47.70308340106577],[11.426414015354847,47.523766181013045],[10.544504021861597,47.56639923765378],[10.402083774465321,47.30248769793916],[9.896068149463188,47.58019684507569],[9.594226108446376,47.525058091820185],[8.522611932009793,47.83082754169134],[8.317301466514092,47.61357982033626],[7.466759067422286,47.62058197691191],[7.59367638513106,48.333019110703724],[8.099278598674855,49.01778351500342],[6.658229607783709,49.20195831969163],[6.186320428094176,49.4638028021145],[6.242751092156992,49.90222565367872],[6.043073357781109,50.12805166279422],[6.156658155958779,50.803721015010574],[5.988658074577812,51.85161570902504],[6.589396599970825,51.85202912048338],[6.842869500362381,52.22844025329754],[7.092053256873895,53.14404328064488],[6.905139601274128,53.48216217713063],[7.100424838905268,53.69393219666266],[7.936239454793961,53.74829580343378],[8.121706170289483,53.527792466844275],[8.800734490604667,54.02078563090889],[8.572117954145368,54.395646470754045],[8.526229282270206,54.962743638725144],[9.282048780971136,54.8308653835163],[9.92190636560923,54.983104153048025]]]}},{"type":"Feature","properties":{"admin":"Djibouti","name":"Djibouti","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[43.08122602720015,12.699638576707112],[43.31785241066466,12.390148423711022],[43.28638146339891,11.974928290245883],[42.71587365089652,11.735640570518338],[43.14530480324213,11.462039699748853],[42.77685184100095,10.926878566934416],[42.55493000000012,11.105110000000193],[42.314140000000116,11.0342],[41.75557000000019,11.05091],[41.73959000000018,11.355110000000137],[41.66176000000012,11.6312],[42.00000000000011,12.100000000000133],[42.351560000000106,12.54223000000013],[42.77964236834474,12.455415757695672],[43.08122602720015,12.699638576707112]]]}},{"type":"Feature","properties":{"admin":"Denmark","name":"Denmark","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[12.69000613775563,55.60999095318077],[12.089991082414738,54.80001455343792],[11.043543328504226,55.36486379660424],[10.90391360845163,55.779954738988735],[12.370904168353288,56.11140737570882],[12.69000613775563,55.60999095318077]]],[[[10.912181837618359,56.4586213242779],[10.667803989309986,56.08138336854721],[10.369992710011983,56.19000722922472],[9.649984978889306,55.46999949810204],[9.921906365609173,54.983104153048046],[9.282048780971136,54.830865383516155],[8.526229282270235,54.96274363872497],[8.120310906617588,55.51772268332361],[8.089976840862247,56.54001170513759],[8.256581658571262,56.809969387430286],[8.543437534223385,57.11000275331689],[9.424469028367609,57.17206614849947],[9.775558709358561,57.44794078228965],[10.580005730846151,57.73001658795484],[10.54610599126269,57.21573273378614],[10.250000034230222,56.890016181050456],[10.369992710011983,56.60998159446082],[10.912181837618359,56.4586213242779]]]]}},{"type":"Feature","properties":{"admin":"Dominican Republic","name":"Dominican Rep.","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-71.71236141629295,19.714455878167353],[-71.5873044501466,19.884910590082093],[-70.80670610216173,19.88028554939198],[-70.21436499701612,19.622885240146157],[-69.95081519232757,19.647999986240002],[-69.76925004747007,19.293267116772437],[-69.22212582057986,19.313214219637096],[-69.25434607611382,19.01519623460987],[-68.80941199408082,18.979074408437846],[-68.31794328476896,18.61219757738169],[-68.6893159654345,18.20514232021861],[-69.1649458482489,18.422648423735108],[-69.62398759629762,18.380712998930246],[-69.95293392605153,18.428306993071057],[-70.13323299831788,18.245915025296892],[-70.5171372138142,18.18429087978883],[-70.66929846869762,18.42688589118303],[-70.99995012071717,18.283328762276206],[-71.40020992703388,17.598564357976596],[-71.657661912712,17.757572740138695],[-71.70830481635804,18.04499705654609],[-71.68773759630587,18.316660061104468],[-71.94511206733554,18.616900132720257],[-71.70130265978248,18.78541697842405],[-71.62487321642281,19.169837958243303],[-71.71236141629295,19.714455878167353]]]}},{"type":"Feature","properties":{"admin":"Algeria","name":"Algeria","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[11.99950564947161,23.471668402596443],[8.572893100629782,21.565660712159136],[5.677565952180684,19.601206976799713],[4.267419467800038,19.155265204336995],[3.158133172222704,19.057364203360034],[3.146661004253899,19.69357859952144],[2.683588494486428,19.856230170160114],[2.060990838233919,20.142233384679482],[1.823227573259032,20.61080943448604],[-1.550054897457613,22.792665920497377],[-4.92333736817423,24.974574082940993],[-8.68439978680905,27.395744126896],[-8.66512447756419,27.58947907155822],[-8.665589565454805,27.65642588959235],[-8.674116176782972,28.841288967396572],[-7.059227667661928,29.579228420524522],[-6.060632290053772,29.731699734001687],[-5.242129278982786,30.00044302013558],[-4.859646165374469,30.50118764904384],[-3.690441046554695,30.896951605751152],[-3.647497931320145,31.637294012980668],[-3.068980271812647,31.724497992473207],[-2.616604783529567,32.09434621838614],[-1.30789913573787,32.262888902306095],[-1.124551153966308,32.651521511357124],[-1.388049282222567,32.8640150009413],[-1.733454555661467,33.91971283623198],[-1.792985805661686,34.5279186060912],[-2.169913702798624,35.16839630791667],[-1.208602871089056,35.71484874118709],[-0.127454392894606,35.8886624212008],[0.503876580415209,36.30127289483527],[1.466918572606545,36.6056470810344],[3.161698846050824,36.783904934225205],[4.815758090849129,36.86503693292345],[5.320120070017792,36.716518866516616],[6.261819695672611,37.11065501560673],[7.330384962603969,37.118380642234364],[7.737078484741003,36.88570750584021],[8.420964389691674,36.946427313783154],[8.217824334352313,36.43317698826027],[8.376367628623766,35.47987600355594],[8.140981479534302,34.65514598239378],[7.524481642292242,34.09737641045145],[7.612641635782181,33.344114895148955],[8.430472853233367,32.748337307255944],[8.439102817426116,32.506284898400814],[9.055602654668148,32.102691962201284],[9.482139926805273,30.30755605724618],[9.805634392952411,29.424638373323383],[9.859997999723443,28.959989732371007],[9.683884718472765,28.144173895779193],[9.756128370816779,27.68825857188414],[9.629056023811073,27.140953477480913],[9.716285841519747,26.51220632578569],[9.319410841518161,26.094324856057447],[9.910692579801774,25.365454616796733],[9.948261346077969,24.93695364023251],[10.30384687667836,24.37931325937091],[10.771363559622925,24.562532050061744],[11.560669386449002,24.09790924732551],[11.99950564947161,23.471668402596443]]]}},{"type":"Feature","properties":{"admin":"Ecuador","name":"Ecuador","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-80.30256059438719,-3.404856459164712],[-79.77029334178091,-2.65751189535964],[-79.9865592109224,-2.220794366061014],[-80.36878394236923,-2.685158786635788],[-80.96776546906433,-2.246942640800703],[-80.76480628123802,-1.965047702648532],[-80.9336590237517,-1.057454522306358],[-80.58337032746124,-0.906662692878683],[-80.39932471385373,-0.283703301600141],[-80.02089820018035,0.360340074053468],[-80.0906097073421,0.768428859862396],[-79.54276201039978,0.982937730305963],[-78.85525875518869,1.380923773601822],[-77.85506140817951,0.809925034992773],[-77.66861284047042,0.825893052570961],[-77.42498430043037,0.395686753741117],[-76.57637976754938,0.256935533037435],[-76.29231441924094,0.416047268064119],[-75.80146582711659,0.084801337073202],[-75.37322323271384,-0.15203175212045],[-75.23372270374193,-0.911416924649529],[-75.54499569365203,-1.56160979574588],[-76.6353942532267,-2.608677666843817],[-77.83790483265858,-3.003020521663103],[-78.45068396677563,-3.873096612161375],[-78.63989722361232,-4.547784112164072],[-79.20528906931771,-4.959128513207388],[-79.62497921417615,-4.454198093283494],[-80.02890804718558,-4.346090996928893],[-80.44224199087213,-4.425724379090673],[-80.46929460317692,-4.059286797708999],[-80.18401485870965,-3.821161797708043],[-80.30256059438719,-3.404856459164712]]]}},{"type":"Feature","properties":{"admin":"Egypt","name":"Egypt","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[34.9226,29.50133],[34.64174,29.09942],[34.42655,28.34399],[34.15451,27.8233],[33.92136,27.6487],[33.58811,27.97136],[33.13676,28.41765],[32.42323,29.85108],[32.32046,29.76043],[32.73482,28.70523],[33.34876,27.69989],[34.10455,26.14227],[34.47387,25.59856],[34.79507,25.03375],[35.69241,23.92671],[35.49372,23.75237],[35.52598,23.10244],[36.69069,22.20485],[36.86623,22],[32.9,22],[29.02,22],[25,22],[25,25.682499996360992],[25,29.238654529533452],[24.70007,30.04419],[24.95762,30.6616],[24.80287,31.08929],[25.16482,31.56915],[26.49533,31.58568],[27.45762,31.32126],[28.45048,31.02577],[28.91353,30.87005],[29.68342,31.18686],[30.09503,31.4734],[30.97693,31.55586],[31.68796,31.4296],[31.96041,30.9336],[32.19247,31.26034],[32.99392,31.02407],[33.7734,30.96746],[34.26544,31.21936],[34.9226,29.50133]]]}},{"type":"Feature","properties":{"admin":"Eritrea","name":"Eritrea","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[42.351560000000106,12.54223000000013],[42.00975,12.86582],[41.59856,13.452090000000108],[41.15519371924983,13.773319810435224],[40.8966,14.118640000000138],[40.02621870296917,14.51957916916228],[39.34061,14.53155],[39.0994,14.74064],[38.51295,14.50547],[37.90607,14.959430000000165],[37.59377,14.2131],[36.42951,14.42211],[36.32318891779811,14.822480577041057],[36.753860304518575,16.29187409104429],[36.85253000000011,16.95655],[37.16747,17.263140000000128],[37.9040000000001,17.42754],[38.41008995947322,17.99830739997031],[38.99062299984,16.84062612555169],[39.266110060388016,15.922723496967246],[39.81429365414021,15.435647284400314],[41.179274936697645,14.49107961675321],[41.734951613132345,13.921036892141554],[42.27683068214485,13.34399201095442],[42.589576450375255,13.000421250861901],[43.08122602720015,12.699638576707112],[42.77964236834474,12.455415757695672],[42.351560000000106,12.54223000000013]]]}},{"type":"Feature","properties":{"admin":"Spain","name":"Spain","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-9.034817674180244,41.88057058365967],[-8.98443315269567,42.59277517350626],[-9.392883673530644,43.026624660812686],[-7.978189663108308,43.74833771420098],[-6.754491746436754,43.56790945085392],[-5.411886359061596,43.57423981380967],[-4.347842779955783,43.403449205085025],[-3.51753170410609,43.455900783861296],[-1.901351284177764,43.42280202897833],[-1.502770961910528,43.034014390630425],[0.338046909190581,42.57954600683954],[0.701590610363894,42.7957343613326],[1.826793247087153,42.34338471126568],[2.985998976258457,42.47301504166985],[3.039484083680548,41.89212026627689],[2.091841668312184,41.22608856868308],[0.810524529635188,41.01473196060933],[0.721331007499401,40.67831838638923],[0.106691521819869,40.123933620762],[-0.278711310212941,39.30997813573271],[0.111290724293838,38.73851430923303],[-0.467123582349103,38.29236583104114],[-0.683389451490598,37.64235382745781],[-1.438382127274849,37.443063666324214],[-2.146452602538119,36.67414419203728],[-3.415780808923386,36.65889964451117],[-4.368900926114718,36.67783905694614],[-4.995219285492211,36.32470815687963],[-5.377159796561457,35.94685008396146],[-5.866432257500902,36.02981659600605],[-6.236693894872174,36.36767711033033],[-6.520190802425402,36.94291331638731],[-7.45372555177809,37.09778758396605],[-7.537105475281022,37.42890432387623],[-7.166507941099863,37.80389435480222],[-7.029281175148794,38.07576406508976],[-7.374092169616317,38.373058580064914],[-7.098036668313126,39.03007274022378],[-7.498632371439724,39.6295710312418],[-7.066591559263527,39.71189158788277],[-7.026413133156593,40.18452423762424],[-6.864019944679383,40.33087189387482],[-6.851126674822551,41.11108266861751],[-6.389087693700914,41.38181549739464],[-6.668605515967655,41.88338694921958],[-7.251308966490822,41.91834605566504],[-7.422512986673794,41.79207469335982],[-8.01317460776991,41.79088613541712],[-8.26385698081779,42.280468654950326],[-8.671945766626719,42.13468943945495],[-9.034817674180244,41.88057058365967]]]}},{"type":"Feature","properties":{"admin":"Estonia","name":"Estonia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[24.312862583114615,57.793423570376966],[24.428927850042154,58.383413397853275],[24.06119835785318,58.257374579493394],[23.42656009287668,58.61275340436462],[23.33979536305864,59.18724030215336],[24.604214308376182,59.46585378685501],[25.86418908051663,59.611090399811324],[26.949135776484518,59.44580333112577],[27.981114129353237,59.47538808861286],[28.131699253051742,59.300825100330904],[27.42016645682494,58.724581203844224],[27.716685825315714,57.791899115624354],[27.28818484875151,57.47452830670382],[26.46353234223778,57.476388658266316],[25.602809685984365,57.84752879498656],[25.164593540149262,57.970156968815175],[24.312862583114615,57.793423570376966]]]}},{"type":"Feature","properties":{"admin":"Ethiopia","name":"Ethiopia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[37.90607,14.959430000000165],[38.51295,14.50547],[39.0994,14.74064],[39.34061,14.53155],[40.02625000000011,14.51959],[40.8966,14.118640000000138],[41.1552,13.77333],[41.59856,13.452090000000108],[42.00975,12.86582],[42.351560000000106,12.54223000000013],[42.00000000000011,12.100000000000133],[41.66176000000012,11.6312],[41.73959000000018,11.355110000000137],[41.75557000000019,11.05091],[42.314140000000116,11.0342],[42.55493000000012,11.105110000000193],[42.77685184100095,10.926878566934416],[42.55876,10.572580000000126],[42.92812,10.02194000000014],[43.29699,9.54048000000017],[43.67875,9.183580000000116],[46.94834,7.99688],[47.78942,8.003],[44.9636,5.001620000000115],[43.66087,4.95755],[42.76967000000012,4.252590000000223],[42.12861,4.234130000000163],[41.85508309264411,3.918911920483764],[41.171800000000125,3.91909],[40.76848000000012,4.257020000000124],[39.854940000000106,3.83879000000013],[39.55938425876592,3.422060000000215],[38.89251,3.50074],[38.67114,3.61607],[38.43697000000014,3.58851],[38.12091500000013,3.598605],[36.85509323800823,4.447864127672857],[36.159078632855646,4.447864127672857],[35.81744766235362,4.776965663462021],[35.81744766235362,5.338232082790852],[35.298007118233095,5.506],[34.70702,6.59422000000012],[34.25032,6.82607],[34.075100000000184,7.22595],[33.56829,7.71334],[32.95418000000023,7.7849700000001],[33.294800000000116,8.35458],[33.82550000000014,8.37916],[33.97498,8.684560000000145],[33.96162,9.58358],[34.25745,10.63009],[34.73115000000012,10.910170000000106],[34.831630000000125,11.318960000000116],[35.26049,12.08286],[35.863630000000164,12.57828],[36.27022,13.563330000000118],[36.42951,14.42211],[37.59377,14.2131],[37.90607,14.959430000000165]]]}},{"type":"Feature","properties":{"admin":"Finland","name":"Finland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[28.591929559043187,69.06477692328664],[28.44594363781865,68.36461294216403],[29.9774263852206,67.69829702419264],[29.05458865735232,66.94428620062192],[30.21765,65.80598],[29.544429559046982,64.94867157659047],[30.444684686003704,64.20445343693908],[30.035872430142714,63.552813625738544],[31.516092156711117,62.86768748641287],[31.13999108249089,62.357692776124395],[30.211107212044443,61.78002777774967],[28.06999759289527,60.50351654727583],[26.25517296723697,60.42396067976249],[24.496623976344516,60.057316392651636],[22.869694858499454,59.84637319603621],[22.29076378753359,60.391921291741525],[21.322244093519313,60.7201699896595],[21.544866163832687,61.70532949487178],[21.059211053153682,62.607393296958726],[21.5360294939108,63.18973501245586],[22.442744174903986,63.81781037053128],[24.73051150889753,64.90234365504082],[25.39806766124394,65.11142650009373],[25.2940430030404,65.53434642197044],[23.903378533633795,66.0069273952796],[23.565879754335576,66.39605093043741],[23.539473097434435,67.93600861273524],[21.978534783626113,68.61684560818068],[20.64559288908952,69.10624726020085],[21.244936150810666,69.37044302029307],[22.356237827247405,68.8417414415149],[23.66204959483075,68.89124746365053],[24.73567915212672,68.64955678982145],[25.68921268077636,69.09211375596902],[26.17962202322624,69.82529897732611],[27.732292107867856,70.16419302029624],[29.01557295097197,69.76649119737797],[28.591929559043187,69.06477692328664]]]}},{"type":"Feature","properties":{"admin":"Fiji","name":"Fiji","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[178.3736,-17.33992],[178.71806,-17.62846],[178.55271,-18.15059],[177.93266,-18.28799],[177.38146,-18.16432],[177.28504,-17.72465],[177.67087,-17.38114],[178.12557,-17.50481],[178.3736,-17.33992]]],[[[179.36414266196422,-16.801354076946847],[178.72505936299706,-17.012041674368017],[178.59683859511702,-16.63915],[179.09660936299713,-16.43398427754742],[179.41350936299708,-16.379054277547393],[180.0000000000001,-16.067132663642436],[180.0000000000001,-16.555216566639157],[179.36414266196422,-16.801354076946847]]],[[[-179.91736938476524,-16.501783135649358],[-180,-16.555216566639157],[-180,-16.067132663642436],[-179.79332010904855,-16.020882256741228],[-179.91736938476524,-16.501783135649358]]]]}},{"type":"Feature","properties":{"admin":"Falkland Islands","name":"Falkland Is.","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-61.2,-51.85],[-60,-51.25],[-59.15,-51.5],[-58.55,-51.1],[-57.75,-51.55],[-58.05,-51.9],[-59.4,-52.2],[-59.85,-51.85],[-60.7,-52.3],[-61.2,-51.85]]]}},{"type":"Feature","properties":{"admin":"France","name":"France","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-52.55642473001838,2.504705308437053],[-52.93965715189496,2.124857692875622],[-53.41846513529525,2.053389187016037],[-53.55483924011348,2.334896551925964],[-53.77852067728888,2.376702785650053],[-54.088062506717264,2.105556545414629],[-54.52475419779974,2.311848863123785],[-54.27122962097578,2.738747870286942],[-54.18428402364474,3.194172268075234],[-54.01150387227681,3.622569891774857],[-54.3995422023565,4.212611395683481],[-54.4786329819792,4.896755682795642],[-53.95804460307092,5.756548163267808],[-53.61845292826484,5.646529038918401],[-52.88214128275406,5.409850979021598],[-51.823342861525916,4.565768133966144],[-51.657797410678874,4.156232408053028],[-52.24933753112398,3.241094468596287],[-52.55642473001838,2.504705308437053]]],[[[9.560016310269132,42.15249197037956],[9.229752231491771,41.38000682226444],[8.77572309737536,41.58361196549443],[8.544212680707828,42.25651662858308],[8.746009148807586,42.628121853193946],[9.390000848028901,43.009984849614725],[9.560016310269132,42.15249197037956]]],[[[3.588184441755714,50.37899241800356],[4.28602298342514,49.90749664977254],[4.799221632515752,49.985373033236314],[5.674051954784885,49.52948354755743],[5.897759230176375,49.442667141307155],[6.186320428094204,49.463802802114444],[6.658229607783538,49.20195831969155],[8.09927859867477,49.017783515003366],[7.59367638513106,48.333019110703724],[7.466759067422228,47.62058197691185],[7.192202182655533,47.44976552997098],[6.736571079138086,47.54180125588287],[6.768713820023634,47.28770823830367],[6.037388950228971,46.725778713561894],[6.022609490593566,46.2729898138205],[6.500099724970453,46.42967275652943],[6.84359297041456,45.99114655210066],[6.80235517744566,45.70857982032867],[7.096652459347835,45.33309886329586],[6.749955275101711,45.028517971367584],[7.007562290076661,44.25476675066138],[7.549596388386161,44.12790110938481],[7.435184767291841,43.693844916349164],[6.529245232783068,43.12889232031835],[4.556962517931395,43.39965098731158],[3.100410597352719,43.07520050716712],[2.985998976258486,42.47301504166988],[1.826793247087181,42.34338471126565],[0.701590610363922,42.79573436133264],[0.338046909190581,42.57954600683955],[-1.502770961910471,43.03401439063048],[-1.901351284177735,43.42280202897833],[-1.384225226232956,44.022610378590166],[-1.193797573237361,46.01491771095486],[-2.225724249673788,47.0643626979382],[-2.963276129559573,47.57032664650796],[-4.491554938159481,47.95495433205641],[-4.592349819344746,48.68416046812694],[-3.295813971357745,48.90169240985963],[-1.616510789384932,48.64442129169458],[-1.933494025063254,49.77634186461576],[-0.98946895995536,49.34737580016087],[1.338761020522753,50.127173163445256],[1.6390010921385,50.9466063502975],[2.51357303224617,51.14850617126185],[2.65842207196033,50.796848049515646],[3.123251580425716,50.780363267614504],[3.588184441755714,50.37899241800356]]]]}},{"type":"Feature","properties":{"admin":"Gabon","name":"Gabon","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[11.093772820691923,-3.978826592630546],[10.066135288135738,-2.969482517105681],[9.405245395554969,-2.144313246269042],[8.797995639693168,-1.111301364754496],[8.830086704146423,-0.779073581550037],[9.048419630579586,-0.459351494960217],[9.291350538783687,0.268666083167687],[9.492888624721981,1.010119533691494],[9.83028405115564,1.067893784993799],[11.28507897303646,1.057661851400013],[11.276449008843711,2.261050930180871],[11.751665480199787,2.326757513839993],[12.359380323952218,2.19281220133945],[12.951333855855605,2.321615708826939],[13.07582238124675,2.267097072759014],[13.003113641012074,1.830896307783319],[13.282631463278816,1.31418366129688],[14.026668735417214,1.395677395021153],[14.276265903386953,1.196929836426619],[13.843320753645653,0.038757635901149],[14.31641849127774,-0.552627455247048],[14.425455763413593,-1.333406670744971],[14.299210239324564,-1.998275648612213],[13.992407260807706,-2.470804945489099],[13.109618767965626,-2.428740329603513],[12.575284458067639,-1.948511244315134],[12.49570275233816,-2.391688327650242],[11.820963575903189,-2.514161472181982],[11.4780387712143,-2.765618991714241],[11.855121697648114,-3.42687061932105],[11.093772820691923,-3.978826592630546]]]}},{"type":"Feature","properties":{"admin":"United Kingdom","name":"United Kingdom","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-5.661948614921896,54.55460317648384],[-6.197884894220976,53.86756500916333],[-6.953730231137994,54.07370229757562],[-7.572167934591078,54.05995636658598],[-7.366030646178785,54.59584096945269],[-7.572167934591078,55.13162221945488],[-6.733847011736144,55.17286001242378],[-5.661948614921896,54.55460317648384]]],[[[-3.00500484863528,58.63500010846632],[-4.073828497728015,57.55302480735525],[-3.055001796877661,57.69001902936093],[-1.959280564776918,57.68479970969951],[-2.219988165689301,56.870017401753515],[-3.119003058271118,55.97379303651546],[-2.085009324543023,55.909998480851264],[-2.005675679673856,55.80490285035022],[-1.11499101399221,54.62498647726539],[-0.4304849918542,54.464376125702145],[0.184981316742039,53.32501414653102],[0.469976840831777,52.92999949809196],[1.681530795914739,52.73952016866399],[1.559987827164377,52.099998480836],[1.050561557630914,51.80676056579568],[1.4498653499503,51.28942780212195],[0.550333693045502,50.76573883727586],[-0.787517462558639,50.774988918656206],[-2.489997524414377,50.50001862243123],[-2.956273972984035,50.696879991247],[-3.617448085942327,50.22835561787271],[-4.542507900399243,50.34183706318566],[-5.245023159191134,49.95999990498108],[-5.776566941745299,50.159677639356815],[-4.309989793301837,51.210001125689146],[-3.414850633142122,51.426008612669236],[-3.422719467108322,51.42684816740608],[-4.984367234710873,51.59346609151096],[-5.267295701508885,51.99140045837457],[-4.222346564134852,52.30135569926135],[-4.770013393564112,52.84000499125561],[-4.579999152026914,53.495003770555165],[-3.093830673788658,53.40454740066967],[-3.092079637047106,53.404440822963544],[-2.945008510744343,53.98499970154667],[-3.614700825433033,54.60093677329256],[-3.63000545898933,54.615012925833],[-4.844169073903003,54.79097117778684],[-5.082526617849224,55.06160065369936],[-4.719112107756643,55.50847260194347],[-5.047980922862108,55.783985500707516],[-5.586397670911139,55.311146145236805],[-5.64499874513018,56.27501496034479],[-6.149980841486352,56.78500967063353],[-5.78682471355529,57.81884837506463],[-5.009998745127574,58.63001333275004],[-4.211494513353555,58.55084503847915],[-3.00500484863528,58.63500010846632]]]]}},{"type":"Feature","properties":{"admin":"Georgia","name":"Georgia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[41.55408410011065,41.53565623632756],[41.7031706072727,41.96294281673291],[41.45347008643838,42.645123399417926],[40.875469191253785,43.01362803809128],[40.32139448422031,43.12863393815683],[39.95500857927092,43.434997666999216],[40.07696495947976,43.55310415300231],[40.92218468604562,43.38215851498078],[42.394394565608806,43.22030792904262],[43.75601688006738,42.74082815202248],[43.93119998553683,42.55497386328476],[44.53762291848198,42.71199270280362],[45.4702791684857,42.50278066666996],[45.77641035338276,42.09244395605635],[46.40495079934882,41.8606751572273],[46.145431756379004,41.72280243587257],[46.637908156120574,41.18167267512822],[46.50163740416692,41.064444688474104],[45.96260053893038,41.12387258560977],[45.21742638528158,41.41145193131404],[44.97248009621807,41.24812856705559],[43.582745802592726,41.09214325618256],[42.619548781104484,41.583172715819934],[41.55408410011065,41.53565623632756]]]}},{"type":"Feature","properties":{"admin":"Ghana","name":"Ghana","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[1.060121697604927,5.928837388528875],[-0.507637905265938,5.343472601742675],[-1.063624640294193,5.000547797053811],[-1.964706590167594,4.71046214438337],[-2.856125047202397,4.994475816259508],[-2.810701463217839,5.389051215024109],[-3.244370083011261,6.2504715031135],[-2.983584967450326,7.379704901555511],[-2.56218950032624,8.219627793811481],[-2.827496303712706,9.642460842319775],[-2.963896246747111,10.395334784380081],[-2.94040930827046,10.962690334512557],[-1.203357713211431,11.009819240762736],[-0.761575893548183,10.936929633015053],[-0.438701544588582,11.09834096927872],[0.023802524423701,11.018681748900802],[-0.049784715159944,10.706917832883928],[0.367579990245389,10.191212876827176],[0.365900506195885,9.46500397382948],[0.461191847342121,8.677222601756013],[0.712029249686878,8.312464504423827],[0.490957472342245,7.411744289576474],[0.570384148774849,6.914358628767188],[0.836931186536333,6.279978745952147],[1.060121697604927,5.928837388528875]]]}},{"type":"Feature","properties":{"admin":"Guinea","name":"Guinea","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-8.439298468448696,7.686042792181736],[-8.722123582382123,7.711674302598509],[-8.926064622422002,7.309037380396375],[-9.208786383490844,7.313920803247952],[-9.403348151069748,7.526905218938906],[-9.33727983238458,7.928534450711351],[-9.755342169625832,8.541055202666923],[-10.016566534861253,8.42850393313523],[-10.230093553091276,8.40620555260129],[-10.505477260774667,8.348896389189603],[-10.49431515139963,8.715540676300433],[-10.65477047366589,8.977178452994194],[-10.622395188835037,9.267910061068276],[-10.8391519840833,9.688246161330367],[-11.117481248407328,10.045872911006283],[-11.917277390988655,10.046983954300556],[-12.150338100625003,9.858571682164378],[-12.425928514037562,9.835834051955953],[-12.596719122762206,9.620188300001969],[-12.711957566773076,9.342711696810765],[-13.246550258832512,8.903048610871506],[-13.685153977909788,9.494743760613458],[-14.074044969122278,9.886166897008248],[-14.330075852912367,10.015719712763966],[-14.579698859098254,10.214467271358513],[-14.693231980843501,10.65630076745404],[-14.83955379887794,10.876571560098139],[-15.130311245168167,11.040411688679525],[-14.685687221728896,11.527823798056485],[-14.382191534878727,11.50927195886369],[-14.121406419317776,11.677117010947693],[-13.900799729863772,11.678718980348744],[-13.743160773157411,11.811269029177408],[-13.828271857142122,12.14264415124904],[-13.71874365889951,12.247185573775507],[-13.700476040084322,12.586182969610192],[-13.217818162478235,12.575873521367964],[-12.499050665730561,12.332089952031053],[-12.278599005573438,12.354440008997285],[-12.20356482588563,12.465647691289401],[-11.658300950557928,12.386582749882834],[-11.513942836950587,12.442987575729415],[-11.45616858564827,12.076834214725336],[-11.297573614944508,12.077971096235768],[-11.036555955438256,12.211244615116513],[-10.870829637078211,12.177887478072106],[-10.593223842806278,11.923975328005977],[-10.165213792348835,11.844083563682743],[-9.890992804392011,12.060478623904968],[-9.567911749703212,12.194243068892472],[-9.327616339546008,12.33428620040345],[-9.127473517279581,12.308060411015331],[-8.905264858424529,12.088358059126433],[-8.786099005559462,11.812560939984705],[-8.37630489748491,11.393645941610627],[-8.581305304386772,11.136245632364801],[-8.620321010767126,10.810890814655181],[-8.407310756860026,10.90925690352276],[-8.28235714357828,10.792597357623842],[-8.335377163109738,10.494811916541932],[-8.029943610048617,10.206534939001711],[-8.22933712404682,10.129020290563897],[-8.309616461612249,9.78953196862244],[-8.079113735374348,9.376223863152033],[-7.832100389019186,8.575704250518625],[-8.203498907900878,8.455453192575446],[-8.299048631208562,8.316443589710302],[-8.221792364932197,8.123328762235571],[-8.280703497744936,7.687179673692156],[-8.439298468448696,7.686042792181736]]]}},{"type":"Feature","properties":{"admin":"Gambia","name":"Gambia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-16.84152462408127,13.151393947802557],[-16.713728807023468,13.594958604379853],[-15.624596320039936,13.623587347869556],[-15.398770310924457,13.860368760630916],[-15.081735398813816,13.876491807505982],[-14.687030808968483,13.63035696049978],[-14.376713833055785,13.62568024337737],[-14.046992356817478,13.794067898000446],[-13.844963344772404,13.505041612191999],[-14.277701788784553,13.28058502853224],[-14.712197231494626,13.298206691943774],[-15.141163295949463,13.509511623585235],[-15.511812506562931,13.278569647672864],[-15.691000535534991,13.270353094938455],[-15.931295945692208,13.13028412521133],[-16.84152462408127,13.151393947802557]]]}},{"type":"Feature","properties":{"admin":"Guinea Bissau","name":"Guinea-Bissau","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-15.130311245168167,11.040411688679525],[-15.664180467175523,11.458474025920792],[-16.08521419927356,11.524594021038236],[-16.3147867497302,11.806514797406548],[-16.308947312881227,11.958701890506116],[-16.613838263403277,12.170911159712698],[-16.67745195155457,12.38485158940105],[-16.14771684413058,12.547761542201185],[-15.81657426600425,12.515567124883345],[-15.548476935274005,12.628170070847343],[-13.700476040084322,12.586182969610192],[-13.71874365889951,12.247185573775507],[-13.828271857142122,12.14264415124904],[-13.743160773157411,11.811269029177408],[-13.900799729863772,11.678718980348744],[-14.121406419317776,11.677117010947693],[-14.382191534878727,11.50927195886369],[-14.685687221728896,11.527823798056485],[-15.130311245168167,11.040411688679525]]]}},{"type":"Feature","properties":{"admin":"Equatorial Guinea","name":"Eq. Guinea","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[9.492888624721981,1.010119533691494],[9.305613234096255,1.160911363119183],[9.649158155972627,2.283866075037735],[11.276449008843711,2.261050930180871],[11.28507897303646,1.057661851400013],[9.83028405115564,1.067893784993799],[9.492888624721981,1.010119533691494]]]}},{"type":"Feature","properties":{"admin":"Greece","name":"Greece","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[23.699980096133,35.705004380835526],[24.246665073348673,35.36802236586015],[25.025015496528873,35.42499563246198],[25.76920779796418,35.35401805270907],[25.74502322765158,35.17999766696621],[26.29000288260172,35.29999034274791],[26.16499759288765,35.00499542900979],[24.7249821306423,34.9199876978896],[24.73500735850694,35.08499054619758],[23.514978468528106,35.27999156345097],[23.699980096133,35.705004380835526]]],[[[26.604195590936282,41.5621145696611],[26.294602085075777,40.936261298174244],[26.0569421729655,40.82412344010083],[25.44767703624418,40.852545477861455],[24.925848422960932,40.947061672523226],[23.71481123220081,40.687129218095116],[24.407998894964063,40.12499298762408],[23.89996788910258,39.96200552017557],[23.342999301860797,39.960997829745786],[22.81398766448896,40.47600515396655],[22.626298862404777,40.256561184239175],[22.849747755634805,39.65931081802576],[23.350027296652595,39.190011298167256],[22.97309939951554,38.97090322524965],[23.53001631032495,38.51000112563846],[24.025024855248937,38.21999298761644],[24.0400110206136,37.65501455336942],[23.115002882589145,37.920011298162215],[23.409971958111065,37.40999074965739],[22.77497195810863,37.30501007745655],[23.154225294698612,36.42250580499204],[22.4900281104511,36.410000108377446],[21.670026482843692,36.84498647719419],[21.295010613701574,37.64498932550469],[21.12003421396133,38.31032339126272],[20.73003217945458,38.76998525649878],[20.217712029712853,39.34023468683963],[20.150015903410516,39.62499766698402],[20.61500044117278,40.11000682225942],[20.67499677906363,40.43499990494305],[20.999989861747274,40.580003973953964],[21.020040317476422,40.84272695572587],[21.67416059742697,40.931274522457976],[22.055377638444266,41.149865831052686],[22.597308383889008,41.1304871689432],[22.76177,41.3048],[22.952377150166562,41.33799388281121],[23.692073601992455,41.30908091894385],[24.49264489105803,41.583896185872035],[25.19720136892553,41.23448598893065],[26.106138136507177,41.32889883072782],[26.11704186372091,41.826904608724725],[26.604195590936282,41.5621145696611]]]]}},{"type":"Feature","properties":{"admin":"Greenland","name":"Greenland","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-46.76379,82.62796],[-43.40644,83.22516],[-39.89753,83.18018],[-38.62214,83.54905],[-35.08787,83.64513],[-27.10046,83.51966],[-20.84539,82.72669],[-22.69182,82.34165],[-26.51753,82.29765],[-31.9,82.2],[-31.39646,82.02154],[-27.85666,82.13178],[-24.84448,81.78697],[-22.90328,82.09317],[-22.07175,81.73449],[-23.16961,81.15271],[-20.62363,81.52462],[-15.76818,81.91245],[-12.77018,81.71885],[-12.20855,81.29154],[-16.28533,80.58004],[-16.85,80.35],[-20.04624,80.17708],[-17.73035,80.12912],[-18.9,79.4],[-19.70499,78.75128],[-19.67353,77.63859],[-18.47285,76.98565],[-20.03503,76.94434],[-21.67944,76.62795],[-19.83407,76.09808],[-19.59896,75.24838],[-20.66818,75.15585],[-19.37281,74.29561],[-21.59422,74.22382],[-20.43454,73.81713],[-20.76234,73.46436],[-22.17221,73.30955],[-23.56593,73.30663],[-22.31311,72.62928],[-22.29954,72.18409],[-24.27834,72.59788],[-24.79296,72.3302],[-23.44296,72.08016],[-22.13281,71.46898],[-21.75356,70.66369],[-23.53603,70.471],[-24.30702,70.85649],[-25.54341,71.43094],[-25.20135,70.75226],[-26.36276,70.22646],[-23.72742,70.18401],[-22.34902,70.12946],[-25.02927,69.2588],[-27.74737,68.47046],[-30.67371,68.12503],[-31.77665,68.12078],[-32.81105,67.73547],[-34.20196,66.67974],[-36.35284,65.9789],[-37.04378,65.93768],[-38.37505,65.69213],[-39.81222,65.45848],[-40.66899,64.83997],[-40.68281,64.13902],[-41.1887,63.48246],[-42.81938,62.68233],[-42.41666,61.90093],[-42.86619,61.07404],[-43.3784,60.09772],[-44.7875,60.03676],[-46.26364,60.85328],[-48.26294,60.85843],[-49.23308,61.40681],[-49.90039,62.38336],[-51.63325,63.62691],[-52.14014,64.27842],[-52.27659,65.1767],[-53.66166,66.09957],[-53.30161,66.8365],[-53.96911,67.18899],[-52.9804,68.35759],[-51.47536,68.72958],[-51.08041,69.14781],[-50.87122,69.9291],[-52.013585,69.574925],[-52.55792,69.42616],[-53.45629,69.283625],[-54.68336,69.61003],[-54.75001,70.28932],[-54.35884,70.821315],[-53.431315,70.835755],[-51.39014,70.56978],[-53.10937,71.20485],[-54.00422,71.54719],[-55,71.40653696727256],[-55.83468,71.65444],[-54.71819,72.58625],[-55.32634,72.95861],[-56.12003,73.64977],[-57.32363,74.71026],[-58.59679,75.09861],[-58.58516,75.51727],[-61.26861,76.10238],[-63.39165,76.1752],[-66.06427,76.13486],[-68.50438,76.06141],[-69.66485,76.37975],[-71.40257,77.00857],[-68.77671,77.32312],[-66.76397,77.37595],[-71.04293,77.63595],[-73.297,78.04419],[-73.15938,78.43271],[-69.37345,78.91388],[-65.7107,79.39436],[-65.3239,79.75814],[-68.02298,80.11721],[-67.15129,80.51582],[-63.68925,81.21396],[-62.23444,81.3211],[-62.65116,81.77042],[-60.28249,82.03363],[-57.20744,82.19074],[-54.13442,82.19962],[-53.04328,81.88833],[-50.39061,82.43883],[-48.00386,82.06481],[-46.59984,81.985945],[-44.523,81.6607],[-46.9007,82.19979],[-46.76379,82.62796]]]}},{"type":"Feature","properties":{"admin":"Guatemala","name":"Guatemala","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-90.09555457229095,13.73533763270073],[-90.60862403030082,13.909771429901948],[-91.23241024449604,13.927832342987953],[-91.6897466702791,14.126218166556452],[-92.22775000686981,14.538828640190925],[-92.2032295397473,14.830102850804066],[-92.08721594925204,15.064584662328436],[-92.22924862340625,15.251446641495857],[-91.74796017125591,16.06656484625172],[-90.46447262242265,16.06956207932465],[-90.43886695022202,16.41010976812809],[-90.6008467272409,16.470777899638758],[-90.7118218655877,16.687483018454724],[-91.08167009150064,16.918476670799404],[-91.45392127151513,17.25217723232417],[-91.0022692532842,17.254657701074176],[-91.00151994501594,17.817594916245707],[-90.06793351923095,17.819326076727474],[-89.1430804105033,17.808318996649316],[-89.15080603713092,17.015576687075832],[-89.22912167026927,15.886937567605166],[-88.93061275913524,15.887273464415072],[-88.60458614780583,15.706380113177358],[-88.51836402052685,15.855389105690971],[-88.22502275262201,15.7277224797139],[-88.68067969435562,15.3462470565353],[-89.15481096063354,15.066419175674806],[-89.22522009963124,14.874286200413618],[-89.14553504103715,14.67801911056908],[-89.35332597528277,14.424132798719112],[-89.58734269891654,14.362586167859485],[-89.5342193265205,14.244815578666302],[-89.7219339668207,14.134228013561694],[-90.06467790399657,13.881969509328924],[-90.09555457229095,13.73533763270073]]]}},{"type":"Feature","properties":{"admin":"Guyana","name":"Guyana","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-59.75828487815918,8.367034816924045],[-59.10168412945864,7.99920197187049],[-58.48296220562804,7.347691351750696],[-58.454876064677414,6.832787380394463],[-58.07810319683736,6.809093736188641],[-57.54221859397063,6.321268215353355],[-57.147436489476874,5.973149929219161],[-57.30724585633949,5.073566595882225],[-57.91428890647212,4.812626451024413],[-57.86020952007869,4.576801052260449],[-58.044694383360664,4.060863552258382],[-57.60156897645785,3.334654649260684],[-57.2814334784097,3.333491929534119],[-57.1500978257399,2.768926906745406],[-56.53938574891454,1.89952260986692],[-56.782704230360814,1.863710842288653],[-57.33582292339689,1.948537705895759],[-57.66097103537736,1.682584947105638],[-58.113449876525,1.507195135907025],[-58.42947709820596,1.46394196207872],[-58.54001298687829,1.26808828369252],[-59.03086157900264,1.317697658692722],[-59.64604366722124,1.786893825686789],[-59.71854570172673,2.249630438644359],[-59.97452490908454,2.755232652188055],[-59.81541317405785,3.606498521332085],[-59.53803992373122,3.958802598481937],[-59.7674057684587,4.423502915866606],[-60.11100236676737,4.574966538914082],[-59.980958624904865,5.014061184098138],[-60.21368343773132,5.2444863956876],[-60.73357418480371,5.2002772078619],[-61.41030290388194,5.959068101419616],[-61.13941504580794,6.234296779806142],[-61.15933631045647,6.696077378766317],[-60.543999192940966,6.856584377464881],[-60.29566809756238,7.043911444522918],[-60.63797278506375,7.414999904810853],[-60.550587938058186,7.779602972846178],[-59.75828487815918,8.367034816924045]]]}},{"type":"Feature","properties":{"admin":"Honduras","name":"Honduras","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-87.31665442579546,12.984685777229],[-87.48940873894712,13.29753489832393],[-87.7931111315265,13.384480495655165],[-87.72350297722929,13.785050360565602],[-87.8595153470216,13.893312486217097],[-88.06534257684011,13.964625962779788],[-88.50399797234961,13.84548594813094],[-88.54123084181593,13.98015473068352],[-88.84307288283274,14.140506700085208],[-89.05851192905764,14.340029405164213],[-89.35332597528279,14.424132798719084],[-89.14553504103716,14.67801911056915],[-89.22522009963123,14.874286200413675],[-89.15481096063353,15.066419175674863],[-88.68067969435558,15.346247056535386],[-88.22502275262192,15.727722479714027],[-88.12115312371536,15.688655096901355],[-87.9018125068524,15.864458319558194],[-87.61568010125231,15.878798529519198],[-87.52292090528844,15.79727895757878],[-87.36776241733212,15.846940009011286],[-86.90319129102816,15.756712958229565],[-86.44094560417737,15.782835394753189],[-86.11923397494432,15.893448798073958],[-86.00195431185783,16.005405788634388],[-85.68331743034625,15.953651841693949],[-85.44400387240255,15.885749009662444],[-85.18244361035718,15.909158433490628],[-84.98372188997881,15.995923163308698],[-84.52697974316712,15.857223619037423],[-84.36825558138257,15.835157782448729],[-84.06305457226681,15.648244126849132],[-83.77397661002611,15.42407176356687],[-83.41038123242036,15.27090281825377],[-83.1472190009741,14.995829169164207],[-83.489988776366,15.01626719813566],[-83.62858496777287,14.880073960830368],[-83.97572140169358,14.749435939996483],[-84.2283416409524,14.748764146376626],[-84.44933590364859,14.62161428472251],[-84.64958207877963,14.666805324761865],[-84.82003679069429,14.819586696832628],[-84.9245006985723,14.790492865452332],[-85.05278744173687,14.55154104253472],[-85.14875057650288,14.560196844943615],[-85.1653645494848,14.354369615125048],[-85.51441301140026,14.079011745657905],[-85.69866533073694,13.960078436737998],[-85.8012947252685,13.8360549992376],[-86.0962638007906,14.03818736414723],[-86.31214209668983,13.771356106008223],[-86.52070817741989,13.778487453664464],[-86.7550866360796,13.754845485890936],[-86.73382178419146,13.263092556201398],[-86.88055701368435,13.254204209847213],[-87.00576900912743,13.025794379117254],[-87.31665442579546,12.984685777229]]]}},{"type":"Feature","properties":{"admin":"Croatia","name":"Croatia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[18.82983808765004,45.90887767189184],[19.072768995854172,45.52151113543208],[19.390475701584588,45.23651561134237],[19.005486281010118,44.860233669609144],[18.553214145591646,45.08158966733145],[17.8617834815264,45.06774038347714],[17.00214603035101,45.233776760430935],[16.534939406000202,45.211607570977705],[16.31815677253587,45.0041266953259],[15.959367303133373,45.233776760430935],[15.750026075918978,44.81871165626255],[16.239660271884528,44.351143296885695],[16.45644290534886,44.041239732431265],[16.916156447017325,43.66772247982566],[17.29737348803445,43.44634064388735],[17.67492150235898,43.0285625270236],[18.56,42.65],[18.450016310304814,42.47999136002931],[17.509970330483323,42.84999461523914],[16.93000573087164,43.20999848080037],[16.01538455573768,43.507215481127204],[15.174453973052094,44.24319122982791],[15.376250441151793,44.317915350922064],[14.920309279040504,44.73848399512945],[14.901602410550874,45.0760602890761],[14.258747592839992,45.233776760430935],[13.952254672917032,44.80212352149685],[13.65697553880119,45.13693512631595],[13.679403110415816,45.484149074884996],[13.715059848697248,45.50032379819242],[14.411968214585496,45.4661656764474],[14.595109490627916,45.63494090431282],[14.935243767972961,45.47169505470276],[15.327674594797424,45.452316392593325],[15.323953891672428,45.73178253842769],[15.671529575267638,45.8341535507979],[15.768732944408608,46.23810822202352],[16.56480838386494,46.503750922219794],[16.88251508959541,46.38063182228443],[17.630066359129554,45.95176911069409],[18.456062452882858,45.75948110613614],[18.82983808765004,45.90887767189184]]]}},{"type":"Feature","properties":{"admin":"Haiti","name":"Haiti","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-73.1897906155176,19.91568390551191],[-72.5796728176636,19.87150055590235],[-71.71236141629295,19.714455878167353],[-71.62487321642281,19.169837958243303],[-71.70130265978248,18.78541697842405],[-71.94511206733554,18.616900132720257],[-71.68773759630587,18.316660061104468],[-71.70830481635804,18.04499705654609],[-72.37247616238933,18.214960842354053],[-72.84441118029486,18.14561107021836],[-73.45455481636502,18.217906398994696],[-73.92243323433564,18.030992743395],[-74.45803361682476,18.342549953682703],[-74.36992529976712,18.664907538319408],[-73.4495422024327,18.52605296475114],[-72.69493709989062,18.44579946540186],[-72.33488155789699,18.66842153571525],[-72.79164954292487,19.101625067618027],[-72.78410478381026,19.483591416903405],[-73.41502234566174,19.639550889560276],[-73.1897906155176,19.91568390551191]]]}},{"type":"Feature","properties":{"admin":"Hungary","name":"Hungary","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[16.20229821133736,46.85238597267695],[16.534267612380372,47.4961709661691],[16.34058434415041,47.712901923201215],[16.903754103267257,47.71486562762832],[16.979666782304033,48.1234970159763],[17.488472934649813,47.86746613218621],[17.857132602620023,47.758428860050365],[18.696512892336923,47.88095368101439],[18.777024773847668,48.08176829690063],[19.174364861739885,48.11137889260386],[19.66136355965849,48.26661489520865],[19.76947065601311,48.2026911484636],[20.239054396249344,48.327567247096916],[20.473562045989862,48.56285004332181],[20.80129397958492,48.62385407164237],[21.87223636240173,48.31997081155001],[22.085608351334848,48.42226430927178],[22.640819939878746,48.15023956968735],[22.710531447040488,47.882193915389394],[22.09976769378283,47.672439276716695],[21.62651492685387,46.99423777931815],[21.021952345471245,46.316087958351886],[20.220192498462833,46.12746898048655],[19.59604454924158,46.17172984474453],[18.829838087649957,45.908877671891915],[18.456062452882858,45.75948110613612],[17.630066359129554,45.95176911069418],[16.882515089595298,46.38063182228443],[16.564808383864854,46.50375092221982],[16.370504998447412,46.8413272161665],[16.20229821133736,46.85238597267695]]]}},{"type":"Feature","properties":{"admin":"Indonesia","name":"Indonesia","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[120.71560875863044,-10.239581394087862],[120.29501427620687,-10.258649997603525],[118.96780846565468,-9.55796925215803],[119.90030968636161,-9.361340427287514],[120.4257556499054,-9.665921319215796],[120.77550174365672,-9.969675388227456],[120.71560875863044,-10.239581394087862]]],[[[124.43595014861938,-10.14000090906144],[123.5799817241367,-10.35998748132796],[123.459989048355,-10.239994805546171],[123.55000939340745,-9.900015557497978],[123.9800089865081,-9.290026950724693],[124.96868248911619,-8.892790215697046],[125.07001997284061,-9.089987481322835],[125.08852013560107,-9.39317310957932],[124.43595014861938,-10.14000090906144]]],[[[117.90001834520774,-8.095681247594923],[118.26061648974047,-8.362383314653327],[118.87845991422212,-8.280682875199828],[119.12650678922309,-8.705824883665072],[117.97040164598927,-8.906639499551257],[117.27773074754901,-9.040894870645557],[116.74014082241662,-9.032936700072637],[117.08373742072531,-8.45715789147654],[117.63202436734213,-8.44930307376819],[117.90001834520774,-8.095681247594923]]],[[[122.90353722543608,-8.094234307490735],[122.75698286345629,-8.649807631060638],[121.2544905945701,-8.933666273639941],[119.92439090380957,-8.810417982623873],[119.9209285828461,-8.44485890059107],[120.71509199430754,-8.236964613480863],[121.34166873584655,-8.53673959720602],[122.0073645366304,-8.46062021244016],[122.90353722543608,-8.094234307490735]]],[[[108.62347863162893,-6.777673841990675],[110.53922732955328,-6.877357679881682],[110.75957563684591,-6.465186455921751],[112.61481123255635,-6.946035658397589],[112.97876834518809,-7.594213148634578],[114.47893517462114,-7.776527601760277],[115.70552697150106,-8.370806573116864],[114.56451134649649,-8.75181690840483],[113.46473351446087,-8.348947442257424],[112.55967247930103,-8.376180922075163],[111.52206139531245,-8.302128594600957],[110.5861495300743,-8.12260466881902],[109.42766727095518,-7.740664157749761],[108.6936552266813,-7.641600437046219],[108.2777632995963,-7.766657403192579],[106.45410200401614,-7.354899590690947],[106.28062422081229,-6.924899997590201],[105.36548628135552,-6.851416110871169],[106.05164594932705,-5.895918877794499],[107.26500857954017,-5.954985039904058],[108.07209109907468,-6.345762220895237],[108.48684614464923,-6.421984958525768],[108.62347863162893,-6.777673841990675]]],[[[134.72462446506665,-6.214400730009286],[134.2101339051689,-6.895237725454704],[134.112775506731,-6.142467136259014],[134.29033572808578,-5.783057549669038],[134.49962527886788,-5.445042006047898],[134.7270015809521,-5.737582289252158],[134.72462446506665,-6.214400730009286]]],[[[127.2492151225889,-3.459065036638889],[126.87492272349886,-3.790982761249579],[126.1838021180273,-3.607376397316556],[125.98903364471926,-3.177273451351325],[127.00065148326496,-3.12931772218441],[127.2492151225889,-3.459065036638889]]],[[[130.47134402885177,-3.09376433676762],[130.83483605359277,-3.858472181822761],[129.99054650280812,-3.446300957862817],[129.1552486512424,-3.362636813982248],[128.59068362845363,-3.428679294451256],[127.89889122936233,-3.393435967628192],[128.13587934785278,-2.843650404474914],[129.3709977560609,-2.802154229344551],[130.47134402885177,-3.09376433676762]]],[[[134.14336795464777,-1.151867364103594],[134.42262739475302,-2.769184665542383],[135.45760298069467,-3.367752780779113],[136.29331424371875,-2.30704233155609],[137.4407377463275,-1.703513278819372],[138.32972741104476,-1.70268645590265],[139.18492068904294,-2.051295668143637],[139.9266841981604,-2.409051608900284],[141.00021040259185,-2.600151055515624],[141.017056919519,-5.85902190513802],[141.03385176001387,-9.117892754760417],[140.14341515519254,-8.297167657100955],[139.1277665549281,-8.096042982620942],[138.88147667862495,-8.380935153846094],[137.6144739116928,-8.41168263105976],[138.03909915583517,-7.597882175327354],[138.66862145401478,-7.320224704623072],[138.40791385310234,-6.232849216337483],[137.92783979711083,-5.393365573755998],[135.98925011611345,-4.546543877789047],[135.16459760959967,-4.462931410340771],[133.66288048719787,-3.538853448097526],[133.36770470594678,-4.024818617370314],[132.98395551974733,-4.112978610860281],[132.75694095268895,-3.746282647317129],[132.7537886903192,-3.311787204607071],[131.98980431531618,-2.820551039240455],[133.06684451714347,-2.460417982598443],[133.7800309592035,-2.479848321140209],[133.69621178602614,-2.214541517753687],[132.2323734884942,-2.212526136894325],[131.83622195854468,-1.617161960459597],[130.9428397970828,-1.432522067880796],[130.51955814018004,-0.937720228686075],[131.8675378765136,-0.695461114101818],[132.38011640841677,-0.369537855636977],[133.98554813042838,-0.780210463060442],[134.14336795464777,-1.151867364103594]]],[[[125.24050052297157,1.419836127117605],[124.43703535369734,0.427881171058971],[123.6855049988767,0.235593166500877],[122.72308312387285,0.431136786293337],[121.05672488818908,0.381217352699451],[120.18308312386273,0.23724681233422],[120.04086958219546,-0.519657891444851],[120.9359053894907,-1.408905938323372],[121.47582075407617,-0.955962009285116],[123.34056481332847,-0.615672702643081],[123.25839928598448,-1.076213067228337],[122.8227152853316,-0.930950616055881],[122.38852990121536,-1.516858005381124],[121.50827355355545,-1.904482924002422],[122.45457238168427,-3.186058444840881],[122.27189619353254,-3.529500013852696],[123.17096276254654,-4.683693129091707],[123.16233279835376,-5.34060393638596],[122.62851525277868,-5.634591159694494],[122.23639448454806,-5.282933037948281],[122.71956912647704,-4.46417164471579],[121.73823367725436,-4.851331475446499],[121.48946333220124,-4.574552504091215],[121.61917117725386,-4.188477878438674],[120.89818159391768,-3.602105401222828],[120.97238895068877,-2.627642917494909],[120.30545291552988,-2.931603692235725],[120.39004723519173,-4.097579034037223],[120.43071658740537,-5.528241062037778],[119.79654341031949,-5.67340016034565],[119.36690555224493,-5.379878024927804],[119.6536063986001,-4.459417412944958],[119.49883548388597,-3.49441171632651],[119.07834435432699,-3.487021986508764],[118.76776899625287,-2.801999200047688],[119.18097374885866,-2.147103773612798],[119.32339399625505,-1.35314706788047],[119.82599897672583,0.154254462073496],[120.03570193896634,0.566477362465804],[120.88577925016769,1.309222723796835],[121.66681684782696,1.013943589681076],[122.92756676645182,0.875192368977465],[124.07752241424284,0.917101955566139],[125.0659892111218,1.643259182131558],[125.24050052297157,1.419836127117605]]],[[[128.6882487326207,1.132385972494106],[128.63595218314134,0.258485826006179],[128.12016971243617,0.356412665199286],[127.96803429576885,-0.252077325037533],[128.3799988139997,-0.780003757331286],[128.1000159038423,-0.899996433112974],[127.69647464407501,-0.266598402511505],[127.39949018769374,1.011721503092573],[127.60051150930904,1.81069082275718],[127.93237755748748,2.174596258956555],[128.0041561219408,1.628531398928331],[128.59455936087545,1.540810655112864],[128.6882487326207,1.132385972494106]]],[[[117.875627069166,1.827640692548911],[118.99674726773816,0.902219143066048],[117.81185835171779,0.784241848143722],[117.47833865770605,0.102474676917026],[117.52164350796659,-0.803723239753211],[116.5600484558795,-1.487660821136231],[116.53379682827516,-2.483517347832901],[116.14808393764861,-4.012726332214014],[116.00085778204907,-3.657037448749008],[114.86480309454451,-4.106984144714416],[114.46865156459506,-3.49570362713382],[113.7556718282641,-3.439169610206519],[113.25699425664754,-3.118775729996854],[112.06812625534064,-3.478392022316071],[111.70329064335999,-2.994442233902631],[111.04824018762821,-3.049425957861188],[110.22384606327597,-2.934032484553483],[110.07093550012434,-1.592874037282414],[109.57194786991404,-1.314906507984489],[109.09187381392252,-0.459506524257051],[108.95265750532816,0.415375474444346],[109.06913618371404,1.341933905437642],[109.66326012577372,2.006466986494984],[109.83022667850884,1.338135687664191],[110.5140609070271,0.773131415200993],[111.15913781132656,0.976478176269509],[111.79754845586041,0.904441229654651],[112.38025190638365,1.410120957846757],[112.85980919805218,1.497790025229946],[113.80584964401953,1.217548732911041],[114.62135542201747,1.430688177898886],[115.13403730678523,2.821481838386219],[115.51907840379198,3.169238389494395],[115.86551720587677,4.306559149590156],[117.01521447150634,4.306094061699468],[117.88203494677016,4.137551377779487],[117.31323245653351,3.234428208830578],[118.04832970588535,2.287690131027361],[117.875627069166,1.827640692548911]]],[[[105.81765506390936,-5.852355645372411],[104.7103841491915,-5.873284600450644],[103.86821333213074,-5.037314955264974],[102.5842606954069,-4.220258884298203],[102.156173130301,-3.614146009946765],[101.39911339722505,-2.799777113459171],[100.90250288290014,-2.05026213949786],[100.1419808288606,-0.650347588710957],[99.26373986206022,0.183141587724663],[98.97001102091332,1.042882391764536],[98.60135135294308,1.823506577965616],[97.69959760944988,2.453183905442116],[97.17694217324987,3.30879059489861],[96.42401655475732,3.86885976807791],[95.38087609251347,4.970782172053673],[95.2930261576173,5.479820868344816],[95.93686282754174,5.439513251157108],[97.48488203327709,5.24632090903401],[98.36916914265568,4.268370266126366],[99.14255862833579,3.590349636240915],[99.6939978373224,3.174328518075156],[100.64143354696166,2.099381211755798],[101.65801232300731,2.083697414555189],[102.49827111207321,1.398700466310217],[103.076840448013,0.561361395668854],[103.83839603069835,0.104541734208666],[103.43764529827497,-0.711945896002845],[104.010788608824,-1.059211521004229],[104.36999148968488,-1.084843031421016],[104.53949018760215,-1.782371514496716],[104.88789269411399,-2.340425306816655],[105.62211144411698,-2.42884368246807],[106.10859337771268,-3.06177662517895],[105.85744591677411,-4.305524997579723],[105.81765506390936,-5.852355645372411]]]]}},{"type":"Feature","properties":{"admin":"India","name":"India","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[77.83745079947455,35.49400950778776],[78.91226891471321,34.32193634697578],[78.81108646028572,33.506198025032404],[79.20889163606857,32.99439463961371],[79.1761287779955,32.483779812137705],[78.458446486326,32.61816437431272],[78.738894484374,31.515906073527056],[79.72136681510709,30.882714748654724],[81.11125613802929,30.1834809433134],[80.47672122591737,29.729865220655334],[80.08842451367626,28.794470119740136],[81.057202589852,28.416095282499036],[81.99998742058496,27.925479234319987],[83.30424889519954,27.364505723575554],[84.67501793817377,27.23490123138753],[85.25177859898335,26.726198431906337],[86.02439293817915,26.630984605408567],[87.22747195836628,26.39789805755607],[88.0602376647498,26.414615383402484],[88.1748043151409,26.810405178325944],[88.0431327656612,27.445818589786818],[88.12044070836984,27.876541652939586],[88.73032596227853,28.08686473236751],[88.81424848832054,27.29931590423936],[88.83564253128937,27.098966376243755],[89.74452762243884,26.71940298105995],[90.37327477413406,26.875724188742872],[91.2175126484864,26.80864817962802],[92.03348351437508,26.838310451763554],[92.10371178585973,27.4526140406332],[91.69665652869665,27.77174184825166],[92.50311893104362,27.896876329046442],[93.41334760943266,28.64062938080722],[94.56599043170293,29.277438055939978],[95.40480228066461,29.031716620392125],[96.117678664131,29.45280202892246],[96.58659061074748,28.830979519154337],[96.24883344928776,28.411030992134435],[97.32711388549001,28.26158274994633],[97.40256147663612,27.88253611908544],[97.05198855996807,27.699058946233144],[97.13399905801528,27.08377350514996],[96.41936567585094,27.26458934173922],[95.12476769407493,26.573572089132295],[95.15515343626257,26.001307277932078],[94.60324913938535,25.1624954289704],[94.55265791217161,24.67523834889033],[94.10674197792505,23.850740871673477],[93.32518761594277,24.078556423432197],[93.28632693885925,23.043658352138998],[93.0602942240146,22.703110663335565],[93.16612755734836,22.2784595809771],[92.67272098182555,22.041238918541247],[92.1460347839068,23.62749868417259],[91.8699276061713,23.62434642180278],[91.70647505083208,22.985263983649183],[91.15896325069971,23.50352692310438],[91.46772993364367,24.07263947193479],[91.9150928079944,24.13041372323711],[92.37620161333479,24.97669281666496],[91.79959598182207,25.14743174895731],[90.8722107279121,25.13260061288954],[89.92069258012184,25.26974986419217],[89.83248091019959,25.965082098895476],[89.35509402868728,26.014407253518065],[88.56304935094974,26.446525580342716],[88.20978925980248,25.768065700782707],[88.93155398962307,25.23869232838477],[88.30637251175601,24.8660794133442],[88.0844222350624,24.501657212821918],[88.6999402200909,24.233714911388557],[88.52976972855376,23.631141872649163],[88.87631188350306,22.879146429937826],[89.0319612975662,22.055708319582973],[88.8887659036854,21.69058848722474],[88.20849734899521,21.703171698487804],[86.97570438024026,21.4955616317552],[87.03316857294885,20.743307806882406],[86.49935102737378,20.151638495356604],[85.06026574090967,19.478578802971096],[83.9410058939,18.302009792549722],[83.18921715691783,17.671221421778977],[82.1927921894659,17.016636053937813],[82.19124189649717,16.556664130107844],[81.69271935417746,16.3102192245079],[80.79199913933012,15.951972357644488],[80.32489586784386,15.899184882058346],[80.02506920768643,15.136414903214144],[80.23327355339039,13.835770778859978],[80.28629357292185,13.006260687710832],[79.86254682812849,12.056215318240886],[79.85799930208681,10.357275091997108],[79.34051150911598,10.308854274939618],[78.88534549348917,9.54613597252772],[79.18971967968828,9.216543687370146],[78.27794070833049,8.933046779816932],[77.94116539908434,8.25295909263974],[77.53989790233793,7.965534776232331],[76.59297895702166,8.899276231314188],[76.13006147655106,10.299630031775518],[75.74646731964849,11.308250637248303],[75.39610110870957,11.781245022015822],[74.86481570831681,12.741935736537895],[74.61671715688352,13.992582912649677],[74.4438594908672,14.617221787977693],[73.53419925323337,15.990652167214957],[73.11990929554942,17.928570054592495],[72.82090945830863,19.208233547436162],[72.82447513213678,20.41950328214153],[72.63053348174539,21.356009426351],[71.17527347197394,20.757441311114228],[70.47045861194509,20.87733063403138],[69.16413008003882,22.089298000572697],[69.64492760608239,22.450774644454334],[69.34959679553432,22.843179633062686],[68.17664513537338,23.691965033456704],[68.84259931831876,24.35913361256093],[71.0432401874682,24.356523952730193],[70.84469933460282,25.21510203704351],[70.28287316272558,25.722228705339823],[70.168926629522,26.491871649678835],[69.51439293811312,26.940965684511365],[70.61649620960192,27.98919627533586],[71.77766564320031,27.91318024343452],[72.82375166208469,28.961591701772047],[73.45063846221741,29.976413479119863],[74.42138024282026,30.97981476493117],[74.405928989565,31.692639471965272],[75.25864179881319,32.27110545504049],[74.4515592792787,32.76489960380549],[74.10429365427733,33.441473293586846],[73.74994835805195,34.317698879527846],[74.24020267120495,34.74888703057125],[75.75706098826832,34.50492259372131],[76.87172163280401,34.65354401299273],[77.83745079947455,35.49400950778776]]]}},{"type":"Feature","properties":{"admin":"Ireland","name":"Ireland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-6.197884894220989,53.86756500916335],[-6.032985398777609,53.153164170944336],[-6.788856573910847,52.26011790629232],[-8.561616583683557,51.66930125589935],[-9.977085740590267,51.82045482035307],[-9.16628251793078,52.86462881124267],[-9.688524542672452,53.881362616585285],[-8.327987433292007,54.664518947968624],[-7.572167934591064,55.131622219454854],[-7.366030646178785,54.59584096945271],[-7.572167934591064,54.059956366585986],[-6.953730231138065,54.07370229757562],[-6.197884894220989,53.86756500916335]]]}},{"type":"Feature","properties":{"admin":"Iran","name":"Iran","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[53.92159793479554,37.198918361961255],[54.80030398948656,37.39242076267818],[55.511578403551894,37.96411713312315],[56.18037479027332,37.93512665460742],[56.619366082592805,38.12139435480348],[57.330433790928964,38.02922943781093],[58.43615441267819,37.522309475243794],[59.234761997316795,37.412987982730336],[60.377637973883864,36.52738312432836],[61.12307050969413,36.49159719496624],[61.21081709172573,35.65007233330922],[60.80319339380744,34.404101874319856],[60.528429803311575,33.676446031218],[60.96370039250599,33.52883230237625],[60.53607791529076,32.98126882581156],[60.86365481958895,32.18291962333442],[60.941944614511115,31.548074652628745],[61.69931440618081,31.37950613049266],[61.78122155136343,30.73585032808123],[60.87424848820878,29.829238999952604],[61.369308709564926,29.303276272085917],[61.771868117118615,28.699333807890792],[62.727830438085974,28.259644883735383],[62.75542565292985,27.378923448184985],[63.23389773952028,27.217047024030702],[63.31663170761958,26.75653249766166],[61.874187453056535,26.239974880472097],[61.49736290878418,25.078237006118492],[59.61613406763083,25.380156561783775],[58.5257613462723,25.609961656185725],[57.39725141788238,25.739902045183634],[56.97076582217754,26.966106268821356],[56.4921387062902,27.14330475515019],[55.72371015811006,26.964633490501036],[54.71508955263725,26.480657863871507],[53.493096958231334,26.81236888275304],[52.4835978534096,27.580849107365488],[51.520762566947404,27.86568960215829],[50.85294803243953,28.814520575469377],[50.11500857931157,30.14777252859971],[49.57685021342399,29.9857152369324],[48.941333449098536,30.31709035900403],[48.56797122578975,29.926778265903515],[48.014568312376085,30.452456773392594],[48.00469811380831,30.985137437457237],[47.68528608581226,30.98485321707962],[47.849203729042095,31.709175930298663],[47.334661492711895,32.469155381799105],[46.109361606639304,33.017287299119],[45.416690708199035,33.96779775647958],[45.64845950702808,34.74813772230301],[46.15178795755093,35.09325877536428],[46.076340366404786,35.67738332777548],[45.4206181170532,35.97754588474282],[44.77267,37.17045],[44.22575564960052,37.971584377589345],[44.42140262225754,38.281281236314534],[44.109225294782334,39.42813629816809],[44.79398969908193,39.71300263117704],[44.9526880226503,39.33576467544636],[45.457721795438765,38.87413910578305],[46.14362308124881,38.74120148371221],[46.505719842317966,38.77060537368629],[47.68507938008308,39.50836395930121],[48.060095249225235,39.58223541926245],[48.35552941263787,39.2887649602769],[48.010744256386474,38.794014797514514],[48.6343754412848,38.27037750910096],[48.88324913920248,38.32024526626261],[49.19961225769333,37.58287425388988],[50.147771437384606,37.37456655532133],[50.842354363819695,36.872814235983384],[52.26402469260141,36.700421657857696],[53.82578982932641,36.96503082940823],[53.92159793479554,37.198918361961255]]]}},{"type":"Feature","properties":{"admin":"Iraq","name":"Iraq","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[45.4206181170532,35.97754588474282],[46.076340366404786,35.67738332777548],[46.15178795755093,35.09325877536428],[45.64845950702808,34.74813772230301],[45.416690708199035,33.96779775647958],[46.109361606639304,33.017287299119],[47.334661492711895,32.469155381799105],[47.849203729042095,31.709175930298663],[47.68528608581226,30.98485321707962],[48.00469811380831,30.985137437457237],[48.014568312376085,30.452456773392594],[48.56797122578975,29.926778265903515],[47.97451907734989,29.975819200148493],[47.30262210469095,30.05906993257071],[46.56871341328174,29.099025173452283],[44.709498732284736,29.178891099559376],[41.88998091000783,31.190008653278362],[40.39999433773624,31.88999176688793],[39.19546837744496,32.16100881604266],[38.79234052913608,33.37868642835222],[41.00615888851992,34.41937226006211],[41.38396528500581,35.62831655531435],[41.28970747250545,36.35881460219226],[41.837064243340954,36.60585378676357],[42.349591098811764,37.22987254490409],[42.77912560402182,37.38526357680574],[43.94225874204729,37.25622752537294],[44.29345177590285,37.00151439060629],[44.77269900897769,37.17044464776843],[45.4206181170532,35.97754588474282]]]}},{"type":"Feature","properties":{"admin":"Iceland","name":"Iceland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-14.508695441129232,66.45589223903141],[-14.739637417041605,65.80874827744029],[-13.609732224979807,65.12667104761985],[-14.9098337467949,64.36408193628867],[-17.79443803554342,63.67874909123384],[-18.65624589687499,63.496382961675806],[-19.972754685942757,63.643634955491514],[-22.762971971110154,63.96017894149537],[-21.778484259517676,64.4021157904555],[-23.955043911219104,64.89112986923348],[-22.184402635170354,65.08496816676029],[-22.22742326505333,65.37859365504272],[-24.326184047939332,65.61118927678845],[-23.650514695723082,66.26251902939521],[-22.134922451250883,66.41046865504686],[-20.576283738679543,65.73211212835142],[-19.056841600001587,66.27660085719475],[-17.798623826559048,65.99385325790976],[-16.16781897629212,66.52679230413585],[-14.508695441129232,66.45589223903141]]]}},{"type":"Feature","properties":{"admin":"Israel","name":"Israel","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.71991824722274,32.70919240979486],[35.545665317534535,32.39399201103057],[35.18393029149143,32.532510687788935],[34.97464074070932,31.866582343059715],[35.22589155451242,31.75434113212176],[34.97050662612599,31.616778469360803],[34.927408481594554,31.35343537040141],[35.39756066258604,31.48908600516757],[35.42091840998196,31.10006582287435],[34.92260257339142,29.501326198844517],[34.26543338393568,31.219360866820146],[34.5563716977389,31.54882396089699],[34.48810713068135,31.605538845337314],[34.752587111151165,32.07292633720116],[34.95541710789677,32.82737641044637],[35.09845747248067,33.08053925224426],[35.12605268732454,33.090900376918775],[35.4607092628467,33.089040025356276],[35.552796665190805,33.26427480725801],[35.82110070165023,33.27742645927629],[35.83639692560862,32.868123277308506],[35.700797967274745,32.716013698857374],[35.71991824722274,32.70919240979486]]]}},{"type":"Feature","properties":{"admin":"Italy","name":"Italy","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[15.52037601081383,38.231155096991465],[15.160242954171732,37.44404551853781],[15.309897902089002,37.13421946873179],[15.099988234119445,36.61998729099539],[14.335228712632013,36.99663096775475],[13.826732618879927,37.104531358380186],[12.43100385910881,37.61294993748381],[12.570943637755132,38.12638113051968],[13.741156447004581,38.03496552179535],[14.761249220446157,38.1438736028505],[15.52037601081383,38.231155096991465]]],[[[9.210011834356264,41.20999136002421],[9.809975213264973,40.500008856766094],[9.669518670295671,39.17737641047179],[9.214817742559486,39.24047333430013],[8.806935662479729,38.90661774347847],[8.428302443077113,39.17184703221661],[8.388253208050939,40.3783108587188],[8.159998406617659,40.950007229163774],[8.709990675500107,40.899984442705225],[9.210011834356264,41.20999136002421]]],[[[12.376485223040842,46.76755910906987],[13.806475457421552,46.50930613869118],[13.698109978905475,46.01677806251737],[13.937630242578335,45.59101593686465],[13.141606479554294,45.73669179949541],[12.328581170306304,45.38177806251484],[12.383874952858601,44.885374253919075],[12.261453484759157,44.60048208269401],[12.589237094786482,44.09136587175446],[13.526905958722491,43.5877273626379],[14.029820997787024,42.76100779883247],[15.142569614327952,41.95513967545689],[15.926191033601892,41.96131500911573],[16.16989708829041,41.74029490820342],[15.889345737377793,41.541082261718195],[16.785001661860573,41.17960561783658],[17.519168735431204,40.87714345963223],[18.376687452882575,40.35562490494265],[18.4802470231954,40.16886627863982],[18.293385044028096,39.810774441073235],[17.73838016121328,40.27767100683029],[16.869595981522334,40.44223460546384],[16.44874311693732,39.79540070246647],[17.171489698971495,39.424699815420716],[17.05284061042934,38.90287120213729],[16.63508833178184,38.843572496082395],[16.100960727613053,37.985898749334176],[15.684086948314498,37.90884918878702],[15.687962680736318,38.21459280044185],[15.891981235424705,38.75094249119922],[16.109332309644312,38.96454702407768],[15.718813510814638,39.54407237401494],[15.413612501698818,40.04835683853516],[14.998495721098234,40.17294871679091],[14.703268263414767,40.60455027929262],[14.06067182786526,40.786347968095434],[13.627985060285393,41.18828725846165],[12.888081902730418,41.253089504555604],[12.106682570044907,41.7045348170574],[11.191906365614184,42.35542531998967],[10.511947869517794,42.93146251074721],[10.200028924204046,43.92000682227461],[9.702488234097812,44.03627879493131],[8.888946160526869,44.36633616797953],[8.428560825238575,44.23122813575241],[7.8507666357832,43.767147935555236],[7.435184767291841,43.693844916349164],[7.549596388386161,44.12790110938481],[7.007562290076661,44.25476675066138],[6.749955275101711,45.028517971367584],[7.096652459347835,45.33309886329586],[6.80235517744566,45.70857982032867],[6.84359297041456,45.99114655210066],[7.273850945676683,45.77694774025075],[7.755992058959832,45.82449005795927],[8.316629672894377,46.16364248309084],[8.489952426801294,46.005150865251736],[8.966305779667833,46.03693187111115],[9.18288170740311,46.440214748716976],[9.92283654139035,46.31489940040918],[10.363378126678665,46.48357127540983],[10.4427014502466,46.89354625099743],[11.048555942436504,46.751358547546396],[11.164827915093325,46.94157949481273],[12.15308800624308,47.11539317482642],[12.376485223040842,46.76755910906987]]]]}},{"type":"Feature","properties":{"admin":"Jamaica","name":"Jamaica","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-77.5696007961992,18.490525417550483],[-76.89661861846211,18.40086680752408],[-76.36535905628553,18.16070058844759],[-76.19965857614163,17.886867173732963],[-76.90256140817567,17.868237819891743],[-77.20634131540345,17.701116237859818],[-77.7660229153406,17.861597398342237],[-78.3377192857856,18.225967922432226],[-78.21772661000387,18.454532782459193],[-77.79736467152561,18.524218451404774],[-77.5696007961992,18.490525417550483]]]}},{"type":"Feature","properties":{"admin":"Jordan","name":"Jordan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.545665317534535,32.39399201103057],[35.71991824722274,32.70919240979486],[36.83406212743554,32.31293752698077],[38.79234052913608,33.37868642835222],[39.19546837744496,32.16100881604266],[39.004885695152545,32.01021698661497],[37.002165561681004,31.508412990844736],[37.99884891129437,30.508499864213128],[37.668119744626374,30.338665269485894],[37.50358198420903,30.003776150018396],[36.74052778498724,29.865283311476183],[36.50121422704358,29.5052536076987],[36.06894087092205,29.19749461518445],[34.95603722508425,29.356554673778835],[34.92260257339142,29.501326198844517],[35.42091840998196,31.10006582287435],[35.39756066258604,31.48908600516757],[35.545251906076196,31.782504787720832],[35.545665317534535,32.39399201103057]]]}},{"type":"Feature","properties":{"admin":"Japan","name":"Japan","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[134.63842817600386,34.14923371025642],[134.76637902235848,33.80633474378367],[134.20341596897083,33.20117788342962],[133.79295006727648,33.52198517509758],[133.28026818250885,33.28957042086494],[133.01485802625785,32.70456736910477],[132.36311486219267,32.98938202568137],[132.37117638563018,33.46364248304007],[132.92437259331479,34.060298570282036],[133.4929683778222,33.944620876596694],[133.90410607313635,34.36493113864261],[134.63842817600386,34.14923371025642]]],[[[140.97638756730527,37.142074286440156],[140.59976972876208,36.343983466124534],[140.77407433488264,35.84287710219023],[140.25327925024507,35.13811391859365],[138.9755277853962,34.6676000025761],[137.2175989116912,34.60628591566184],[135.79298302626887,33.46480520276662],[135.1209827007454,33.84907115328905],[135.0794348491827,34.59654490817481],[133.34031619683196,34.375938218720755],[132.1567708680513,33.9049333765965],[130.98614464734345,33.88576142021628],[132.00003624891002,33.14999237724461],[131.33279015515734,31.450354519164836],[130.68631798718593,31.029579169228235],[130.20241987520495,31.41823761649541],[130.44767622286213,32.31947459566572],[129.81469160371887,32.610309556604385],[129.40846316947255,33.29605581311758],[130.35393517468464,33.60415070244169],[130.87845096244712,34.23274282484003],[131.8842293641439,34.74971385348791],[132.6176729676625,35.43339305270941],[134.60830081597777,35.73161774346581],[135.6775378765289,35.52713410088682],[136.72383060114242,37.304984239240376],[137.39061160700447,36.82739065199882],[138.85760216690625,37.82748464614345],[139.42640465714288,38.215962225897634],[140.05479007381206,39.43880748143638],[139.88337934789985,40.56331248632368],[140.30578250545366,41.19500519465955],[141.36897342342667,41.37855988216028],[141.91426313697048,39.99161611587868],[141.88460086483497,39.18086456965149],[140.95948937394573,38.17400096287658],[140.97638756730527,37.142074286440156]]],[[[143.91016198137947,44.174099839853724],[144.61342654843963,43.96088288021751],[145.32082523008307,44.38473297787544],[145.54313724180275,43.2620883245506],[144.05966189999987,42.98835826270055],[143.1838497255173,41.99521474869918],[141.61149092017246,42.67879059505607],[141.06728641170662,41.58459381770799],[139.95510623592105,41.56955597591103],[139.81754357315992,42.56375885677439],[140.31208703019317,43.333272610032644],[141.38054894426,43.38882477474649],[141.6719523459539,44.77212535255148],[141.96764489152798,45.55148346616134],[143.1428703147098,44.51035838477696],[143.91016198137947,44.174099839853724]]]]}},{"type":"Feature","properties":{"admin":"Kazakhstan","name":"Kazakhstan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[70.96231489449927,42.26615428320553],[70.38896487822078,42.08130768489752],[69.07002729683522,41.384244289712335],[68.63248294462004,40.668680731766855],[68.25989586779563,40.662324530594894],[67.9858557473518,41.1359907089822],[66.71404707221659,41.16844350846156],[66.51064863471571,41.98764415136855],[66.02339155463561,41.99464630794403],[66.09801232286519,42.997660020513074],[64.90082441595932,43.72808055274265],[63.18578698105658,43.650074978198],[62.013300408786264,43.50447663021565],[61.05831994003249,44.405816962250576],[60.23997195825847,44.78403677019474],[58.689989048095796,45.50001373959872],[58.50312706892843,45.58680430763296],[55.92891727074117,44.99585846615916],[55.96819135928301,41.30864166926937],[55.455251092353805,41.259859117185826],[54.75534549339265,42.04397146256661],[54.07941775901496,42.32410940202083],[52.944293247291725,42.11603424739757],[52.50245975119628,41.78331553808646],[52.44633914572721,42.02715078385556],[52.69211225770725,42.443895372073364],[52.501426222550315,42.79229787858519],[51.3424271991082,43.13297475846934],[50.89129194520022,44.031033637053774],[50.33912926616136,44.28401561133847],[50.30564293803626,44.60983551693891],[51.27850345236321,44.51485423438645],[51.316899041556034,45.245998236667894],[52.16738976421571,45.4083914251451],[53.04087649924519,45.25904653582175],[53.22086551291771,46.23464590105992],[53.04273685080777,46.853006089864486],[52.0420227394756,46.80463694923923],[51.19194542827425,47.04870473895391],[50.034083286342465,46.60898997658221],[49.10116,46.39933000000012],[48.593241001180495,46.56103424741547],[48.69473351420173,47.07562816017792],[48.05725304544926,47.743752753279516],[47.31523115417024,47.71584747984195],[46.466445753776256,48.39415233010492],[47.043671502476506,49.1520388860976],[46.75159630716273,49.35600576435376],[47.5494804217493,50.45469839131112],[48.57784142435752,49.87475962991566],[48.70238162618101,50.605128485712825],[50.766648390512145,51.69276235615989],[52.32872358583096,51.71865224873811],[54.53287845237621,51.0262397324593],[55.7169405454798,50.62171662047853],[56.77796105329655,51.04355133727704],[58.36329064314673,51.06365346943856],[59.6422823423706,50.54544220641571],[59.932807244715484,50.84219411885186],[61.33742435084092,50.79907013610425],[61.58800337102416,51.2726587998432],[59.96753380721553,51.960420437215696],[60.92726850774026,52.44754832621503],[60.73999311711457,52.719986477257734],[61.699986199800584,52.979996446334255],[60.97806644068315,53.66499339457913],[61.43659142440905,54.006264553434775],[65.17853356309591,54.35422781027209],[65.66687584825398,54.60126699484345],[68.16910037625881,54.97039175070431],[69.06816694527286,55.385250149143516],[70.86526655465512,55.16973358827009],[71.1801310566094,54.13328522400825],[72.22415001820217,54.37665538188673],[73.50851606638439,54.03561676697659],[73.42567874542043,53.48981028910974],[74.38484500519004,53.546861070360066],[76.89110029491341,54.49052440044191],[76.52517947785473,54.17700348572713],[77.80091556184422,53.40441498474756],[80.03555952344166,50.86475088154724],[80.56844689323547,51.388336493528456],[81.94598554883991,50.812195949906354],[83.38300377801237,51.06918284769391],[83.93511478061883,50.88924551045356],[84.41637739455305,50.31139964456582],[85.11555952346201,50.11730296487763],[85.54126997268246,49.69285858824815],[86.82935672398962,49.826674709668154],[87.35997033076266,49.21498078062915],[86.59877648310338,48.549181626980605],[85.76823286330828,48.455750637396974],[85.72048383987071,47.45296946877311],[85.16429039911336,47.0009557155161],[83.18048383986044,47.33003123635085],[82.4589258157691,45.5396495631665],[81.94707075391811,45.317027492853235],[79.9661063984414,44.91751699480464],[80.86620649610136,43.18036204688104],[80.18015018099429,42.920067857426936],[80.25999026888533,42.3499992945991],[79.64364546094014,42.49668284765965],[79.14217736197978,42.85609243424959],[77.6583919615832,42.96068553320833],[76.00035363149856,42.98802236589062],[75.63696495962209,42.877899888676765],[74.21286583852257,43.298339341803505],[73.6453035826609,43.09127187760986],[73.48975752146234,42.500894476891276],[71.84463829945064,42.84539541276518],[71.18628055205225,42.70429291439222],[70.96231489449927,42.26615428320553]]]}},{"type":"Feature","properties":{"admin":"Kenya","name":"Kenya","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[40.993,-0.85829],[41.58513,-1.68325],[40.88477,-2.08255],[40.63785,-2.49979],[40.26304,-2.57309],[40.12119,-3.27768],[39.80006,-3.68116],[39.60489,-4.34653],[39.20222,-4.67677],[37.7669,-3.67712],[37.69869,-3.09699],[34.07262,-1.05982],[33.90371119710452,-0.95],[33.89356896966694,0.109813537861896],[34.18,0.515],[34.6721,1.17694],[35.03599,1.90584],[34.59607,3.05374],[34.47913,3.5556],[34.005,4.249884947362047],[34.62019626785387,4.847122742081987],[35.298007118232974,5.506],[35.8174476623535,5.338232082790795],[35.8174476623535,4.776965663461889],[36.15907863285564,4.447864127672768],[36.855093238008116,4.447864127672768],[38.120915,3.598605],[38.43697,3.58851],[38.67114,3.61607],[38.89251,3.50074],[39.559384258765846,3.42206],[39.85494,3.83879],[40.76848,4.25702],[41.1718,3.91909],[41.855083092643966,3.918911920483726],[40.98105,2.78452],[40.993,-0.85829]]]}},{"type":"Feature","properties":{"admin":"Kyrgyzstan","name":"Kyrgyzstan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[70.96231489449913,42.26615428320548],[71.18628055205211,42.70429291439213],[71.84463829945058,42.84539541276509],[73.48975752146234,42.50089447689131],[73.6453035826609,43.09127187760982],[74.21286583852255,43.29833934180336],[75.636964959622,42.87789988867667],[76.00035363149844,42.988022365890664],[77.6583919615832,42.960685533208256],[79.14217736197976,42.85609243424951],[79.6436454609401,42.496682847659514],[80.25999026888529,42.349999294599044],[80.11943037305136,42.123940741538235],[78.5436609231753,41.582242540038685],[78.18719689322596,41.18531586360479],[76.90448449087707,41.066485907549634],[76.52636803579743,40.42794607193511],[75.46782799673069,40.56207225194866],[74.77686242055604,40.36642527929162],[73.82224368682829,39.89397349706318],[73.96001305531841,39.66000844986172],[73.67537926625478,39.431236884105594],[71.78469363799199,39.27946320246436],[70.5491618183256,39.60419790298649],[69.46488691597752,39.52668325454869],[69.5596098163685,40.10321137141297],[70.64801883329996,39.93575389257116],[71.01419803252016,40.244365546218226],[71.77487511585655,40.14584442805376],[73.05541710804916,40.86603302668945],[71.87011478057045,41.39290009212126],[71.15785851429158,41.14358714452911],[70.4200224140282,41.519998277343134],[71.25924767444822,42.167710679689456],[70.96231489449913,42.26615428320548]]]}},{"type":"Feature","properties":{"admin":"Cambodia","name":"Cambodia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[103.49727990113968,10.632555446815926],[103.09068973186723,11.153660590047162],[102.58493248902667,12.186594956913279],[102.348099399833,13.39424734135822],[102.9884220723616,14.225721136934464],[104.28141808473659,14.416743068901363],[105.21877689007887,14.27321177821069],[106.04394616091551,13.881091009979952],[106.49637332563086,14.57058380783428],[107.38272749230106,14.202440904186968],[107.6145479675624,13.535530707244202],[107.49140302941086,12.337205918827944],[105.8105237162531,11.567614650921225],[106.24967003786944,10.961811835163585],[105.19991499229232,10.889309800658094],[104.33433475140345,10.486543687375228],[103.49727990113968,10.632555446815926]]]}},{"type":"Feature","properties":{"admin":"South Korea","name":"Korea","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[128.3497164246766,38.61224294692784],[129.21291954968004,37.43239248305594],[129.46044966035814,36.78418915460282],[129.46830447806647,35.63214061130394],[129.09137658092956,35.08248423923142],[128.18585045787907,34.890377102186385],[127.38651940318837,34.47567373304411],[126.48574751190871,34.39004588473647],[126.3739197124291,34.93456045179594],[126.55923139862777,35.684540513647896],[126.11739790253226,36.72548472751925],[126.86014326386336,36.89392405857461],[126.17475874237621,37.74968577732803],[126.23733890188174,37.84037791600027],[126.68371992401889,37.804772854151174],[127.07330854706734,38.25611481378839],[127.78003543509097,38.30453563084588],[128.20574588431143,38.37039724380188],[128.3497164246766,38.61224294692784]]]}},{"type":"Feature","properties":{"admin":"Kosovo","name":"Kosovo","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.76216,42.05186],[20.717310000000108,41.84711],[20.59023,41.85541],[20.52295,42.21787],[20.28374,42.32025],[20.0707,42.58863],[20.25758,42.81275],[20.49679,42.88469],[20.63508,43.21671],[20.81448,43.27205],[20.95651,43.13094],[21.143395,43.06868500000012],[21.27421,42.90959],[21.43866,42.86255],[21.63302,42.67717],[21.77505,42.6827],[21.66292,42.43922],[21.54332,42.32025],[21.576635989402117,42.24522439706185],[21.352700000000134,42.2068],[20.76216,42.05186]]]}},{"type":"Feature","properties":{"admin":"Kuwait","name":"Kuwait","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[47.97451907734989,29.975819200148493],[48.18318851094448,29.53447663015976],[48.09394331237641,29.306299343375],[48.41609419128394,28.552004299426663],[47.70885053893738,28.526062730416136],[47.45982181172282,29.002519436147217],[46.56871341328174,29.099025173452283],[47.30262210469095,30.05906993257071],[47.97451907734989,29.975819200148493]]]}},{"type":"Feature","properties":{"admin":"Laos","name":"Lao PDR","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[105.21877689007887,14.27321177821069],[105.54433841351766,14.723933620660414],[105.58903852745013,15.570316066952856],[104.77932050986877,16.441864935771445],[104.71694705609247,17.428858954330078],[103.95647667848529,18.240954087796872],[103.20019209189373,18.30963206631277],[102.9987056823877,17.961694647691598],[102.41300499879159,17.93278168382428],[102.11359175009245,18.10910167080416],[101.05954756063514,17.512497259994486],[101.03593143107774,18.40892833096161],[101.28201460165167,19.46258494717676],[100.60629357300313,19.508344427971217],[100.54888105672686,20.109237982661124],[100.11598758341782,20.41784963630818],[100.32910119018952,20.78612173103623],[101.18000532430752,21.436572984294024],[101.27002566935994,21.201651923095177],[101.8031197448829,21.174366766845065],[101.65201785686149,22.318198757409544],[102.17043582561355,22.464753119389297],[102.75489627483464,21.675137233969462],[103.20386111858643,20.766562201413745],[104.43500044150802,20.758733221921528],[104.82257368369707,19.88664175056388],[104.18338789267891,19.624668077060214],[103.8965320170267,19.2651809758218],[105.0945984232815,18.666974595611073],[105.925762160264,17.485315456608955],[106.55600792849566,16.6042839624648],[107.31270592654558,15.908538316303177],[107.56452518110387,15.202173163305554],[107.38272749230106,14.202440904186968],[106.49637332563086,14.57058380783428],[106.04394616091551,13.881091009979952],[105.21877689007887,14.27321177821069]]]}},{"type":"Feature","properties":{"admin":"Lebanon","name":"Lebanon","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.82110070165023,33.27742645927629],[35.552796665190805,33.26427480725801],[35.4607092628467,33.089040025356276],[35.12605268732454,33.090900376918775],[35.48220665868012,33.905450140919434],[35.97959231948939,34.610058295219126],[35.99840254084363,34.6449140488],[36.448194207512095,34.59393524834406],[36.611750115715886,34.201788641897174],[36.06646040217205,33.82491242119254],[35.82110070165023,33.27742645927629]]]}},{"type":"Feature","properties":{"admin":"Liberia","name":"Liberia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-7.712159389669749,4.364565944837721],[-7.974107224957249,4.355755113131961],[-9.004793667018673,4.832418524592199],[-9.913420376006682,5.593560695819205],[-10.765383876986643,6.140710760925556],[-11.438779466182053,6.785916856305746],[-11.199801805048278,7.105845648624735],[-11.14670427086838,7.396706447779534],[-10.695594855176477,7.939464016141085],[-10.230093553091276,8.40620555260129],[-10.016566534861253,8.42850393313523],[-9.755342169625832,8.541055202666923],[-9.33727983238458,7.928534450711351],[-9.403348151069748,7.526905218938906],[-9.208786383490844,7.313920803247952],[-8.926064622422002,7.309037380396375],[-8.722123582382123,7.711674302598509],[-8.439298468448696,7.686042792181736],[-8.485445522485348,7.395207831243068],[-8.385451626000572,6.911800645368742],[-8.602880214868618,6.467564195171659],[-8.311347622094017,6.193033148621081],[-7.993692592795879,6.126189683451541],[-7.570152553731686,5.707352199725903],[-7.53971513511176,5.313345241716517],[-7.63536821128403,5.188159084489455],[-7.712159389669749,4.364565944837721]]]}},{"type":"Feature","properties":{"admin":"Libya","name":"Libya","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[14.8513,22.86295000000012],[14.14387088385524,22.491288967371126],[13.581424594790459,23.040506089769274],[11.999505649471697,23.471668402596432],[11.560669386449032,24.09790924732561],[10.771363559622952,24.56253205006174],[10.303846876678445,24.379313259370967],[9.948261346078024,24.936953640232613],[9.910692579801774,25.36545461679679],[9.319410841518218,26.094324856057476],[9.716285841519662,26.51220632578565],[9.629056023811073,27.14095347748104],[9.756128370816779,27.688258571884198],[9.68388471847288,28.14417389577931],[9.859997999723472,28.959989732371064],[9.805634392952353,29.42463837332337],[9.482139926805415,30.30755605724618],[9.970017124072966,30.539324856075375],[10.056575148161697,30.961831366493517],[9.950225050505194,31.376069647745275],[10.636901482799484,31.76142080334568],[10.944789666394511,32.08181468355536],[11.43225345220378,32.368903103152824],[11.488787469131008,33.136995754523234],[12.66331,32.79278],[13.08326,32.87882],[13.91868,32.71196],[15.24563,32.26508],[15.71394,31.37626],[16.61162,31.18218],[18.02109,30.76357],[19.08641,30.26639],[19.57404,30.52582],[20.05335,30.98576],[19.82033,31.751790000000135],[20.13397,32.2382],[20.85452,32.7068],[21.54298,32.8432],[22.89576,32.63858],[23.2368,32.19149],[23.6091300000001,32.18726],[23.9275,32.01667],[24.92114,31.89936],[25.16482,31.56915],[24.80287,31.08929],[24.95762,30.6616],[24.70007,30.04419],[25.00000000000011,29.23865452953355],[25.00000000000011,25.682499996360995],[25.00000000000011,22],[25.00000000000011,20.00304],[23.85000000000013,20],[23.837660000000135,19.5804700000001],[19.84926,21.49509],[15.86085,23.40972],[14.8513,22.86295000000012]]]}},{"type":"Feature","properties":{"admin":"Sri Lanka","name":"Sri Lanka","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[81.78795901889137,7.523055324733162],[81.63732221876057,6.481775214051921],[81.21801964714432,6.197141424988287],[80.3483569681044,5.968369859232154],[79.87246870312852,6.763463446474928],[79.6951668639351,8.200843410673384],[80.14780073437963,9.824077663609554],[80.83881798698654,9.268426825391186],[81.30431928907176,8.564206244333688],[81.78795901889137,7.523055324733162]]]}},{"type":"Feature","properties":{"admin":"Lesotho","name":"Lesotho","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[28.978262566857236,-28.955596612261708],[29.325166456832587,-29.257386976846245],[29.018415154748016,-29.743765557577362],[28.848399692507734,-30.070050551068245],[28.291069370239903,-30.226216729454293],[28.10720462414542,-30.545732110314944],[27.749397006956478,-30.645105889612214],[26.99926191580763,-29.875953871379977],[27.53251102062747,-29.242710870075353],[28.07433841320778,-28.85146860119358],[28.54170006685549,-28.647501722937562],[28.978262566857236,-28.955596612261708]]]}},{"type":"Feature","properties":{"admin":"Lithuania","name":"Lithuania","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.73109866709265,54.32753693299331],[22.651051873472536,54.58274099386673],[22.757763706155256,54.856574408581366],[22.31572350433057,55.01529857036585],[21.26844892750346,55.1904816758353],[21.05580040862241,56.03107636171105],[22.20115685393949,56.33780182557948],[23.878263787539957,56.27367137310526],[24.860684441840753,56.372528388079616],[25.000934279080887,56.16453074810483],[25.533046502390327,56.10029694276603],[26.49433149588375,55.61510691997762],[26.588279249790386,55.16717560487166],[25.76843265147979,54.84696259217508],[25.53635379405699,54.282423407602515],[24.45068362803703,53.90570221619475],[23.48412763844984,53.91249766704112],[23.243987257589506,54.22056671814913],[22.73109866709265,54.32753693299331]]]}},{"type":"Feature","properties":{"admin":"Luxembourg","name":"Luxembourg","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[6.043073357781109,50.12805166279422],[6.242751092156992,49.90222565367872],[6.186320428094176,49.4638028021145],[5.897759230176403,49.44266714130701],[5.674051954784828,49.52948354755749],[5.782417433300905,50.090327867221205],[6.043073357781109,50.12805166279422]]]}},{"type":"Feature","properties":{"admin":"Latvia","name":"Latvia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[21.05580040862241,56.03107636171105],[21.090423618257965,56.783872789122924],[21.58186648935367,57.41187063254991],[22.52434126149287,57.753374335350756],[23.31845299652209,57.006236477274854],[24.120729607853423,57.02569265403275],[24.312862583114615,57.793423570376966],[25.164593540149262,57.970156968815175],[25.602809685984365,57.84752879498656],[26.46353234223778,57.476388658266316],[27.28818484875151,57.47452830670382],[27.770015903440925,57.24425812441122],[27.85528201672252,56.75932648378428],[28.17670942557799,56.16912995057881],[27.102459751094525,55.78331370708767],[26.49433149588375,55.61510691997762],[25.533046502390327,56.10029694276603],[25.000934279080887,56.16453074810483],[24.860684441840753,56.372528388079616],[23.878263787539957,56.27367137310526],[22.20115685393949,56.33780182557948],[21.05580040862241,56.03107636171105]]]}},{"type":"Feature","properties":{"admin":"Morocco","name":"Morocco","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-5.193863491222031,35.755182196590845],[-4.591006232105143,35.330711981745644],[-3.640056525070007,35.39985504815197],[-2.604305792644111,35.17909332940112],[-2.169913702798624,35.168396307916694],[-1.792985805661658,34.5279186060913],[-1.73345455566141,33.919712836232115],[-1.388049282222596,32.86401500094137],[-1.124551153966195,32.651521511357195],[-1.30789913573787,32.262888902306024],[-2.616604783529567,32.09434621838616],[-3.068980271812648,31.724497992473285],[-3.647497931320145,31.637294012980814],[-3.690441046554666,30.896951605751152],[-4.859646165374442,30.501187649043874],[-5.242129278982786,30.00044302013557],[-6.060632290053745,29.7316997340018],[-7.059227667661899,29.57922842052465],[-8.67411617678283,28.841288967396643],[-8.665589565454836,27.656425889592462],[-8.817809007940523,27.656425889592462],[-8.817828334986642,27.656425889592462],[-8.794883999049032,27.120696316022553],[-9.413037482124507,27.08847606048854],[-9.73534339032875,26.86094472910741],[-10.189424200877452,26.86094472910741],[-10.551262579785258,26.99080760345688],[-11.392554897496948,26.883423977154386],[-11.718219773800339,26.1040917017608],[-12.030758836301654,26.03086619720312],[-12.500962693725368,24.770116278578136],[-13.891110398809044,23.691009019459383],[-14.22116777185715,22.310163072188338],[-14.630832688850942,21.860939846274867],[-14.750954555713404,21.5006000839038],[-17.00296179856107,21.42073415779668],[-17.020428432675768,21.42231028898163],[-16.973247849993182,21.88574453377495],[-16.589136928767626,22.15823436125009],[-16.26192175949566,22.679339504481273],[-16.326413946995896,23.017768459560894],[-15.98261064295806,23.723358466074096],[-15.426003790742183,24.359133612561035],[-15.08933183436073,24.520260728446964],[-14.82464514816169,25.103532619725307],[-14.800925665739666,25.636264960222285],[-14.439939947964827,26.254418443297645],[-13.773804897506462,26.61889232025228],[-13.13994177901429,27.64014781342049],[-13.121613369914709,27.654147671719805],[-12.61883663578311,28.038185533148656],[-11.688919236690761,28.148643907172577],[-10.9009569971044,28.832142238880913],[-10.39959225100864,29.09858592377778],[-9.564811163765624,29.933573716749855],[-9.814718390329174,31.177735500609053],[-9.434793260119362,32.03809642183648],[-9.300692918321827,32.56467926689063],[-8.657476365585039,33.24024526624239],[-7.654178432638217,33.697064927702506],[-6.912544114601358,34.11047638603744],[-6.24434200685141,35.14586538343752],[-5.929994269219832,35.75998810479398],[-5.193863491222031,35.755182196590845]]]}},{"type":"Feature","properties":{"admin":"Moldova","name":"Moldova","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[26.61933678559779,48.22072622333346],[26.857823520624798,48.36821076109449],[27.52253746919515,48.4671194525011],[28.259546746541837,48.155562242213406],[28.670891147585163,48.11814850523409],[29.122698195113024,47.84909516050646],[29.05086795422732,47.51022695575249],[29.415135125452732,47.34664520933257],[29.559674106573105,46.92858287209131],[29.908851759569295,46.67436066343145],[29.83821007662629,46.525325832701675],[30.024658644335364,46.42393667254503],[29.759971958136383,46.349987697935354],[29.17065392427988,46.37926239682869],[29.072106967899288,46.51767772072248],[28.862972446414055,46.437889309263824],[28.93371748222162,46.25883047137249],[28.659987420371575,45.93998688413163],[28.48526940279276,45.59690705014589],[28.233553501099035,45.48828318946837],[28.054442986775392,45.94458608660562],[28.160017937947707,46.37156260841721],[28.128030226359037,46.81047638608824],[27.55116621268484,47.40511709247082],[27.233872918412736,47.826770941756365],[26.92417605968756,48.12326447203098],[26.61933678559779,48.22072622333346]]]}},{"type":"Feature","properties":{"admin":"Madagascar","name":"Madagascar","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[49.54351891459574,-12.469832858940553],[49.80898074727908,-12.895284925999551],[50.05651085795715,-13.555761407121981],[50.217431268114055,-14.758788750876795],[50.476536899625515,-15.226512139550541],[50.37711144389594,-15.706069431219122],[50.20027469259317,-16.000263360256763],[49.860605503138665,-15.414252618066913],[49.67260664246085,-15.710203545802477],[49.86334435405014,-16.451036879138773],[49.774564243372694,-16.875042006093597],[49.49861209493411,-17.10603565843827],[49.4356185239703,-17.953064060134363],[49.04179243347393,-19.118781019774442],[48.548540887247995,-20.49688811613412],[47.93074913919865,-22.391501153251077],[47.547723423051295,-23.781958916928513],[47.09576134622659,-24.941629733990446],[46.28247765481708,-25.178462823184102],[45.409507684110444,-25.60143442149308],[44.83357384621755,-25.346101169538933],[44.039720493349755,-24.9883452287823],[43.763768344911156,-24.460677178649988],[43.69777754087444,-23.574116306250595],[43.34565433123761,-22.77690398528387],[43.254187046080986,-22.057413018484116],[43.43329756040463,-21.336475111580185],[43.89368289569292,-21.16330738697012],[43.89637007017209,-20.830459486578167],[44.374325392439644,-20.072366224856385],[44.464397413924374,-19.435454196859045],[44.23242190936616,-18.9619947242009],[44.04297610858415,-18.331387220943167],[43.9630843442609,-17.40994475674678],[44.31246870298627,-16.85049570075495],[44.44651736835139,-16.216219170804504],[44.94493655780652,-16.179373874580396],[45.502731967964976,-15.974373467678538],[45.872993605336255,-15.793454278224681],[46.3122432798172,-15.780018405828795],[46.88218265156427,-15.21018238694631],[47.70512983581235,-14.594302666891762],[48.00521487813124,-14.091232598530372],[47.86904747904215,-13.663868503476582],[48.29382775248137,-13.784067884987483],[48.84506025573877,-13.08917489995866],[48.863508742066976,-12.487867933810417],[49.1946513201933,-12.040556735891967],[49.54351891459574,-12.469832858940553]]]}},{"type":"Feature","properties":{"admin":"Mexico","name":"Mexico","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-97.14000830767068,25.869997463478395],[-97.52807247596654,24.992144069920297],[-97.70294552284221,24.27234304452673],[-97.77604183631902,22.932579860927653],[-97.8723667061111,22.444211737553356],[-97.69904395220416,21.898689480064256],[-97.38895952023674,21.411018988525818],[-97.18933346229328,20.635433254473124],[-96.5255755277203,19.89093089444406],[-96.29212724484174,19.32037140550954],[-95.90088497595994,18.828024196848727],[-94.8390634834427,18.562717393462204],[-94.4257295397562,18.144370835843343],[-93.54865129268237,18.423836981677933],[-92.78611385778348,18.524838568592255],[-92.03734819209039,18.704569200103432],[-91.40790340855924,18.876083278880227],[-90.77186987991085,19.284120388256778],[-90.53358985061303,19.867418117751292],[-90.45147599970123,20.707521877520428],[-90.27861833368489,20.999855454995547],[-89.60132117385147,21.261725775634485],[-88.54386633986284,21.493675441976613],[-87.6584165107577,21.458845526611977],[-87.05189022494805,21.543543199138295],[-86.81198238803293,21.331514797444747],[-86.8459079658326,20.849864610268348],[-87.38329118523585,20.255404771398727],[-87.62105445021072,19.646553046135917],[-87.43675045444176,19.472403469312265],[-87.58656043165591,19.040130113190738],[-87.83719112827148,18.259815985583426],[-88.09066402866316,18.516647854074048],[-88.30003109409363,18.499982204659997],[-88.49012285027928,18.486830552641717],[-88.84834387892657,17.88319814704033],[-89.02985734735174,18.001511338772556],[-89.15090938999546,17.955467637600403],[-89.14308041050332,17.8083189966494],[-90.06793351923089,17.819326076727517],[-91.00151994501594,17.817594916245692],[-91.00226925328415,17.254657701074272],[-91.45392127151511,17.252177232324183],[-91.08167009150057,16.918476670799517],[-90.71182186558762,16.687483018454767],[-90.60084672724092,16.470777899638787],[-90.43886695022199,16.410109768128105],[-90.46447262242263,16.069562079324722],[-91.74796017125593,16.06656484625176],[-92.22924862340628,15.251446641495871],[-92.08721594925201,15.06458466232851],[-92.20322953974726,14.830102850804108],[-92.22775000686981,14.538828640190953],[-93.35946387406175,15.61542959234367],[-93.87516883011851,15.94016429286591],[-94.69165646033011,16.20097524664288],[-95.25022701697301,16.12831818284064],[-96.0533821276533,15.752087917539592],[-96.55743404822827,15.653515122942787],[-97.26359249549662,15.917064927631312],[-98.0130299548096,16.107311713113912],[-98.94767574745649,16.566043402568763],[-99.69739742714702,16.706164048728166],[-100.8294988675813,17.171071071842047],[-101.66608862995444,17.649026394109622],[-101.9185280017002,17.916090196193974],[-102.47813208698891,17.975750637275095],[-103.50098954955806,18.292294623278845],[-103.91752743204681,18.748571682200005],[-104.99200965047547,19.31613393806168],[-105.49303849976141,19.94676727953543],[-105.73139604370763,20.43410187426411],[-105.39777299683132,20.531718654863422],[-105.5006607735244,20.816895046466122],[-105.27075232625792,21.076284898355137],[-105.26581722697402,21.422103583252348],[-105.60316097697537,21.871145941652568],[-105.69341386597311,22.26908030851615],[-106.02871639689894,22.77375234627862],[-106.90998043498834,23.767774359628895],[-107.91544877809136,24.548915310152946],[-108.40190487347095,25.17231395110593],[-109.26019873740663,25.580609442644054],[-109.44408932171731,25.824883938087673],[-109.29164384645627,26.44293406829842],[-109.8014576892318,26.676175645447923],[-110.39173173708569,27.162114976504533],[-110.6410188464616,27.85987600352552],[-111.17891883018783,27.941240546169062],[-111.75960689985162,28.467952582303944],[-112.22823462609037,28.95440867768348],[-112.27182369672866,29.266844387320074],[-112.80959448937395,30.02111359305234],[-113.16381059451865,30.786880804969424],[-113.14866939985714,31.170965887978912],[-113.87188106978184,31.56760834403519],[-114.2057366606035,31.524045111613123],[-114.776451178835,31.79953217216114],[-114.93669979537212,31.393484605427595],[-114.77123185917348,30.91361725516526],[-114.67389929895174,30.162681179315985],[-114.33097449426292,29.750432440707407],[-113.58887508833541,29.061611436473008],[-113.42405310754052,28.826173610951223],[-113.2719693673055,28.754782619739892],[-113.14003943566436,28.411289374295954],[-112.96229834679647,28.425190334582503],[-112.76158708377486,27.78021678314752],[-112.45791052941163,27.525813706974752],[-112.24495195193677,27.171726792910754],[-111.61648902061918,26.662817287700474],[-111.284674648873,25.732589830014426],[-110.98781938357239,25.294606228124557],[-110.71000688357131,24.826004340101854],[-110.65504899782887,24.298594672131113],[-110.17285620811343,24.265547593680417],[-109.77184709352852,23.811182562754194],[-109.4091043770557,23.364672349536242],[-109.4333923002329,23.185587673428696],[-109.85421932660168,22.81827159269806],[-110.03139197471442,22.8230775009012],[-110.29507097048364,23.430973212166684],[-110.94950130902802,24.000964260345988],[-111.67056840701268,24.484423122652508],[-112.18203589562147,24.73841278736716],[-112.14898881717082,25.470125230404044],[-112.30071082237967,26.012004299416613],[-112.77729671919153,26.321959540303162],[-113.4646707833219,26.768185533143416],[-113.5967299060438,26.639459540304465],[-113.84893673384424,26.900063788352437],[-114.46574662968003,27.14209035899136],[-115.05514217818497,27.722726752222904],[-114.98225257043738,27.79820018158511],[-114.57036556685492,27.741485297144884],[-114.19932878299923,28.115002549750553],[-114.16201839888461,28.566111965442296],[-114.9318422107366,29.279479275015483],[-115.51865393762696,29.556361599235395],[-115.88736528202956,30.18079376883417],[-116.2583503894529,30.836464341753572],[-116.72152625208496,31.635743720012037],[-117.12775999999984,32.53534],[-115.99135,32.61239000000011],[-114.72139,32.72083],[-114.815,32.52528],[-113.30498,32.03914],[-111.02361,31.33472],[-109.035,31.34194000000013],[-108.24194,31.34222],[-108.24,31.754853718166366],[-106.50758999999985,31.75452],[-106.1429,31.39995],[-105.63159,31.08383],[-105.03737,30.64402],[-104.70575,30.12173],[-104.45696999999988,29.57196],[-103.94,29.27],[-103.11,28.97],[-102.48,29.76],[-101.6624,29.7793],[-100.9576,29.380710000000125],[-100.45584,28.696120000000118],[-100.11,28.11000000000012],[-99.52,27.54],[-99.3,26.84],[-99.0199999999999,26.37],[-98.24,26.06],[-97.52999999999989,25.84],[-97.14000830767068,25.869997463478395]]]}},{"type":"Feature","properties":{"admin":"Macedonia","name":"Macedonia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.59023,41.85541],[20.717310000000108,41.84711],[20.76216,42.05186],[21.352700000000134,42.2068],[21.576635989402117,42.24522439706185],[21.917080000000105,42.30364],[22.380525750424674,42.320259507815074],[22.88137373219734,41.99929718685035],[22.952377150166505,41.337993882811176],[22.76177,41.3048],[22.597308383889008,41.1304871689432],[22.055377638444266,41.149865831052686],[21.67416059742697,40.93127452245794],[21.020040317476397,40.84272695572587],[20.60518,41.08622],[20.46315,41.51509],[20.59023,41.85541]]]}},{"type":"Feature","properties":{"admin":"Mali","name":"Mali","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-12.1707502913803,14.616834214735503],[-11.834207526079465,14.799096991428936],[-11.666078253617853,15.388208319556295],[-11.349095017939502,15.411256008358475],[-10.650791388379414,15.132745876521422],[-10.086846482778212,15.33048574468627],[-9.700255092802703,15.264107367407359],[-9.550238409859388,15.486496893775435],[-5.537744309908446,15.501689764869253],[-5.315277268891931,16.201853745991837],[-5.488522508150438,16.325102037007962],[-5.971128709324247,20.640833441647626],[-6.453786586930334,24.956590684503418],[-4.92333736817423,24.974574082940993],[-1.550054897457613,22.792665920497377],[1.823227573259032,20.61080943448604],[2.060990838233919,20.142233384679482],[2.683588494486428,19.856230170160114],[3.146661004253899,19.69357859952144],[3.158133172222704,19.057364203360034],[4.267419467800038,19.155265204336995],[4.270209995143801,16.85222748460121],[3.723421665063482,16.18428375901261],[3.638258904646476,15.568119818580453],[2.749992709981483,15.409524847876693],[1.385528191746857,15.323561102759168],[1.01578331869851,14.968182277887944],[0.374892205414682,14.928908189346128],[-0.26625729003058,14.924308986872147],[-0.515854458000348,15.116157741755725],[-1.066363491205663,14.973815009007764],[-2.001035122068771,14.559008287000887],[-2.191824510090384,14.246417548067352],[-2.967694464520576,13.798150336151506],[-3.103706834312759,13.54126679122859],[-3.52280270019986,13.337661647998612],[-4.006390753587225,13.472485459848112],[-4.280405035814879,13.228443508349738],[-4.427166103523802,12.542645575404292],[-5.220941941743119,11.713858954307224],[-5.197842576508648,11.375145778850136],[-5.470564947929004,10.951269842976044],[-5.404341599946973,10.370736802609144],[-5.816926235365286,10.22255463301219],[-6.050452032892266,10.096360785355442],[-6.205222947606429,10.524060777219132],[-6.493965013037267,10.411302801958268],[-6.666460944027547,10.430810655148447],[-6.850506557635057,10.138993841996237],[-7.622759161804808,10.147236232946792],[-7.89958980959237,10.297382106970824],[-8.029943610048617,10.206534939001711],[-8.335377163109738,10.494811916541932],[-8.28235714357828,10.792597357623842],[-8.407310756860026,10.90925690352276],[-8.620321010767126,10.810890814655181],[-8.581305304386772,11.136245632364801],[-8.37630489748491,11.393645941610627],[-8.786099005559462,11.812560939984705],[-8.905264858424529,12.088358059126433],[-9.127473517279581,12.308060411015331],[-9.327616339546008,12.33428620040345],[-9.567911749703212,12.194243068892472],[-9.890992804392011,12.060478623904968],[-10.165213792348835,11.844083563682743],[-10.593223842806278,11.923975328005977],[-10.870829637078211,12.177887478072106],[-11.036555955438256,12.211244615116513],[-11.297573614944508,12.077971096235768],[-11.45616858564827,12.076834214725336],[-11.513942836950587,12.442987575729415],[-11.467899135778522,12.754518947800973],[-11.553397793005427,13.141213690641063],[-11.927716030311613,13.422075100147392],[-12.124887457721256,13.994727484589784],[-12.1707502913803,14.616834214735503]]]}},{"type":"Feature","properties":{"admin":"Myanmar","name":"Myanmar","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[99.54330936075928,20.186597601802056],[98.95967573445485,19.752980658440944],[98.25372399291558,19.70820302986004],[97.7977828308044,18.62708038988175],[97.37589643757352,18.44543773037581],[97.85912275593485,17.567946071843657],[98.49376102091132,16.837835598207928],[98.90334842325673,16.177824204976115],[98.53737592976569,15.30849742274608],[98.19207400919137,15.12370250087035],[98.43081912637986,14.622027696180831],[99.09775516153873,13.827502549693275],[99.21201175333607,13.269293728076462],[99.19635379435164,12.804748439988666],[99.5872860046397,11.892762762901695],[99.03812055867395,10.960545762572435],[98.55355065307302,9.932959906448543],[98.4571741068487,10.675266018105146],[98.76454552612076,11.441291612183745],[98.42833865762982,12.032986761925681],[98.50957400919266,13.122377631070675],[98.10360395710767,13.64045970301285],[97.77773237507516,14.837285874892638],[97.59707156778275,16.100567938699765],[97.16453982949977,16.928734442609336],[96.50576867064296,16.427240505432845],[95.36935224811238,15.714389960182599],[94.80840457558409,15.803454291237637],[94.18880415240451,16.037936102762014],[94.53348595579132,17.277240301985724],[94.32481652219674,18.213513902249893],[93.54098839719362,19.36649262133002],[93.6632548359962,19.726961574781992],[93.07827762245216,19.855144965081973],[92.3685535013556,20.670883287025344],[92.30323449093865,21.475485337809815],[92.65225711463798,21.32404755297848],[92.67272098182555,22.041238918541247],[93.16612755734836,22.2784595809771],[93.0602942240146,22.703110663335565],[93.28632693885925,23.043658352138998],[93.32518761594277,24.078556423432197],[94.10674197792505,23.850740871673477],[94.55265791217161,24.67523834889033],[94.60324913938535,25.1624954289704],[95.15515343626257,26.001307277932078],[95.12476769407493,26.573572089132295],[96.41936567585094,27.26458934173922],[97.13399905801528,27.08377350514996],[97.05198855996807,27.699058946233144],[97.40256147663612,27.88253611908544],[97.32711388549001,28.26158274994633],[97.91198774616943,28.335945136014338],[98.24623091023328,27.747221381129172],[98.68269005737045,27.50881216075061],[98.7120939473445,26.74353587494026],[98.67183800658913,25.91870250091352],[97.72460900267912,25.083637193292994],[97.60471967976196,23.89740469003304],[98.66026248575574,24.06328603768996],[98.89874922078275,23.142722072842524],[99.53199222208738,22.949038804612574],[99.24089887898722,22.118314317304577],[99.98348921102146,21.742936713136398],[100.41653771362735,21.558839423096607],[101.15003299357822,21.849984442629015],[101.18000532430752,21.436572984294024],[100.32910119018952,20.78612173103623],[100.11598758341782,20.41784963630818],[99.54330936075928,20.186597601802056]]]}},{"type":"Feature","properties":{"admin":"Montenegro","name":"Montenegro","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[19.80161339689868,42.500093492190835],[19.738051385179627,42.688247382165564],[19.30449,42.19574],[19.371770000000136,41.87755],[19.16246,41.95502],[18.88214,42.28151],[18.45,42.48],[18.56,42.65],[18.70648,43.20011],[19.03165,43.43253],[19.21852,43.52384],[19.48389,43.35229],[19.63,43.21377997027052],[19.95857,43.10604],[20.3398,42.89852],[20.25758,42.81275],[20.0707,42.58863],[19.80161339689868,42.500093492190835]]]}},{"type":"Feature","properties":{"admin":"Mongolia","name":"Mongolia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[87.7512642760767,49.29719798440548],[88.80556684769549,49.47052073831241],[90.71366743364067,50.331811835321076],[92.23471154171966,50.802170722041716],[93.10421919146266,50.495290228876414],[94.14756635943561,50.48053660745708],[94.8159493346987,50.01343333597084],[95.81402794798397,49.97746653909571],[97.2597278177814,49.72606069599573],[98.23176150919154,50.42240062112874],[97.82573978067428,51.010995184933165],[98.8614905131003,52.047366034546684],[99.98173221232351,51.63400625264398],[100.88948042196259,51.516855780638316],[102.0652226094673,51.25992055928311],[102.2559086446243,50.51056061461867],[103.6765454447602,50.08996613219511],[104.62155236208169,50.27532949482607],[105.88659142458673,50.40601919209221],[106.88880415245534,50.27429596618022],[107.86817589725094,49.79370514586581],[108.47516727095127,49.282547715850725],[109.40244917199664,49.292960516957535],[110.66201053267876,49.13012807880586],[111.5812309102866,49.37796824807768],[112.89773969935436,49.543565375356984],[114.36245649623524,50.2483027207374],[114.96210981655015,50.14024730081511],[115.48569542853139,49.80517731383459],[116.67880089728615,49.888531399121376],[116.19180219936754,49.13459809019909],[115.48528201707302,48.13538259540343],[115.74283735561575,47.72654450132627],[116.3089526713732,47.853410142602826],[117.2955074402574,47.69770905210742],[118.06414269416669,48.066730455103674],[118.86657433479493,47.74706004494615],[119.77282392789748,47.048058783550125],[119.66326989143873,46.69267995867891],[118.87432579963871,46.805412095723646],[117.42170128791417,46.67273285581425],[116.71786828009884,46.388202419615205],[115.98509647020006,45.72723501238599],[114.46033165899604,45.33981679949381],[113.46390669154414,44.80889313412711],[112.43606245325878,45.01164561622428],[111.87330610560028,45.102079372735055],[111.34837690637943,44.45744171811008],[111.6677372579432,44.073175767587706],[111.82958784388134,43.743118394539515],[111.12968224492022,43.406834011400136],[110.41210330611526,42.871233628911014],[109.24359581913143,42.51944631608409],[107.74477257693793,42.481515814781865],[106.12931562706166,42.1343277044289],[104.96499393109345,41.597409572916334],[104.52228193564898,41.90834666601654],[103.31227827353479,41.90746816666759],[101.83304039917992,42.51487295182627],[100.84586551310824,42.66380442969144],[99.51581749878001,42.52469147396172],[97.45175744017799,42.74888967546001],[96.3493957865278,42.72563528092868],[95.76245486855667,43.3194491643946],[95.3068754414715,44.24133087826546],[94.6889286641253,44.352331854828414],[93.48073367714127,44.97547211361995],[92.1338908223182,45.11507599545644],[90.94553958533429,45.286073309910265],[90.58576826371826,45.71971609148751],[90.97080936072499,46.88814606382292],[90.2808256367639,47.69354909930792],[88.85429772334673,48.06908173277295],[88.01383222855172,48.5994627956006],[87.7512642760767,49.29719798440548]]]}},{"type":"Feature","properties":{"admin":"Mozambique","name":"Mozambique","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[34.559989047999345,-11.520020033415923],[35.31239790216903,-11.439146416879145],[36.51408165868425,-11.720938002166733],[36.77515099462279,-11.594537448780804],[37.471284214026596,-11.568750909067157],[37.82764489111138,-11.268769219612834],[38.427556593587745,-11.285202325081654],[39.52102990088377,-10.896853936408224],[40.31658857601718,-10.317096042525696],[40.47838748552302,-10.765440769089992],[40.43725304541867,-11.761710707245014],[40.56081139502856,-12.639176527561023],[40.59962039567974,-14.201975192931858],[40.77547529476899,-14.69176441819424],[40.477250604012596,-15.406294447493968],[40.08926395036521,-16.100774021064456],[39.452558628097044,-16.720891208566936],[38.53835086442151,-17.101023044505954],[37.411132846838875,-17.586368096591233],[36.28127933120935,-18.659687595293445],[35.896496616364054,-18.842260430580634],[35.19839969253314,-19.552811374593887],[34.78638349787004,-19.784011732667732],[34.701892531072836,-20.497043145431007],[35.17612715021536,-21.254361260668407],[35.37342776870573,-21.840837090748874],[35.3858482537054,-22.14],[35.56254553636908,-22.09],[35.5339347674043,-23.07078785572775],[35.371774122872374,-23.535358982031692],[35.60747033055562,-23.706563002214676],[35.458745558419615,-24.122609958596545],[35.040734897610655,-24.478350518493798],[34.21582400893546,-24.816314385682652],[33.013210076639005,-25.35757333750773],[32.57463219577786,-25.72731821055609],[32.66036339695008,-26.148584486599443],[32.915955031065685,-26.21586720144346],[32.83012047702888,-26.74219166433619],[32.07166548028106,-26.733820082304902],[31.985779249811962,-26.29177988048022],[31.837777947728057,-25.84333180105134],[31.752408481581874,-25.484283949487406],[31.930588820124242,-24.369416599222532],[31.670397983534645,-23.65896900807386],[31.191409132621278,-22.251509698172395],[32.24498823418801,-21.11648853931369],[32.508693068173436,-20.395292250248303],[32.65974327976257,-20.30429005298231],[32.77270796075262,-19.715592136313294],[32.611994256324884,-19.419382826416268],[32.65488569512714,-18.67208993904349],[32.849860874164385,-17.979057305577175],[32.84763878757584,-16.713398125884613],[32.32823896661022,-16.39207406989375],[31.852040643040592,-16.319417006091374],[31.636498243951188,-16.07199024827788],[31.173063999157673,-15.860943698797868],[30.338954705534537,-15.880839125230242],[30.274255812305103,-15.507786960515208],[30.179481235481827,-14.796099134991525],[33.21402469252521,-13.97186003993615],[33.78970014825668,-14.451830743063068],[34.06482547377862,-14.359950046448118],[34.459633416488536,-14.613009535381421],[34.517666049952304,-15.013708591372609],[34.30729129409209,-15.478641452702592],[34.381291945134045,-16.18355966559604],[35.03381025568353,-16.80129973721309],[35.33906294123164,-16.107440280830108],[35.77190473810835,-15.896858819240721],[35.686845330555926,-14.611045830954328],[35.267956170398,-13.887834161029563],[34.90715132013616,-13.565424899960565],[34.559989047999345,-13.579997653866872],[34.28000613784197,-12.280025323132504],[34.559989047999345,-11.520020033415923]]]}},{"type":"Feature","properties":{"admin":"Mauritania","name":"Mauritania","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-12.1707502913803,14.616834214735503],[-12.830658331747513,15.303691514542942],[-13.43573767745306,16.039383042866188],[-14.099521450242175,16.30430227301049],[-14.577347581428977,16.598263658102805],[-15.135737270558813,16.58728241624078],[-15.623666144258689,16.36933706304981],[-16.120690070041928,16.45566254319338],[-16.46309811040788,16.135036119038457],[-16.54970781092906,16.67389211676196],[-16.270551723688353,17.166962795474866],[-16.146347418674846,18.108481553616652],[-16.256883307347163,19.096715806550304],[-16.377651129613266,19.59381724698198],[-16.277838100641514,20.092520656814695],[-16.536323614965465,20.567866319251486],[-17.063423224342568,20.99975210213082],[-16.84519365077399,21.333323472574875],[-12.929101935263528,21.32707062426756],[-13.118754441774708,22.77122020109625],[-12.874221564169574,23.28483226164517],[-11.93722449385332,23.374594224536164],[-11.969418911171159,25.93335276946826],[-8.687293667017398,25.8810562199889],[-8.68439978680905,27.395744126896],[-4.92333736817423,24.974574082940993],[-6.453786586930334,24.956590684503418],[-5.971128709324247,20.640833441647626],[-5.488522508150438,16.325102037007962],[-5.315277268891931,16.201853745991837],[-5.537744309908446,15.501689764869253],[-9.550238409859388,15.486496893775435],[-9.700255092802703,15.264107367407359],[-10.086846482778212,15.33048574468627],[-10.650791388379414,15.132745876521422],[-11.349095017939502,15.411256008358475],[-11.666078253617853,15.388208319556295],[-11.834207526079465,14.799096991428936],[-12.1707502913803,14.616834214735503]]]}},{"type":"Feature","properties":{"admin":"Malawi","name":"Malawi","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[34.559989047999345,-11.520020033415923],[34.28000613784197,-12.280025323132504],[34.559989047999345,-13.579997653866872],[34.90715132013616,-13.565424899960565],[35.267956170398,-13.887834161029563],[35.686845330555926,-14.611045830954328],[35.77190473810835,-15.896858819240721],[35.33906294123164,-16.107440280830108],[35.03381025568353,-16.80129973721309],[34.381291945134045,-16.18355966559604],[34.30729129409209,-15.478641452702592],[34.517666049952304,-15.013708591372609],[34.459633416488536,-14.613009535381421],[34.06482547377862,-14.359950046448118],[33.78970014825668,-14.451830743063068],[33.21402469252521,-13.97186003993615],[32.68816531752312,-13.712857761289273],[32.99176435723788,-12.783870537978272],[33.30642215346307,-12.435778090060214],[33.11428917820191,-11.60719817469231],[33.31531049981728,-10.796549981329695],[33.485687697083584,-10.525558770391111],[33.23138797377529,-9.676721693564799],[32.759375441221316,-9.230599053589058],[33.73972903823044,-9.417150974162722],[33.94083772409653,-9.693673841980292],[34.28000613784197,-10.159999688358402],[34.559989047999345,-11.520020033415923]]]}},{"type":"Feature","properties":{"admin":"Malaysia","name":"Malaysia","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[101.0755155782133,6.204867051615891],[101.15421878459381,5.691384182147713],[101.81428185425801,5.810808417174228],[102.14118696493642,6.221636053894655],[102.37114708863521,6.12820506431096],[102.96170535686667,5.524495144061077],[103.38121463421214,4.855001125503746],[103.43857547405617,4.181605536308381],[103.33212202353485,3.72669790284297],[103.42942874554052,3.382868760589019],[103.50244754436888,2.791018581550204],[103.85467410687033,2.515454006353763],[104.24793175661148,1.631141058759055],[104.22881147666352,1.293048000489534],[103.51970747275443,1.226333726400682],[102.57361535035477,1.967115383304744],[101.39063846232915,2.760813706875623],[101.27353966675584,3.27029165284118],[100.69543541870668,3.939139715994869],[100.55740766805509,4.767280381688279],[100.19670617065772,5.312492580583678],[100.30626020711651,6.040561835143875],[100.08575687052708,6.46448944745029],[100.25959638875692,6.64282481528957],[101.0755155782133,6.204867051615891]]],[[[118.61832075406483,4.47820241944754],[117.88203494677016,4.137551377779487],[117.01521447150634,4.306094061699468],[115.86551720587677,4.306559149590156],[115.51907840379198,3.169238389494395],[115.13403730678523,2.821481838386219],[114.62135542201747,1.430688177898886],[113.80584964401953,1.217548732911041],[112.85980919805218,1.497790025229946],[112.38025190638365,1.410120957846757],[111.79754845586041,0.904441229654651],[111.15913781132656,0.976478176269509],[110.5140609070271,0.773131415200993],[109.83022667850884,1.338135687664191],[109.66326012577372,2.006466986494984],[110.39613528853704,1.663774725751395],[111.16885298059748,1.850636704918784],[111.37008100794208,2.697303371588872],[111.79692833867284,2.885896511238073],[112.99561486211525,3.102394924324869],[113.71293541875872,3.893509426281127],[114.2040165548284,4.525873928236819],[114.65959598191353,4.00763682699781],[114.86955732631537,4.348313706881952],[115.34746097215067,4.316636053887009],[115.4057003113436,4.955227565933824],[115.4507104838698,5.447729803891561],[116.22074100145096,6.143191229675621],[116.72510298061975,6.924771429873998],[117.12962609260046,6.928052883324566],[117.6433931824463,6.422166449403305],[117.68907514859234,5.98749013918018],[118.3476912781522,5.708695786965462],[119.18190392463993,5.407835598162249],[119.11069380094172,5.016128241389864],[118.43972700406408,4.966518866389619],[118.61832075406483,4.47820241944754]]]]}},{"type":"Feature","properties":{"admin":"Namibia","name":"Namibia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[16.34497684089524,-28.576705010697697],[15.601818068105812,-27.821247247022797],[15.210472446359457,-27.09095590587404],[14.989710727608548,-26.117371921495153],[14.74321414557633,-25.392920017195376],[14.40814415859583,-23.85301401132984],[14.385716586981145,-22.656652927340687],[14.257714064194172,-22.11120818449995],[13.868642205468657,-21.699036960539974],[13.352497999737437,-20.872834161057497],[12.82684533046449,-19.67316578540166],[12.608564080463617,-19.045348809487695],[11.794918654028063,-18.069129327061912],[11.734198846085118,-17.30188933682447],[12.215461460019352,-17.11166838955808],[12.814081251688405,-16.941342868724067],[13.462362094789963,-16.97121184658877],[14.058501417709007,-17.42338062914266],[14.209706658595021,-17.353100681225715],[18.26330936043416,-17.309950860262003],[18.9561869646036,-17.789094740472255],[21.377176141045563,-17.93063648851969],[23.215048455506057,-17.52311614346598],[24.03386152517077,-17.29584319424632],[24.6823490740015,-17.35341073981947],[25.076950310982255,-17.578823337476617],[25.084443393664564,-17.661815687737366],[24.520705193792534,-17.887124932529932],[24.21736453623921,-17.889347019118485],[23.579005568137713,-18.281261081620055],[23.196858351339298,-17.869038181227783],[21.65504031747897,-18.219146010005222],[20.91064131031453,-18.25221892667202],[20.881134067475866,-21.814327080983144],[19.895457797940672,-21.849156996347865],[19.895767856534427,-24.767790215760588],[19.89473432788861,-28.46110483166077],[19.00212731291108,-28.972443129188857],[18.464899122804745,-29.04546192801727],[17.836151971109526,-28.85637786226131],[17.3874971859515,-28.783514092729774],[17.2189286638154,-28.355943291946804],[16.8240173682409,-28.082161553664466],[16.34497684089524,-28.576705010697697]]]}},{"type":"Feature","properties":{"admin":"New Caledonia","name":"New Caledonia","continent":"Australia"},"geometry":{"type":"Polygon","coordinates":[[[165.77998986232635,-21.08000497811562],[166.5999914899338,-21.700018812753523],[167.12001142808688,-22.159990736583488],[166.74003462144475,-22.399976088146943],[166.18973229396863,-22.129708347260447],[165.47437544175216,-21.67960662199823],[164.82981530177565,-21.149819838141948],[164.16799523341362,-20.444746595951624],[164.02960574773596,-20.105645847252347],[164.45996707586266,-20.120011895429492],[165.020036249042,-20.459991143477726],[165.46000939357506,-20.800022067958253],[165.77998986232635,-21.08000497811562]]]}},{"type":"Feature","properties":{"admin":"Niger","name":"Niger","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[2.154473504249949,11.940150051313422],[2.177107781593917,12.625017808477534],[1.024103224297619,12.851825669806598],[0.993045688490156,13.335749620003865],[0.429927605805517,13.988733018443893],[0.295646396495215,14.444234930880663],[0.374892205414767,14.928908189346144],[1.015783318698481,14.968182277887989],[1.385528191746971,15.323561102759237],[2.74999270998154,15.409524847876751],[3.63825890464659,15.56811981858044],[3.723421665063596,16.184283759012654],[4.270209995143886,16.85222748460131],[4.267419467800095,19.155265204337123],[5.677565952180712,19.601206976799794],[8.572893100629868,21.565660712159225],[11.999505649471697,23.471668402596432],[13.581424594790459,23.040506089769274],[14.14387088385524,22.491288967371126],[14.8513,22.86295000000012],[15.096887648181847,21.308518785074902],[15.471076694407314,21.04845713956598],[15.487148064850143,20.730414537025634],[15.90324669766431,20.3876189234175],[15.68574059414777,19.957180080642384],[15.300441114979716,17.927949937405],[15.247731154041842,16.62730581305078],[13.97220177578168,15.684365953021139],[13.540393507550785,14.36713369390122],[13.956698846094124,13.996691189016925],[13.954476759505607,13.353448798063765],[14.595781284247604,13.330426947477859],[14.495787387762899,12.859396267137353],[14.213530714584746,12.80203542729333],[14.181336297266906,12.48365692794317],[13.995352817448289,12.4615652531383],[13.318701613018558,13.55635630945795],[13.08398725754881,13.596147162322492],[12.302071160540546,13.037189032437535],[11.527803175511504,13.328980007373556],[10.989593133191532,13.387322699431191],[10.701031935273816,13.246917832894038],[10.114814487354748,13.277251898649464],[9.524928012743088,12.85110219975456],[9.014933302454436,12.826659247280414],[7.804671258178869,13.343526923063731],[7.330746697630046,13.098038031461213],[6.82044192874781,13.115091254117598],[6.445426059605721,13.492768459522718],[5.443058302440135,13.865923977102225],[4.368343540066006,13.747481594289408],[4.107945997747378,13.531215725147941],[3.967282749048933,12.956108710171574],[3.680633579125924,12.552903347214167],[3.611180454125587,11.660167141155965],[2.848643019226585,12.235635891158207],[2.490163608418015,12.233052069543588],[2.154473504249949,11.940150051313422]]]}},{"type":"Feature","properties":{"admin":"Nigeria","name":"Nigeria","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[8.500287713259693,4.771982937026847],[7.462108188515939,4.41210826254624],[7.082596469764438,4.464689032403228],[6.698072137080598,4.240594183769516],[5.898172641634686,4.262453314628984],[5.362804803090881,4.887970689305957],[5.033574252959368,5.611802476418233],[4.325607130560683,6.270651149923466],[3.574180128604552,6.258300482605717],[2.691701694356254,6.258817246928628],[2.74906253420022,7.870734361192886],[2.723792758809509,8.506845404489708],[2.912308383810255,9.13760793704432],[3.220351596702101,9.4441525333997],[3.705438266625918,10.063210354040207],[3.600070021182801,10.332186184119406],[3.797112257511713,10.734745591673104],[3.572216424177469,11.327939357951516],[3.611180454125558,11.660167141155966],[3.68063357912581,12.552903347214222],[3.967282749048848,12.956108710171572],[4.107945997747321,13.53121572514783],[4.368343540066063,13.747481594289324],[5.443058302440163,13.865923977102295],[6.445426059605636,13.492768459522676],[6.820441928747753,13.115091254117514],[7.330746697630017,13.098038031461199],[7.804671258178784,13.343526923063745],[9.014933302454462,12.826659247280427],[9.524928012742945,12.851102199754477],[10.114814487354689,13.277251898649409],[10.701031935273702,13.24691783289408],[10.989593133191532,13.387322699431108],[11.527803175511393,13.328980007373584],[12.302071160540521,13.03718903243752],[13.083987257548866,13.596147162322563],[13.318701613018558,13.556356309457824],[13.995352817448346,12.461565253138343],[14.181336297266792,12.483656927943112],[14.57717776862253,12.0853608260535],[14.468192172918974,11.90475169519341],[14.415378859116682,11.572368882692071],[13.572949659894558,10.798565985553564],[13.308676385153914,10.160362046748926],[13.1675997249971,9.64062632897341],[12.95546797043897,9.417771714714702],[12.753671502339214,8.717762762888993],[12.218872104550597,8.305824082874322],[12.063946160539556,7.799808457872301],[11.8393087093668,7.397042344589434],[11.745774366918509,6.981382961449753],[11.05878787603035,6.644426784690593],[10.497375115611417,7.055357774275562],[10.118276808318255,7.038769639509879],[9.522705926154398,6.453482367372116],[9.233162876023043,6.444490668153334],[8.757532993208626,5.47966583904791],[8.500287713259693,4.771982937026847]]]}},{"type":"Feature","properties":{"admin":"Nicaragua","name":"Nicaragua","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-85.71254045280729,11.088444932494822],[-86.05848832878524,11.40343862552994],[-86.52584998243293,11.806876532432593],[-86.7459915839963,12.143961900272483],[-87.16751624220113,12.458257961471656],[-87.6684934150547,12.909909979702629],[-87.5574666002756,13.064551703336061],[-87.3923862373192,12.914018256069836],[-87.31665442579546,12.984685777228972],[-87.00576900912756,13.025794379117157],[-86.88055701368434,13.254204209847241],[-86.73382178419158,13.26309255620144],[-86.7550866360797,13.75484548589091],[-86.52070817741988,13.778487453664436],[-86.31214209668991,13.771356106008167],[-86.09626380079058,14.038187364147245],[-85.80129472526858,13.836054999237586],[-85.6986653307369,13.960078436738083],[-85.51441301140022,14.079011745657834],[-85.16536454948479,14.354369615125076],[-85.14875057650295,14.560196844943615],[-85.05278744173692,14.55154104253472],[-84.92450069857239,14.790492865452348],[-84.82003679069435,14.819586696832669],[-84.6495820787796,14.66680532476175],[-84.44933590364859,14.621614284722494],[-84.2283416409524,14.748764146376654],[-83.97572140169358,14.749435939996458],[-83.6285849677729,14.880073960830298],[-83.4899887763661,15.016267198135534],[-83.1472190009741,14.995829169164109],[-83.2332344225239,14.8998660343981],[-83.28416154654758,14.676623846897197],[-83.18212643098727,14.310703029838447],[-83.41249996614442,13.970077826386554],[-83.51983191601467,13.56769928634588],[-83.55220720084553,13.127054348193084],[-83.49851538769425,12.869292303921226],[-83.47332312695197,12.419087225794424],[-83.62610449902289,12.320850328007563],[-83.71961300325503,11.893124497927724],[-83.6508575100907,11.629032090700116],[-83.85547034375037,11.373311265503785],[-83.80893571647154,11.103043524617274],[-83.65561174186156,10.938764146361418],[-83.89505449088593,10.726839097532444],[-84.19017859570482,10.79345001875667],[-84.35593075228103,10.999225572142901],[-84.67306901725624,11.08265717207814],[-84.90300330273892,10.952303371621895],[-85.56185197624417,11.217119248901593],[-85.71254045280729,11.088444932494822]]]}},{"type":"Feature","properties":{"admin":"Netherlands","name":"Netherlands","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[6.074182570020922,53.51040334737813],[6.905139601274128,53.48216217713063],[7.092053256873895,53.14404328064488],[6.842869500362381,52.22844025329754],[6.589396599970825,51.85202912048338],[5.988658074577812,51.85161570902504],[6.156658155958779,50.803721015010574],[5.60697594567,51.03729848896977],[4.973991326526913,51.475023708698124],[4.047071160507527,51.267258612668556],[3.314971144228536,51.3457551133199],[3.830288527043137,51.620544542031936],[4.705997348661184,53.09179840759776],[6.074182570020922,53.51040334737813]]]}},{"type":"Feature","properties":{"admin":"Norway","name":"Norway","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[28.16554731620291,71.1854743516805],[31.293418409965472,70.4537877468599],[30.005435011522785,70.18625885688488],[31.101078728975118,69.55808014594486],[29.39958051933288,69.15691600206306],[28.591929559043187,69.06477692328669],[29.01557295097197,69.76649119737796],[27.732292107867885,70.16419302029628],[26.179622023226298,69.82529897732614],[25.68921268077639,69.092113755969],[24.735679152126714,68.64955678982143],[23.66204959483076,68.89124746365052],[22.356237827247405,68.84174144151494],[21.244936150810723,69.37044302029311],[20.64559288908958,69.10624726020085],[20.02526899585791,69.0651386583127],[19.87855960458125,68.4071943223726],[17.993868442464386,68.56739126247733],[17.729181756265344,68.01055186631622],[16.768878614985535,68.01393667263137],[16.10871219245683,67.30245555283689],[15.108411492583055,66.19386688909542],[13.555689731509087,64.78702769638146],[13.919905226302202,64.44542064071611],[13.571916131248766,64.04911408146965],[12.57993533697393,64.06621898055833],[11.930569288794228,63.12831757267698],[11.992064243221531,61.80036245385656],[12.63114668137524,61.29357168237008],[12.300365838274896,60.117932847730046],[11.468271925511173,59.43239329694599],[11.027368605196925,58.856149400459394],[10.356556837616095,59.46980703392536],[8.38200035974364,58.313288479233265],[7.048748406613297,58.07888418235727],[5.665835402050418,58.58815542259366],[5.308234490590733,59.663231919993805],[4.992078077829005,61.97099803328426],[5.912900424837885,62.61447296818268],[8.553411085655766,63.45400828719646],[10.527709181366784,64.48603831649747],[12.358346795306371,65.87972585719315],[14.7611458675816,67.81064158799512],[16.435927361728968,68.56320547146167],[19.184028354578512,69.8174441596178],[21.378416375420606,70.25516937934604],[23.02374230316158,70.20207184516626],[24.546543409938515,71.03049673123722],[26.370049676221807,70.98626170519536],[28.16554731620291,71.1854743516805]]],[[[24.72412,77.85385],[22.49032,77.44493],[20.72601,77.67704],[21.41611,77.93504],[20.8119,78.25463],[22.88426,78.45494],[23.28134,78.07954],[24.72412,77.85385]]],[[[18.25183,79.70175],[21.54383,78.95611],[19.02737,78.5626],[18.47172,77.82669],[17.59441,77.63796],[17.1182,76.80941],[15.91315,76.77045],[13.76259,77.38035],[14.66956,77.73565],[13.1706,78.02493],[11.22231,78.8693],[10.44453,79.65239],[13.17077,80.01046],[13.71852,79.66039],[15.14282,79.67431],[15.52255,80.01608],[16.99085,80.05086],[18.25183,79.70175]]],[[[25.447625359811887,80.4073403998945],[27.407505730913492,80.05640574820045],[25.92465050629817,79.51783397085454],[23.024465773213613,79.40001170522909],[20.075188429451877,79.56682322866723],[19.897266473070907,79.8423619656475],[18.46226362475792,79.8598802761944],[17.368015170977454,80.318896186027],[20.455992059010693,80.59815562613223],[21.907944777115397,80.35767934846207],[22.91925255706743,80.65714427359349],[25.447625359811887,80.4073403998945]]]]}},{"type":"Feature","properties":{"admin":"Nepal","name":"Nepal","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[88.12044070836984,27.876541652939586],[88.0431327656612,27.445818589786818],[88.1748043151409,26.810405178325944],[88.0602376647498,26.414615383402484],[87.22747195836628,26.39789805755607],[86.02439293817915,26.630984605408567],[85.25177859898335,26.726198431906337],[84.67501793817377,27.23490123138753],[83.30424889519954,27.364505723575554],[81.99998742058496,27.925479234319987],[81.057202589852,28.416095282499036],[80.08842451367626,28.794470119740136],[80.47672122591737,29.729865220655334],[81.11125613802929,30.1834809433134],[81.52580447787473,30.422716986608627],[82.32751264845086,30.115268052688126],[83.33711510613718,29.463731594352193],[83.89899295444671,29.320226141877654],[84.23457970575014,28.83989370372469],[85.01163821812303,28.642773952747337],[85.8233199401315,28.2035759546987],[86.95451704300059,27.97426178640351],[88.12044070836984,27.876541652939586]]]}},{"type":"Feature","properties":{"admin":"New Zealand","name":"New Zealand","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[173.0203747907407,-40.91905242285642],[173.247234328502,-41.33199879330078],[173.95840538970288,-40.926700534835604],[174.2475867048081,-41.34915536882166],[174.24851688058945,-41.77000823340675],[173.87644656808789,-42.23318409603882],[173.22273969959562,-42.97003834408856],[172.71124637277072,-43.37228769304849],[173.0801127464702,-43.85334360125358],[172.30858361235246,-43.86569426857133],[171.45292524646362,-44.24251881284372],[171.18513797432723,-44.897104180684885],[170.6166972191166,-45.9089287249597],[169.83142215400926,-46.355774834987585],[169.33233117093425,-46.64123544696785],[168.41135379462852,-46.61994475686358],[167.76374474514682,-46.290197442409195],[166.6768860211842,-46.219917494492236],[166.50914432196467,-45.8527047666262],[167.04642418850324,-45.110941257508664],[168.30376346259686,-44.12397307716612],[168.9494088076515,-43.93581918719142],[169.66781456937315,-43.555325616226334],[170.52491987536615,-43.03168832781282],[171.125089960004,-42.51275359473778],[171.5697139834432,-41.76742441179213],[171.94870893787188,-41.514416599291145],[172.09722700427872,-40.95610442480967],[172.79857954334395,-40.493962090823466],[173.0203747907407,-40.91905242285642]]],[[[174.61200890533053,-36.15639739354054],[175.33661583892717,-37.20909799575826],[175.3575964704375,-36.52619394302112],[175.80888675364247,-36.79894215265768],[175.95849002512747,-37.55538176854606],[176.76319542877656,-37.881253350578696],[177.4388131045605,-37.96124846776649],[178.01035444570866,-37.579824721020124],[178.5170935407628,-37.69537322362479],[178.2747310733138,-38.58281259537309],[177.97046023997933,-39.16634286881297],[177.20699262929912,-39.14577564876084],[176.939980503647,-39.44973642350156],[177.0329464053401,-39.87994272233147],[176.8858236026052,-40.06597787858216],[176.50801720611935,-40.60480803808958],[176.01244022044028,-41.28962411882149],[175.23956749908297,-41.688307793953236],[175.0678983910094,-41.425894870775075],[174.65097293527842,-41.28182097754544],[175.22763024322362,-40.4592355283234],[174.90015669178996,-39.908933200847216],[173.824046665744,-39.508854262043506],[173.85226199777532,-39.14660247167746],[174.57480187408035,-38.79768320084275],[174.74347374908103,-38.02780771255838],[174.69701663645057,-37.381128838857954],[174.2920284365792,-36.71109221776144],[174.31900353423555,-36.534823907213884],[173.84099653553577,-36.12198088963411],[173.05417117745958,-35.23712533950033],[172.6360054873537,-34.52910654066938],[173.00704227120946,-34.450661716450334],[173.55129845610747,-35.00618336358796],[174.32939049712624,-35.265495700828616],[174.61200890533053,-36.15639739354054]]]]}},{"type":"Feature","properties":{"admin":"Oman","name":"Oman","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[58.86114139184657,21.1140345321443],[58.48798587426696,20.4289859074671],[58.03431847517659,20.481437486243347],[57.8263725116341,20.24300242764863],[57.66576216007094,19.73600495043311],[57.78870039249337,19.067570298737646],[57.69439090356067,18.9447095809638],[57.2342639504338,18.947991034414255],[56.60965091332197,18.574267076079476],[56.51218916201948,18.087113348863934],[56.28352094912801,17.876066799383945],[55.66149173363068,17.884128322821535],[55.26993940615519,17.632309068263194],[55.27490034365509,17.22835439703766],[54.79100223167411,16.950696926333357],[54.23925296409375,17.04498057704998],[53.57050825380459,16.707662665264674],[53.1085726255475,16.651051133688977],[52.782184279192066,17.34974233649123],[52.00000980002223,19.00000336351607],[54.999981723862405,19.999994004796118],[55.66665937685987,22.000001125572307],[55.20834109886319,22.708329982997007],[55.23448937360287,23.11099274341535],[55.52584109886449,23.52486928964091],[55.52863162620829,23.9336040308535],[55.9812138202205,24.130542914317854],[55.80411868675624,24.269604193615287],[55.88623253766805,24.920830593357486],[56.396847365143984,24.924732163995508],[56.84514041527605,24.241673081961487],[57.40345258975743,23.878594468678834],[58.13694786970832,23.747930609628835],[58.72921146020543,23.565667832935414],[59.180501743410346,22.992395331305456],[59.45009769067703,22.660270900965592],[59.80806033716285,22.5336119654182],[59.80614830916809,22.31052480721419],[59.4421911965364,21.71454051359208],[59.28240766788987,21.433885809814875],[58.86114139184657,21.1140345321443]]],[[[56.39142133975339,25.895990708921254],[56.26104170108091,25.714606431576748],[56.070820753814544,26.055464178973946],[56.362017449779344,26.395934353128947],[56.48567915225381,26.309117946878665],[56.39142133975339,25.895990708921254]]]]}},{"type":"Feature","properties":{"admin":"Pakistan","name":"Pakistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[75.1580277851409,37.13303091078911],[75.89689741405012,36.66680613865183],[76.19284834178568,35.89840342868782],[77.83745079947455,35.49400950778776],[76.87172163280401,34.65354401299273],[75.75706098826832,34.50492259372131],[74.24020267120495,34.74888703057125],[73.74994835805195,34.317698879527846],[74.10429365427733,33.441473293586846],[74.4515592792787,32.76489960380549],[75.25864179881319,32.27110545504049],[74.405928989565,31.692639471965272],[74.42138024282026,30.97981476493117],[73.45063846221741,29.976413479119863],[72.82375166208469,28.961591701772047],[71.77766564320031,27.91318024343452],[70.61649620960192,27.98919627533586],[69.51439293811312,26.940965684511365],[70.168926629522,26.491871649678835],[70.28287316272558,25.722228705339823],[70.84469933460282,25.21510203704351],[71.0432401874682,24.356523952730193],[68.84259931831876,24.35913361256093],[68.17664513537338,23.691965033456704],[67.44366661974546,23.944843654876983],[67.14544192898906,24.66361115162464],[66.37282758979326,25.425140896093847],[64.53040774929111,25.237038682551425],[62.905700718034595,25.2184093287102],[61.49736290878418,25.078237006118492],[61.874187453056535,26.239974880472097],[63.31663170761958,26.75653249766166],[63.23389773952028,27.217047024030702],[62.75542565292985,27.378923448184985],[62.727830438085974,28.259644883735383],[61.771868117118615,28.699333807890792],[61.369308709564926,29.303276272085917],[60.87424848820878,29.829238999952604],[62.549856805272775,29.318572496044304],[63.550260858011164,29.468330796826162],[64.14800215033124,29.340819200145965],[64.3504187356185,29.56003062592809],[65.04686201361609,29.4721806910319],[66.34647260932441,29.88794342703617],[66.38145755398601,30.73889923758645],[66.93889122911845,31.304911200479346],[67.68339358914746,31.303154201781414],[67.79268924344477,31.582930406209623],[68.55693200060931,31.71331004488201],[68.92667687365766,31.620189113892064],[69.31776411324255,31.901412258424436],[69.26252200712254,32.50194407808829],[69.68714725126485,33.10549896904123],[70.32359419137158,33.358532619758385],[69.93054324735958,34.0201201441751],[70.88180301298839,33.98885590263851],[71.15677330921345,34.348911444632144],[71.11501875192162,34.73312571872223],[71.6130762063507,35.15320343682286],[71.49876793812108,35.650563259415996],[71.26234826038574,36.0743875188578],[71.84629194528391,36.50994232842985],[72.92002485544445,36.72000702569631],[74.06755171091781,36.836175645488446],[74.57589277537296,37.02084137628345],[75.1580277851409,37.13303091078911]]]}},{"type":"Feature","properties":{"admin":"Panama","name":"Panama","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-77.88157141794524,7.223771267114783],[-78.2149360826601,7.512254950384159],[-78.42916073272606,8.052041123888925],[-78.18209570993861,8.319182440621772],[-78.43546525746568,8.387705389840788],[-78.62212053090393,8.718124497915026],[-79.12030717641373,8.996092027213022],[-79.55787736684518,8.932374986197145],[-79.76057817251004,8.584515082224398],[-80.16448116730332,8.333315944853593],[-80.38265906443961,8.29840851484043],[-80.48068925649729,8.090307522001067],[-80.00368994822715,7.54752411542337],[-80.27667070180898,7.419754136581713],[-80.42115800649707,7.271571966984763],[-80.88640092642079,7.220541490096535],[-81.0595428128147,7.817921047390596],[-81.18971574575794,7.647905585150339],[-81.51951473664467,7.706610012233908],[-81.72131120474445,8.108962714058434],[-82.13144120962889,8.175392767769635],[-82.39093441438254,8.292362372262287],[-82.8200813463504,8.290863755725821],[-82.8509580146448,8.073822740099954],[-82.96578304719735,8.225027980985983],[-82.9131764391242,8.423517157419068],[-82.82977067740515,8.626295477732368],[-82.86865719270476,8.80726634361852],[-82.71918311230051,8.925708726431493],[-82.92715491405914,9.074330145702914],[-82.93289099804356,9.476812038608172],[-82.54619625520347,9.566134751824674],[-82.1871225654234,9.207448635286779],[-82.20758643261095,8.995575262890098],[-81.80856686066926,8.95061676679617],[-81.71415401887202,9.031955471223581],[-81.43928707551153,8.786234035675715],[-80.94730160187675,8.858503526235905],[-80.52190121125005,9.11107208906243],[-79.91459977895597,9.312765204297618],[-79.5733027818843,9.611610012241526],[-79.02119177927791,9.552931423374103],[-79.05845048696035,9.454565334506523],[-78.50088762074716,9.42045888919388],[-78.05592770049799,9.247730414258296],[-77.7295135159264,8.946844387238867],[-77.35336076527385,8.670504665558068],[-77.47472286651131,8.524286200388216],[-77.24256649444007,7.935278225125442],[-77.43110795765698,7.638061224798733],[-77.75341386586139,7.709839789252141],[-77.88157141794524,7.223771267114783]]]}},{"type":"Feature","properties":{"admin":"Peru","name":"Peru","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-69.59042375352404,-17.58001189541933],[-69.85844356960584,-18.09269378018701],[-70.3725723944777,-18.34797535570886],[-71.37525021023691,-17.77379851651385],[-71.46204077827112,-17.36348764411638],[-73.4445295885004,-16.359362888252992],[-75.23788265654143,-15.26568287522778],[-76.00920508492993,-14.649286390850317],[-76.42346920439773,-13.82318694423243],[-76.25924150257416,-13.535039157772939],[-77.10619238962181,-12.222716159720816],[-78.09215287953462,-10.377712497604062],[-79.03695309112692,-8.38656788496589],[-79.44592037628483,-7.930833428583859],[-79.76057817251004,-7.194340915560081],[-80.53748165558605,-6.541667575713715],[-81.24999630402641,-6.136834405139182],[-80.92634680858242,-5.690556735866563],[-81.41094255239943,-4.736764825055459],[-81.09966956248935,-4.036394138203696],[-80.30256059438719,-3.404856459164712],[-80.18401485870965,-3.821161797708043],[-80.46929460317692,-4.059286797708999],[-80.44224199087213,-4.425724379090673],[-80.02890804718558,-4.346090996928893],[-79.62497921417615,-4.454198093283494],[-79.20528906931771,-4.959128513207388],[-78.63989722361232,-4.547784112164072],[-78.45068396677563,-3.873096612161375],[-77.83790483265858,-3.003020521663103],[-76.6353942532267,-2.608677666843817],[-75.54499569365203,-1.56160979574588],[-75.23372270374193,-0.911416924649529],[-75.37322323271384,-0.15203175212045],[-75.10662451852006,-0.05720549886486],[-74.44160051135596,-0.530820000819887],[-74.12239518908905,-1.002832533373848],[-73.65950354683459,-1.260491224781134],[-73.07039221870721,-2.308954359550952],[-72.32578650581364,-2.434218031426453],[-71.77476070828538,-2.169789727388937],[-71.41364579942977,-2.342802422702128],[-70.81347571479195,-2.256864515800742],[-70.04770850287484,-2.725156345229699],[-70.6926820543097,-3.742872002785858],[-70.39404395209498,-3.766591485207825],[-69.89363521999661,-4.298186944194326],[-70.79476884630229,-4.251264743673302],[-70.92884334988356,-4.401591485210367],[-71.74840572781653,-4.59398284263301],[-72.89192765978724,-5.274561455916979],[-72.96450720894119,-5.741251315944892],[-73.2197112698146,-6.089188734566076],[-73.12002743192357,-6.629930922068238],[-73.72448666044163,-6.918595472850638],[-73.72340145536349,-7.340998630404412],[-73.98723548042965,-7.523829847853063],[-73.57105933296705,-8.424446709835832],[-73.01538265653254,-9.03283334720806],[-73.22671342639015,-9.462212823121233],[-72.56303300646563,-9.520193780152715],[-72.18489071316982,-10.05359791426943],[-71.30241227892152,-10.079436130415372],[-70.48189388699116,-9.490118096558842],[-70.5486856757284,-11.009146823778462],[-70.09375220404688,-11.12397185633101],[-69.52967810736493,-10.951734307502193],[-68.66507971868961,-12.56130014409717],[-68.88007951523996,-12.89972909917665],[-68.92922380234953,-13.602683607643007],[-68.94888668483658,-14.45363941819328],[-69.339534674747,-14.953195489158828],[-69.16034664577494,-15.323973890853015],[-69.3897641669347,-15.66012908291165],[-68.95963538275329,-16.500697930571267],[-69.59042375352404,-17.58001189541933]]]}},{"type":"Feature","properties":{"admin":"Philippines","name":"Philippines","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[126.37681359263745,8.414706325713352],[126.47851281138787,7.750354112168976],[126.53742394420061,7.189380601424572],[126.19677290253253,6.274294338400038],[125.83142052622908,7.293715318221855],[125.36385216685228,6.78648529706099],[125.6831608419837,6.049656887227257],[125.39651167206063,5.581003322772288],[124.21978763234233,6.16135549562618],[123.93871951710692,6.88513560630612],[124.24366214406132,7.360610459823659],[123.61021243702754,7.833527329942753],[123.29607140512519,7.418875637232786],[122.82550581267539,7.457374579290216],[122.08549930225577,6.899424139834847],[121.9199280131926,7.192119452336072],[122.31235884001711,8.034962063016506],[122.94239790251963,8.316236883981174],[123.48768761606351,8.693009751821192],[123.84115441293982,8.240324204944384],[124.6014697612502,8.514157619659015],[124.76461225799562,8.960409450715458],[125.47139082245154,8.98699697512964],[125.41211795461275,9.760334784377545],[126.22271447154316,9.28607432701885],[126.30663699758507,8.782487494334573],[126.37681359263745,8.414706325713352]]],[[[123.9824377788258,10.27877859134581],[123.62318322153277,9.950090643753297],[123.30992068897933,9.318268744336676],[122.99588300994164,9.022188625520398],[122.38005496631946,9.713360907424201],[122.58608890186707,9.981044826696104],[122.8370813335087,10.261156927934234],[122.9474105164519,10.881868394408029],[123.49884972543845,10.940624497923945],[123.33777428598472,10.267383938025445],[124.07793582570122,11.232725531453706],[123.9824377788258,10.27877859134581]]],[[[118.50458092659034,9.316382554558087],[117.17427453010067,8.367499904814663],[117.66447716682137,9.066888739452933],[118.38691369026174,9.684499619989223],[118.98734215706105,10.376292019080507],[119.51149620979753,11.36966807702721],[119.68967654833989,10.554291490109872],[119.02945844937898,10.00365326582387],[118.50458092659034,9.316382554558087]]],[[[121.8835478048591,11.891755072471977],[122.48382124236146,11.582187404827506],[123.12021650603596,11.583660183147867],[123.10083784392644,11.165933742716486],[122.63771365772669,10.741308498574226],[122.00261030485956,10.441016750526087],[121.96736697803652,10.905691229694622],[122.03837039600552,11.415840969280039],[121.8835478048591,11.891755072471977]]],[[[125.50255171112349,12.162694606978347],[125.78346479706215,11.046121934447767],[125.01188398651226,11.311454576050377],[125.03276126515811,10.975816148314703],[125.27744917206024,10.358722032101308],[124.80181928924571,10.13467885989989],[124.76016808481847,10.8379951033923],[124.45910119028605,10.889929917845633],[124.30252160044172,11.495370998577227],[124.89101281138157,11.415582587118589],[124.87799035044395,11.794189968304988],[124.2667615092957,12.557760931849682],[125.22711632700782,12.53572093347719],[125.50255171112349,12.162694606978347]]],[[[121.52739383350348,13.069590155484516],[121.26219038298154,12.2055602075644],[120.83389611214653,12.704496161342416],[120.32343631396748,13.466413479053866],[121.18012820850214,13.42969737391044],[121.52739383350348,13.069590155484516]]],[[[121.32130822152357,18.504064642811013],[121.93760135303637,18.21855235439838],[122.24600630095426,18.478949896717094],[122.33695682178796,18.224882717354173],[122.17427941293317,17.81028270107637],[122.51565392465335,17.09350474697197],[122.25231082569388,16.262444362854122],[121.66278608610826,15.931017564350125],[121.50506961475337,15.12481354416462],[121.72882856657725,14.328376369682244],[122.25892540902731,14.218202216035973],[122.70127566944564,14.336541245984417],[123.95029503794024,13.782130642141066],[123.8551070496586,13.237771104378464],[124.18128869028487,12.997527370653469],[124.07741906137822,12.536676947474573],[123.29803510955225,13.027525539598981],[122.9286519715299,13.552919826710404],[122.67135501514866,13.185836289925131],[122.03464969288052,13.784481919810343],[121.12638471891859,13.63668732345556],[120.6286373230833,13.857655747935649],[120.67938357959383,14.27101552983832],[120.99181928923052,14.52539276779508],[120.69333621631269,14.756670640517282],[120.56414513558298,14.39627920171382],[120.07042850146637,14.970869452367094],[119.9209285828461,15.406346747290735],[119.88377322802825,16.363704331929963],[120.28648766487879,16.034628811095327],[120.39004723519173,17.599081122299506],[120.7158671407919,18.505227362537536],[121.32130822152357,18.504064642811013]]]]}},{"type":"Feature","properties":{"admin":"Papua New Guinea","name":"Papua New Guinea","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[155.8800256695784,-6.819996840037758],[155.59999108298877,-6.919990736522491],[155.1669942568151,-6.535931491729299],[154.72919152243833,-5.900828138862208],[154.51411421123964,-5.139117526880012],[154.65250369691734,-5.042430922061839],[154.75999067608436,-5.339983819198493],[155.06291792217934,-5.566791680527486],[155.5477462099417,-6.200654799019658],[156.01996544822475,-6.540013929880386],[155.8800256695784,-6.819996840037758]]],[[[151.98279585185446,-5.478063246282344],[151.45910688700866,-5.560280450058739],[151.30139041565388,-5.840728448106701],[150.75444705627666,-6.083762709175387],[150.2411967307538,-6.317753594592984],[149.70996300679332,-6.316513360218051],[148.89006473205046,-6.026040134305432],[148.3189368023607,-5.74714242922613],[148.40182579975686,-5.437755629094722],[149.29841190002082,-5.583741550319216],[149.84556196512722,-5.505503431829339],[149.99625044169028,-5.026101169457674],[150.13975589416492,-5.001348158389788],[150.23690758687349,-5.53222014732428],[150.80746707580806,-5.455842380396886],[151.08967207255398,-5.113692722192368],[151.6478808941708,-4.757073662946168],[151.53786176982152,-4.167807305521889],[152.13679162008435,-4.148790378438519],[152.338743117481,-4.31296640382976],[152.31869266175175,-4.867661228050748],[151.98279585185446,-5.478063246282344]]],[[[147.19187381407494,-7.388024183789978],[148.08463585834937,-8.04410816816761],[148.73410525939357,-9.104663588093755],[149.30683515848443,-9.071435642130067],[149.26663089416132,-9.514406019736027],[150.0387284690343,-9.684318129111698],[149.73879845601226,-9.872937106977002],[150.80162763895913,-10.29368661869742],[150.69057498596385,-10.582712904505865],[150.02839318257583,-10.65247608809993],[149.78231001200197,-10.393267103723941],[148.92313764871722,-10.28092253992136],[147.913018426708,-10.13044076908747],[147.13544315001224,-9.492443536012017],[146.56788089415062,-8.942554619994153],[146.04848107318492,-8.067414239131308],[144.744167922138,-7.630128269077473],[143.89708784400966,-7.915330498896279],[143.28637576718427,-8.245491224809056],[143.41391320208066,-8.983068942910945],[142.62843143124422,-9.326820570516501],[142.0682589052002,-9.159595635620034],[141.03385176001387,-9.117892754760417],[141.017056919519,-5.85902190513802],[141.00021040259185,-2.600151055515624],[142.73524661679144,-3.289152927263216],[144.58397098203324,-3.861417738463401],[145.27317955950997,-4.373737888205027],[145.82978641172565,-4.876497897972683],[145.98192182839296,-5.465609226100012],[147.64807335834757,-6.083659356310803],[147.89110761941618,-6.614014580922315],[146.97090538959486,-6.721656589386255],[147.19187381407494,-7.388024183789978]]],[[[153.14003787659874,-4.499983412294113],[152.82729210836825,-4.766427097190998],[152.63867313050298,-4.176127211120927],[152.40602583232493,-3.789742526874561],[151.95323693258354,-3.462062269711821],[151.38427941305002,-3.035421644710111],[150.6620495953388,-2.741486097833956],[150.93996544820453,-2.500002129734028],[151.4799841656545,-2.779985039891386],[151.8200150901351,-2.999971612157907],[152.23998945537107,-3.24000864015366],[152.64001671774253,-3.659983005389647],[153.01999352438463,-3.980015150573293],[153.14003787659874,-4.499983412294113]]]]}},{"type":"Feature","properties":{"admin":"Poland","name":"Poland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[15.016995883858666,51.106674099321566],[14.607098422919531,51.745188096719964],[14.685026482815685,52.08994741475519],[14.437599725002197,52.62485016540838],[14.074521111719488,52.981262518925426],[14.353315463934136,53.24817129171296],[14.119686313542584,53.757029120491026],[14.802900424873455,54.050706285205735],[16.363477003655728,54.51315867778571],[17.62283165860867,54.8515359564329],[18.620858595461637,54.682605699270766],[18.69625451017546,54.438718777069276],[19.6606400896064,54.42608388937391],[20.89224450041862,54.31252492941252],[22.73109866709265,54.32753693299331],[23.243987257589506,54.22056671814913],[23.48412763844984,53.91249766704112],[23.527535841574995,53.47012156840654],[23.804934930117774,53.08973135030606],[23.799198846133375,52.69109935160655],[23.19949384938618,52.486977444053664],[23.50800215016869,52.02364655212472],[23.52707075368437,51.57845408793023],[24.0299857927489,50.705406602575174],[23.92275719574326,50.42488108987874],[23.42650841644439,50.30850576435745],[22.518450148211596,49.476773586619736],[22.77641889821262,49.02739533140961],[22.55813764821175,49.08573802346713],[21.607808058364206,49.47010732685408],[20.887955356538406,49.32877228453582],[20.41583947111985,49.431453355499755],[19.825022820726865,49.21712535256922],[19.32071251799047,49.57157400165918],[18.909574822676316,49.43584585224456],[18.85314415861361,49.496229763377634],[18.39291385262217,49.98862864847074],[17.649445021238986,50.04903839781994],[17.554567091551117,50.36214590107641],[16.868769158605655,50.473973700556016],[16.71947594571443,50.21574656839353],[16.176253289462263,50.4226073268579],[16.238626743238566,50.69773265237983],[15.490972120839725,50.7847299261432],[15.016995883858666,51.106674099321566]]]}},{"type":"Feature","properties":{"admin":"Puerto Rico","name":"Puerto Rico","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-66.2824344550082,18.51476166429536],[-65.77130286320929,18.426679185453875],[-65.59100379094293,18.228034979723912],[-65.84716386581376,17.975905666571855],[-66.59993445500947,17.98182261806927],[-67.18416236028526,17.946553453030074],[-67.24242753769434,18.374460150622934],[-67.10067908391773,18.520601101144347],[-66.2824344550082,18.51476166429536]]]}},{"type":"Feature","properties":{"admin":"North Korea","name":"Dem. Rep. Korea","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[130.6400159038524,42.39500946712527],[130.7800073589311,42.22000722916884],[130.400030552289,42.2800035670597],[129.96594852103723,41.94136790625105],[129.6673620952548,41.60110443782522],[129.70518924369244,40.88282786718432],[129.18811486217996,40.661807766271984],[129.0103996115282,40.4854361028598],[128.6333683615267,40.1898469101503],[127.96741417858132,40.02541250259755],[127.53343550019414,39.756850083976694],[127.50211958222528,39.323930772451526],[127.38543419811026,39.21347239842765],[127.78334272675771,39.050898342437414],[128.3497164246766,38.61224294692784],[128.20574588431143,38.37039724380188],[127.78003543509097,38.30453563084588],[127.07330854706734,38.25611481378839],[126.68371992401889,37.804772854151174],[126.23733890188174,37.84037791600027],[126.17475874237621,37.74968577732803],[125.68910363169717,37.940010077459014],[125.56843916229568,37.752088731429616],[125.27533043833618,37.66907054295271],[125.24008711151312,37.857224432927424],[124.98103315643395,37.94882090916477],[124.71216067921935,38.10834605564978],[124.98599409393395,38.54847422947967],[125.22194868377868,38.665857245430665],[125.13285851450749,38.84855927179858],[125.38658979706057,39.38795787206116],[125.32111575734677,39.5513845891842],[124.73748213104238,39.660344346671614],[124.26562462778529,39.92849335383415],[125.07994184784062,40.56982371679244],[126.1820451193294,41.10733612727636],[126.86908328664984,41.816569322266176],[127.34378299368299,41.50315176041596],[128.20843305879063,41.46677155208248],[128.05221520397228,41.994284572917934],[129.5966687358795,42.42498179785454],[129.9942672059332,42.98538686784378],[130.6400159038524,42.39500946712527]]]}},{"type":"Feature","properties":{"admin":"Portugal","name":"Portugal","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-9.034817674180244,41.88057058365967],[-8.671945766626719,42.13468943945495],[-8.26385698081779,42.280468654950326],[-8.01317460776991,41.79088613541712],[-7.422512986673794,41.79207469335982],[-7.251308966490822,41.91834605566504],[-6.668605515967655,41.88338694921958],[-6.389087693700914,41.38181549739464],[-6.851126674822551,41.11108266861751],[-6.864019944679383,40.33087189387482],[-7.026413133156593,40.18452423762424],[-7.066591559263527,39.71189158788277],[-7.498632371439724,39.6295710312418],[-7.098036668313126,39.03007274022378],[-7.374092169616317,38.373058580064914],[-7.029281175148794,38.07576406508976],[-7.166507941099863,37.80389435480222],[-7.537105475281022,37.42890432387623],[-7.45372555177809,37.09778758396605],[-7.855613165711985,36.83826854099625],[-8.382816127953687,36.97888011326245],[-8.898856980820325,36.86880931248077],[-8.746101446965552,37.6513455266766],[-8.839997524439879,38.26624339451761],[-9.28746375165522,38.35848582615859],[-9.526570603869713,38.737429104154906],[-9.44698889814023,39.39206614842836],[-9.048305223008425,39.755093085278766],[-8.97735348147168,40.1593061386658],[-8.7686840478771,40.76063894303018],[-8.790853237330309,41.18433401139125],[-8.990789353867568,41.543459377603625],[-9.034817674180244,41.88057058365967]]]}},{"type":"Feature","properties":{"admin":"Paraguay","name":"Paraguay","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-62.68505713565787,-22.24902922942238],[-62.2911793687292,-21.05163461678739],[-62.265961269770784,-20.513734633061272],[-61.78632646345376,-19.633736667562957],[-60.04356462262648,-19.34274667732742],[-59.11504248720609,-19.356906019775398],[-58.18347144228049,-19.86839934660036],[-58.16639238140804,-20.176700941653674],[-57.870673997617786,-20.732687676681948],[-57.93715572776129,-22.09017587655717],[-56.881509568902885,-22.282153822521476],[-56.47331743022938,-22.08630014413528],[-55.797958136606894,-22.356929620047815],[-55.61068274598113,-22.65561939869484],[-55.51763932963962,-23.57199757252663],[-55.40074723979541,-23.956935316668797],[-55.02790178080954,-24.001273695575225],[-54.65283423523512,-23.839578138933955],[-54.29295956075451,-24.021014092710722],[-54.293476325077435,-24.570799655863958],[-54.42894609233058,-25.162184747012162],[-54.62529069682356,-25.739255466415507],[-54.78879492859504,-26.621785577096126],[-55.69584550639814,-27.387837009390857],[-56.48670162619299,-27.548499037386286],[-57.609759690976134,-27.395898532828383],[-58.618173590719735,-27.12371876394709],[-57.63366004091112,-25.603656508081638],[-57.77721716981792,-25.162339776309032],[-58.80712846539497,-24.771459242453307],[-60.028966030504016,-24.032796319273267],[-60.84656470400991,-23.88071257903829],[-62.68505713565787,-22.24902922942238]]]}},{"type":"Feature","properties":{"admin":"Palestine","name":"Palestine","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.545665317534535,32.39399201103057],[35.545251906076196,31.782504787720832],[35.39756066258604,31.48908600516757],[34.927408481594554,31.35343537040141],[34.97050662612599,31.616778469360803],[35.22589155451242,31.75434113212176],[34.97464074070932,31.866582343059715],[35.18393029149143,32.532510687788935],[35.545665317534535,32.39399201103057]]]}},{"type":"Feature","properties":{"admin":"Qatar","name":"Qatar","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[50.81010827006956,24.75474253997137],[50.74391076030368,25.48242422128939],[51.01335167827348,26.00699168548419],[51.286461622936045,26.114582017515865],[51.58907881043724,25.801112779233375],[51.606700473848804,25.215670477798735],[51.38960778179062,24.62738597258805],[51.11241539897701,24.55633087818672],[50.81010827006956,24.75474253997137]]]}},{"type":"Feature","properties":{"admin":"Romania","name":"Romania","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.710531447040488,47.882193915389394],[23.1422363624068,48.09634105080694],[23.760958286237404,47.98559845640545],[24.402056105250374,47.98187775328042],[24.86631717296057,47.73752574318831],[25.207743361112986,47.89105642352746],[25.945941196402394,47.98714874937421],[26.197450392366925,48.22088125263034],[26.61933678559779,48.22072622333346],[26.92417605968756,48.12326447203098],[27.233872918412736,47.826770941756365],[27.55116621268484,47.40511709247082],[28.128030226359037,46.81047638608824],[28.160017937947707,46.37156260841721],[28.054442986775392,45.94458608660562],[28.233553501099035,45.48828318946837],[28.67977949393937,45.30403087013169],[29.149724969201646,45.46492544207244],[29.603289015427425,45.29330801043112],[29.62654340995876,45.03539093686239],[29.14161176933183,44.82021027279904],[28.837857700320196,44.91387380632804],[28.55808149589199,43.70746165625812],[27.970107049275068,43.8124681666752],[27.242399529740904,44.1759860296324],[26.06515872569974,43.94349376075126],[25.569271681426923,43.68844472917471],[24.10067915212417,43.741051337247846],[23.33230228037632,43.89701080990471],[22.94483239105184,43.82378530534712],[22.657149692482985,44.234923000661276],[22.474008416440594,44.40922760678176],[22.70572553883735,44.578002834647016],[22.459022251075933,44.70251719825429],[22.145087924902807,44.47842234962057],[21.562022739353605,44.768947251965486],[21.483526238702233,45.18117015235777],[20.87431277841335,45.41637543393423],[20.76217492033998,45.73457306577143],[20.220192498462833,46.12746898048655],[21.021952345471245,46.316087958351886],[21.62651492685387,46.99423777931815],[22.09976769378283,47.672439276716695],[22.710531447040488,47.882193915389394]]]}},{"type":"Feature","properties":{"admin":"Russia","name":"Russia","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[143.64800744036285,50.74760040954151],[144.6541475770856,48.97639069273758],[143.17392785051717,49.306551418650365],[142.55866824765008,47.86157501890491],[143.53349246640403,46.83672801369248],[143.5052771343726,46.137907619809475],[142.7477006369739,46.74076487892656],[142.09203006405448,45.96675527605878],[141.906925083585,46.805928860046535],[142.01844282447087,47.78013296161292],[141.90444461483503,48.85918854429956],[142.13580000220566,49.61516307229745],[142.17998335181528,50.9523424342819],[141.59407596249002,51.93543488220253],[141.68254601457363,53.30196645772877],[142.60693403541075,53.76214508728789],[142.20974897681538,54.22547597921685],[142.65478641171293,54.365880845753864],[142.91461551327654,53.704577541714734],[143.26084760963204,52.74076040303903],[143.23526777564763,51.75666026468873],[143.64800744036285,50.74760040954151]]],[[[22.73109866709265,54.32753693299331],[20.892244500418652,54.31252492941257],[19.6606400896064,54.42608388937397],[19.88848147958134,54.86616038677148],[21.268448927503492,55.19048167583528],[22.3157235043306,55.015298570365886],[22.75776370615528,54.856574408581416],[22.651051873472564,54.58274099386669],[22.73109866709265,54.32753693299331]]],[[[180.0000000000001,70.83219920854667],[178.903425,70.78114],[178.7253,71.0988],[180.0000000000001,71.51571433642825],[180.0000000000001,70.83219920854667]]],[[[143.60385,73.21244],[142.08763,73.20544],[140.038155,73.31692],[139.86312,73.36983],[140.81171,73.76506],[142.06207,73.85758],[143.48283,73.47525],[143.60385,73.21244]]],[[[150.73167,75.08406],[149.575925,74.68892],[147.977465,74.778355],[146.11919,75.17298],[146.358485,75.49682],[148.22223,75.345845],[150.73167,75.08406]]],[[[145.086285,75.562625],[144.3,74.82],[140.61381,74.84768],[138.95544,74.61148],[136.97439,75.26167],[137.51176,75.94917],[138.831075,76.13676],[141.471615,76.09289],[145.086285,75.562625]]],[[[57.535692579992386,70.72046397570215],[56.94497928246393,70.63274323188665],[53.67737511578419,70.76265778266846],[53.41201663596537,71.20666168892019],[51.60189456564571,71.47475901965048],[51.45575361512421,72.01488108996513],[52.478275180883564,72.22944163684095],[52.44416873557084,72.77473135038484],[54.42761355979765,73.62754751249757],[53.508289829325136,73.74981395130014],[55.902458937407644,74.62748647734533],[55.6319328143597,75.08141225859715],[57.86864383324884,75.60939036732319],[61.1700443866475,76.25188345000812],[64.49836836127021,76.43905548776927],[66.21097700385509,76.80978221303123],[68.15705976753482,76.9396967638129],[68.85221113472512,76.5448113064546],[68.18057254422764,76.2336416694091],[64.637326287703,75.73775462513622],[61.58350752141475,75.26088450794678],[58.477082147053366,74.30905630156282],[56.98678551618799,73.33304352486623],[55.41933597191094,72.37126760526596],[55.62283776227629,71.54059479439032],[57.535692579992386,70.72046397570215]]],[[[106.97013000000011,76.97419],[107.24000000000012,76.48],[108.1538,76.72335000000014],[111.07726000000014,76.71],[113.33151,76.22224],[114.13417,75.84764],[113.88539,75.32779000000012],[112.77918,75.03186],[110.15125000000018,74.47673],[109.4,74.18],[110.64,74.04],[112.11919,73.78774000000011],[113.01954000000023,73.97693000000014],[113.5295800000003,73.33505],[113.96881,73.59488],[115.56782,73.75285],[118.77633000000021,73.58772],[119.02,73.12],[123.20066,72.97122],[123.25777000000018,73.73503],[125.38000000000017,73.56],[126.97644,73.56549],[128.59126,73.03871],[129.05157,72.39872],[128.46,71.98],[129.7159900000002,71.19304],[131.28858000000025,70.7869900000001],[132.25350000000014,71.8363],[133.8576600000003,71.38642000000014],[135.56193,71.65525000000012],[137.49755,71.34763],[138.23409000000012,71.62803],[139.86983,71.48783000000012],[139.14791,72.4161900000001],[140.46817,72.84941000000013],[149.5,72.2],[150.35118000000017,71.60643],[152.9689000000002,70.84222],[157.00688,71.03141],[158.99779,70.86672],[159.83031000000022,70.45324],[159.70866,69.72198],[160.94053000000028,69.43728],[162.2790700000001,69.64204],[164.05248,69.66823],[165.94037000000017,69.47199],[167.83567,69.58269],[169.57763000000017,68.6938],[170.81688000000025,69.01363],[170.00820000000016,69.65276],[170.45345000000026,70.09703],[173.6439100000002,69.81743],[175.72403000000017,69.87725000000022],[178.6,69.4],[180.0000000000001,68.96363636363655],[180.0000000000001,64.97970870219847],[179.99281,64.97433],[178.7072000000002,64.53493],[177.41128000000015,64.60821],[178.3130000000002,64.07593],[178.90825000000018,63.25197000000013],[179.37034,62.98262],[179.48636,62.56894],[179.22825000000012,62.30410000000013],[177.3643,62.5219],[174.5692900000002,61.76915],[173.68013,61.65261],[172.15,60.95],[170.6985,60.33618],[170.33085000000028,59.88177],[168.90046,60.57355],[166.29498000000027,59.7885500000002],[165.8400000000002,60.16],[164.87674,59.7316],[163.5392900000001,59.86871],[163.21711000000022,59.21101],[162.01733,58.24328],[162.05297,57.83912],[163.19191,57.61503],[163.05794000000014,56.15924000000011],[162.1295800000002,56.12219],[161.70146,55.28568000000015],[162.11749000000012,54.85514],[160.36877000000032,54.34433],[160.02173000000022,53.20257],[158.53094000000016,52.958680000000236],[158.23118,51.94269],[156.78979000000027,51.01105],[156.42000000000013,51.7],[155.99182,53.15895],[155.43366,55.38103000000011],[155.9144200000003,56.76792000000013],[156.75815,57.3647],[156.81035,57.83204],[158.36433000000017,58.05575],[160.15064000000012,59.31477000000011],[161.87204,60.34300000000012],[163.66969,61.1409],[164.4735500000001,62.55061],[163.25842000000017,62.46627],[162.65791,61.6425],[160.12148,60.54423],[159.30232,61.77396],[156.72068,61.43442],[154.2180600000003,59.75818000000012],[155.04375,59.14495],[152.81185,58.88385],[151.26573000000025,58.78089],[151.33815,59.50396],[149.78371,59.655730000000126],[148.54481,59.16448],[145.48722,59.33637],[142.19782000000012,59.03998],[138.9584800000003,57.08805],[135.12619,54.72959],[136.70171,54.60355000000011],[137.19342,53.97732],[138.1647,53.75501000000025],[138.80463,54.25455],[139.90151,54.189680000000166],[141.34531,53.08957000000011],[141.37923,52.23877],[140.59742000000017,51.23967],[140.51308,50.04553000000011],[140.0619300000002,48.44671000000015],[138.5547200000002,46.99965],[138.21971,46.30795],[136.86232,45.143500000000174],[135.51535000000018,43.989],[134.86939000000024,43.39821],[133.53687000000025,42.81147],[132.90627,42.79849],[132.27807000000024,43.284560000000106],[130.93587000000014,42.55274],[130.78,42.22000000000019],[130.64000000000016,42.395],[130.6338664084098,42.90301463477054],[131.14468794161496,42.92998973242693],[131.2885551291156,44.11151968034825],[131.02519000000024,44.96796],[131.88345421765956,45.32116160743651],[133.0971200000002,45.14409],[133.76964399631316,46.11692698829915],[134.11235000000016,47.21248000000013],[134.50081,47.57845000000014],[135.02631147678676,48.4782298854439],[133.373595819228,48.183441677434836],[132.5066900000001,47.78896],[130.9872600000001,47.79013],[130.58229332898264,48.72968740497619],[129.39781782442049,49.4406000840156],[127.65740000000035,49.76027],[127.2874556824849,50.739797268265434],[126.93915652883783,51.353894151405896],[126.56439904185696,51.78425547953269],[125.94634891164644,52.792798570356936],[125.06821129771043,53.161044826868924],[123.57147,53.4588],[122.24574791879304,53.43172597921368],[121.00308475147035,53.25140106873123],[120.17708865771687,52.753886216841195],[120.72578901579197,52.51622630473089],[120.7382,51.96411],[120.18208000000016,51.64355],[119.27939,50.58292],[119.28846072802584,50.14288279886195],[117.87924441942647,49.510983384797036],[116.67880089728618,49.8885313991214],[115.48569542853141,49.80517731383473],[114.96210981655035,50.14024730081512],[114.36245649623532,50.24830272073747],[112.89773969935436,49.543565375356984],[111.58123091028665,49.37796824807767],[110.66201053267883,49.130128078805846],[109.40244917199671,49.292960516957685],[108.47516727095127,49.282547715850704],[107.86817589725109,49.79370514586587],[106.8888041524553,50.274295966180276],[105.88659142458687,50.40601919209216],[104.62158,50.27532000000016],[103.67654544476034,50.08996613219513],[102.25589,50.510560000000105],[102.06521,51.25991],[100.88948042196263,51.51685578063841],[99.98173221232356,51.63400625264395],[98.86149051310049,52.0473660345467],[97.82573978067451,51.010995184933236],[98.2317615091917,50.422400621128716],[97.2597600000002,49.72605],[95.81402000000016,49.977460000000114],[94.81594933469876,50.01343333597088],[94.1475663594356,50.48053660745716],[93.10421,50.49529],[92.23471154171968,50.80217072204174],[90.71366743364077,50.3318118353211],[88.80556684769557,49.47052073831246],[87.75126427607682,49.29719798440554],[87.35997033076269,49.21498078062915],[86.82935672398965,49.82667470966813],[85.54126997268249,49.69285858824815],[85.11555952346208,50.11730296487763],[84.41637739455304,50.31139964456582],[83.9351147806189,50.88924551045356],[83.38300377801245,51.06918284769388],[81.94598554883994,50.812195949906325],[80.56844689323545,51.388336493528435],[80.0355595234417,50.86475088154721],[77.80091556184432,53.40441498474753],[76.52517947785475,54.17700348572713],[76.89110029491344,54.49052440044191],[74.38482000000012,53.54685000000011],[73.42567874542051,53.48981028910974],[73.50851606638436,54.03561676697659],[72.2241500182022,54.37665538188678],[71.18013105660947,54.13328522400825],[70.86526655465515,55.16973358827009],[69.06816694527289,55.38525014914349],[68.1691003762589,54.970391750704366],[65.66687,54.60125000000015],[65.17853356309594,54.354227810272064],[61.436600000000126,54.00625],[60.978066440683236,53.66499339457913],[61.69998619980062,52.979996446334255],[60.73999311711453,52.719986477257734],[60.92726850774024,52.447548326215],[59.96753380721557,51.96042043721566],[61.588003371024136,51.27265879984317],[61.337424350841,50.79907013610425],[59.932807244715555,50.84219411885182],[59.642282342370564,50.54544220641571],[58.36332000000012,51.06364],[56.77798,51.04355],[55.71694,50.62171000000014],[54.53287845237618,51.02623973245936],[52.32872358583104,51.71865224873809],[50.766648390512174,51.69276235615986],[48.702381626181044,50.605128485712825],[48.5778414243576,49.87475962991563],[47.54948042174938,50.45469839131112],[46.751596307162764,49.356005764353725],[47.043671502476585,49.15203888609757],[46.46644575377629,48.39415233010492],[47.31524000000015,47.71585],[48.05725,47.74377],[48.69473351420187,47.075628160177885],[48.59325000000014,46.56104],[49.10116000000012,46.39933],[48.645410000000105,45.80629],[47.67591,45.64149000000011],[46.68201,44.6092],[47.59094,43.66016000000012],[47.49252,42.98658],[48.58437000000017,41.80888],[47.98728315612603,41.40581920019439],[47.81566572448465,41.15141612402134],[47.37331546406639,41.219732367511135],[46.68607059101671,41.8271371526699],[46.404950799348924,41.860675157227426],[45.7764,42.092440000000224],[45.47027916848591,42.50278066667004],[44.53762291848206,42.71199270280368],[43.93121,42.5549600000001],[43.75599000000018,42.74083],[42.394400000000154,43.2203],[40.92219000000013,43.38215000000013],[40.07696495947984,43.55310415300249],[39.95500857927108,43.43499766699929],[38.68,44.28],[37.5391200000001,44.65721],[36.67546000000012,45.24469],[37.40317,45.40451],[38.23295,46.24087],[37.67372,46.63657],[39.14767,47.04475000000013],[39.12120000000012,47.26336],[38.22353803889947,47.10218984637597],[38.2551123390298,47.546400458356956],[38.77057,47.82562000000023],[39.73827762223898,47.89893707945207],[39.895620000000136,48.23241],[39.67465,48.78382000000013],[40.08078901546948,49.307429917999364],[40.06904000000011,49.60105],[38.59498823421355,49.92646190042372],[38.01063113785707,49.915661526074715],[37.39345950699523,50.383953355503664],[36.62616784032539,50.22559092874513],[35.35611616388811,50.57719737405914],[35.37791,50.77394],[35.02218305841793,51.207572333371495],[34.2248157081544,51.25599315042892],[34.14197838719061,51.56641347920619],[34.39173058445723,51.76888174092589],[33.75269982273587,52.335074571331646],[32.71576053236716,52.23846548116216],[32.41205813978777,52.28869497334976],[32.15944000000021,52.0612500000001],[31.78597,52.10168],[31.540018344862254,52.74205231384643],[31.305200636527978,53.0739958766733],[31.49764,53.167430000000124],[32.30451948418837,53.13272614197284],[32.69364301934612,53.35142080343214],[32.40559858575116,53.618045355842],[31.731272820774585,53.79402944601201],[31.7914241879624,53.97463857687218],[31.38447228366382,54.157056382862365],[30.757533807098774,54.81177094178439],[30.971835971813245,55.08154775656412],[30.873909132620064,55.55097646750351],[29.896294386522435,55.789463202530484],[29.371571893030783,55.67009064393626],[29.22951338066039,55.9183442246664],[28.176709425577933,56.16912995057878],[27.85528201672252,56.75932648378436],[27.770015903440985,57.24425812441119],[27.288184848751648,57.4745283067039],[27.71668582531577,57.79189911562444],[27.420150000000202,58.72457000000013],[28.131699253051856,59.30082510033098],[27.98112,59.47537],[29.1177,60.02805000000011],[28.07,60.50352000000014],[30.211107212044645,61.78002777774967],[31.13999108249103,62.35769277612443],[31.516092156711263,62.8676874864129],[30.035872430142796,63.55281362573855],[30.444684686003736,64.20445343693906],[29.544429559047014,64.94867157659054],[30.21765,65.80598],[29.054588657352376,66.94428620062202],[29.97742638522069,67.69829702419274],[28.445943637818765,68.36461294216399],[28.591929559043358,69.06477692328669],[29.39955,69.15692000000017],[31.101080000000103,69.55811],[32.132720000000255,69.90595000000023],[33.77547,69.3014200000001],[36.51396,69.06342],[40.29234000000016,67.9324],[41.059870000000124,67.4571300000001],[41.125950000000174,66.79158000000011],[40.01583,66.26618000000012],[38.38295,65.99953],[33.91871000000017,66.75961],[33.18444,66.63253],[34.81477,65.90015000000012],[34.87857425307876,65.43621287704819],[34.94391000000015,64.41437000000015],[36.23129,64.10945],[37.01273000000011,63.84983],[37.14197000000014,64.33471],[36.5395790350898,64.76446],[37.176040000000135,65.14322000000011],[39.59345,64.52079000000016],[40.4356,64.76446],[39.76260000000015,65.49682],[42.09309,66.47623],[43.01604000000011,66.41858],[43.94975000000013,66.06908],[44.53226,66.75634000000012],[43.69839,67.35245],[44.187950000000136,67.95051],[43.45282,68.57079],[46.250000000000135,68.25],[46.821340000000156,67.68997],[45.55517,67.56652],[45.56202,67.01005000000019],[46.34915000000014,66.66767],[47.89416000000025,66.88455000000015],[48.13876,67.52238],[50.22766000000014,67.99867000000013],[53.717430000000164,68.85738],[54.47171,68.80815],[53.48582000000012,68.20131],[54.72628,68.09702],[55.442680000000124,68.43866],[57.31702000000015,68.46628],[58.802000000000206,68.88082],[59.94142000000018,68.27844],[61.077840000000165,68.94069],[60.03,69.52],[60.55,69.85],[63.50400000000015,69.54739],[64.888115,69.23483500000013],[68.51216000000011,68.09233000000016],[69.18068,68.61563000000011],[68.16444,69.14436],[68.13522,69.35649],[66.9300800000001,69.4546100000001],[67.25976,69.92873],[66.72492000000013,70.70889000000012],[66.69466,71.02897000000023],[68.54006000000011,71.93450000000023],[69.19636,72.84336000000015],[69.94,73.04000000000012],[72.58754,72.77629],[72.79603,72.22006],[71.84811,71.40898],[72.47011,71.09019],[72.79188,70.39114],[72.5647000000002,69.02085],[73.66787,68.4079],[73.2387,67.7404],[71.2800000000001,66.32000000000015],[72.42301000000015,66.17267000000017],[72.82077,66.53267],[73.92099000000013,66.78946000000012],[74.18651000000018,67.28429],[75.052,67.76047000000015],[74.46926000000015,68.32899],[74.93584,68.98918],[73.84236,69.07146],[73.6018700000002,69.62763],[74.3998,70.63175],[73.1011,71.44717000000024],[74.8908200000002,72.12119],[74.65926,72.83227],[75.15801000000017,72.85497000000011],[75.68351,72.30056000000012],[75.28898000000011,71.33556],[76.35911,71.15287000000014],[75.90313000000016,71.87401],[77.5766500000001,72.26717],[79.6520200000001,72.32011],[81.5,71.75],[80.61071,72.58285000000011],[80.51109,73.6482],[82.25,73.85],[84.65526,73.80591000000015],[86.82230000000023,73.93688],[86.00956,74.45967000000014],[87.16682000000014,75.11643],[88.31571,75.14393],[90.26,75.64],[92.90058,75.77333],[93.23421000000013,76.0472],[95.86000000000013,76.14],[96.67821,75.91548],[98.9225400000002,76.44689],[100.7596700000002,76.43028],[101.03532,76.86189],[101.9908400000001,77.28754000000019],[104.3516,77.69792],[106.06664000000013,77.37389],[104.70500000000021,77.1274],[106.97013000000011,76.97419]]],[[[105.07547,78.30689],[99.43814,77.921],[101.2649,79.23399],[102.08635,79.34641],[102.837815,79.28129],[105.37243,78.71334],[105.07547,78.30689]]],[[[51.136186557831266,80.54728017854093],[49.79368452332069,80.4154277615482],[48.894411248577526,80.33956675894369],[48.75493655782175,80.17546824820083],[47.58611901224415,80.01018117951533],[46.50282596210965,80.24724681265434],[47.0724552752629,80.55942414012945],[44.84695804218111,80.58980988231717],[46.799138624871226,80.77191762971363],[48.31847741068465,80.78400991486993],[48.52280602396668,80.51456899690014],[49.0971895688909,80.75398590770841],[50.0397676938946,80.91888540315179],[51.52293297710368,80.6997256538019],[51.136186557831266,80.54728017854093]]],[[[99.93976,78.88094],[97.75794,78.7562],[94.97259,79.044745],[93.31288,79.4265],[92.5454,80.14379],[91.18107,80.34146],[93.77766,81.0246],[95.940895,81.2504],[97.88385,80.746975],[100.186655,79.780135],[99.93976,78.88094]]]]}},{"type":"Feature","properties":{"admin":"Rwanda","name":"Rwanda","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[30.419104852019235,-1.134659112150416],[30.816134881317705,-1.698914076345388],[30.758308953583104,-2.287250257988368],[30.46969607923298,-2.413857517103458],[29.938359002407935,-2.348486830254238],[29.632176141078585,-2.917857761246096],[29.02492638521678,-2.839257907730157],[29.117478875451546,-2.292211195488384],[29.254834832483336,-2.215109958508911],[29.29188683443661,-1.620055840667987],[29.579466180140876,-1.341313164885626],[29.821518588996003,-1.443322442229785],[30.419104852019235,-1.134659112150416]]]}},{"type":"Feature","properties":{"admin":"Western Sahara","name":"W. Sahara","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-8.794883999049075,27.120696316022503],[-8.81782833498667,27.65642588959235],[-8.665589565454805,27.65642588959235],[-8.66512447756419,27.58947907155822],[-8.68439978680905,27.395744126896],[-8.687293667017398,25.8810562199889],[-11.969418911171159,25.93335276946826],[-11.93722449385332,23.374594224536164],[-12.874221564169574,23.28483226164517],[-13.118754441774708,22.77122020109625],[-12.929101935263528,21.32707062426756],[-16.84519365077399,21.333323472574875],[-17.063423224342568,20.99975210213082],[-17.020428432675736,21.422310288981475],[-17.002961798561085,21.420734157796574],[-14.750954555713532,21.50060008390366],[-14.630832688851068,21.8609398462749],[-14.221167771857251,22.310163072188153],[-13.891110398809044,23.691009019459297],[-12.500962693725368,24.770116278578193],[-12.030758836301613,26.030866197203036],[-11.718219773800353,26.104091701760616],[-11.392554897496977,26.883423977154358],[-10.551262579785272,26.99080760345688],[-10.18942420087758,26.8609447291074],[-9.735343390328877,26.8609447291074],[-9.413037482124464,27.088476060488514],[-8.794883999049075,27.120696316022503]]]}},{"type":"Feature","properties":{"admin":"Saudi Arabia","name":"Saudi Arabia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[42.77933230975096,16.34789134364868],[42.64957278826607,16.77463532151496],[42.347989129410706,17.075805568911996],[42.27088789243122,17.47472178798912],[41.75438195167395,17.83304616950097],[41.22139122901557,18.671599636301206],[40.93934126156653,19.486485297111752],[40.24765221533982,20.174634507726488],[39.801684604660934,20.338862209550054],[39.13939944840828,21.29190481209293],[39.02369591650678,21.98687531177019],[39.06632897314758,22.579655666590263],[38.492772251140075,23.68845103606085],[38.023860304523616,24.078685614512928],[37.48363488134438,24.28549469654501],[37.15481774267118,24.8584829777973],[37.209491408035994,25.084541530858104],[36.93162723160258,25.602959499610172],[36.63960371272122,25.82622752532722],[36.24913659032381,26.570135606384873],[35.640181512196385,27.376520494083415],[35.130186801907875,28.06335195567471],[34.63233605320797,28.05854604747156],[34.78777876154194,28.60742727305969],[34.83222049331294,28.95748342540484],[34.95603722508425,29.356554673778835],[36.06894087092205,29.19749461518445],[36.50121422704358,29.5052536076987],[36.74052778498724,29.865283311476183],[37.50358198420903,30.003776150018396],[37.668119744626374,30.338665269485894],[37.99884891129437,30.508499864213128],[37.002165561681004,31.508412990844736],[39.004885695152545,32.01021698661497],[39.19546837744496,32.16100881604266],[40.39999433773624,31.88999176688793],[41.88998091000783,31.190008653278362],[44.709498732284736,29.178891099559376],[46.56871341328174,29.099025173452283],[47.45982181172282,29.002519436147217],[47.70885053893738,28.526062730416136],[48.41609419128394,28.552004299426663],[48.80759484232716,27.689627997339876],[49.299554477745815,27.461218166609804],[49.47091352722565,27.109999294538078],[50.152422316290874,26.689663194275994],[50.21293541850467,26.27702688242537],[50.11330325704593,25.943972276304248],[50.23985883972874,25.608049628190923],[50.52738650900073,25.3278083358721],[50.660556675016885,24.99989553476402],[50.81010827006956,24.75474253997137],[51.11241539897701,24.55633087818672],[51.38960778179062,24.62738597258805],[51.57951867046326,24.2454971379511],[51.61770755392697,24.014219265228824],[52.00073327007432,23.001154486578937],[55.0068030129249,22.49694753670713],[55.20834109886319,22.70832998299704],[55.66665937685981,22.000001125572336],[54.999981723862355,19.999994004796104],[52.00000980002223,19.000003363516054],[49.11667158386486,18.61666758877494],[48.183343540241324,18.16666921637731],[47.466694777217626,17.116681626854877],[47.00000491718975,16.949999294497438],[46.74999433776164,17.283338120996174],[46.36665856302053,17.233315334537632],[45.39999922056875,17.333335069238554],[45.21665123879718,17.43332896572333],[44.06261315285507,17.41035879156959],[43.791518589051904,17.319976711491105],[43.3807943051961,17.579986680567668],[43.11579756040335,17.08844045660737],[43.218375278502734,16.666889960186406],[42.77933230975096,16.34789134364868]]]}},{"type":"Feature","properties":{"admin":"Sudan","name":"Sudan","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[33.96339279497118,9.464285229420623],[33.824963480907506,9.48406084571536],[33.842130853028145,9.981914637215992],[33.7219592481831,10.32526207963019],[33.20693808456178,10.72011163840659],[33.08676647971673,11.441141267476493],[33.20693808456178,12.179338268667093],[32.74341903730254,12.24800775714999],[32.67474954881964,12.024831919580716],[32.07389152459478,11.973329803218517],[32.314234734284746,11.681484477166519],[32.40007159488834,11.080626452941486],[31.85071568702551,10.531270545078822],[31.352861895524875,9.810240916008693],[30.837840731903377,9.707236683284519],[29.996639497988546,10.290927335388684],[29.618957311332842,10.084918869940223],[29.515953078608607,9.793073543888053],[29.000931914987166,9.604232450560287],[28.96659717074578,9.398223985111654],[27.970889587744345,9.398223985111654],[27.833550610778783,9.604232450560287],[27.112520981708876,9.638567194801622],[26.75200616717381,9.466893473594492],[26.477328213242508,9.552730334198086],[25.96230704962101,10.136420986302422],[25.790633328413943,10.411098940233726],[25.06960369934398,10.27375996326799],[24.79492574541268,9.810240916008693],[24.537415163602017,8.917537565731719],[24.194067721187643,8.728696472403895],[23.886979580860665,8.619729712933063],[23.805813429466745,8.666318874542522],[23.45901289235598,8.954285793489019],[23.39477908701729,9.26506785729225],[23.557249790142915,9.681218166538766],[23.554304233502187,10.089255275915319],[22.97754357269275,10.714462591998538],[22.864165480244246,11.142395127807616],[22.87622,11.38461000000012],[22.50869,11.67936],[22.49762,12.26024],[22.28801,12.64605],[21.93681,12.588180000000133],[22.03759,12.95546],[22.29658,13.37232],[22.18329,13.78648],[22.51202,14.09318],[22.30351,14.32682],[22.567950000000106,14.944290000000134],[23.02459,15.68072],[23.8868900000001,15.61084],[23.837660000000135,19.5804700000001],[23.85000000000013,20],[25.00000000000011,20.00304],[25.00000000000011,22],[29.02,22],[32.9,22],[36.86623,22],[37.18872,21.01885],[36.96941,20.837440000000125],[37.114700000000134,19.80796],[37.48179,18.61409],[37.86276,18.36786],[38.41008995947322,17.99830739997031],[37.9040000000001,17.42754],[37.16747,17.263140000000128],[36.85253000000011,16.95655],[36.75389,16.29186],[36.32322,14.82249],[36.42951,14.42211],[36.27022,13.563330000000118],[35.86363,12.57828],[35.26049,12.08286],[34.831630000000125,11.318960000000116],[34.73115000000012,10.910170000000106],[34.25745,10.63009],[33.96162,9.58358],[33.96339279497118,9.464285229420623]]]}},{"type":"Feature","properties":{"admin":"South Sudan","name":"S. Sudan","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[33.96339279497118,9.464285229420623],[33.97498,8.68456],[33.82550000000014,8.37916],[33.294800000000116,8.35458],[32.95418,7.7849700000001],[33.56829,7.71334],[34.0751,7.22595],[34.25032,6.82607],[34.70702,6.59422000000012],[35.298007118233095,5.506],[34.620196267853935,4.847122742082034],[34.005,4.249884947362147],[33.39,3.79],[32.68642,3.79232],[31.881450000000136,3.55827],[31.24556,3.7819],[30.83385,3.50917],[29.95349,4.1737],[29.715995314256013,4.600804755060152],[29.159078403446635,4.389267279473244],[28.696677687298795,4.455077215996993],[28.42899376802699,4.287154649264607],[27.979977247842946,4.408413397637388],[27.374226108517625,5.233944403500173],[27.21340905122525,5.550953477394613],[26.46590945812329,5.946717434101855],[26.213418409945113,6.546603298362127],[25.796647983511257,6.979315904158169],[25.124130893664805,7.500085150579422],[25.114932488716867,7.825104071479244],[24.56736901215219,8.229187933785452],[23.886979580860665,8.619729712933063],[24.194067721187643,8.728696472403895],[24.537415163602017,8.917537565731719],[24.79492574541268,9.810240916008693],[25.06960369934398,10.27375996326799],[25.790633328413943,10.411098940233726],[25.96230704962101,10.136420986302422],[26.477328213242508,9.552730334198086],[26.75200616717381,9.466893473594492],[27.112520981708876,9.638567194801622],[27.833550610778783,9.604232450560287],[27.970889587744345,9.398223985111654],[28.96659717074578,9.398223985111654],[29.000931914987166,9.604232450560287],[29.515953078608607,9.793073543888053],[29.618957311332842,10.084918869940223],[29.996639497988546,10.290927335388684],[30.837840731903377,9.707236683284519],[31.352861895524875,9.810240916008693],[31.85071568702551,10.531270545078822],[32.40007159488834,11.080626452941486],[32.314234734284746,11.681484477166519],[32.07389152459478,11.973329803218517],[32.67474954881964,12.024831919580716],[32.74341903730254,12.24800775714999],[33.20693808456178,12.179338268667093],[33.08676647971673,11.441141267476493],[33.20693808456178,10.72011163840659],[33.7219592481831,10.32526207963019],[33.842130853028145,9.981914637215992],[33.824963480907506,9.48406084571536],[33.96339279497118,9.464285229420623]]]}},{"type":"Feature","properties":{"admin":"Senegal","name":"Senegal","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-16.713728807023468,13.594958604379853],[-17.12610673671261,14.37351573328922],[-17.625042690490655,14.72954051356407],[-17.185172898822227,14.91947724045286],[-16.70070634608592,15.621527411354107],[-16.46309811040788,16.135036119038457],[-16.120690070041928,16.45566254319338],[-15.623666144258689,16.36933706304981],[-15.135737270558813,16.58728241624078],[-14.577347581428977,16.598263658102805],[-14.099521450242175,16.30430227301049],[-13.43573767745306,16.039383042866188],[-12.830658331747513,15.303691514542942],[-12.1707502913803,14.616834214735503],[-12.124887457721256,13.994727484589784],[-11.927716030311613,13.422075100147392],[-11.553397793005427,13.141213690641063],[-11.467899135778522,12.754518947800973],[-11.513942836950587,12.442987575729415],[-11.658300950557928,12.386582749882834],[-12.20356482588563,12.465647691289401],[-12.278599005573438,12.354440008997285],[-12.499050665730561,12.332089952031053],[-13.217818162478235,12.575873521367964],[-13.700476040084322,12.586182969610192],[-15.548476935274005,12.628170070847343],[-15.81657426600425,12.515567124883345],[-16.14771684413058,12.547761542201185],[-16.67745195155457,12.38485158940105],[-16.84152462408127,13.151393947802557],[-15.931295945692208,13.13028412521133],[-15.691000535534991,13.270353094938455],[-15.511812506562931,13.278569647672864],[-15.141163295949463,13.509511623585235],[-14.712197231494626,13.298206691943774],[-14.277701788784553,13.28058502853224],[-13.844963344772404,13.505041612191999],[-14.046992356817478,13.794067898000446],[-14.376713833055785,13.62568024337737],[-14.687030808968483,13.63035696049978],[-15.081735398813816,13.876491807505982],[-15.398770310924457,13.860368760630916],[-15.624596320039936,13.623587347869556],[-16.713728807023468,13.594958604379853]]]}},{"type":"Feature","properties":{"admin":"Solomon Islands","name":"Solomon Is.","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[162.11902469304084,-10.482719008021133],[162.3986458681722,-10.826367282762119],[161.70003218001835,-10.820011081590222],[161.3197969912147,-10.204751478723123],[161.91738325423793,-10.446700534713653],[162.11902469304084,-10.482719008021133]]],[[[160.8522286318379,-9.872937106977002],[160.46258833235723,-9.89520964929484],[159.84944746321418,-9.794027194867367],[159.64000288313514,-9.639979750205269],[159.70294477766663,-9.242949720906777],[160.36295617089843,-9.400304457235533],[160.68851769433718,-9.610162448772808],[160.8522286318379,-9.872937106977002]]],[[[161.67998172428912,-9.599982191611373],[161.52939660059053,-9.784312025596433],[160.7882532086605,-8.917543226764918],[160.57999718652434,-8.320008640173965],[160.9200281110049,-8.320008640173965],[161.28000613834996,-9.12001148848445],[161.67998172428912,-9.599982191611373]]],[[[159.87502729719859,-8.337320244991714],[159.91740197167798,-8.538289890174864],[159.13367719953933,-8.114181410355398],[158.5861137229747,-7.754823500197713],[158.21114953026483,-7.421872246941147],[158.35997765526542,-7.320017998893915],[158.82000125552767,-7.56000335045739],[159.64000288313514,-8.020026950719567],[159.87502729719859,-8.337320244991714]]],[[[157.53842573468927,-7.347819919466928],[157.33941979393322,-7.404767347852554],[156.90203047101477,-7.176874281445391],[156.4913578635913,-6.765943291860394],[156.54282759015393,-6.599338474151478],[157.14000044171888,-7.021638278840653],[157.53842573468927,-7.347819919466928]]]]}},{"type":"Feature","properties":{"admin":"Sierra Leone","name":"Sierra Leone","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-11.438779466182053,6.785916856305746],[-11.708194545935736,6.860098374860724],[-12.428098924193815,7.262942002792029],[-12.949049038128193,7.798645738145736],[-13.124025437868479,8.163946438016977],[-13.246550258832512,8.903048610871506],[-12.711957566773076,9.342711696810765],[-12.596719122762206,9.620188300001969],[-12.425928514037562,9.835834051955953],[-12.150338100625003,9.858571682164378],[-11.917277390988655,10.046983954300556],[-11.117481248407328,10.045872911006283],[-10.8391519840833,9.688246161330367],[-10.622395188835037,9.267910061068276],[-10.65477047366589,8.977178452994194],[-10.49431515139963,8.715540676300433],[-10.505477260774667,8.348896389189603],[-10.230093553091276,8.40620555260129],[-10.695594855176477,7.939464016141085],[-11.14670427086838,7.396706447779534],[-11.199801805048278,7.105845648624735],[-11.438779466182053,6.785916856305746]]]}},{"type":"Feature","properties":{"admin":"El Salvador","name":"El Salvador","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-87.79311113152656,13.384480495655051],[-87.9041121080895,13.149016831917134],[-88.48330156121679,13.163951320849488],[-88.84322791212969,13.259733588102474],[-89.25674272332928,13.4585328231293],[-89.81239356154764,13.520622056527994],[-90.09555457229095,13.73533763270073],[-90.06467790399657,13.881969509328924],[-89.7219339668207,14.134228013561694],[-89.5342193265205,14.244815578666302],[-89.58734269891654,14.362586167859485],[-89.35332597528277,14.424132798719112],[-89.05851192905764,14.340029405164085],[-88.84307288283281,14.140506700085169],[-88.54123084181597,13.980154730683475],[-88.50399797234968,13.845485948130854],[-88.06534257684012,13.964625962779774],[-87.85951534702158,13.89331248621698],[-87.72350297722939,13.785050360565503],[-87.79311113152656,13.384480495655051]]]}},{"type":"Feature","properties":{"admin":"Somaliland","name":"Somaliland","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[48.93812951029649,9.451748968946672],[48.486735874226994,8.837626247589979],[47.78942,8.003],[46.94832848489794,7.996876532417386],[43.67875,9.183580000000116],[43.296975132018744,9.540477403191742],[42.92812,10.02194000000014],[42.55876,10.572580000000126],[42.77685184100095,10.926878566934416],[43.14530480324213,11.462039699748853],[43.47065962095166,11.27770986576388],[43.666668328634834,10.864169216348158],[44.117803582542805,10.445538438351603],[44.61425906757085,10.44220530846894],[45.55694054543913,10.698029486529775],[46.645401238803,10.816549383991171],[47.52565758646278,11.127228094929986],[48.02159630716777,11.193063869669741],[48.37878380716926,11.375481675660122],[48.94820641459346,11.410621649618516],[48.94200524271842,11.394266058798163],[48.938491245322595,10.98232737878345],[48.938232863161076,9.973500067581481],[48.93812951029649,9.451748968946672]]]}},{"type":"Feature","properties":{"admin":"Somalia","name":"Somalia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[49.72862,11.5789],[50.25878,11.67957],[50.73202,12.0219],[51.1112,12.02464],[51.13387,11.74815],[51.04153,11.16651],[51.04531,10.6409],[50.83418,10.27972],[50.55239,9.19874],[50.07092,8.08173],[49.4527,6.80466],[48.59455,5.33911],[47.74079,4.2194],[46.56476,2.85529],[45.56399,2.04576],[44.06815,1.05283],[43.13597,0.2922],[42.04157,-0.91916],[41.81095,-1.44647],[41.58513,-1.68325],[40.993,-0.85829],[40.98105,2.78452],[41.855083092643966,3.918911920483726],[42.12861,4.23413],[42.76967,4.25259],[43.66087,4.95755],[44.9636,5.00162],[47.78942,8.003],[48.48673587422694,8.837626247589993],[48.93812951029644,9.451748968946616],[48.938232863161026,9.973500067581508],[48.93849124532248,10.982327378783465],[48.942005242718345,11.394266058798136],[48.94820475850973,11.410617281697961],[49.26776,11.43033],[49.72862,11.5789]]]}},{"type":"Feature","properties":{"admin":"Republic of Serbia","name":"Serbia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.874312778413408,45.416375433934306],[21.483526238702204,45.181170152357865],[21.56202273935372,44.768947251965635],[22.145087924902892,44.47842234962057],[22.45902225107596,44.70251719825443],[22.705725538837434,44.578002834647],[22.47400841644065,44.40922760678176],[22.657149692483067,44.23492300066135],[22.410446404721593,44.00806346290005],[22.50015669118022,43.642814439461],[22.98601850758848,43.211161200527094],[22.604801466571352,42.89851878516111],[22.43659467946139,42.58032115332394],[22.545011834409642,42.461362006188025],[22.380525750424674,42.320259507815074],[21.917080000000105,42.30364],[21.576635989402117,42.24522439706185],[21.54332,42.32025],[21.66292,42.43922],[21.77505,42.6827],[21.63302,42.67717],[21.43866,42.86255],[21.27421,42.90959],[21.143395,43.06868500000012],[20.95651,43.13094],[20.81448,43.27205],[20.63508,43.21671],[20.49679,42.88469],[20.25758,42.81275],[20.3398,42.89852],[19.95857,43.10604],[19.63,43.21377997027052],[19.48389,43.35229],[19.21852,43.52384],[19.454,43.568100000000115],[19.59976,44.03847],[19.11761,44.42307],[19.36803,44.863],[19.00548,44.86023],[19.390475701584588,45.23651561134237],[19.072768995854172,45.52151113543208],[18.82982,45.90888],[19.596044549241636,46.17172984474455],[20.22019249846289,46.12746898048657],[20.76217492033998,45.73457306577148],[20.874312778413408,45.416375433934306]]]}},{"type":"Feature","properties":{"admin":"Suriname","name":"Suriname","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-57.147436489476874,5.973149929219161],[-55.949318406789786,5.772877915872],[-55.84177975119041,5.953125311706059],[-55.03325029155176,6.025291449401662],[-53.95804460307089,5.756548163267764],[-54.478632981979224,4.896755682795585],[-54.3995422023565,4.212611395683466],[-54.006930508018996,3.620037746592558],[-54.18172604024626,3.189779771330421],[-54.26970516622318,2.732391669115046],[-54.52475419779971,2.311848863123785],[-55.097587449755125,2.523748073736612],[-55.569755011605984,2.42150625244713],[-55.97332210958936,2.510363877773016],[-56.07334184429028,2.220794989425499],[-55.90560014507087,2.021995754398659],[-55.99569800477174,1.817667141116601],[-56.53938574891454,1.89952260986692],[-57.1500978257399,2.768926906745406],[-57.2814334784097,3.333491929534119],[-57.60156897645785,3.334654649260684],[-58.044694383360664,4.060863552258382],[-57.86020952007869,4.576801052260449],[-57.91428890647212,4.812626451024413],[-57.30724585633949,5.073566595882225],[-57.147436489476874,5.973149929219161]]]}},{"type":"Feature","properties":{"admin":"Slovakia","name":"Slovakia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[18.85314415861361,49.496229763377634],[18.909574822676316,49.43584585224456],[19.32071251799047,49.57157400165918],[19.825022820726865,49.21712535256922],[20.41583947111985,49.431453355499755],[20.887955356538406,49.32877228453582],[21.607808058364206,49.47010732685408],[22.55813764821175,49.08573802346713],[22.280841912533553,48.82539215758066],[22.085608351334848,48.42226430927178],[21.87223636240173,48.31997081155001],[20.80129397958492,48.62385407164237],[20.473562045989862,48.56285004332181],[20.239054396249344,48.327567247096916],[19.76947065601311,48.2026911484636],[19.66136355965849,48.26661489520865],[19.174364861739885,48.11137889260386],[18.777024773847668,48.08176829690063],[18.696512892336923,47.88095368101439],[17.857132602620023,47.758428860050365],[17.488472934649813,47.86746613218621],[16.979666782304033,48.1234970159763],[16.879982944412998,48.47001333270946],[16.960288120194573,48.59698232685059],[17.101984897538895,48.8169688991171],[17.5450069515771,48.80001902932536],[17.886484816161808,48.903475246773695],[17.91351159025046,48.99649282489907],[18.10497277189185,49.0439834661753],[18.17049848803796,49.27151479755642],[18.399993523846174,49.315000515330034],[18.55497114428948,49.49501536721878],[18.85314415861361,49.496229763377634]]]}},{"type":"Feature","properties":{"admin":"Slovenia","name":"Slovenia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[13.806475457421524,46.5093061386912],[14.632471551174827,46.431817328469535],[15.137091912504982,46.658702704447016],[16.011663852612653,46.68361074481169],[16.20229821133736,46.85238597267695],[16.370504998447412,46.8413272161665],[16.564808383864854,46.50375092221982],[15.768732944408548,46.23810822202344],[15.671529575267552,45.834153550797865],[15.323953891672403,45.73178253842767],[15.327674594797424,45.45231639259322],[14.935243767972931,45.47169505470267],[14.595109490627804,45.6349409043127],[14.41196821458541,45.466165676447446],[13.715059848697221,45.50032379819237],[13.937630242578305,45.59101593686461],[13.698109978905475,46.01677806251734],[13.806475457421524,46.5093061386912]]]}},{"type":"Feature","properties":{"admin":"Sweden","name":"Sweden","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.183173455501922,65.72374054632016],[21.213516879977213,65.02600535751526],[21.369631381930954,64.41358795842427],[19.778875766690216,63.60955434839502],[17.847779168375208,62.7494001328968],[17.11955488451812,61.341165676510954],[17.831346062906388,60.636583360427394],[18.787721795332086,60.08191437442258],[17.869224887776337,58.95376618105869],[16.829185011470084,58.719826972073385],[16.44770958829147,57.04111806907187],[15.87978559740378,56.10430186626865],[14.666681349352071,56.20088511822216],[14.100721062891461,55.40778107362264],[12.942910597392054,55.36173737245056],[12.625100538797025,56.307080186581956],[11.78794233566867,57.44181712506306],[11.027368605196866,58.856149400459344],[11.468271925511145,59.432393296946024],[12.300365838274896,60.117932847730025],[12.631146681375181,61.29357168237012],[11.99206424322156,61.80036245385654],[11.930569288794228,63.12831757267696],[12.57993533697393,64.06621898055832],[13.571916131248711,64.0491140814697],[13.9199052263022,64.44542064071607],[13.555689731509087,64.7870276963815],[15.108411492582999,66.19386688909546],[16.108712192456775,67.30245555283688],[16.76887861498548,68.01393667263139],[17.729181756265344,68.01055186631626],[17.99386844246433,68.56739126247734],[19.87855960458125,68.40719432237256],[20.025268995857882,69.06513865831269],[20.64559288908952,69.10624726020085],[21.978534783626113,68.61684560818068],[23.539473097434435,67.93600861273524],[23.565879754335576,66.39605093043741],[23.903378533633795,66.0069273952796],[22.183173455501922,65.72374054632016]]]}},{"type":"Feature","properties":{"admin":"Swaziland","name":"Swaziland","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[32.07166548028106,-26.733820082304902],[31.868060337051073,-27.17792734142127],[31.282773064913325,-27.28587940847899],[30.685961948374477,-26.743845310169526],[30.676608514129633,-26.398078301704604],[30.949666782359905,-26.022649021104144],[31.044079624157146,-25.731452325139436],[31.3331575863979,-25.660190525008943],[31.837777947728057,-25.84333180105134],[31.985779249811962,-26.29177988048022],[32.07166548028106,-26.733820082304902]]]}},{"type":"Feature","properties":{"admin":"Syria","name":"Syria","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[38.79234052913608,33.37868642835222],[36.83406212743554,32.31293752698077],[35.71991824722274,32.70919240979486],[35.700797967274745,32.716013698857374],[35.83639692560862,32.868123277308506],[35.82110070165023,33.27742645927629],[36.06646040217205,33.82491242119254],[36.611750115715886,34.201788641897174],[36.448194207512095,34.59393524834406],[35.99840254084363,34.6449140488],[35.90502322769222,35.41000946709732],[36.14976281102653,35.821534735653664],[36.41755008316303,36.04061697035505],[36.685389031731795,36.25969920505646],[36.739494256341395,36.81752045343108],[37.066761102045824,36.623036200500614],[38.16772749202419,36.901210435527766],[38.699891391765895,36.712927354472335],[39.52258019385254,36.716053778625984],[40.67325931169568,37.091276353497285],[41.21208947120304,37.07435232192169],[42.349591098811764,37.22987254490409],[41.837064243340954,36.60585378676357],[41.28970747250545,36.35881460219226],[41.38396528500581,35.62831655531435],[41.00615888851992,34.41937226006211],[38.79234052913608,33.37868642835222]]]}},{"type":"Feature","properties":{"admin":"Chad","name":"Chad","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[14.495787387762899,12.859396267137353],[14.595781284247604,13.330426947477859],[13.954476759505607,13.353448798063765],[13.956698846094124,13.996691189016925],[13.540393507550785,14.36713369390122],[13.97217,15.68437],[15.247731154041842,16.62730581305078],[15.300441114979716,17.927949937405],[15.68574059414777,19.957180080642384],[15.90324669766431,20.3876189234175],[15.487148064850143,20.730414537025634],[15.47106,21.04845],[15.096887648181847,21.308518785074902],[14.8513,22.86295000000012],[15.86085,23.40972],[19.84926,21.49509],[23.837660000000135,19.5804700000001],[23.8868900000001,15.61084],[23.02459,15.68072],[22.567950000000106,14.944290000000134],[22.30351,14.32682],[22.51202,14.09318],[22.18329,13.78648],[22.29658,13.37232],[22.03759,12.95546],[21.93681,12.588180000000133],[22.28801,12.64605],[22.49762,12.26024],[22.50869,11.67936],[22.87622,11.38461000000012],[22.864165480244246,11.142395127807616],[22.231129184668756,10.971888739460608],[21.723821648859538,10.567055568885959],[21.000868361096305,9.475985215691479],[20.059685499764267,9.012706000194838],[19.09400800952607,9.074846910025768],[18.81200971850927,8.982914536978623],[18.91102176278059,8.630894680206435],[18.389554884523303,8.28130361575188],[17.964929640380884,7.890914008002992],[16.705988396886365,7.508327541529978],[16.4561845231874,7.734773667832938],[16.290561557691884,7.754307359239417],[16.10623172370674,7.497087917506461],[15.279460483469164,7.42192454673801],[15.436091749745737,7.692812404811887],[15.120865512765302,8.382150173369437],[14.979995558337688,8.796104234243442],[14.544466586981851,8.965861314322238],[13.954218377344088,9.549494940626685],[14.17146609869911,10.021378282100043],[14.627200555081057,9.920919297724591],[14.909353875394796,9.992129421422758],[15.46787275560524,9.982336737503543],[14.923564894275042,10.891325181517514],[14.96015180833768,11.555574042197234],[14.89336,12.21905],[14.495787387762899,12.859396267137353]]]}},{"type":"Feature","properties":{"admin":"Togo","name":"Togo","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[1.865240512712318,6.14215770102973],[1.060121697604927,5.928837388528875],[0.836931186536333,6.279978745952147],[0.570384148774849,6.914358628767188],[0.490957472342245,7.411744289576474],[0.712029249686878,8.312464504423827],[0.461191847342121,8.677222601756013],[0.365900506195885,9.46500397382948],[0.367579990245389,10.191212876827176],[-0.049784715159944,10.706917832883928],[0.023802524423701,11.018681748900802],[0.899563022474069,10.997339382364258],[0.772335646171484,10.470808213742357],[1.077795037448737,10.175606594275022],[1.425060662450136,9.825395412632998],[1.46304284018467,9.334624335157086],[1.664477573258381,9.128590399609378],[1.618950636409238,6.832038072126236],[1.865240512712318,6.14215770102973]]]}},{"type":"Feature","properties":{"admin":"Thailand","name":"Thailand","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[102.58493248902667,12.186594956913279],[101.68715783081993,12.645740057826568],[100.83180952352484,12.627084865769204],[100.97846723836919,13.412721665902563],[100.0977974792511,13.40685639083743],[100.01873253784453,12.307001044153353],[99.4789205261236,10.846366685423545],[99.15377241414313,9.963061428258554],[99.22239871622675,9.239255479362425],[99.87383182169812,9.207862046745118],[100.2796468444862,8.29515289960605],[100.45927412313273,7.429572658717175],[101.0173279154527,6.856868597842476],[101.62307905477803,6.740622463401918],[102.14118696493637,6.221636053894626],[101.81428185425797,5.810808417174242],[101.15421878459384,5.691384182147713],[101.07551557821333,6.20486705161592],[100.25959638875693,6.642824815289542],[100.08575687052709,6.46448944745029],[99.69069054565573,6.848212795433595],[99.5196415547696,7.343453884302759],[98.98825280151229,7.907993068875325],[98.50378624877597,8.382305202666286],[98.33966189981699,7.794511623562384],[98.15000939330581,8.350007432483876],[98.25915001830623,8.9739228377598],[98.55355065307302,9.932959906448543],[99.03812055867395,10.960545762572435],[99.5872860046397,11.892762762901695],[99.19635379435164,12.804748439988666],[99.21201175333607,13.269293728076462],[99.09775516153873,13.827502549693275],[98.43081912637986,14.622027696180831],[98.19207400919137,15.12370250087035],[98.53737592976569,15.30849742274608],[98.90334842325673,16.177824204976115],[98.49376102091132,16.837835598207928],[97.85912275593485,17.567946071843657],[97.37589643757352,18.44543773037581],[97.7977828308044,18.62708038988175],[98.25372399291558,19.70820302986004],[98.95967573445485,19.752980658440944],[99.54330936075928,20.186597601802056],[100.11598758341782,20.41784963630818],[100.54888105672686,20.109237982661124],[100.60629357300313,19.508344427971217],[101.28201460165167,19.46258494717676],[101.03593143107774,18.40892833096161],[101.05954756063514,17.512497259994486],[102.11359175009245,18.10910167080416],[102.41300499879159,17.93278168382428],[102.9987056823877,17.961694647691598],[103.20019209189373,18.30963206631277],[103.95647667848529,18.240954087796872],[104.71694705609247,17.428858954330078],[104.77932050986877,16.441864935771445],[105.58903852745013,15.570316066952856],[105.54433841351766,14.723933620660414],[105.21877689007887,14.27321177821069],[104.28141808473659,14.416743068901363],[102.9884220723616,14.225721136934464],[102.348099399833,13.39424734135822],[102.58493248902667,12.186594956913279]]]}},{"type":"Feature","properties":{"admin":"Tajikistan","name":"Tajikistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[71.01419803252016,40.244365546218226],[70.64801883329996,39.93575389257116],[69.5596098163685,40.10321137141297],[69.46488691597752,39.52668325454869],[70.5491618183256,39.60419790298649],[71.78469363799199,39.27946320246436],[73.67537926625478,39.431236884105594],[73.92885216664641,38.505815334622724],[74.25751427602272,38.60650686294344],[74.86481570831681,38.37884634048159],[74.82998579295209,37.99000702570139],[74.9800024758954,37.41999013930589],[73.94869591664649,37.421566270490786],[73.26005577992498,37.495256862938994],[72.63688968291727,37.04755809177835],[72.19304080596238,36.94828766534566],[71.84463829945058,36.738171291646914],[71.44869347523023,37.06564484308051],[71.54191775908477,37.90577444106563],[71.23940392444815,37.95326508234188],[71.34813113799025,38.258905341132156],[70.80682050973287,38.48628164321641],[70.37630415230927,38.138395901027515],[70.27057417184012,37.73516469985401],[70.11657840361032,37.588222764632086],[69.51878543485795,37.60899669041341],[69.19627282092436,37.15114350030742],[68.85944583524592,37.34433584243059],[68.13556237170137,37.0231151393043],[67.8299996275595,37.14499400486468],[68.39203250516594,38.15702525486873],[68.17602501818591,38.9015534531139],[67.4422196796413,39.14014354100548],[67.70142866401734,39.58047842056452],[68.53641645698941,39.53345286717892],[69.01163292834548,40.08615814875665],[69.32949466337281,40.72782440852484],[70.66662234892503,40.96021332454141],[70.45815962105961,40.49649485937028],[70.60140669137267,40.218527330072284],[71.01419803252016,40.244365546218226]]]}},{"type":"Feature","properties":{"admin":"Turkmenistan","name":"Turkmenistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[61.21081709172573,35.65007233330922],[61.12307050969413,36.49159719496624],[60.377637973883864,36.52738312432836],[59.234761997316795,37.412987982730336],[58.43615441267819,37.522309475243794],[57.330433790928964,38.02922943781093],[56.619366082592805,38.12139435480348],[56.18037479027332,37.93512665460742],[55.511578403551894,37.96411713312315],[54.80030398948656,37.39242076267818],[53.92159793479554,37.198918361961255],[53.735511102112504,37.906136176091685],[53.88092858258183,38.95209300389535],[53.101027866432894,39.29057363540712],[53.357808058491216,39.97528636327444],[52.69397260926981,40.033629055331964],[52.91525109234361,40.87652334244472],[53.85813927594112,40.631034450842165],[54.736845330632136,40.951014919593455],[54.0083109881813,41.551210842447404],[53.721713494690576,42.123191433270016],[52.91674970888007,41.86811656347732],[52.81468875510361,41.135370591794704],[52.502459751196135,41.783315538086356],[52.94429324729164,42.116034247397586],[54.07941775901494,42.32410940202082],[54.755345493392625,42.04397146256656],[55.455251092353755,41.259859117185826],[55.9681913592829,41.308641669269356],[57.09639122907909,41.32231008561056],[56.93221520368779,41.82602610937559],[57.786529982337065,42.17055288346551],[58.62901085799145,42.751551011723045],[59.97642215356977,42.2230819768902],[60.083340691981654,41.42514618587139],[60.46595299667068,41.22032664648254],[61.54717898951355,41.2663703476546],[61.88271406438468,41.08485687922939],[62.37426028834499,40.05388621679038],[63.51801476426102,39.36325653742563],[64.17022301621675,38.89240672459823],[65.21599897650738,38.40269501398429],[66.5461503437002,37.974684963526855],[66.51860680528866,37.362784328758785],[66.21738488145932,37.39379018813391],[65.74563073106681,37.66116404881206],[65.58894778835783,37.30521678318563],[64.74610517767739,37.1118177353333],[64.54647911973389,36.31207326918426],[63.982895949158696,36.007957465146596],[63.19353844590034,35.85716563571891],[62.98466230657659,35.404040839167614],[62.23065148300588,35.27066396742229],[61.21081709172573,35.65007233330922]]]}},{"type":"Feature","properties":{"admin":"East Timor","name":"Timor-Leste","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[124.96868248911619,-8.892790215697081],[125.08624637258025,-8.656887302284678],[125.94707238169823,-8.432094821815033],[126.64470421763852,-8.39824675866385],[126.95724328013979,-8.273344821814396],[127.33592817597462,-8.3973165828826],[126.96799197805652,-8.668256117388891],[125.92588504445857,-9.106007175333351],[125.08852013560107,-9.393173109579292],[125.07001997284058,-9.08998748132287],[124.96868248911619,-8.892790215697081]]]}},{"type":"Feature","properties":{"admin":"Trinidad and Tobago","name":"Trinidad and Tobago","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-61.68,10.76],[-61.105,10.89],[-60.895,10.855],[-60.935,10.11],[-61.77,10],[-61.95,10.09],[-61.66,10.365],[-61.68,10.76]]]}},{"type":"Feature","properties":{"admin":"Tunisia","name":"Tunisia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[9.482139926805273,30.30755605724618],[9.055602654668148,32.102691962201284],[8.439102817426116,32.506284898400814],[8.430472853233367,32.748337307255944],[7.612641635782181,33.344114895148955],[7.524481642292242,34.09737641045145],[8.140981479534302,34.65514598239378],[8.376367628623766,35.47987600355594],[8.217824334352313,36.43317698826027],[8.420964389691674,36.946427313783154],[9.509993523810605,37.34999441176653],[10.210002475636315,37.23000173598481],[10.18065026209453,36.72403778741507],[11.028867221733348,37.09210317641395],[11.10002566899925,36.89999603936891],[10.600004510143092,36.41000010837737],[10.593286573945134,35.947444362932806],[10.939518670300686,35.69898407647349],[10.807847120821007,34.83350718844918],[10.149592726287123,34.3307730168977],[10.339658644256613,33.78574168551531],[10.856836378633684,33.768740139291275],[11.108500603895118,33.29334280042219],[11.488787469131008,33.136995754523134],[11.432253452203692,32.36890310315287],[10.944789666394453,32.08181468355536],[10.636901482799484,31.761420803345747],[9.95022505050508,31.37606964774525],[10.056575148161752,30.961831366493595],[9.97001712407285,30.539324856075236],[9.482139926805273,30.30755605724618]]]}},{"type":"Feature","properties":{"admin":"Turkey","name":"Turkey","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[36.91312706884215,41.33535838476429],[38.3476648292645,40.94858612727571],[39.51260664242024,41.10276276301856],[40.373432651538245,41.01367259374734],[41.55408410011071,41.535656236327604],[42.61954878110455,41.58317271581992],[43.582745802592704,41.09214325618256],[43.75265791196849,40.74020091405881],[43.65643639504096,40.25356395116616],[44.40000857928876,40.0050003118423],[44.79398969908199,39.71300263117703],[44.109225294782355,39.42813629816805],[44.421402622257595,38.28128123631451],[44.22575564960052,37.971584377589345],[44.77269900897774,37.17044464776844],[44.29345177590285,37.00151439060635],[43.94225874204734,37.25622752537293],[42.77912560402185,37.3852635768058],[42.349591098811764,37.229872544904104],[41.212089471203015,37.07435232192173],[40.6732593116957,37.091276353497356],[39.52258019385251,36.71605377862601],[38.69989139176592,36.71292735447231],[38.167727492024156,36.90121043552778],[37.066761102045824,36.623036200500614],[36.73949425634137,36.81752045343111],[36.685389031731816,36.2596992050565],[36.417550083163086,36.040616970355096],[36.149762811026584,35.821534735653664],[35.78208499526985,36.274995429014915],[36.16082156753705,36.65060557712837],[35.550936313628334,36.565442816711325],[34.71455325698437,36.79553213149091],[34.026894972476455,36.219960028623966],[32.509158156064096,36.10756378838919],[31.69959516777956,36.6442752141726],[30.62162479017106,36.67786489516231],[30.391096225717114,36.26298065850698],[29.69997562024556,36.144357408181],[28.732902866335387,36.67683136651643],[27.641186557737363,36.65882212986275],[27.04876793794329,37.653360907536005],[26.318218214633042,38.20813324640538],[26.804700148228726,38.98576019953355],[26.170785353304375,39.46361216893646],[27.280019972449388,40.4200137395783],[28.81997765474721,40.46001129817221],[29.240003696415574,41.21999074967268],[31.145933872204434,41.08762156835706],[32.347979363745786,41.73626414648463],[33.51328291192751,42.018960069337304],[35.16770389175186,42.04022492122544],[36.91312706884215,41.33535838476429]]],[[[27.192376743282406,40.69056570084245],[26.358009067497782,40.15199392349648],[26.043351271272535,40.61775360774316],[26.056942172965332,40.824123440100735],[26.29460208507569,40.936261298174166],[26.604195590936282,41.56211456966101],[26.117041863720825,41.826904608724554],[27.135739373490505,42.14148489030131],[27.996720411905407,42.00735871028777],[28.11552452974444,41.62288605403628],[28.98844282401878,41.299934190428175],[28.806438429486743,41.05496206314853],[27.619017368284112,40.9998233098931],[27.192376743282406,40.69056570084245]]]]}},{"type":"Feature","properties":{"admin":"Taiwan","name":"Taiwan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[121.7778178243899,24.394273586519393],[121.17563235889271,22.790857245367164],[120.7470797058962,21.970571397382106],[120.22008344938365,22.814860948166732],[120.10618859261237,23.55626272225823],[120.69467980355223,24.53845083261373],[121.49504438688875,25.29545888925738],[121.95124393116143,24.997595933527034],[121.7778178243899,24.394273586519393]]]}},{"type":"Feature","properties":{"admin":"United Republic of Tanzania","name":"Tanzania","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[33.90371119710459,-0.95],[34.07262,-1.05982],[37.69869,-3.09699],[37.7669,-3.67712],[39.20222,-4.67677],[38.74054,-5.90895],[38.79977,-6.47566],[39.44,-6.84],[39.470000000000134,-7.1],[39.19469,-7.7039],[39.25203,-8.00781],[39.18652,-8.48551],[39.53574,-9.112369999999883],[39.9496,-10.0984],[40.31659,-10.317099999999867],[39.521,-10.89688],[38.42755659358777,-11.285202325081626],[37.82764,-11.26879],[37.47129,-11.56876],[36.775150994622884,-11.59453744878078],[36.5140816586844,-11.720938002166745],[35.312397902169145,-11.439146416879165],[34.55998904799945,-11.520020033415845],[34.28,-10.16],[33.94083772409652,-9.693673841980283],[33.73972,-9.41715],[32.75937544122137,-9.230599053589001],[32.191864861791935,-8.930358981973255],[31.55634809746663,-8.762048841998647],[31.157751336950064,-8.594578747317312],[30.74,-8.34],[30.2,-7.08],[29.62,-6.52],[29.419992710088305,-5.939998874539297],[29.519986606573063,-5.419978936386257],[29.339997592900367,-4.499983412294113],[29.753512404099858,-4.452389418153301],[30.11632,-4.09012],[30.50554,-3.56858],[30.75224,-3.35931],[30.74301,-3.03431],[30.52766,-2.80762],[30.46967,-2.41383],[30.758308953583132,-2.287250257988375],[30.816134881317844,-1.698914076345374],[30.41910485201929,-1.134659112150416],[30.7698600000001,-1.01455],[31.86617,-1.02736],[33.90371119710459,-0.95]]]}},{"type":"Feature","properties":{"admin":"Uganda","name":"Uganda","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[31.86617,-1.02736],[30.7698600000001,-1.01455],[30.41910485201929,-1.134659112150416],[29.82151858899612,-1.443322442229771],[29.57946618014102,-1.341313164885605],[29.587837762172164,-0.587405694179381],[29.8195,-0.2053],[29.87577884290243,0.597379868976361],[30.086153598762785,1.062312730306416],[30.468507521290285,1.583805446779706],[30.852670118948133,1.849396470543752],[31.174149204235952,2.204465236821306],[30.77332,2.339890000000139],[30.83385,3.50917],[31.24556,3.7819],[31.88145,3.55827],[32.68642,3.79232],[33.39,3.79],[34.005,4.249884947362147],[34.47913,3.5556],[34.59607,3.053740000000118],[35.03599,1.90584],[34.6721,1.17694],[34.18,0.515],[33.893568969666994,0.109813537861839],[33.90371119710459,-0.95],[31.86617,-1.02736]]]}},{"type":"Feature","properties":{"admin":"Ukraine","name":"Ukraine","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[31.78599816257158,52.10167796488544],[32.15941206231266,52.061266994833204],[32.412058139787625,52.288694973349735],[32.715760532366964,52.23846548116204],[33.7526998227357,52.33507457133168],[34.391730584457,51.76888174092578],[34.141978387190385,51.566413479206226],[34.22481570815426,51.25599315042894],[35.02218305841787,51.207572333371445],[35.377923618315116,50.77395539001034],[35.35611616388794,50.577197374059054],[36.62616784032533,50.22559092874513],[37.393459506995065,50.383953355503586],[38.01063113785689,49.91566152607462],[38.59498823421341,49.92646190042362],[40.0690584653391,49.60105540628169],[40.08078901546934,49.30742991799927],[39.674663934087526,48.78381846780187],[39.895632358567575,48.232405097031425],[39.73827762223882,47.89893707945198],[38.770584751141186,47.82560822202981],[38.25511233902974,47.54640045835681],[38.22353803889941,47.10218984637587],[37.42513715998998,47.0222205674042],[36.75985477066438,46.69870026304092],[35.82368452326482,46.645964463887054],[34.96234174982387,46.273196519549636],[35.02078779474598,45.65121898048465],[35.51000857925316,45.40999339454618],[36.52999799983015,45.46998973243705],[36.334712762199146,45.11321564389395],[35.23999922052811,44.9399962428516],[33.88251102065288,44.361478583344066],[33.32642093276004,44.564877020844875],[33.54692426934945,45.03477081967488],[32.454174432105496,45.32746613217606],[32.63080447767913,45.519185695978905],[33.58816206231838,45.85156850848023],[33.298567335754704,46.08059845639783],[31.74414025241517,46.33334788673738],[31.6753072446024,46.70624502215553],[30.748748813609094,46.583100084003995],[30.37760867688888,46.03241018328566],[29.603289015427425,45.29330801043112],[29.149724969201646,45.46492544207244],[28.67977949393937,45.30403087013169],[28.233553501099035,45.48828318946837],[28.48526940279276,45.59690705014589],[28.659987420371575,45.93998688413163],[28.93371748222162,46.25883047137249],[28.862972446414055,46.437889309263824],[29.072106967899288,46.51767772072248],[29.17065392427988,46.37926239682869],[29.759971958136383,46.349987697935354],[30.024658644335364,46.42393667254503],[29.83821007662629,46.525325832701675],[29.908851759569295,46.67436066343145],[29.559674106573105,46.92858287209131],[29.415135125452732,47.34664520933257],[29.05086795422732,47.51022695575249],[29.122698195113024,47.84909516050646],[28.670891147585163,48.11814850523409],[28.259546746541837,48.155562242213406],[27.52253746919515,48.4671194525011],[26.857823520624798,48.36821076109449],[26.61933678559779,48.22072622333346],[26.197450392366925,48.22088125263034],[25.945941196402394,47.98714874937421],[25.207743361112986,47.89105642352746],[24.86631717296057,47.73752574318831],[24.402056105250374,47.98187775328042],[23.760958286237404,47.98559845640545],[23.1422363624068,48.09634105080694],[22.710531447040488,47.882193915389394],[22.640819939878746,48.15023956968735],[22.085608351334848,48.42226430927178],[22.280841912533553,48.82539215758066],[22.55813764821175,49.08573802346713],[22.77641889821262,49.02739533140961],[22.518450148211596,49.476773586619736],[23.42650841644439,50.30850576435745],[23.92275719574326,50.42488108987874],[24.0299857927489,50.705406602575174],[23.52707075368437,51.57845408793023],[24.005077752384206,51.61744395609445],[24.55310631683951,51.88846100524918],[25.327787713327005,51.91065603291854],[26.33795861176855,51.832288723347915],[27.454066196408426,51.59230337178446],[28.241615024536564,51.57222707783906],[28.61761274589224,51.427713934934836],[28.992835320763522,51.60204437927146],[29.25493818534792,51.36823436136688],[30.15736372246089,51.416138414101454],[30.55511722181145,51.31950348571564],[30.619454380014837,51.82280609802236],[30.927549269338975,52.04235342061438],[31.78599816257158,52.10167796488544]]]}},{"type":"Feature","properties":{"admin":"Uruguay","name":"Uruguay","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-57.625133429582945,-30.216294854454258],[-56.97602576356472,-30.10968637463612],[-55.97324459494093,-30.883075860316296],[-55.60151017924933,-30.853878676071385],[-54.572451544805105,-31.494511407193745],[-53.787951626182185,-32.04724252698762],[-53.20958899597153,-32.72766611097472],[-53.650543992718084,-33.20200408298182],[-53.37366166849823,-33.76837778090076],[-53.80642595072652,-34.396814874002224],[-54.935866054897716,-34.95264657973362],[-55.674089728403274,-34.752658786764066],[-56.21529700379605,-34.85983570733741],[-57.139685024633096,-34.43045623142424],[-57.81786068381549,-34.46254729587749],[-58.42707414410438,-33.90945444105757],[-58.349611172098854,-33.2631889788154],[-58.13264767112143,-33.04056690850201],[-58.14244035504075,-32.04450367607615],[-57.874937303281875,-31.0165560849262],[-57.625133429582945,-30.216294854454258]]]}},{"type":"Feature","properties":{"admin":"United States of America","name":"United States","continent":"North America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-155.54211,19.08348],[-155.68817,18.91619],[-155.93665,19.05939],[-155.90806,19.33888],[-156.07347,19.70294],[-156.02368,19.81422],[-155.85008,19.97729],[-155.91907,20.17395],[-155.86108,20.26721],[-155.78505,20.2487],[-155.40214,20.07975],[-155.22452,19.99302],[-155.06226,19.8591],[-154.80741,19.50871],[-154.83147,19.45328],[-155.2221699999999,19.23972],[-155.54211,19.08348]]],[[[-156.07926,20.64397],[-156.41445,20.57241],[-156.58673,20.783],[-156.70167,20.8643],[-156.71055,20.92676],[-156.61258,21.01249],[-156.25711,20.91745],[-155.99566,20.76404],[-156.07926,20.64397]]],[[[-156.75824,21.17684],[-156.78933,21.06873],[-157.32521,21.09777],[-157.25027,21.21958],[-156.75824,21.17684]]],[[[-157.65283,21.32217],[-157.70703,21.26442],[-157.7786,21.27729],[-158.12667,21.31244],[-158.2538,21.53919],[-158.29265,21.57912],[-158.0252,21.71696],[-157.94161,21.65272],[-157.65283,21.32217]]],[[[-159.34512,21.982],[-159.46372,21.88299],[-159.80051,22.06533],[-159.74877,22.1382],[-159.5962,22.23618],[-159.36569,22.21494],[-159.34512,21.982]]],[[[-94.81758,49.38905],[-94.63999999999986,48.8400000000001],[-94.32914,48.67074],[-93.63087,48.60926],[-92.61,48.45],[-91.64,48.14],[-90.82999999999986,48.27],[-89.6,48.01],[-89.27291744663665,48.019808254582834],[-88.37811418328651,48.302917588893806],[-87.4397926233002,47.94],[-86.46199083122814,47.55333801939204],[-85.65236324740322,47.2202188177305],[-84.87607988151485,46.900083319682366],[-84.77923824739982,46.63710195574912],[-84.54374874544564,46.538684190449224],[-84.6049,46.4396],[-84.3367,46.4087700000001],[-84.14211951367328,46.51222585711572],[-84.09185126416146,46.27541860613825],[-83.89076534700565,46.11692698829915],[-83.61613094759049,46.11692698829915],[-83.46955074739462,45.994686387712584],[-83.59285071484307,45.81689362241254],[-82.55092464875817,45.347516587905446],[-82.33776312543105,44.44],[-82.13764238150395,43.57108755143999],[-82.43,42.98],[-82.89999999999988,42.430000000000135],[-83.11999999999988,42.08],[-83.14199968131256,41.975681057292995],[-83.02981014680691,41.832795722006],[-82.69008928092016,41.67510508886732],[-82.43927771679161,41.67510508886732],[-81.27774654816706,42.209025987306845],[-80.24744767934784,42.36619985612267],[-78.93936214874368,42.863611355148116],[-78.92,42.965],[-79.00999999999986,43.27],[-79.17167355011186,43.4663394231843],[-78.72027991404237,43.62508942318495],[-77.7378850979576,43.62905558936338],[-76.82003414580556,43.62878428809375],[-76.5,44.0184588937586],[-76.375,44.09631],[-75.31821,44.81645000000016],[-74.867,45.00048000000011],[-73.34782999999987,45.00738],[-71.50505999999986,45.0082],[-71.405,45.25500000000012],[-71.08482,45.305240000000154],[-70.65999999999978,45.46],[-70.305,45.915],[-69.99997,46.69307],[-69.237216,47.447781],[-68.905,47.185],[-68.23444,47.35486],[-67.79046,47.06636],[-67.79134,45.702810000000134],[-67.13741,45.13753],[-66.96466,44.80970000000015],[-68.03252,44.3252],[-69.05999999999987,43.98],[-70.1161699999999,43.68405000000014],[-70.64547563341097,43.09023834896404],[-70.81489,42.8653],[-70.825,42.335],[-70.49499999999989,41.805],[-70.08,41.78],[-70.185,42.145],[-69.88497,41.92283000000011],[-69.96503,41.63717000000016],[-70.64,41.475],[-71.12039,41.494450000000164],[-71.85999999999983,41.32],[-72.295,41.27],[-72.87643,41.22065],[-73.71,40.93110235165448],[-72.24126,41.11948000000014],[-71.94499999999981,40.93],[-73.345,40.63],[-73.982,40.628],[-73.952325,40.75075],[-74.25671,40.47351],[-73.96244,40.42763],[-74.17838,39.70926],[-74.90604,38.93954],[-74.98041,39.1964],[-75.20002,39.24845],[-75.52805,39.4985],[-75.32,38.96],[-75.07183476478978,38.782032230179276],[-75.05673,38.404120000000106],[-75.37747,38.01551],[-75.94023,37.21689],[-76.03127,37.2566],[-75.72204999999978,37.937050000000106],[-76.23287,38.319215],[-76.35,39.15],[-76.542725,38.717615],[-76.32933,38.08326],[-76.98999793161353,38.239991766913384],[-76.30161999999989,37.917945],[-76.25874,36.9664000000001],[-75.9718,36.89726],[-75.86803999999981,36.55125],[-75.72749,35.550740000000125],[-76.36318,34.80854000000013],[-77.39763499999988,34.51201],[-78.05496,33.92547],[-78.55434999999981,33.861330000000116],[-79.06067,33.49395],[-79.20357,33.15839],[-80.301325,32.509355],[-80.86498,32.0333],[-81.33629,31.44049],[-81.49042,30.72999000000012],[-81.31371,30.03552],[-80.98,29.18000000000011],[-80.53558499999987,28.47213],[-80.52999999999977,28.04],[-80.05653928497753,26.88000000000013],[-80.088015,26.205765],[-80.13155999999984,25.816775],[-80.38103,25.20616],[-80.67999999999988,25.08],[-81.17213,25.201260000000126],[-81.33,25.64],[-81.7099999999998,25.87],[-82.2399999999999,26.730000000000125],[-82.70515,27.49504],[-82.85526,27.88624],[-82.65,28.550000000000146],[-82.92999999999986,29.10000000000013],[-83.70959,29.93656],[-84.1,30.090000000000114],[-85.10882,29.63615],[-85.28784,29.686120000000127],[-85.7731,30.152610000000116],[-86.39999999999988,30.400000000000112],[-87.53035999999983,30.27433],[-88.41782,30.3849],[-89.18048999999984,30.31598],[-89.59383117841975,30.159994004836843],[-89.413735,29.89419],[-89.43,29.48864],[-89.21767,29.29108],[-89.40823,29.15961],[-89.77928,29.307140000000135],[-90.15463,29.11743],[-90.8802249999999,29.148535000000116],[-91.62678499999984,29.677000000000127],[-92.49906,29.5523],[-93.22637,29.78375],[-93.84842,29.71363],[-94.69,29.480000000000125],[-95.60026,28.73863],[-96.59404,28.30748],[-97.1399999999998,27.83],[-97.37,27.38],[-97.37999999999985,26.69],[-97.33,26.210000000000115],[-97.1399999999998,25.87],[-97.52999999999986,25.84],[-98.2399999999999,26.06000000000011],[-99.01999999999985,26.37],[-99.3,26.84],[-99.52,27.54],[-100.11,28.11000000000012],[-100.45584,28.696120000000118],[-100.95759999999989,29.380710000000125],[-101.6624,29.779300000000113],[-102.48,29.76],[-103.11,28.97],[-103.94,29.27],[-104.45696999999981,29.57196],[-104.7057499999999,30.12173],[-105.03737,30.64402],[-105.63159,31.083830000000113],[-106.1429,31.39995],[-106.5075899999998,31.75452],[-108.24,31.754853718166398],[-108.24194,31.34222],[-109.035,31.34194000000016],[-111.02361,31.33472],[-113.30498,32.03914],[-114.815,32.52528],[-114.72138999999983,32.72083],[-115.99134999999987,32.61239000000014],[-117.12775999999975,32.53534],[-117.29593769127386,33.04622461520389],[-117.944,33.62123643120139],[-118.41060227589747,33.7409092231245],[-118.51989482279969,34.027781577575745],[-119.081,34.078],[-119.43884064201666,34.34847717828429],[-120.36778,34.44711],[-120.62286,34.60855],[-120.74433,35.1568600000001],[-121.71456999999985,36.16153],[-122.54747,37.5517600000001],[-122.51201,37.78339000000013],[-122.95319,38.113710000000104],[-123.7272,38.95166000000011],[-123.86516999999988,39.76699000000013],[-124.39807,40.3132],[-124.17886,41.14202000000011],[-124.2137,41.999640000000134],[-124.5328399999999,42.76599],[-124.14214,43.70838],[-124.020535,44.615895],[-123.8989299999999,45.52341],[-124.079635,46.86475],[-124.3956699999999,47.72017],[-124.68721008300781,48.18443298339854],[-124.56610107421874,48.379714965820384],[-123.12,48.04],[-122.58735999999988,47.096],[-122.34,47.36],[-122.5,48.18],[-122.84,49],[-120,49],[-117.03121,49],[-116.04818,49],[-112.99999999999987,49],[-110.04999999999981,49],[-107.0499999999999,49],[-104.04826,48.99986],[-100.65,49],[-97.2287200000047,49.0007],[-95.15906950917194,49],[-95.15609,49.38425],[-94.81758,49.38905]]],[[[-153.00631405333684,57.11584219016588],[-154.0050902984581,56.73467682558105],[-154.51640275777007,56.99274892844669],[-154.6709928049711,57.46119578717249],[-153.76277950744145,57.81657461204377],[-153.22872941792107,57.96896841087242],[-152.5647906158351,57.90142731386696],[-152.14114722390627,57.59105866152198],[-153.00631405333684,57.11584219016588]]],[[[-165.57916419173355,59.90998688418754],[-166.19277014876724,59.75444082298896],[-166.84833736882194,59.94140615502094],[-167.45527706609005,60.213069159579376],[-166.46779212142457,60.384169826897775],[-165.67442969466364,60.29360687930623],[-165.57916419173355,59.90998688418754]]],[[[-171.73165686753936,63.782515367275906],[-171.11443356024517,63.59219106714498],[-170.49111243394066,63.694975490973505],[-169.68250545965356,63.43111562769114],[-168.68943946030066,63.297506212000584],[-168.77194088445458,63.18859813094544],[-169.52943986720499,62.97693146427788],[-170.29055620021592,63.19443756779445],[-170.67138566799085,63.375821845138965],[-171.55306311753864,63.31778921167508],[-171.79111060289117,63.40584585230048],[-171.73165686753936,63.782515367275906]]],[[[-155.0677902903242,71.14777639432369],[-154.3441652089412,70.69640859647019],[-153.90000627339256,70.88998851183568],[-152.21000606993528,70.82999217394483],[-152.27000240782613,70.60000621202984],[-150.7399924387445,70.4300165880057],[-149.7200030181675,70.53001048449043],[-147.61336157935705,70.21403493924178],[-145.68998980022525,70.12000967068674],[-144.9200109590764,69.98999176704048],[-143.58944618042517,70.1525141465983],[-142.07251034871337,69.85193817817263],[-140.9859875215607,69.71199839952637],[-140.98598832900487,69.71199839952637],[-140.99249875202938,66.00002859156866],[-140.99776974812312,60.30639679629859],[-140.01299781615307,60.276837877027575],[-139.03900042031583,60.00000722924001],[-138.3408899999999,59.562110000000146],[-137.4525,58.9050000000001],[-136.47972,59.46389],[-135.47583,59.78778],[-134.945,59.27056000000012],[-134.27111,58.86111],[-133.3555488822072,58.41028514264515],[-132.73042,57.692890000000105],[-131.70780999999985,56.55212],[-130.00778,55.91583],[-129.97999426335826,55.28499787049721],[-130.53611018946722,54.80275340434939],[-131.08581823797212,55.178906155002025],[-131.96721146714228,55.49777558045905],[-132.25001074285944,56.36999624289744],[-133.5391810843564,57.178887437562125],[-134.07806292029602,58.12306753196689],[-135.03821103227904,58.18771474876393],[-136.62806230995463,58.21220937767045],[-137.80000627968602,58.49999542910378],[-139.86778704141298,59.537761542389134],[-140.82527381713302,59.72751740176507],[-142.57444353556443,60.08444651960498],[-143.95888099487985,59.99918040632339],[-145.92555681682782,60.458609727614274],[-147.11437394914662,60.88465607364463],[-148.22430620012764,60.67298940697715],[-148.01806555885074,59.97832896589363],[-148.57082251686086,59.9141726752033],[-149.72785783587582,59.705658270905545],[-150.60824337461642,59.36821116803949],[-151.7163927886833,59.155821031319974],[-151.8594331532671,59.74498403587959],[-151.40971900124714,60.72580272077939],[-150.3469414947325,61.033587551509854],[-150.62111080625695,61.28442495385445],[-151.89583919981683,60.72719798445127],[-152.57832984109558,60.061657212964285],[-154.01917212625756,59.350279446034264],[-153.28751135965317,58.86472768821979],[-154.23249243875844,58.14637360293053],[-155.3074914215102,57.72779450136632],[-156.30833472392308,57.422774359763636],[-156.5560973785463,56.979984849670636],[-158.11721655986773,56.463608099994175],[-158.43332129619714,55.99415355083853],[-159.60332739971741,55.566686102920116],[-160.28971961163418,55.64358063417056],[-161.22304765525777,55.36473460552348],[-162.23776607974105,55.0241869167201],[-163.06944658104638,54.68973704692717],[-164.78556922102717,54.40417308208216],[-164.94222632552,54.57222483989533],[-163.84833960676562,55.03943146424611],[-162.8700013906159,55.3480431178932],[-161.804174974596,55.89498647727043],[-160.56360470278113,56.008054511125025],[-160.07055986228448,56.418055324928744],[-158.68444291891942,57.01667511659785],[-158.46109737855394,57.216921291728866],[-157.72277035218386,57.570000515363056],[-157.55027442119356,58.32832632103022],[-157.04167497457695,58.91888458926171],[-158.19473120830543,58.61580231386983],[-158.51721798402303,58.787781480537305],[-159.0586061269287,58.42418610293167],[-159.71166704001732,58.93139028587633],[-159.98128882550014,58.57254914004162],[-160.3552711659965,59.07112335879363],[-161.355003425115,58.67083771426074],[-161.9688936025263,58.67166453717737],[-162.05498653872465,59.266925360747436],[-161.87417070213533,59.63362132429059],[-162.51805904849203,59.989723619213905],[-163.81834143782012,59.79805573184338],[-164.6622175771464,60.26748444278264],[-165.34638770247477,60.507495632562396],[-165.35083187565183,61.0738951686975],[-166.1213791575559,61.50001902937621],[-165.73445187077047,62.07499685327179],[-164.9191786367178,62.63307648380792],[-164.56250790103934,63.146378485763044],[-163.75333248599696,63.21944896102376],[-163.06722449445783,63.05945872664801],[-162.2605553863817,63.54193573674116],[-161.53444983624857,63.45581696232676],[-160.7725066803211,63.76610810002326],[-160.95833513084253,64.22279857040276],[-161.51806840721218,64.40278758407531],[-160.77777767641473,64.7886038275664],[-161.3919262359876,64.77723501246233],[-162.45305009666882,64.5594446885682],[-162.75778601789403,64.3386054551688],[-163.54639421288428,64.55916046819048],[-164.96082984114514,64.44694509546885],[-166.42528825586447,64.6866720648707],[-166.84500423893903,65.08889557561453],[-168.11056006576715,65.66999705673673],[-166.70527116602193,66.08831777613939],[-164.47470964257545,66.57666006129749],[-163.65251176659564,66.57666006129749],[-163.78860165103612,66.07720734319666],[-161.67777442121013,66.1161196967124],[-162.48971452537998,66.7355650905951],[-163.71971696679108,67.11639455837009],[-164.4309913808565,67.61633820257778],[-165.3902868317067,68.04277212185023],[-166.764440680996,68.35887685817967],[-166.20470740462656,68.88303091091616],[-164.43081051334343,68.91553538682773],[-163.1686136546145,69.37111481391288],[-162.93056616926197,69.85806183539925],[-161.9088972646355,70.33332998318762],[-160.93479651593367,70.44768992784957],[-159.03917578838713,70.89164215766893],[-158.11972286683394,70.82472117785103],[-156.58082455139802,71.35776357694174],[-155.0677902903242,71.14777639432369]]]]}},{"type":"Feature","properties":{"admin":"Uzbekistan","name":"Uzbekistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[66.51860680528866,37.362784328758785],[66.5461503437002,37.974684963526855],[65.21599897650738,38.40269501398429],[64.17022301621675,38.89240672459823],[63.51801476426102,39.36325653742563],[62.37426028834499,40.05388621679038],[61.88271406438468,41.08485687922939],[61.54717898951355,41.2663703476546],[60.46595299667068,41.22032664648254],[60.083340691981654,41.42514618587139],[59.97642215356977,42.2230819768902],[58.62901085799145,42.751551011723045],[57.786529982337065,42.17055288346551],[56.93221520368779,41.82602610937559],[57.09639122907909,41.32231008561056],[55.9681913592829,41.308641669269356],[55.92891727074108,44.9958584661591],[58.50312706892846,45.58680430763282],[58.68998904809588,45.50001373959862],[60.239971958258316,44.78403677019472],[61.05831994003244,44.405816962250505],[62.013300408786236,43.50447663021564],[63.18578698105656,43.650074978198],[64.90082441595926,43.728080552742576],[66.09801232286507,42.99766002051309],[66.02339155463561,41.994646307943974],[66.51064863471571,41.987644151368436],[66.7140470722165,41.16844350846149],[67.9858557473518,41.13599070898221],[68.2598958677956,40.662324530594894],[68.63248294462001,40.6686807317668],[69.0700272968353,41.38424428971236],[70.38896487822078,42.08130768489744],[70.96231489449913,42.26615428320548],[71.25924767444822,42.167710679689456],[70.4200224140282,41.519998277343134],[71.15785851429158,41.14358714452911],[71.87011478057045,41.39290009212126],[73.05541710804916,40.86603302668945],[71.77487511585655,40.14584442805376],[71.01419803252016,40.244365546218226],[70.60140669137267,40.218527330072284],[70.45815962105961,40.49649485937028],[70.66662234892503,40.96021332454141],[69.32949466337281,40.72782440852484],[69.01163292834548,40.08615814875665],[68.53641645698941,39.53345286717892],[67.70142866401734,39.58047842056452],[67.4422196796413,39.14014354100548],[68.17602501818591,38.9015534531139],[68.39203250516594,38.15702525486873],[67.8299996275595,37.14499400486468],[67.07578209825961,37.35614390720928],[66.51860680528866,37.362784328758785]]]}},{"type":"Feature","properties":{"admin":"Venezuela","name":"Venezuela","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-71.33158362495028,11.776284084515805],[-71.36000566271079,11.53999359786121],[-71.9470499335465,11.423282375530018],[-71.62086829292016,10.969459947142791],[-71.63306393094106,10.446494452349027],[-72.0741739569845,9.865651353388369],[-71.69564409044652,9.072263088411246],[-71.26455929226772,9.137194525585981],[-71.03999935574338,9.859992784052407],[-71.35008378771077,10.211935126176213],[-71.40062333849222,10.968969021036013],[-70.1552988349065,11.375481675660039],[-70.29384334988102,11.846822414594211],[-69.94324459499681,12.162307033736095],[-69.58430009629745,11.45961090743121],[-68.88299923366444,11.44338450769156],[-68.23327145045872,10.885744126829945],[-68.19412655299762,10.55465322513592],[-67.29624854192632,10.545868231646306],[-66.22786414250798,10.648626817258684],[-65.65523759628174,10.20079885501732],[-64.89045223657816,10.077214667191296],[-64.32947872583372,10.389598700395679],[-64.31800655786493,10.641417954953978],[-63.079322475828725,10.701724351438598],[-61.88094601098018,10.7156253117251],[-62.7301189846164,10.420268662960904],[-62.38851192895097,9.948204453974636],[-61.58876746280192,9.873066921422263],[-60.83059668643171,9.38133982994894],[-60.67125240745972,8.580174261911877],[-60.150095587796166,8.602756862823425],[-59.75828487815918,8.367034816924045],[-60.550587938058186,7.779602972846178],[-60.63797278506375,7.414999904810853],[-60.29566809756238,7.043911444522918],[-60.543999192940966,6.856584377464881],[-61.15933631045647,6.696077378766317],[-61.13941504580794,6.234296779806142],[-61.41030290388194,5.959068101419616],[-60.73357418480371,5.2002772078619],[-60.60117916527192,4.918098049332129],[-60.96689327660152,4.536467596856638],[-62.085429653559125,4.162123521334308],[-62.80453304711669,4.006965033377951],[-63.09319759789909,3.770571193858784],[-63.888342861574145,4.020530096854571],[-64.62865943058753,4.14848094320925],[-64.816064012294,4.056445217297422],[-64.36849443221409,3.797210394705246],[-64.4088278876179,3.126786200366623],[-64.26999915226578,2.497005520025566],[-63.422867397705105,2.411067613124174],[-63.36878801131164,2.200899562993129],[-64.08308549666607,1.91636912679408],[-64.1993057928905,1.49285492594602],[-64.61101192895985,1.328730576987041],[-65.35471330428835,1.0952822941085],[-65.54826738143755,0.78925446207603],[-66.32576514348494,0.724452215982012],[-66.87632585312257,1.253360500489336],[-67.18129431829304,2.250638129074062],[-67.4470920477863,2.600280869960869],[-67.80993811712369,2.820655015469569],[-67.30317318385342,3.31845408773718],[-67.33756384954367,3.542342230641721],[-67.62183590358127,3.839481716319994],[-67.82301225449353,4.503937282728898],[-67.7446966213552,5.221128648291667],[-67.52153194850274,5.556870428891968],[-67.34143958196556,6.095468044454021],[-67.695087246355,6.267318020040645],[-68.26505245631822,6.153268133972473],[-68.98531856960233,6.206804917826856],[-69.3894799465571,6.099860541198835],[-70.09331295437241,6.960376491723109],[-70.6742335679815,7.087784735538717],[-71.96017574734863,6.991614895043538],[-72.19835242378187,7.340430813013682],[-72.44448727078806,7.42378489830048],[-72.47967892117883,7.632506008327352],[-72.36090064155596,8.002638454617893],[-72.43986223009794,8.405275376820027],[-72.66049475776809,8.62528778730268],[-72.78872982450038,9.08502716718733],[-73.30495154488003,9.151999823437604],[-73.02760413276955,9.73677033125244],[-72.90528601753469,10.45034434655477],[-72.6146577623252,10.821975409381777],[-72.22757544624292,11.108702093953237],[-71.97392167833827,11.608671576377116],[-71.33158362495028,11.776284084515805]]]}},{"type":"Feature","properties":{"admin":"Vietnam","name":"Vietnam","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[108.05018029178291,21.55237986906011],[106.71506798709007,20.696850694252014],[105.881682163519,19.752050482659694],[105.66200564984628,19.058165188060567],[106.42681684776599,18.004120998603224],[107.36195356651973,16.69745656988705],[108.2694950704296,16.079742336486145],[108.87710656131745,15.276690578670436],[109.33526981001721,13.42602834721772],[109.20013593957395,11.66685923913776],[108.36612999881542,11.00832062422627],[107.22092858279521,10.36448395430183],[106.4051127462034,9.530839748569317],[105.15826378786508,8.599759629750492],[104.79518517458237,9.2410383162765],[105.07620161338559,9.918490505406806],[104.33433475140345,10.486543687375228],[105.19991499229232,10.889309800658094],[106.24967003786944,10.961811835163585],[105.8105237162531,11.567614650921225],[107.49140302941086,12.337205918827944],[107.6145479675624,13.535530707244202],[107.38272749230106,14.202440904186968],[107.56452518110387,15.202173163305554],[107.31270592654558,15.908538316303177],[106.55600792849566,16.6042839624648],[105.925762160264,17.485315456608955],[105.0945984232815,18.666974595611073],[103.8965320170267,19.2651809758218],[104.18338789267891,19.624668077060214],[104.82257368369707,19.88664175056388],[104.43500044150802,20.758733221921528],[103.20386111858643,20.766562201413745],[102.75489627483464,21.675137233969462],[102.17043582561355,22.464753119389297],[102.70699222210008,22.708795070887668],[103.50451460166055,22.703756618739202],[104.47685835166445,22.81915009204696],[105.3292094258866,23.35206330005691],[105.81124718630521,22.9768924016179],[106.72540327354845,22.794267889898414],[106.5672733907353,22.218204860924768],[107.04342003787261,21.811898912029907],[108.05018029178291,21.55237986906011]]]}},{"type":"Feature","properties":{"admin":"Vanuatu","name":"Vanuatu","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[167.84487674384508,-16.466333103097153],[167.51518110582285,-16.597849623279966],[167.1800077659778,-16.159995212470957],[167.2168013857696,-15.891846205308449],[167.84487674384508,-16.466333103097153]]],[[[167.10771243720149,-14.933920179913951],[167.2700281110302,-15.74002084723487],[167.00120731024793,-15.614602146062492],[166.79315799384085,-15.668810723536719],[166.64985924709555,-15.392703545801192],[166.62913699774643,-14.6264970842096],[167.10771243720149,-14.933920179913951]]]]}},{"type":"Feature","properties":{"admin":"Yemen","name":"Yemen","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[53.1085726255475,16.65105113368895],[52.385205926325874,16.38241120041965],[52.191729363825075,15.938433132384018],[52.168164910699986,15.597420355689945],[51.17251508973247,15.175249742081489],[49.574576450403136,14.708766587782746],[48.67923058451415,14.003202419485657],[48.23894738138741,13.948089504446369],[47.93891401550077,14.007233181204423],[47.3544535662797,13.59221975346838],[46.71707645039173,13.399699204965016],[45.87759280781025,13.347764390511681],[45.62505008319987,13.29094615320676],[45.40645877460524,13.02690542241143],[45.14435591002085,12.953938300015306],[44.9895333188744,12.699586900274708],[44.494576450382844,12.721652736863344],[44.175112745954486,12.585950425664873],[43.48295861183712,12.63680003504008],[43.22287112811212,13.220950425667422],[43.251448195169516,13.767583726450848],[43.08794396339805,14.062630316621306],[42.89224531430872,14.802249253798745],[42.604872674333606,15.213335272680592],[42.80501549660004,15.261962795467252],[42.70243777850065,15.718885809791995],[42.82367068865741,15.911742255105263],[42.77933230975096,16.34789134364868],[43.218375278502734,16.666889960186406],[43.11579756040335,17.08844045660737],[43.3807943051961,17.579986680567668],[43.791518589051904,17.319976711491105],[44.06261315285507,17.41035879156959],[45.21665123879718,17.43332896572333],[45.39999922056875,17.333335069238554],[46.36665856302053,17.233315334537632],[46.74999433776164,17.283338120996174],[47.00000491718975,16.949999294497438],[47.466694777217626,17.116681626854877],[48.183343540241324,18.16666921637731],[49.11667158386486,18.61666758877494],[52.00000980002223,19.000003363516054],[52.78218427919204,17.34974233649123],[53.1085726255475,16.65105113368895]]]}},{"type":"Feature","properties":{"admin":"South Africa","name":"South Africa","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[31.52100141777887,-29.257386976846245],[31.325561150850994,-29.401977634398907],[30.901762729625336,-29.909956963828034],[30.622813348113816,-30.423775730106122],[30.055716180142774,-31.14026946383295],[28.925552605919535,-32.17204111097249],[28.219755893677092,-32.77195281344885],[27.464608188595967,-33.226963799778794],[26.419452345492818,-33.614950453426175],[25.90966434093348,-33.66704029717639],[25.78062828950069,-33.944646091448334],[25.172861769315965,-33.79685149509358],[24.67785322439212,-33.98717579522454],[23.594043409934635,-33.79447437920815],[22.98818891774473,-33.916430759416976],[22.574157342222232,-33.864082533505304],[21.542799106541022,-34.25883879978292],[20.689052768647,-34.41717538832523],[20.07126102059763,-34.795136814107984],[19.616405063564567,-34.819166355123706],[19.193278435958714,-34.46259897230978],[18.855314568769867,-34.44430551527846],[18.424643182049376,-33.99787281670896],[18.37741092293461,-34.13652068454806],[18.244499139079917,-33.86775156019802],[18.25008019376744,-33.281430759414434],[17.925190463948436,-32.61129078545342],[18.247909783611185,-32.42913136162456],[18.221761508871477,-31.661632989225662],[17.56691775886886,-30.72572112398754],[17.0644161312627,-29.87864104585916],[17.06291751472622,-29.875953871379977],[16.34497684089524,-28.576705010697697],[16.8240173682409,-28.082161553664466],[17.2189286638154,-28.355943291946804],[17.3874971859515,-28.783514092729774],[17.836151971109526,-28.85637786226131],[18.464899122804745,-29.04546192801727],[19.00212731291108,-28.972443129188857],[19.89473432788861,-28.46110483166077],[19.895767856534427,-24.767790215760588],[20.165725538827186,-24.917961928000768],[20.75860924651183,-25.868136488551446],[20.666470167735437,-26.477453301704916],[20.88960900237173,-26.828542982695907],[21.60589603036939,-26.72653370535175],[22.105968865657864,-26.28025603607913],[22.579531691180584,-25.979447523708142],[22.824271274514896,-25.500458672794768],[23.31209679535018,-25.268689873965712],[23.733569777122703,-25.39012948985161],[24.211266717228792,-25.670215752873567],[25.025170525825782,-25.71967009857689],[25.66466637543771,-25.486816094669706],[25.765848829865206,-25.17484547292367],[25.94165205252215,-24.696373386333214],[26.485753208123292,-24.616326592713097],[26.78640669119741,-24.240690606383478],[27.119409620886238,-23.57432301197977],[28.017235955525244,-22.82775359465907],[29.432188348109033,-22.091312758067584],[29.839036899542965,-22.102216485281172],[30.322883335091767,-22.27161183033393],[30.659865350067083,-22.15156747811991],[31.191409132621278,-22.251509698172395],[31.670397983534645,-23.65896900807386],[31.930588820124242,-24.369416599222532],[31.752408481581874,-25.484283949487406],[31.837777947728057,-25.84333180105134],[31.3331575863979,-25.660190525008943],[31.044079624157146,-25.731452325139436],[30.949666782359905,-26.022649021104144],[30.676608514129633,-26.398078301704604],[30.685961948374477,-26.743845310169526],[31.282773064913325,-27.28587940847899],[31.868060337051073,-27.17792734142127],[32.07166548028106,-26.733820082304902],[32.83012047702888,-26.74219166433619],[32.58026492689768,-27.47015756603181],[32.462132602678444,-28.30101124442055],[32.20338870619303,-28.752404880490065],[31.52100141777887,-29.257386976846245]],[[28.978262566857236,-28.955596612261708],[28.54170006685549,-28.647501722937562],[28.07433841320778,-28.85146860119358],[27.53251102062747,-29.242710870075353],[26.99926191580763,-29.875953871379977],[27.749397006956478,-30.645105889612214],[28.10720462414542,-30.545732110314944],[28.291069370239903,-30.226216729454293],[28.848399692507734,-30.070050551068245],[29.018415154748016,-29.743765557577362],[29.325166456832587,-29.257386976846245],[28.978262566857236,-28.955596612261708]]]}},{"type":"Feature","properties":{"admin":"Zambia","name":"Zambia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[32.759375441221316,-9.230599053589058],[33.23138797377529,-9.676721693564799],[33.485687697083584,-10.525558770391111],[33.31531049981728,-10.796549981329695],[33.11428917820191,-11.60719817469231],[33.30642215346307,-12.435778090060214],[32.99176435723788,-12.783870537978272],[32.68816531752312,-13.712857761289273],[33.21402469252521,-13.97186003993615],[30.179481235481827,-14.796099134991525],[30.274255812305103,-15.507786960515208],[29.51683434420314,-15.644677829656386],[28.947463413211256,-16.043051446194436],[28.825868768028492,-16.38974863044061],[28.467906121542676,-16.468400160388843],[27.598243442502753,-17.290830580314005],[27.04442711763073,-17.938026218337427],[26.706773309035633,-17.961228936436477],[26.38193525564892,-17.846042168857892],[25.264225701608005,-17.736539808831413],[25.084443393664564,-17.661815687737366],[25.076950310982255,-17.578823337476617],[24.6823490740015,-17.35341073981947],[24.03386152517077,-17.29584319424632],[23.215048455506057,-17.52311614346598],[22.562478468524255,-16.89845142992181],[21.887842644953867,-16.080310153876876],[21.933886346125913,-12.898437188369357],[24.01613650889467,-12.91104623784857],[23.930922072045373,-12.565847670138854],[24.079905226342838,-12.191296888887361],[23.90415368011818,-11.722281589406318],[24.017893507592586,-11.237298272347088],[23.912215203555714,-10.926826267137512],[24.257155389103982,-10.951992689663655],[24.314516228947948,-11.262826429899269],[24.783169793402948,-11.238693536018962],[25.418118116973197,-11.330935967659958],[25.752309604604726,-11.784965101776356],[26.55308759939961,-11.924439792532125],[27.164419793412456,-11.608748467661071],[27.38879886242378,-12.132747491100663],[28.15510867687998,-12.272480564017894],[28.52356163912102,-12.69860442469668],[28.934285922976834,-13.248958428605132],[29.699613885219485,-13.257226657771827],[29.616001417771223,-12.178894545137307],[29.341547885869087,-12.36074391037241],[28.642417433392346,-11.971568698782312],[28.37225304537042,-11.793646742401389],[28.496069777141763,-10.789883721564044],[28.673681674928922,-9.60592498132493],[28.44987104667282,-9.164918308146083],[28.734866570762495,-8.526559340044576],[29.002912225060467,-8.40703175215347],[30.34608605319081,-8.238256524288216],[30.74001549655178,-8.340007419470913],[31.157751336950042,-8.594578747317362],[31.55634809746649,-8.76204884199864],[32.19186486179196,-8.930358981973276],[32.759375441221316,-9.230599053589058]]]}},{"type":"Feature","properties":{"admin":"Zimbabwe","name":"Zimbabwe","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[31.191409132621278,-22.251509698172395],[30.659865350067083,-22.15156747811991],[30.322883335091767,-22.27161183033393],[29.839036899542965,-22.102216485281172],[29.432188348109033,-22.091312758067584],[28.79465620292421,-21.639454034107445],[28.02137007010861,-21.485975030200578],[27.727227817503252,-20.85180185311471],[27.724747348753247,-20.499058526290387],[27.2965047543505,-20.391519870690995],[26.16479088715848,-19.293085625894935],[25.850391473094724,-18.714412937090533],[25.649163445750155,-18.536025892818987],[25.264225701608005,-17.736539808831413],[26.38193525564892,-17.846042168857892],[26.706773309035633,-17.961228936436477],[27.04442711763073,-17.938026218337427],[27.598243442502753,-17.290830580314005],[28.467906121542676,-16.468400160388843],[28.825868768028492,-16.38974863044061],[28.947463413211256,-16.043051446194436],[29.51683434420314,-15.644677829656386],[30.274255812305103,-15.507786960515208],[30.338954705534537,-15.880839125230242],[31.173063999157673,-15.860943698797868],[31.636498243951188,-16.07199024827788],[31.852040643040592,-16.319417006091374],[32.32823896661022,-16.39207406989375],[32.84763878757584,-16.713398125884613],[32.849860874164385,-17.979057305577175],[32.65488569512714,-18.67208993904349],[32.611994256324884,-19.419382826416268],[32.77270796075262,-19.715592136313294],[32.65974327976257,-20.30429005298231],[32.508693068173436,-20.395292250248303],[32.24498823418801,-21.11648853931369],[31.191409132621278,-22.251509698172395]]]}}]}');Ore({ThreeGlobe:Eie});function qae(e){let{globeConfig:t,data:n}=e;const r=(0,i.useRef)(null),a=(0,i.useRef)(),[o,s]=(0,i.useState)(!1),l=h({pointSize:1,atmosphereColor:"#ffffff",showAtmosphere:!0,atmosphereAltitude:.1,polygonColor:"rgba(255,255,255,0.7)",globeColor:"#1d072e",emissive:"#000000",emissiveIntensity:.1,shininess:.9,arcTime:2e3,arcLength:.9,rings:1,maxRings:3},t);return(0,i.useEffect)(()=>{!r.current&&a.current&&(r.current=new Eie,a.current.add(r.current),s(!0))},[]),(0,i.useEffect)(()=>{if(!r.current||!o)return;const e=r.current.globeMaterial();e.color=new ic(t.globeColor),e.emissive=new ic(t.emissive),e.emissiveIntensity=t.emissiveIntensity||.1,e.shininess=t.shininess||.9},[o,t.globeColor,t.emissive,t.emissiveIntensity,t.shininess]),(0,i.useEffect)(()=>{if(!r.current||!o||!n)return;const e=n;let t=[];for(let n=0;n<e.length;n++){const i=e[n];Wae(i.color);t.push({size:l.pointSize,order:i.order,color:i.color,lat:i.startLat,lng:i.startLng}),t.push({size:l.pointSize,order:i.order,color:i.color,lat:i.endLat,lng:i.endLng})}const i=t.filter((e,t,n)=>n.findIndex(t=>["lat","lng"].every(n=>t[n]===e[n]))===t);r.current.hexPolygonsData(zae.qT).hexPolygonResolution(3).hexPolygonMargin(.7).showAtmosphere(l.showAtmosphere).atmosphereColor(l.atmosphereColor).atmosphereAltitude(l.atmosphereAltitude).hexPolygonColor(()=>l.polygonColor),r.current.arcsData(n).arcStartLat(e=>1*e.startLat).arcStartLng(e=>1*e.startLng).arcEndLat(e=>1*e.endLat).arcEndLng(e=>1*e.endLng).arcColor(e=>e.color).arcAltitude(e=>1*e.arcAlt).arcStroke(()=>[.32,.28,.3][Math.round(2*Math.random())]).arcDashLength(l.arcLength).arcDashInitialGap(e=>1*e.order).arcDashGap(15).arcDashAnimateTime(()=>l.arcTime),r.current.pointsData(i).pointColor(e=>e.color).pointsMerge(!0).pointAltitude(0).pointRadius(2),r.current.ringsData([]).ringColor(()=>l.polygonColor).ringMaxRadius(l.maxRings).ringPropagationSpeed(3).ringRepeatPeriod(l.arcTime*l.arcLength/l.rings)},[o,n,l.pointSize,l.showAtmosphere,l.atmosphereColor,l.atmosphereAltitude,l.polygonColor,l.arcLength,l.arcTime,l.rings,l.maxRings]),(0,i.useEffect)(()=>{if(!r.current||!o||!n)return;const e=setInterval(()=>{if(!r.current)return;const e=function(e,t,n){const i=[];for(;i.length<n;){const n=Math.floor(Math.random()*(t-e))+e;-1===i.indexOf(n)&&i.push(n)}return i}(0,n.length,Math.floor(4*n.length/5)),t=n.filter((t,n)=>e.includes(n)).map(e=>({lat:e.startLat,lng:e.startLng,color:e.color}));r.current.ringsData(t)},2e3);return()=>{clearInterval(e)}},[o,n]),(0,Yn.jsx)("group",{ref:a})}function Gae(){const{gl:e,size:t}=Pre();return(0,i.useEffect)(()=>{e.setPixelRatio(window.devicePixelRatio),e.setSize(t.width,t.height),e.setClearColor(16755455,0)},[]),null}function Hae(e){const{globeConfig:t}=e,n=new pu;return n.fog=new hu(16777215,400,2e3),(0,Yn.jsxs)(Cae,{scene:n,camera:new iu(50,1.2,180,1800),children:[(0,Yn.jsx)(Gae,{}),(0,Yn.jsx)("ambientLight",{color:t.ambientLight,intensity:.6}),(0,Yn.jsx)("directionalLight",{color:t.directionalLeftLight,position:new as(-400,100,400)}),(0,Yn.jsx)("directionalLight",{color:t.directionalTopLight,position:new as(-200,500,200)}),(0,Yn.jsx)("pointLight",{color:t.pointLight,position:new as(-200,500,200),intensity:.8}),(0,Yn.jsx)(qae,h({},e)),(0,Yn.jsx)(jae,{enablePan:!1,enableZoom:!1,minDistance:300,maxDistance:300,autoRotateSpeed:1,autoRotate:!0,minPolarAngle:Math.PI/3.5,maxPolarAngle:Math.PI-Math.PI/3})]})}function Wae(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Qae(){const e=["#06b6d4","#3b82f6","#6366f1"],t=[{order:1,startLat:-19.885592,startLng:-43.951191,endLat:-22.9068,endLng:-43.1729,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:1,startLat:28.6139,startLng:77.209,endLat:3.139,endLng:101.6869,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:1,startLat:-19.885592,startLng:-43.951191,endLat:-1.303396,endLng:36.852443,arcAlt:.5,color:e[Math.floor(Math.random()*(e.length-1))]},{order:2,startLat:1.3521,startLng:103.8198,endLat:35.6762,endLng:139.6503,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:2,startLat:51.5072,startLng:-.1276,endLat:3.139,endLng:101.6869,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:2,startLat:-15.785493,startLng:-47.909029,endLat:36.162809,endLng:-115.119411,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:3,startLat:-33.8688,startLng:151.2093,endLat:22.3193,endLng:114.1694,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:3,startLat:21.3099,startLng:-157.8581,endLat:40.7128,endLng:-74.006,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:3,startLat:-6.2088,startLng:106.8456,endLat:51.5072,endLng:-.1276,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:4,startLat:11.986597,startLng:8.571831,endLat:-15.595412,endLng:-56.05918,arcAlt:.5,color:e[Math.floor(Math.random()*(e.length-1))]},{order:4,startLat:-34.6037,startLng:-58.3816,endLat:22.3193,endLng:114.1694,arcAlt:.7,color:e[Math.floor(Math.random()*(e.length-1))]},{order:4,startLat:51.5072,startLng:-.1276,endLat:48.8566,endLng:-2.3522,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:5,startLat:14.5995,startLng:120.9842,endLat:51.5072,endLng:-.1276,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:5,startLat:1.3521,startLng:103.8198,endLat:-33.8688,endLng:151.2093,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:5,startLat:34.0522,startLng:-118.2437,endLat:48.8566,endLng:-2.3522,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:6,startLat:-15.432563,startLng:28.315853,endLat:1.094136,endLng:-63.34546,arcAlt:.7,color:e[Math.floor(Math.random()*(e.length-1))]},{order:6,startLat:37.5665,startLng:126.978,endLat:35.6762,endLng:139.6503,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:6,startLat:22.3193,startLng:114.1694,endLat:51.5072,endLng:-.1276,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:7,startLat:-19.885592,startLng:-43.951191,endLat:-15.595412,endLng:-56.05918,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:7,startLat:48.8566,startLng:-2.3522,endLat:52.52,endLng:13.405,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:7,startLat:52.52,startLng:13.405,endLat:34.0522,endLng:-118.2437,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:8,startLat:-8.833221,startLng:13.264837,endLat:-33.936138,endLng:18.436529,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:8,startLat:49.2827,startLng:-123.1207,endLat:52.3676,endLng:4.9041,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:8,startLat:1.3521,startLng:103.8198,endLat:40.7128,endLng:-74.006,arcAlt:.5,color:e[Math.floor(Math.random()*(e.length-1))]},{order:9,startLat:51.5072,startLng:-.1276,endLat:34.0522,endLng:-118.2437,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:9,startLat:22.3193,startLng:114.1694,endLat:-22.9068,endLng:-43.1729,arcAlt:.7,color:e[Math.floor(Math.random()*(e.length-1))]},{order:9,startLat:1.3521,startLng:103.8198,endLat:-34.6037,endLng:-58.3816,arcAlt:.5,color:e[Math.floor(Math.random()*(e.length-1))]},{order:10,startLat:-22.9068,startLng:-43.1729,endLat:28.6139,endLng:77.209,arcAlt:.7,color:e[Math.floor(Math.random()*(e.length-1))]},{order:10,startLat:34.0522,startLng:-118.2437,endLat:31.2304,endLng:121.4737,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:10,startLat:-6.2088,startLng:106.8456,endLat:52.3676,endLng:4.9041,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:11,startLat:41.9028,startLng:12.4964,endLat:34.0522,endLng:-118.2437,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:11,startLat:-6.2088,startLng:106.8456,endLat:31.2304,endLng:121.4737,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:11,startLat:22.3193,startLng:114.1694,endLat:1.3521,endLng:103.8198,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:12,startLat:34.0522,startLng:-118.2437,endLat:37.7749,endLng:-122.4194,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:12,startLat:35.6762,startLng:139.6503,endLat:22.3193,endLng:114.1694,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:12,startLat:22.3193,startLng:114.1694,endLat:34.0522,endLng:-118.2437,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:13,startLat:52.52,startLng:13.405,endLat:22.3193,endLng:114.1694,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:13,startLat:11.986597,startLng:8.571831,endLat:35.6762,endLng:139.6503,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:13,startLat:-22.9068,startLng:-43.1729,endLat:-34.6037,endLng:-58.3816,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:14,startLat:-33.936138,startLng:18.436529,endLat:21.395643,endLng:39.883798,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]}];return(0,Yn.jsx)("div",{className:"globe-section",children:(0,Yn.jsx)("div",{className:"globe-inner",children:(0,Yn.jsx)(vC.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"globe-world-wrapper",children:(0,Yn.jsx)(Hae,{data:t,globeConfig:{pointSize:4,globeColor:"#062056",showAtmosphere:!0,atmosphereColor:"#FFFFFF",atmosphereAltitude:.1,emissive:"#062056",emissiveIntensity:.1,shininess:.9,polygonColor:"rgba(255,255,255,0.7)",ambientLight:"#38bdf8",directionalLeftLight:"#ffffff",directionalTopLight:"#ffffff",pointLight:"#ffffff",arcTime:1e3,arcLength:.9,rings:1,maxRings:3,initialPosition:{lat:22.3193,lng:114.1694},autoRotate:!0,autoRotateSpeed:.5}})})})})}function Yae(e,t){let n;const i=()=>{const{currentTime:i}=t,r=(null===i?0:i.value)/100;n!==r&&e(r),n=r};return Sx.preUpdate(i,!0),()=>Mx(i)}const Xae=new WeakMap;let Kae;const Zae=(e,t,n)=>(i,r)=>r&&r[0]?r[0][e+"Size"]:GM(i)&&"getBBox"in i?i.getBBox()[t]:i[n],Jae=Zae("inline","width","offsetWidth"),$ae=Zae("block","height","offsetHeight");function eoe(e){var t;let{target:n,borderBoxSize:i}=e;null===(t=Xae.get(n))||void 0===t||t.forEach(e=>{e(n,{get width(){return Jae(n,i)},get height(){return $ae(n,i)}})})}function toe(e){e.forEach(eoe)}function noe(e,t){Kae||"undefined"!==typeof ResizeObserver&&(Kae=new ResizeObserver(toe));const n=KE(e);return n.forEach(e=>{var n;let i=Xae.get(e);i||(i=new Set,Xae.set(e,i)),i.add(t),null===(n=Kae)||void 0===n||n.observe(e)}),()=>{n.forEach(e=>{const n=Xae.get(e);var i;(null===n||void 0===n||n.delete(t),null!==n&&void 0!==n&&n.size)||(null===(i=Kae)||void 0===i||i.unobserve(e))})}}const ioe=new Set;let roe;function aoe(e){return ioe.add(e),roe||(roe=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ioe.forEach(t=>t(e))},window.addEventListener("resize",roe)),()=>{ioe.delete(e),ioe.size||"function"!==typeof roe||(window.removeEventListener("resize",roe),roe=void 0)}}const ooe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function soe(e,t,n,i){const r=n[t],{length:a,position:o}=ooe[t],s=r.current,l=n.time;r.current=e["scroll".concat(o)],r.scrollLength=e["scroll".concat(a)]-e["client".concat(a)],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=eS(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>50?0:xw(r.current-s,c)}const loe={start:0,center:.5,end:1};function coe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;if(e in loe&&(e=loe[e]),"string"===typeof e){const t=parseFloat(e);e.endsWith("px")?i=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?i=t/100*document.documentElement.clientWidth:e.endsWith("vh")?i=t/100*document.documentElement.clientHeight:e=t}return"number"===typeof e&&(i=t*e),n+i}const uoe=[0,0];function doe(e,t,n,i){let r=Array.isArray(e)?e:uoe,a=0,o=0;return"number"===typeof e?r=[e,e]:"string"===typeof e&&(r=(e=e.trim()).includes(" ")?e.split(" "):[e,loe[e]?e:"0"]),a=coe(r[0],n,i),o=coe(r[1],t),a-o}const hoe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},poe={x:0,y:0};function moe(e,t,n){const{offset:i=hoe.All}=n,{target:r=e,axis:a="y"}=n,o="y"===a?"height":"width",s=r!==e?function(e,t){const n={x:0,y:0};let i=e;for(;i&&i!==t;)if(eC(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if("svg"===i.tagName){const e=i.getBoundingClientRect();i=i.parentElement;const t=i.getBoundingClientRect();n.x+=e.left-t.left,n.y+=e.top-t.top}else{if(!(i instanceof SVGGraphicsElement))break;{const{x:e,y:t}=i.getBBox();n.x+=e,n.y+=t;let r=null,a=i.parentNode;for(;!r;)"svg"===a.tagName&&(r=a),a=i.parentNode;i=r}}return n}(r,e):poe,l=r===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(r),c={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const d=i.length;for(let h=0;h<d;h++){const e=doe(i[h],c[o],l[o],s[a]);u||e===t[a].interpolatorOffsets[h]||(u=!0),t[a].offset[h]=e}u&&(t[a].interpolate=tS(t[a].offset,nS(i),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=$b(0,1,t[a].interpolate(t[a].current))}function foe(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{measure:t=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let i=t;for(;i&&i!==e;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,i.target,n),function(e,t,n){soe(e,"x",t,n),soe(e,"y",t,n),t.time=n}(e,n,t),(i.offset||i.target)&&moe(e,n,i)},notify:()=>t(n)}}const Aoe=["container"],goe=new WeakMap,voe=new WeakMap,yoe=new WeakMap,boe=e=>e===document.scrollingElement?window:e;function xoe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{container:n=document.scrollingElement}=t,i=s(t,Aoe);if(!n)return bx;let r=yoe.get(n);r||(r=new Set,yoe.set(n,r));const a=foe(n,e,{time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}},i);if(r.add(a),!goe.has(n)){const e=()=>{for(const e of r)e.measure(Ex.timestamp);Sx.preUpdate(t)},t=()=>{for(const e of r)e.notify()},i=()=>Sx.read(e);goe.set(n,i);const a=boe(n);window.addEventListener("resize",i,{passive:!0}),n!==document.documentElement&&voe.set(n,function(e,t){return"function"===typeof e?aoe(e):noe(e,t)}(n,i)),a.addEventListener("scroll",i,{passive:!0}),i()}const o=goe.get(n);return Sx.read(o,!1,!0),()=>{Mx(o);const e=yoe.get(n);if(!e)return;if(e.delete(a),e.size)return;const t=goe.get(n);var i;(goe.delete(n),t)&&(boe(n).removeEventListener("scroll",t),null===(i=voe.get(n))||void 0===i||i(),window.removeEventListener("resize",t))}}const woe=["source","container"],Toe=new Map;function _oe(e){var t,n,i,r;let{source:a,container:o}=e,l=s(e,woe);const{axis:c}=l;a&&(o=a);const u=null!==(t=Toe.get(o))&&void 0!==t?t:new Map;Toe.set(o,u);const d=null!==(n=l.target)&&void 0!==n?n:"self",p=null!==(i=u.get(d))&&void 0!==i?i:{},m=c+(null!==(r=l.offset)&&void 0!==r?r:[]).join(",");return p[m]||(p[m]=!l.target&&hS()?new ScrollTimeline({source:o,axis:c}):function(e){const t={value:0},n=xoe(n=>{t.value=100*n[e.axis].progress},e);return{currentTime:t,cancel:n}}(h({container:o},l))),p[m]}const Soe=["axis","container"];function Moe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{axis:n="y",container:i=document.scrollingElement}=t,r=s(t,Soe);if(!i)return bx;const a=h({axis:n,container:i},r);return"function"===typeof e?function(e,t){return function(e){return 2===e.length}(e)?xoe(n=>{e(n[t.axis].progress,n)},t):Yae(e,_oe(t))}(e,a):function(e,t){const n=_oe(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:e=>(e.pause(),Yae(t=>{e.time=e.duration*t},n))})}(e,a)}const Eoe=["container","target"],Coe=()=>({scrollX:_w(0),scrollY:_w(0),scrollXProgress:_w(0),scrollYProgress:_w(0)}),Poe=e=>!!e&&!e.current;function Noe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{container:t,target:n}=e,r=s(e,Eoe);const a=DT(Coe),o=(0,i.useRef)(null),l=(0,i.useRef)(!1),c=(0,i.useCallback)(()=>(o.current=Moe((e,t)=>{let{x:n,y:i}=t;a.scrollX.set(n.current),a.scrollXProgress.set(n.progress),a.scrollY.set(i.current),a.scrollYProgress.set(i.progress)},h(h({},r),{},{container:(null===t||void 0===t?void 0:t.current)||void 0,target:(null===n||void 0===n?void 0:n.current)||void 0})),()=>{var e;null===(e=o.current)||void 0===e||e.call(o)}),[t,n,JSON.stringify(r.offset)]);return GT(()=>(l.current=!1,Poe(t)||Poe(n)?void(l.current=!0):c()),[c]),(0,i.useEffect)(()=>l.current?(Poe(t),Poe(n),c()):void 0,[c]),a}function Roe(e,t){const n=function(e){const t=DT(()=>_w(e)),{isStatic:n}=(0,i.useContext)(AT);if(n){const[,n]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",n),[])}return t}(t()),r=()=>n.set(t());return r(),GT(()=>{const t=()=>Sx.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),Mx(r)}}),n}function Doe(e,t,n,i){if("function"===typeof e)return function(e){ww.current=[],e();const t=Roe(ww.current,e);return ww.current=void 0,t}(e);const r="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],i=tS(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?i(n):i}(t,n,i);return Array.isArray(e)?Ioe(e,r):Ioe([e],e=>{let[t]=e;return r(t)})}function Ioe(e,t){const n=DT(()=>[]);return Roe(e,()=>{n.length=0;const i=e.length;for(let t=0;t<i;t++)n[t]=e[t].get();return t(n)})}const Loe=e=>{let{data:t}=e;const n=(0,i.useRef)(null),r=(0,i.useRef)(null),[a,o]=(0,i.useState)(0);(0,i.useEffect)(()=>{if(n.current){const e=n.current.getBoundingClientRect();o(e.height)}},[]);const{scrollYProgress:s}=Noe({target:r,offset:["start 10%","end 50%"]}),l=Doe(s,[0,1],[0,a]),c=Doe(s,[0,.1],[0,1]);return(0,Yn.jsx)("div",{className:"w-full bg-[#fff] font-sans md:px-10",ref:r,style:{colorScheme:"light"},children:(0,Yn.jsxs)("div",{ref:n,className:"relative max-w-7xl mx-auto pb-20",children:[t.map((e,t)=>(0,Yn.jsxs)("div",{className:"flex justify-start ".concat(0===t?"pt-5 md:pt-20":"pt-10 md:pt-40"," md:gap-10"),children:[(0,Yn.jsxs)("div",{className:"sticky flex flex-col md:flex-row z-40 items-center top-40 self-start max-w-xs lg:max-w-sm md:w-full",children:[(0,Yn.jsx)("div",{className:"h-10 absolute left-3 md:left-3 w-10 rounded-full bg-[#f9fafd] flex items-center justify-center",children:(0,Yn.jsx)("div",{className:"h-4 w-4 rounded-full bg-neutral-200 border border-neutral-300 p-2"})}),(0,Yn.jsx)("h3",{className:"hidden md:block text-xl md:pl-20 md:text-5xl font-bold",style:{color:"var(--text-secondary)"},children:e.title})]}),(0,Yn.jsxs)("div",{className:"relative pl-20 pr-4 md:pl-4 w-full",children:[(0,Yn.jsx)("h3",{className:"md:hidden block text-2xl mb-4 text-left font-bold",style:{color:"var(--text-secondary)"},children:e.title}),e.content]})]},t)),(0,Yn.jsx)("div",{style:{height:"".concat(a,"px")},className:"absolute md:left-8 left-8 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent via-[var(--border-light)] to-transparent [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)]",children:(0,Yn.jsx)(vC.div,{style:{height:l,opacity:c},className:"absolute inset-x-0 top-0 w-[2px] bg-gradient-to-t from-[var(--science-blue)] via-[var(--science-blue)] to-transparent rounded-full"})})]})})},koe=n.p+"static/media/working.3354278c93d03b67af57.png",Boe=n.p+"static/media/computer.67f8f11f100c69e1f237.png",Foe=n.p+"static/media/booth.75fe74eabc6de32a9ea6.png",Ooe=n.p+"static/media/car.6b71cdf6de74be42c560.png",Uoe=n.p+"static/media/nepo.82fc847576e6a340c3e4.png",Voe=n.p+"static/media/building.73e75e5614b07ba1d158.png",joe=n.p+"static/media/highway.380da6fc9f16575ff9f2.png",zoe=n.p+"static/media/watch.0527f07a2f53ed955390.png",qoe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{threshold:t=.1,rootMargin:n="0px",triggerOnce:r=!0}=e,a=(0,i.useRef)(null),[o,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const e=a.current;if(!e)return;const i=new IntersectionObserver(e=>{let[t]=e;const n=t.isIntersecting;!n||r&&l?r||n||s(!1):(s(!0),r&&c(!0))},{threshold:t,rootMargin:n});return i.observe(e),()=>{i.unobserve(e)}},[t,n,r,l]),{elementRef:a,isVisible:o}};function Goe(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},n=[{title:"2026.07 -",content:(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("p",{className:"timeline-demo-title",children:e("timeline.stabilization.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.stabilization.content1")})}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:200,children:(0,Yn.jsx)("img",{src:joe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:300,children:(0,Yn.jsx)("img",{src:zoe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})})]}),(0,Yn.jsx)(t,{animation:"slide-up",delay:400,children:(0,Yn.jsxs)("p",{className:"timeline-demo-revenue-text",children:[(0,Yn.jsx)("br",{}),e("timeline.stabilization.revenueTarget2026")]})}),(0,Yn.jsx)(t,{animation:"scale-in",delay:500,children:(0,Yn.jsx)("p",{className:"timeline-demo-number",children:e("timeline.stabilization.revenueAmount2026")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:600,children:(0,Yn.jsxs)("p",{className:"timeline-demo-revenue-text",children:[(0,Yn.jsx)("br",{}),e("timeline.stabilization.revenueTarget2027")]})}),(0,Yn.jsx)(t,{animation:"scale-in",delay:700,children:(0,Yn.jsx)("p",{className:"timeline-demo-number",children:e("timeline.stabilization.revenueAmount2027")})})]})},{title:"2026.01 - 06",content:(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("p",{className:"timeline-demo-title",children:e("timeline.expansion.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.expansion.content1")})}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:200,children:(0,Yn.jsx)("img",{src:Uoe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:300,children:(0,Yn.jsx)("img",{src:Voe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})})]}),(0,Yn.jsx)(t,{animation:"slide-up",delay:400,children:(0,Yn.jsxs)("p",{className:"timeline-demo-revenue-text",children:[(0,Yn.jsx)("br",{}),e("timeline.expansion.revenueTarget")]})}),(0,Yn.jsx)(t,{animation:"scale-in",delay:500,children:(0,Yn.jsx)("p",{className:"timeline-demo-number",children:e("timeline.expansion.revenueAmount")})})]})},{title:"2025.07 - 12",content:(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("p",{className:"timeline-demo-title",children:e("timeline.growth.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.growth.content1")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.growth.content2")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:300,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.growth.content3")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:400,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.growth.content4")})}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:500,children:(0,Yn.jsx)("img",{src:Foe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:600,children:(0,Yn.jsx)("img",{src:Ooe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})})]})]})},{title:"2025.01 - 06",content:(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("p",{className:"timeline-demo-title",children:e("timeline.startup.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.startup.content1")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.startup.content2")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:300,children:(0,Yn.jsx)("p",{className:"timeline-demo-paragraph",children:e("timeline.startup.content3")})}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:400,children:(0,Yn.jsx)("img",{src:Boe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:500,children:(0,Yn.jsx)("img",{src:koe,alt:"startup template",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"})})]})]})}];return(0,Yn.jsx)("div",{className:"timeline-demo-container",children:(0,Yn.jsx)(Loe,{data:n})})}const Hoe=n.p+"static/media/clap.9ddc556ce7e7b8afc6f2.png",Woe=n.p+"static/media/automob.48d5e9d1b1e6bbcacd3c.png";function Qoe(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"about-page",children:[(0,Yn.jsx)("section",{className:"about-hero",children:(0,Yn.jsxs)("div",{className:"about-hero-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"about-hero-title",children:e("about.heroTitle")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"about-hero-subtitle",children:e("about.heroSubtitle")})})]})}),(0,Yn.jsxs)("section",{className:"about-mission",children:[(0,Yn.jsxs)("div",{className:"about-mission-intro-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"about-mission-intro-left",children:[(0,Yn.jsx)("h2",{className:"about-section-title",children:e("about.missionTitle")}),(0,Yn.jsx)("p",{className:"about-mission-intro-text",dangerouslySetInnerHTML:{__html:e("about.missionIntro")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"about-mission-intro-right",children:(0,Yn.jsx)("img",{src:DP,alt:"Autonomous truck",className:"about-mission-image"})})})]}),(0,Yn.jsxs)("div",{className:"about-mission-grid",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"about-mission-column",children:[(0,Yn.jsx)("div",{className:"about-mission-column-icon",children:(0,Yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--picton-blue)",strokeWidth:"2",children:[(0,Yn.jsx)("path",{d:"M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4"}),(0,Yn.jsx)("path",{d:"M9 7V3a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v4"}),(0,Yn.jsx)("circle",{cx:"12",cy:"16",r:"1"})]})}),(0,Yn.jsx)("p",{className:"about-mission-column-text",dangerouslySetInnerHTML:{__html:e("about.solutionsText")}}),(0,Yn.jsxs)(Un,{to:"/solutions",className:"about-mission-cta about-mission-cta-emerald",children:[e("about.missionCTA1"),(0,Yn.jsx)("svg",{className:"about-mission-cta-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Yn.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"about-mission-column",children:[(0,Yn.jsx)("div",{className:"about-mission-column-icon",children:(0,Yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--emerald)",strokeWidth:"2",children:[(0,Yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),(0,Yn.jsx)("path",{d:"M2 17l10 5 10-5"}),(0,Yn.jsx)("path",{d:"M2 12l10 5 10-5"})]})}),(0,Yn.jsx)("p",{className:"about-mission-column-text",dangerouslySetInnerHTML:{__html:e("about.projectsText")}}),(0,Yn.jsxs)(Un,{to:"/projects",className:"about-mission-cta about-mission-cta-blue",children:[e("about.missionCTA2"),(0,Yn.jsx)("svg",{className:"about-mission-cta-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Yn.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("div",{className:"about-mission-column",children:[(0,Yn.jsx)("div",{className:"about-mission-column-icon",children:(0,Yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",children:[(0,Yn.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,Yn.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,Yn.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,Yn.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),(0,Yn.jsx)("p",{className:"about-mission-column-text",dangerouslySetInnerHTML:{__html:e("about.teamText")}}),(0,Yn.jsxs)(Un,{to:"/team",className:"about-mission-cta about-mission-cta-purple",children:[e("about.missionCTA3"),(0,Yn.jsx)("svg",{className:"about-mission-cta-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Yn.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})]})]}),(0,Yn.jsxs)("section",{className:"about-values",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"about-section-title",children:e("about.valuesTitle")})}),(0,Yn.jsx)("div",{className:"about-values-container",children:(0,Yn.jsxs)("div",{className:"about-values-grid",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"about-value-card about-value-card-overlay",style:{backgroundImage:"url(".concat(Ooe,")")},children:[(0,Yn.jsx)("div",{className:"about-value-card-overlay-bg"}),(0,Yn.jsxs)("div",{className:"about-value-content",children:[(0,Yn.jsx)("h3",{className:"about-value-title",children:e("about.values.automation.title")}),(0,Yn.jsx)("p",{className:"about-value-desc",dangerouslySetInnerHTML:{__html:e("about.values.automation.desc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"about-value-card about-value-card-overlay",style:{backgroundImage:"url(".concat(Hoe,")")},children:[(0,Yn.jsx)("div",{className:"about-value-card-overlay-bg"}),(0,Yn.jsxs)("div",{className:"about-value-content",children:[(0,Yn.jsx)("h3",{className:"about-value-title",children:e("about.values.integration.title")}),(0,Yn.jsx)("p",{className:"about-value-desc",dangerouslySetInnerHTML:{__html:e("about.values.integration.desc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("div",{className:"about-value-card about-value-card-overlay",style:{backgroundImage:"url(".concat(Woe,")")},children:[(0,Yn.jsx)("div",{className:"about-value-card-overlay-bg"}),(0,Yn.jsxs)("div",{className:"about-value-content",children:[(0,Yn.jsx)("h3",{className:"about-value-title",children:e("about.values.excellence.title")}),(0,Yn.jsx)("p",{className:"about-value-desc",dangerouslySetInnerHTML:{__html:e("about.values.excellence.desc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:400,children:(0,Yn.jsxs)("div",{className:"about-value-card about-value-card-overlay",style:{backgroundImage:"url(".concat(joe,")")},children:[(0,Yn.jsx)("div",{className:"about-value-card-overlay-bg"}),(0,Yn.jsxs)("div",{className:"about-value-content",children:[(0,Yn.jsx)("h3",{className:"about-value-title",children:e("about.values.innovation.title")}),(0,Yn.jsx)("p",{className:"about-value-desc",dangerouslySetInnerHTML:{__html:e("about.values.innovation.desc")}})]})]})})]})})]}),(0,Yn.jsxs)("section",{className:"about-market",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"about-section-title",children:e("about.marketTitle")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"about-mission-text",dangerouslySetInnerHTML:{__html:e("about.marketText")}})}),(0,Yn.jsx)("div",{className:"about-market-inner",children:(0,Yn.jsx)(Qae,{})})]}),(0,Yn.jsxs)("section",{className:"about-story",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"about-story-title",children:e("about.storyTitle")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:300,children:(0,Yn.jsx)(Goe,{})})]})]})}const Yoe=n.p+"static/media/dash.512a2c80616baf5f1f06.png",Xoe=n.p+"static/media/\ub0b4\ud3ec3D\ubaa8\ub378.64cd1130ab4817480017.png",Koe=n.p+"static/media/\ub85c\ubd07.5d0b1efdc7c224916ce0.png",Zoe=n.p+"static/media/visual.758ce66f0baae984e47b.png",Joe=n.p+"static/media/multi.d10f576d462ea9f36284.png",$oe=[n.p+"static/media/teledriving.8bc10f8cb15680acea73.png",Xoe,Joe,Yoe,Koe,Zoe];function ese(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},n=[{title:e("solutions.items.teleDriving.title"),desc:e("solutions.items.teleDriving.desc"),path:"/solutions/remote-driving",icon:"\ud83c\udfae",category:"Control"},{title:e("solutions.items.digitalTwin.title"),desc:e("solutions.items.digitalTwin.desc"),path:"/solutions/digital-twin",icon:"\ud83c\udfd7\ufe0f",category:"Infrastructure"},{title:e("solutions.items.multimodal.title"),desc:e("solutions.items.multimodal.desc"),path:"/solutions/multimodal-simulator",icon:"\ud83d\ude97",category:"Simulation"},{title:e("solutions.items.trafficAnalysis.title"),desc:e("solutions.items.trafficAnalysis.desc"),path:"/solutions/traffic-analysis-tools",icon:"\ud83d\udcca",category:"Analytics"},{title:e("solutions.items.lifeSavingRobot.title"),desc:e("solutions.items.lifeSavingRobot.desc"),path:"/solutions/vr-road-design",icon:"\ud83e\udd7d",category:"Design"},{title:e("solutions.items.visualisation.title"),desc:e("solutions.items.visualisation.desc"),path:"/solutions/visualization",icon:"\ud83d\udcc8",category:"Visualization"}];return(0,Yn.jsxs)("div",{className:"solutions-page",children:[(0,Yn.jsx)("section",{className:"solutions-hero",children:(0,Yn.jsxs)("div",{className:"solutions-hero-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"solutions-hero-title",children:e("solutions.heroTitle")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"solutions-hero-subtitle",children:e("solutions.heroSubtitle")})})]})}),(0,Yn.jsx)("section",{className:"solutions-grid-section",children:(0,Yn.jsx)("div",{className:"solutions-grid-container",children:(0,Yn.jsx)("div",{className:"solutions-grid",children:n.map((e,n)=>(0,Yn.jsx)(t,{animation:"slide-up",delay:100*n,children:(0,Yn.jsx)(Un,{to:e.path,className:"solution-card-link",children:(0,Yn.jsxs)("div",{className:"solution-card solution-card-overlay",style:{backgroundImage:"url(".concat($oe[n],")")},children:[(0,Yn.jsx)("div",{className:"solution-card-overlay-bg"}),(0,Yn.jsxs)("div",{className:"solution-card-content",children:[(0,Yn.jsxs)("div",{className:"solution-card-text",children:[(0,Yn.jsx)("h2",{className:"solution-card-title",children:e.title}),(0,Yn.jsx)("div",{className:"solution-description",dangerouslySetInnerHTML:{__html:Array.isArray(e.desc)?"".concat(e.desc[0]," ").concat(e.desc[1]||"").trim():e.desc}})]}),(0,Yn.jsxs)("div",{className:"solution-tags",children:[(0,Yn.jsx)("span",{className:"solution-tag",children:"Real-time Processing"}),(0,Yn.jsx)("span",{className:"solution-tag",children:"AI-Powered"}),(0,Yn.jsx)("span",{className:"solution-tag",children:"Scalable"})]})]})]})})},"solution-".concat(n)))})})}),(0,Yn.jsx)("section",{className:"project-get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("projects.content.getInTouchTitle")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",children:e("projects.content.getInTouchDescription")}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("projects.content.contactUs")})})]})})})]})}const tse=n.p+"static/media/tele.5e018fff0e68d36639bd.png",nse=n.p+"static/media/jeju.176dbb884197bfab5c76.png",ise=(n.p,n.p+"static/media/city.3220dcff9e6337dcb4b9.png"),rse=n.p+"static/media/truck.b0733db830e005a61c87.png",ase=n.p+"static/media/simulator.45f63a234f55a5406232.png",ose=n.p+"static/media/long.eda41b37816d2b30298b.png",sse=n.p+"static/media/micro.ed8d8ed22153c942b64e.png",lse=n.p+"static/media/meso.cfe9b8d3ab5df96368b4.png",cse=n.p+"static/media/twin.77e5cf8a7b9f7143c11b.png",use=n.p+"static/media/VR.5164e904783c01434c5d.png",dse=()=>{const{t:e}=(0,i.useContext)($n),[t,n]=(0,i.useState)(0),r=(0,i.useRef)(null),a=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},o=[{id:"naepo",title:e("projects.items.naepo.title"),date:e("projects.items.naepo.date"),status:e("projects.status.ongoing"),description:e("projects.items.naepo.explanation"),detailedDescription:e("projects.items.naepo.detailedDescription"),keyFeatures:e("projects.items.naepo.keyFeatures"),impact:e("projects.items.naepo.impact"),impactStats:e("projects.items.naepo.impactStats"),video:{src:"https://www.youtube.com/embed/zkzDjxeQpOI?si=2ejnZMeIT0rxDsdM",title:e("projects.items.naepo.videoTitle"),description:e("projects.items.naepo.videoDescription")},images:[Uoe,Voe,ise,Boe,Yoe,cse,Zoe],technologies:["Digital Twin","AI/ML","IoT Sensors","Real-time Simulation"]},{id:"teleDriving",title:e("projects.items.teleDriving.title"),date:e("projects.items.teleDriving.date"),status:e("projects.status.ongoing"),description:e("projects.items.teleDriving.explanation"),detailedDescription:e("projects.items.teleDriving.detailedDescription"),keyFeatures:e("projects.items.teleDriving.keyFeatures"),impact:e("projects.items.teleDriving.impact"),impactStats:e("projects.items.teleDriving.impactStats"),video:{src:"https://www.youtube.com/embed/-2GbzReGPWY?si=S2ZuX768rv8qbChL",title:e("projects.items.teleDriving.videoTitle"),description:e("projects.items.teleDriving.videoDescription")},images:[nse,koe,tse,rse,Ooe,joe,use],technologies:["Remote Driving","5G Communication","Autonomous Systems","Safety Protocols"]},{id:"publicTransport",title:e("projects.items.publicTransport.title"),date:e("projects.items.publicTransport.date"),status:e("projects.status.ongoing"),description:e("projects.items.publicTransport.explanation"),detailedDescription:e("projects.items.publicTransport.detailedDescription"),keyFeatures:e("projects.items.publicTransport.keyFeatures"),impact:e("projects.items.publicTransport.impact"),impactStats:e("projects.items.publicTransport.impactStats"),video:{src:"https://www.youtube.com/embed/uuxF7u5UAL4?si=ZByMudlozLXSji5c",title:e("projects.items.publicTransport.videoTitle"),description:e("projects.items.publicTransport.videoDescription")},images:[Foe,ase,DP,ose,Joe,Woe],technologies:["Public Transit","Fleet Management","Route Optimization","Passenger Analytics"]},{id:"airportParking",title:e("projects.items.airportParking.title"),date:e("projects.items.airportParking.date"),status:e("projects.status.ongoing"),description:e("projects.items.airportParking.explanation"),detailedDescription:e("projects.items.airportParking.detailedDescription"),keyFeatures:e("projects.items.airportParking.keyFeatures"),impact:e("projects.items.airportParking.impact"),impactStats:e("projects.items.airportParking.impactStats"),video:{src:"https://www.youtube.com/embed/EY8w6_oO-Vw?si=hlzISaUJFveOiXOO",title:e("projects.items.airportParking.videoTitle"),description:e("projects.items.airportParking.videoDescription")},images:[zoe,Hoe,sse,lse,Zoe,ise],technologies:["Smart Parking","IoT Sensors","Mobile Apps","Payment Systems"]}],s=e=>{if(!e)return"";const t=e.split(/[.!?]+/).filter(e=>e.trim().length>0);return t.length>=2?t.slice(0,2).join(". ").trim()+".":1===t.length?t[0].trim()+".":e},l=(e,t)=>{const n=e.toString().toLowerCase();return n.includes("real-time")||n.includes("\uc2e4\uc2dc\uac04")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,Yn.jsx)("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.includes("ai")||n.includes("prediction")||n.includes("\uc608\uce21")||n.includes("\uc778\uacf5\uc9c0\ub2a5")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("path",{d:"M5 3L6 12L5 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("path",{d:"M19 3L18 12L19 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.includes("3d")||n.includes("digital twin")||n.includes("\ub514\uc9c0\ud138")||n.includes("\uc2dc\uac01\ud654")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("path",{d:"L2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("path",{d:"L2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.includes("management")||n.includes("system")||n.includes("\uad00\ub9ac")||n.includes("\uc2dc\uc2a4\ud15c")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.includes("smart")||n.includes("signal")||n.includes("optimization")||n.includes("\uc2a4\ub9c8\ud2b8")||n.includes("\ucd5c\uc801\ud654")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("path",{d:"M9.663 17h4.673M12 3v1M6.343 4.343l.707.707M4.343 6.343l.707.707M3 12h1M17.657 4.343l-.707.707M19.657 6.343l-.707.707M21 12h-1M12 21v-1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("circle",{cx:"12",cy:"17",r:"3",stroke:"currentColor",strokeWidth:"2"})]}):n.includes("5g")||n.includes("communication")||n.includes("remote")||n.includes("\uc6d0\uaca9")||n.includes("\ud1b5\uc2e0")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("path",{d:"M5 12.55a11 11 0 0 1 14.08 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("path",{d:"M1.42 9a16 16 0 0 1 21.16 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Yn.jsx)("line",{x1:"12",y1:"20",x2:"12.01",y2:"20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.includes("energy")||n.includes("efficient")||n.includes("\uc5d0\ub108\uc9c0")||n.includes("\ud6a8\uc728")?(0,Yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):n.includes("mobile")||n.includes("app")||n.includes("\ubaa8\ubc14\uc77c")||n.includes("\uc571")?(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yn.jsx)("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2"}),(0,Yn.jsx)("line",{x1:"12",y1:"18",x2:"12.01",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})};return(0,Yn.jsxs)("div",{className:"projects-page",children:[(0,Yn.jsxs)("section",{className:"projects-hero",children:[(0,Yn.jsx)(a,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"projects-hero-title",children:e("projects.heroTitle")})}),(0,Yn.jsx)(a,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"projects-hero-subtitle",children:e("projects.heroSubtitle")})})]}),(0,Yn.jsx)("section",{className:"projects-tab-navigation",children:(0,Yn.jsx)("div",{className:"tab-container",ref:r,role:"tablist","aria-label":e("projects.navigation.tabsLabel"),children:o.map((e,i)=>(0,Yn.jsx)("button",{className:"tab-button ".concat(t===i?"active":""),onClick:()=>(e=>{if(n(e),r.current&&window.innerWidth<=767){const t=r.current.children[e];t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}})(i),"aria-label":"View ".concat(e.title," project"),"aria-selected":t===i,role:"tab",id:"tab-".concat(e.id),"aria-controls":"tabpanel-".concat(e.id),children:e.title},e.id))})}),(0,Yn.jsx)("section",{className:"projects-content",children:(0,Yn.jsx)("div",{className:"content-container",children:o.map((n,i)=>{return(0,Yn.jsxs)("div",{className:"project-content ".concat(t===i?"active":""),role:"tabpanel","aria-labelledby":"tab-".concat(n.id),id:"tabpanel-".concat(n.id),"aria-hidden":t!==i,children:[(0,Yn.jsx)("div",{className:"project-header",children:(0,Yn.jsx)(a,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"project-title-section",children:[(0,Yn.jsx)("h2",{className:"project-title",children:n.title}),(0,Yn.jsxs)("div",{className:"project-badges",children:[(0,Yn.jsx)("span",{className:"project-timeline",children:n.date}),(0,Yn.jsx)("span",{className:"project-status project-status-".concat((r=n.status,r===e("projects.status.ongoing")?"ongoing":r.toLowerCase())),children:n.status})]})]})})}),(0,Yn.jsx)("div",{className:"project-overview-video-section",children:(0,Yn.jsxs)("div",{className:"overview-video-container",children:[(0,Yn.jsx)(a,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"project-overview-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("projects.content.overviewTitle")}),(0,Yn.jsx)("p",{className:"project-description",dangerouslySetInnerHTML:{__html:s(n.detailedDescription)}})]})}),(0,Yn.jsx)(a,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"video-section",children:[(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:n.video.src,title:n.video.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"project-video"})}),(0,Yn.jsxs)("div",{className:"video-info",children:[(0,Yn.jsx)("h4",{className:"video-title",children:n.video.title}),(0,Yn.jsx)("p",{className:"video-description",dangerouslySetInnerHTML:{__html:n.video.description}})]})]})})]})}),(0,Yn.jsx)("div",{className:"project-features-section",children:(0,Yn.jsx)("div",{className:"project-features-container",children:(0,Yn.jsxs)("div",{className:"project-features",children:[(0,Yn.jsx)(a,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h3",{className:"section-title",children:e("projects.content.featuresTitle")})}),(0,Yn.jsx)("div",{className:"features-grid",children:n.keyFeatures.map((e,t)=>(0,Yn.jsx)(a,{animation:"scale-in",delay:100*t+200,children:(0,Yn.jsxs)("div",{className:"feature-card",children:[(0,Yn.jsx)("div",{className:"feature-icon",children:l(e)}),(0,Yn.jsx)("p",{className:"feature-text",dangerouslySetInnerHTML:{__html:e}})]})},t))})]})})}),(0,Yn.jsx)("div",{className:"project-impact-section",children:(0,Yn.jsx)("div",{className:"project-impact-container",children:(0,Yn.jsxs)("div",{className:"project-impact",children:[(0,Yn.jsx)(a,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h3",{className:"section-title",children:e("projects.content.impactTitle")})}),(0,Yn.jsx)("div",{className:"impact-content",children:(0,Yn.jsx)("div",{className:"impact-list",children:n.impactStats.map((e,t)=>(0,Yn.jsx)(a,{animation:"slide-left",delay:150*t+200,children:(0,Yn.jsxs)("div",{className:"impact-item",children:[(0,Yn.jsx)("span",{className:"impact-number",children:e.number}),(0,Yn.jsx)("p",{className:"impact-text",dangerouslySetInnerHTML:{__html:e.text}})]})},t))})})]})})}),(0,Yn.jsx)("div",{className:"project-technologies-section",children:(0,Yn.jsx)("div",{className:"project-technologies-container",children:(0,Yn.jsxs)("div",{className:"project-technologies",children:[(0,Yn.jsx)(a,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h3",{className:"section-title",children:e("projects.content.technologiesTitle")})}),(0,Yn.jsx)("div",{className:"technologies-grid",children:n.technologies.map((e,t)=>(0,Yn.jsx)(a,{animation:"scale-in",delay:100*t+200,children:(0,Yn.jsxs)("div",{className:"technology-tag",children:[(0,Yn.jsx)("div",{className:"technology-icon",children:(0,Yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Yn.jsx)("span",{className:"technology-name",children:e})]})},t))})]})})}),(0,Yn.jsx)("div",{className:"project-get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(a,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("projects.content.getInTouchTitle")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",children:e("projects.content.getInTouchDescription")}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("projects.content.contactUs")})})]})})})})]},n.id);var r})})})]})},hse=(n.p,n.p+"static/media/reuben.1b2c79142ccc5c225435.jpg"),pse=n.p+"static/media/gyounghoon.d21709542f64a9c63d79.jpg",mse=n.p+"static/media/taeho.0372275274599cde18d0.jpg",fse=n.p+"static/media/tengfeng.83c0f2bb2dec44b080b8.jpg",Ase=(n.p,n.p+"static/media/yonghi.0ca467bd493f80c632e6.jpg"),gse=n.p+"static/media/kaihan.86ff1390e0d70c0d9039.jpg",vse=n.p+"static/media/kervin.73ef6afa9be4555d0b5c.png",yse=n.p+"static/media/hyunchul.b20b1ac3a53004af9f7e.jpg",bse=n.p+"static/media/Jaehyuck.25ee420899c7037fb104.jpg",xse=n.p+"static/media/heeyun.5f1db4dbb9682fa3621f.png",wse=n.p+"static/media/Mahdi.3113b12c2ee791879859.png",Tse=n.p+"static/media/Huizi.9c3e8406e46fa43c325b.png",_se=n.p+"static/media/BoWang.40382e21254f5af8f06d.png",Sse=n.p+"static/media/TK-Kim.4e5203f70d66e567138d.png",Mse=n.p+"static/media/inhiKim.afb182cedddc09277fcc.jpg";function Ese(){const{t:e}=(0,i.useContext)($n),[t,n]=(0,i.useState)("title"),r=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},a={name:e("team.ceo.name"),title:e("team.ceo.title"),photo:Mse,bio:e("team.ceo.bio"),email:"inhi.kim@kaist.ac.kr",certifiedTrainer:!0},o=[...[{name:e("team.members.tkkim.name"),title:e("team.members.tkkim.title"),photo:Sse,bio:e("team.members.tkkim.bio"),email:e("team.members.tkkim.email"),certifiedTrainer:!0},{name:e("team.members.bowang.name"),title:e("team.members.bowang.title"),photo:_se,bio:e("team.members.bowang.bio"),email:e("team.members.bowang.email")},{name:e("team.members.reuben.name"),title:e("team.members.reuben.title"),photo:hse,bio:e("team.members.reuben.bio"),email:"reuben.tamakloe@kaist.ac.kr"},{name:e("team.members.gyounghoon.name"),title:e("team.members.gyounghoon.title"),photo:pse,bio:e("team.members.gyounghoon.bio"),email:"gyounghoon.chun@kaist.ac.kr"},{name:e("team.members.taeho.name"),title:e("team.members.taeho.title"),photo:mse,bio:e("team.members.taeho.bio"),email:"taeho.oh@kaist.ac.kr",certifiedTrainer:!0},{name:e("team.members.tengfeng.name"),title:e("team.members.tengfeng.title"),photo:fse,bio:e("team.members.tengfeng.bio"),email:"tengfeng.lin@kaist.ac.kr"},{name:e("team.members.younghi.name"),title:e("team.members.younghi.title"),photo:Ase,bio:e("team.members.younghi.bio"),email:"younghi.liu@kaist.ac.kr"},{name:e("team.members.kaihan.name"),title:e("team.members.kaihan.title"),photo:gse,bio:e("team.members.kaihan.bio"),email:"kaihan.zhang@kaist.ac.kr"},{name:e("team.members.mahdi.name"),title:e("team.members.mahdi.title"),photo:wse,bio:e("team.members.mahdi.bio"),email:"mahdi.khorasani@kaist.ac.kr"},{name:e("team.members.hui.name"),title:e("team.members.hui.title"),photo:Tse,bio:e("team.members.hui.bio"),email:"hui.zhi@kaist.ac.kr"},{name:e("team.members.kervin.name"),title:e("team.members.kervin.title"),photo:vse,bio:e("team.members.kervin.bio"),email:"kervin.lucas@kaist.ac.kr"},{name:e("team.members.hyuncheol.name"),title:e("team.members.hyuncheol.title"),photo:yse,bio:e("team.members.hyuncheol.bio"),email:"hyuncheol.park@kaist.ac.kr"},{name:e("team.members.jaehyuk.name"),title:e("team.members.jaehyuk.title"),photo:bse,bio:e("team.members.jaehyuk.bio"),email:"limjh107@kaist.ac.kr"},{name:e("team.members.heeyeon.name"),title:e("team.members.heeyeon.title"),photo:xse,bio:e("team.members.heeyeon.bio"),email:"account@dochak.co.kr"}]].sort((e,n)=>{switch(t){case"name":return e.name.localeCompare(n.name);case"title":const t=e=>e.includes("\uc218\uc11d\uae30\uc220\uace0\ubb38")||e.includes("Senior Technical Advisor")?0:e.includes("\uae30\uc220\uace0\ubb38")||e.includes("Technical Advisor")?1:e.includes("\ucc45\uc784\uc5f0\uad6c\uc6d0")||e.includes("Principal Researcher")?2:e.includes("\uc5f0\uad6c\uc6d0")||e.includes("Researcher")?3:4,i=t(e.title),r=t(n.title);return i!==r?i-r:e.title.localeCompare(n.title);default:return 0}});return(0,Yn.jsxs)("div",{className:"team-page",children:[(0,Yn.jsx)("section",{className:"team-hero",children:(0,Yn.jsxs)("div",{className:"team-hero-content",children:[(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"team-hero-title",children:e("team.heroTitle")})}),(0,Yn.jsx)(r,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"team-hero-subtitle",children:e("team.heroSubtitle")})})]})}),(0,Yn.jsx)("section",{className:"team-ceo-section",children:(0,Yn.jsxs)("div",{className:"team-ceo-card",children:[(0,Yn.jsx)("img",{src:a.photo,alt:a.name,className:"team-ceo-photo"}),(0,Yn.jsxs)("div",{className:"team-ceo-info",children:[a.certifiedTrainer&&(0,Yn.jsx)("div",{className:"team-certified-badge",children:"PTV Certified Trainer"}),(0,Yn.jsx)("div",{className:"team-ceo-name",children:a.name}),(0,Yn.jsx)("div",{className:"team-ceo-title",children:a.title}),(0,Yn.jsx)("div",{className:"team-ceo-bio",children:a.bio}),(0,Yn.jsx)("div",{className:"team-email",children:(0,Yn.jsx)("a",{href:"mailto:".concat(a.email),className:"team-email-link",children:a.email})})]})]})}),(0,Yn.jsxs)("section",{className:"team-members-section",children:[(0,Yn.jsxs)("div",{className:"team-section-header",children:[(0,Yn.jsx)("h2",{className:"team-section-title",children:e("team.sectionTitle")}),(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("div",{className:"team-sort",children:(0,Yn.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"team-sort-select",children:[(0,Yn.jsx)("option",{value:"title",children:e("team.sort.byTitle")||"\uc9c1\ucc45\uc21c"}),(0,Yn.jsx)("option",{value:"name",children:e("team.sort.byName")||"\uc774\ub984\uc21c"})]})})})]}),(0,Yn.jsx)("div",{className:"team-members-grid",children:o.map((e,t)=>(0,Yn.jsxs)("div",{className:"team-member-card",children:[(0,Yn.jsx)("img",{src:e.photo,alt:e.name,className:"team-member-photo"}),e.certifiedTrainer&&(0,Yn.jsx)("div",{className:"team-certified-badge",children:"PTV Certified Trainer"}),(0,Yn.jsx)("div",{className:"team-member-name",children:e.name}),(0,Yn.jsx)("div",{className:"team-member-title",children:e.title}),(0,Yn.jsx)("div",{className:"team-member-bio",children:e.bio}),(0,Yn.jsx)("div",{className:"team-email",children:(0,Yn.jsx)("a",{href:"mailto:".concat(e.email),className:"team-email-link",children:e.email})})]},t))})]})]})}class Cse{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Pse={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},Nse=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Rse=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await fetch(Pse.origin+e,{method:"POST",headers:n,body:t}),r=await i.text(),a=new Cse(i.status,r);if(i.ok)return a;throw a},Dse=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Ise=e=>e.webdriver||!e.languages||0===e.languages.length,Lse=()=>new Cse(451,"Unavailable For Headless Browser"),kse=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},Bse=()=>new Cse(403,"Forbidden"),Fse=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const i=t.id||e,r=await(async(e,t,n)=>{const i=Number(await n.get(e)||0);return t-Date.now()+i})(i,t.throttle,n);return r>0||(await n.set(i,Date.now().toString()),!1)},Ose=()=>new Cse(429,"Too Many Requests"),Use=async(e,t,n,i)=>{const r=Nse(i),a=r.publicKey||Pse.publicKey,o=r.blockHeadless||Pse.blockHeadless,s=r.storageProvider||Pse.storageProvider,l=h(h({},Pse.blockList),r.blockList),c=h(h({},Pse.limitRate),r.limitRate);if(o&&Ise(navigator))return Promise.reject(Lse());if(Dse(a,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&kse(l,n))return Promise.reject(Bse());if(await Fse(location.pathname,c,s))return Promise.reject(Ose());const u={lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:n};return Rse("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})};function Vse(){const{t:e}=(0,i.useContext)($n),[t,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),[o,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[m,f]=(0,i.useState)(""),A=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"getintouch-page",children:[(0,Yn.jsx)("section",{className:"getintouch-hero",children:(0,Yn.jsxs)("div",{className:"getintouch-hero-container",children:[(0,Yn.jsx)(A,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"getintouch-hero-title",children:e("getInTouch.heroTitle")})}),(0,Yn.jsx)(A,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("p",{className:"getintouch-hero-subtitle",children:e("getInTouch.heroSubtitle")})})]})}),(0,Yn.jsx)("section",{className:"getintouch-content",children:(0,Yn.jsx)("div",{className:"getintouch-container",children:(0,Yn.jsxs)("div",{className:"getintouch-grid",children:[(0,Yn.jsx)(A,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"contact-info",children:[(0,Yn.jsx)("h2",{className:"contact-info-title",children:e("getInTouch.contactInfo.title")}),(0,Yn.jsxs)("div",{className:"contact-items",children:[(0,Yn.jsxs)("div",{className:"contact-item",children:[(0,Yn.jsx)("div",{className:"contact-icon",children:(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Yn.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,Yn.jsx)("circle",{cx:"12",cy:"10",r:"3"})]})}),(0,Yn.jsxs)("div",{className:"contact-details",children:[(0,Yn.jsx)("h4",{children:e("getInTouch.contactInfo.location.title")}),(0,Yn.jsx)("p",{children:e("getInTouch.contactInfo.location.address")})]})]}),(0,Yn.jsxs)("div",{className:"contact-item",children:[(0,Yn.jsx)("div",{className:"contact-icon",children:(0,Yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Yn.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,Yn.jsx)("polyline",{points:"22,6 12,13 2,6"})]})}),(0,Yn.jsxs)("div",{className:"contact-details",children:[(0,Yn.jsx)("h4",{children:e("getInTouch.contactInfo.email.title")}),(0,Yn.jsx)("p",{children:e("getInTouch.contactInfo.email.address")})]})]}),(0,Yn.jsxs)("div",{className:"contact-item",children:[(0,Yn.jsx)("div",{className:"contact-icon",children:(0,Yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Yn.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),(0,Yn.jsxs)("div",{className:"contact-details",children:[(0,Yn.jsx)("h4",{children:e("getInTouch.contactInfo.phone.title")}),(0,Yn.jsx)("p",{children:e("getInTouch.contactInfo.phone.number")})]})]})]}),(0,Yn.jsxs)("div",{className:"contact-social-integrated",children:[(0,Yn.jsx)("h5",{className:"social-title-integrated",children:e("getInTouch.social.title")}),(0,Yn.jsxs)("div",{className:"social-links-integrated",children:[(0,Yn.jsx)("a",{href:"https://www.linkedin.com/company/dochak",className:"social-link-integrated","aria-label":"LinkedIn",target:"_blank",rel:"noopener noreferrer",children:(0,Yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Yn.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),(0,Yn.jsx)("a",{href:"https://twitter.com/dochak_mobility",className:"social-link-integrated","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",children:(0,Yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Yn.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Yn.jsx)("a",{href:"https://github.com/dochak-mobility",className:"social-link-integrated","aria-label":"GitHub",target:"_blank",rel:"noopener noreferrer",children:(0,Yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Yn.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})]})]})}),(0,Yn.jsx)("div",{className:"contact-form-wrapper",children:t?(0,Yn.jsxs)("div",{className:"success-message",children:[(0,Yn.jsx)("div",{className:"success-icon",children:(0,Yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Yn.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,Yn.jsx)("polyline",{points:"22,4 12,14.01 9,11.01"})]})}),(0,Yn.jsx)("h3",{children:e("getInTouch.form.successTitle")}),(0,Yn.jsx)("p",{children:e("getInTouch.form.success")})]}):(0,Yn.jsxs)("div",{className:"contact-form",children:[(0,Yn.jsxs)("div",{className:"form-header",children:[(0,Yn.jsx)("h2",{children:e("getInTouch.form.title")}),(0,Yn.jsx)("p",{children:e("getInTouch.form.subtitle")})]}),o&&(0,Yn.jsx)("div",{style:{padding:"1rem",marginBottom:"1.5rem",backgroundColor:"#fee2e2",border:"1px solid #ef4444",borderRadius:"8px",color:"#dc2626",fontSize:"0.95rem"},children:o}),(0,Yn.jsxs)("div",{className:"form-row",children:[(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsxs)("label",{htmlFor:"name",children:[e("getInTouch.form.name"),(0,Yn.jsx)("span",{className:"required",children:"*"})]}),(0,Yn.jsx)("input",{type:"text",id:"name",name:"name",value:l,onChange:e=>{c(e.target.value)},placeholder:e("getInTouch.form.namePlaceholder"),required:!0})]}),(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsxs)("label",{htmlFor:"email",children:[e("getInTouch.form.email"),(0,Yn.jsx)("span",{className:"required",children:"*"})]}),(0,Yn.jsx)("input",{type:"email",id:"email",name:"email",value:u,onChange:e=>{d(e.target.value)},placeholder:e("getInTouch.form.emailPlaceholder"),required:!0})]})]}),(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsx)("label",{htmlFor:"company",children:e("getInTouch.form.company")}),(0,Yn.jsx)("input",{type:"text",id:"company",name:"company",value:h,onChange:e=>{p(e.target.value)},placeholder:e("getInTouch.form.companyPlaceholder")})]}),(0,Yn.jsxs)("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[(0,Yn.jsxs)("label",{htmlFor:"message",children:[e("getInTouch.form.message"),(0,Yn.jsx)("span",{className:"required",children:"*"})]}),(0,Yn.jsx)("textarea",{id:"message",name:"message",value:m,onChange:e=>{f(e.target.value)},rows:5,placeholder:e("getInTouch.form.messagePlaceholder"),required:!0})]}),(0,Yn.jsxs)("button",{type:"button",className:"submit-button",onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),!l||!u||!m)return void s("Please fill in all required fields");a(!0),s("");const t={name:l,email:u,company:h||"Not provided",message:m,time:(new Date).toLocaleString()};try{await Use("service_zn673la","template_kgq5hn9",t,"AjOKZzS6rwwqhuC7b"),n(!0),c(""),d(""),p(""),f("")}catch(o){console.error("Failed to send email:",o),s("Failed to send message. Please try again or contact us directly.")}finally{a(!1)}},disabled:r,style:{opacity:r?.6:1,cursor:r?"not-allowed":"pointer"},children:[(0,Yn.jsx)("span",{children:r?"Sending...":e("getInTouch.form.submit")}),!r&&(0,Yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Yn.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,Yn.jsx)("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]})]})]})})]})})}),(0,Yn.jsx)("section",{className:"faq-section",children:(0,Yn.jsxs)("div",{className:"getintouch-container",children:[(0,Yn.jsx)(A,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"faq-header",children:[(0,Yn.jsx)("h2",{children:e("getInTouch.faq.title")}),(0,Yn.jsx)("p",{children:e("getInTouch.faq.subtitle")})]})}),(0,Yn.jsxs)("div",{className:"faq-grid",children:[(0,Yn.jsx)(A,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"faq-item",children:[(0,Yn.jsx)("h4",{children:e("getInTouch.faq.item1.question")}),(0,Yn.jsx)("p",{children:e("getInTouch.faq.item1.answer")})]})}),(0,Yn.jsx)(A,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"faq-item",children:[(0,Yn.jsx)("h4",{children:e("getInTouch.faq.item2.question")}),(0,Yn.jsx)("p",{children:e("getInTouch.faq.item2.answer")})]})}),(0,Yn.jsx)(A,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("div",{className:"faq-item",children:[(0,Yn.jsx)("h4",{children:e("getInTouch.faq.item3.question")}),(0,Yn.jsx)("p",{children:e("getInTouch.faq.item3.answer")})]})})]})]})})]})}const jse=e=>{let{activeTab:t,onTabChange:n,tabs:r}=e;const{t:a}=(0,i.useContext)($n);return(0,Yn.jsxs)("nav",{className:"disclosure-tabs","aria-label":a("disclosure.tabsNavLabel")||"Disclosure navigation",children:[(0,Yn.jsx)("div",{className:"tabs-container",role:"tablist","aria-label":a("disclosure.tabsAriaLabel")||"Disclosure sections","aria-orientation":"horizontal",children:r.map((e,i)=>(0,Yn.jsxs)("button",{className:"tab-button ".concat(t===e.id?"active":""),onClick:()=>{return t=e.id,void n(t);var t},onKeyDown:i=>((e,i)=>{const a=r.findIndex(e=>e.id===t);let o=a;switch(e.key){case"Enter":case" ":e.preventDefault(),n(i);break;case"ArrowLeft":e.preventDefault(),o=a>0?a-1:r.length-1,n(r[o].id);break;case"ArrowRight":e.preventDefault(),o=a<r.length-1?a+1:0,n(r[o].id);break;case"Home":e.preventDefault(),n(r[0].id);break;case"End":e.preventDefault(),n(r[r.length-1].id)}})(i,e.id),role:"tab","aria-selected":t===e.id,"aria-controls":"".concat(e.id,"-panel"),"aria-describedby":"".concat(e.id,"-description"),id:"".concat(e.id,"-tab"),tabIndex:t===e.id?0:-1,"aria-posinset":i+1,"aria-setsize":r.length,children:[(0,Yn.jsx)("span",{className:"tab-label",children:e.label}),(0,Yn.jsx)("span",{className:"tab-count","aria-label":"".concat(e.count," ").concat(1===e.count?"item":"items"),children:e.count}),(0,Yn.jsx)("div",{id:"".concat(e.id,"-description"),className:"sr-only",children:"publications"===e.id?a("disclosure.publicationsTabDescription")||"View academic publications and research papers":a("disclosure.patentsTabDescription")||"View patents and intellectual property"})]},e.id))}),(0,Yn.jsx)("div",{className:"tab-indicator","aria-hidden":"true"})]})},zse=e=>{let{searchTerm:t,onSearchChange:n,yearFilter:r,onYearFilterChange:a,typeFilter:o,onTypeFilterChange:s,availableYears:l,activeTab:c,placeholder:u}=e;const{t:d}=(0,i.useContext)($n),[h,p]=(0,i.useState)(t);(0,i.useEffect)(()=>{const e=setTimeout(()=>{n(h)},300);return()=>clearTimeout(e)},[h,n]),(0,i.useEffect)(()=>{p(t)},[t]);const m=()=>{p(""),n("")},f=()=>{a("all")},A=()=>{s("all")},g=""!==h.trim()||"all"!==r||"publications"===c&&"all"!==o;return(0,Yn.jsxs)("section",{className:"search-filter",role:"search","aria-label":d("disclosure.searchSectionLabel")||"Search and filter options",children:[(0,Yn.jsxs)("div",{className:"search-filter-controls",children:[(0,Yn.jsxs)("div",{className:"search-input-container",children:[(0,Yn.jsx)("label",{htmlFor:"search-input",className:"sr-only",children:d("disclosure.searchLabel")||"Search publications and patents"}),(0,Yn.jsxs)("div",{className:"search-input-wrapper",children:[(0,Yn.jsx)("input",{id:"search-input",type:"text",className:"search-input",placeholder:u||d("disclosure.searchPlaceholder")||"Search publications and patents...",value:h,onChange:e=>{p(e.target.value)},"aria-label":d("disclosure.searchAriaLabel")||"Search through publications and patents","aria-describedby":"search-description"}),(0,Yn.jsx)("div",{className:"search-icon","aria-hidden":"true",children:(0,Yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Yn.jsx)("path",{d:"m21 21-4.35-4.35"})]})}),h&&(0,Yn.jsx)("button",{className:"clear-search-btn",onClick:m,"aria-label":d("disclosure.clearSearch")||"Clear search",type:"button",tabIndex:"0",children:(0,Yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Yn.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Yn.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Yn.jsx)("div",{id:"search-description",className:"sr-only",children:d("disclosure.searchDescription")||"Search by title, author, journal, or patent name"})]}),(0,Yn.jsxs)("div",{className:"year-filter-container",children:[(0,Yn.jsx)("label",{htmlFor:"year-filter",className:"sr-only",children:d("disclosure.yearFilterLabel")||"Filter by publication year"}),(0,Yn.jsxs)("select",{id:"year-filter",className:"year-filter-select",value:r,onChange:e=>{a(e.target.value)},"aria-label":d("disclosure.yearFilterAriaLabel")||"Filter by year","aria-describedby":"year-filter-description",children:[(0,Yn.jsx)("option",{value:"all",children:d("disclosure.allYears")||"All Years"}),l.map(e=>(0,Yn.jsx)("option",{value:e,children:e},e))]}),(0,Yn.jsx)("div",{className:"select-arrow","aria-hidden":"true",children:(0,Yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Yn.jsx)("polyline",{points:"6,9 12,15 18,9"})})}),(0,Yn.jsx)("div",{id:"year-filter-description",className:"sr-only",children:d("disclosure.yearFilterDescription")||"Filter results by publication year"})]}),"publications"===c&&(0,Yn.jsxs)("div",{className:"type-filter-container",children:[(0,Yn.jsx)("label",{htmlFor:"type-filter",className:"sr-only",children:d("disclosure.typeFilterLabel")||"Filter by publication type"}),(0,Yn.jsxs)("select",{id:"type-filter",className:"type-filter-select",value:o,onChange:e=>{s(e.target.value)},"aria-label":d("disclosure.typeFilterAriaLabel")||"Filter by publication type","aria-describedby":"type-filter-description",children:[(0,Yn.jsx)("option",{value:"all",children:d("disclosure.allTypes")||"All Types"}),(0,Yn.jsx)("option",{value:"journal",children:d("disclosure.publicationType.journal")||"Journal"}),(0,Yn.jsx)("option",{value:"conference",children:d("disclosure.publicationType.conference")||"Conference"})]}),(0,Yn.jsx)("div",{className:"select-arrow","aria-hidden":"true",children:(0,Yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Yn.jsx)("polyline",{points:"6,9 12,15 18,9"})})}),(0,Yn.jsx)("div",{id:"type-filter-description",className:"sr-only",children:d("disclosure.typeFilterDescription")||"Filter results by publication type"})]})]}),g&&(0,Yn.jsxs)("div",{className:"active-filters",role:"region","aria-label":d("disclosure.activeFiltersRegion")||"Active filters",children:[(0,Yn.jsx)("div",{className:"active-filters-label",id:"active-filters-heading",children:d("disclosure.activeFilters")||"Active filters:"}),(0,Yn.jsxs)("div",{className:"active-filters-list",role:"list","aria-labelledby":"active-filters-heading",children:[""!==h.trim()&&(0,Yn.jsxs)("div",{className:"filter-tag",role:"listitem",children:[(0,Yn.jsxs)("span",{className:"filter-tag-label",children:[d("disclosure.searchFilter")||"Search",":"]}),(0,Yn.jsxs)("span",{className:"filter-tag-value",children:['"',h,'"']}),(0,Yn.jsx)("button",{className:"filter-tag-remove",onClick:m,"aria-label":d("disclosure.removeSearchFilter")||"Remove search filter: ".concat(h),type:"button",tabIndex:"0",children:"\xd7"})]}),"all"!==r&&(0,Yn.jsxs)("div",{className:"filter-tag",role:"listitem",children:[(0,Yn.jsxs)("span",{className:"filter-tag-label",children:[d("disclosure.yearFilter")||"Year",":"]}),(0,Yn.jsx)("span",{className:"filter-tag-value",children:r}),(0,Yn.jsx)("button",{className:"filter-tag-remove",onClick:f,"aria-label":d("disclosure.removeYearFilter")||"Remove year filter: ".concat(r),type:"button",tabIndex:"0",children:"\xd7"})]}),"publications"===c&&"all"!==o&&(0,Yn.jsxs)("div",{className:"filter-tag",role:"listitem",children:[(0,Yn.jsxs)("span",{className:"filter-tag-label",children:[d("disclosure.typeFilter")||"Type",":"]}),(0,Yn.jsx)("span",{className:"filter-tag-value",children:"journal"===o?d("disclosure.publicationType.journal")||"Journal":d("disclosure.publicationType.conference")||"Conference"}),(0,Yn.jsx)("button",{className:"filter-tag-remove",onClick:A,"aria-label":d("disclosure.removeTypeFilter")||"Remove type filter: ".concat(o),type:"button",tabIndex:"0",children:"\xd7"})]})]}),(0,Yn.jsx)("button",{className:"clear-all-filters-btn",onClick:()=>{m(),f(),A()},"aria-label":d("disclosure.clearAllFilters")||"Clear all filters",type:"button",tabIndex:"0",children:d("disclosure.clearAll")||"Clear All"})]})]})},qse=e=>{let{publication:t}=e;const{t:n}=(0,i.useContext)($n),r=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long"}),a=e=>"journal"===e?n("disclosure.publicationType.journal")||"Journal":n("disclosure.publicationType.conference")||"Conference";return(0,Yn.jsxs)("article",{className:"publication-card",role:"article","aria-labelledby":"publication-title-".concat(t.id),children:[(0,Yn.jsxs)("header",{className:"publication-header",children:[(0,Yn.jsx)("div",{className:"publication-type-badge publication-type-".concat(t.type),role:"img","aria-label":"Publication type: ".concat(a(t.type)),children:a(t.type)}),(0,Yn.jsx)("time",{className:"publication-date",dateTime:t.date,"aria-label":"Published on ".concat(r(t.date)),children:r(t.date)})]}),(0,Yn.jsxs)("div",{className:"publication-content",children:[(0,Yn.jsx)("h3",{className:"publication-title",id:"publication-title-".concat(t.id),children:t.url?(0,Yn.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"publication-title-link","aria-label":"".concat(n("disclosure.openPaper")||"Open paper",": ").concat(t.title," (opens in new tab)"),children:[t.title,(0,Yn.jsx)("span",{className:"sr-only",children:" (opens in new tab)"})]}):t.title}),(0,Yn.jsx)("div",{className:"publication-authors","aria-label":"Authors: ".concat(t.authors.join(", ")),children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((n,i)=>{const r=t.includes(n),a=i===e.length-1;return(0,Yn.jsxs)("span",{children:[(0,Yn.jsx)("span",{className:r?"author-team-member":"author-external",children:n}),!a&&", "]},i)})}(t.authors,t.teamMembers)}),(0,Yn.jsx)("div",{className:"publication-journal","aria-label":"Published in: ".concat(t.journal),children:t.journal}),t.doi&&(0,Yn.jsxs)("div",{className:"publication-doi",children:[(0,Yn.jsx)("span",{className:"doi-label",children:"DOI:"}),(0,Yn.jsxs)("a",{href:"https://doi.org/".concat(t.doi),target:"_blank",rel:"noopener noreferrer",className:"doi-link","aria-label":"".concat(n("disclosure.openDoi")||"Open DOI",": ").concat(t.doi," (opens in new tab)"),children:[t.doi,(0,Yn.jsx)("span",{className:"sr-only",children:" (opens in new tab)"})]})]})]})]})},Gse=e=>{let{patent:t}=e;const{t:n}=(0,i.useContext)($n),r=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a=e=>{const t={"\ub300\ud55c\ubbfc\uad6d":"KR","South Korea":"KR","United States":"US",China:"CN",Japan:"JP",Germany:"DE","United Kingdom":"GB",France:"FR",Canada:"CA",Australia:"AU",India:"IN","European Union":"EU"}[e];return t&&n("disclosure.countries.".concat(t))||e},o="registered"===t.status?{label:n("disclosure.patentStatus.registered")||"Registered",className:"patent-status-registered"}:{label:n("disclosure.patentStatus.pending")||"Pending",className:"patent-status-pending"};return(0,Yn.jsxs)("article",{className:"patent-card",role:"article","aria-labelledby":"patent-name-".concat(t.id),children:[(0,Yn.jsxs)("header",{className:"patent-header",children:[(0,Yn.jsx)("div",{className:"patent-status ".concat(o.className),role:"img","aria-label":"Patent status: ".concat(o.label),children:o.label}),(0,Yn.jsx)("div",{className:"patent-country","aria-label":"Country: ".concat(a(t.country)),children:a(t.country)})]}),(0,Yn.jsxs)("div",{className:"patent-content",children:[(0,Yn.jsx)("h3",{className:"patent-name",id:"patent-name-".concat(t.id),children:(e=>{const t=n("disclosure.patentNames.".concat(e));return t&&t!=="disclosure.patentNames.".concat(e)?t:e})(t.name)}),(0,Yn.jsxs)("dl",{className:"patent-details",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("dt",{className:"patent-date-label",children:["registered"===t.status?n("disclosure.registrationDate")||"Registration Date":n("disclosure.applicationDate")||"Application Date",":"]}),(0,Yn.jsx)("dd",{className:"patent-date-value",children:(0,Yn.jsx)("time",{dateTime:t.registrationDate,"aria-label":r(t.registrationDate),children:r(t.registrationDate)})})]}),t.registrationNumber&&(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("dt",{className:"patent-number-label",children:[n("disclosure.registrationNumber")||"Registration Number",":"]}),(0,Yn.jsx)("dd",{className:"patent-number-value","aria-label":"Registration number: ".concat(t.registrationNumber),children:t.registrationNumber})]}),t.managementNumber&&(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("dt",{className:"patent-number-label",children:[n("disclosure.managementNumber")||"Management Number",":"]}),(0,Yn.jsx)("dd",{className:"patent-number-value","aria-label":"Management number: ".concat(t.managementNumber),children:t.managementNumber})]})]})]})]})},Hse=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;return t.searchTerm&&(n=((e,t)=>{if(!t||""===t.trim())return e;const n=t.toLowerCase().trim();return e.filter(e=>e.searchableText.includes(n))})(n,t.searchTerm)),t.year&&"all"!==t.year&&(n=((e,t)=>{if("all"===t||!t)return e;const n=parseInt(t);return e.filter(e=>e.year===n)})(n,t.year)),t.type&&"all"!==t.type&&(n=((e,t)=>"all"!==t&&t?e.filter(e=>e.type===t):e)(n,t.type)),(e=>[...e].sort((e,t)=>new Date(t.date)-new Date(e.date)))(n)},Wse=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;return t.searchTerm&&(n=((e,t)=>{if(!t||""===t.trim())return e;const n=t.toLowerCase().trim();return e.filter(e=>e.searchableText.includes(n))})(n,t.searchTerm)),t.year&&"all"!==t.year&&(n=((e,t)=>{if("all"===t||!t)return e;const n=parseInt(t);return e.filter(e=>e.year===n)})(n,t.year)),t.status&&"all"!==t.status&&(n=((e,t)=>"all"!==t&&t?e.filter(e=>e.status===t):e)(n,t.status)),(e=>[...e].sort((e,t)=>new Date(t.registrationDate)-new Date(e.registrationDate)))(n)},Qse=[{id:"1",authors:["Reuben Tamakloe","Mahdi Khorasani","Inhi Kim"],date:"2025-03-01",title:"Differences in injury severities between elderly and non-elderly taxi driver at-fault crashes: Temporal instability and out-of-sample prediction",journal:"Accident Analysis & Prevention",type:"journal",teamMembers:["Inhi Kim"]},{id:"2",authors:["Jaehyuck Lim","Hyunchul Park","Taeho Oh","Inhi Kim"],date:"2025-03-01",title:"The impact of information delivery systems in tunnels depending on lighting intensity and speed limit",journal:"Tunnelling and Underground Space Technology",type:"journal",teamMembers:["Inhi Kim"]},{id:"3",authors:["Tianqi Gu","Kaihan Zhang","Weiping Xu","Chutian Zhuang","Zhonghui Jiang","Inhi Kim","Hyungchul Chung"],date:"2025-01-01",title:"Free interchange for better transit? Assessing the multi-dimensional impacts on metro to bus interchange behavior \u2212 insights from an explainable machine learning method",journal:"Travel Behaviour and Society",type:"journal",teamMembers:["Inhi Kim"]},{id:"4",authors:["Kaihan Zhang","Reuben Tamakloe","Mengqiu Cao","Inhi Kim"],date:"2024-12-01",title:"Exploring fatal/severe pedestrian injury crash frequency at school zone crash hotspots: using interpretable machine learning to assess the micro-level street environment",journal:"Journal of Transport Geography",type:"journal",teamMembers:["Inhi Kim"]},{id:"5",authors:["Tianqi Gu","Inhi Kim","Graham Currie","Weiping Xu"],date:"2024-12-01",title:"Understanding shared bike usages toward metros with fewer physical road separations",journal:"Case Studies on Transport Policy",type:"journal",teamMembers:["Inhi Kim"]},{id:"6",authors:["Duy Quy Nguyen-Phuoc","Nhat Xuan Mai","Inhi Kim","Oscar Oviedo-Trespalacios"],date:"2024-11-01",title:"Questioning penalties and road safety Policies: Are they enough to deter risky motorcyclist Behavior?",journal:"Accident Analysis & Prevention",type:"journal",teamMembers:["Inhi Kim"]},{id:"7",authors:["Taeho Oh","Jaehyuck Lim","Reuben Tamakloe","Zhibin Li","Inhi Kim"],date:"2024-11-01",title:"Enhancing mutual understanding of e-scooter user\u2019s perspective in overtaking maneuver through replaying own driving trajectory",journal:"Accident Analysis & Prevention",type:"journal",teamMembers:["Inhi Kim"]},{id:"8",authors:["Hyunchul Park","Taeho Oh","Inhi Kim"],date:"2024-09-01",title:"Effects of driver\u2019s braking behavior by the real-time pedestrian scale warning system",journal:"Accident Analysis & Prevention",type:"journal",teamMembers:["Inhi Kim"]},{id:"9",authors:["Reuben Tamakloe","Kaihan Zhang","Inhi Kim"],date:"2024-09-01",title:"Temporal instability of the determinants of fatal/severe elderly pedestrian injury outcomes in intersections and non-intersections before, during, and after the COVID-19 pandemic",journal:"Accident Analysis & Prevention",type:"journal",teamMembers:["Inhi Kim"]},{id:"10",authors:["Fatemeh Nourmohammadi","Zahra Nourmohammadi","Inhi Kim","Heechan Kang"],date:"2024-07-16",title:"Impact of COVID-19 pandemic on characteristic of bike-sharing systems near metro and bus stations",journal:"International Journal of Urban Sciences",type:"journal",teamMembers:["Inhi Kim"]},{id:"11",authors:["Jaeeun Jung","Inhi Kim","Jinwon Yoon"],date:"2024-06-08",title:"EcoMRL: Deep reinforcement learning-based traffic signal control for urban air quality",journal:"International Journal of Sustainable Transportation",type:"journal",teamMembers:["Inhi Kim"]},{id:"12",authors:["Reuben Tamakloe","Kaihan Zhang","Ahmed Hossain","Inhi Kim","Shin Hyoung Park"],date:"2024-05-01",title:"Critical risk factors associated with fatal/severe crash outcomes in personal mobility device rider at-fault crashes: A two-step inter-cluster rule mining technique",journal:"Accident Analysis & Prevention",type:"journal",teamMembers:["Inhi Kim"]},{id:"13",authors:["Francis G Phi","Bumsu Cho","Jungeun Kim","Hyungik Cho","Yun Wook Choo","Dookie Kim","Inhi Kim"],date:"2024-01-01",title:"Machine learning application to seismic site classification prediction model using Horizontal-to-Vertical Spectral Ratio (HVSR) of strong-ground motions",journal:"Geomechanics and Engineering",type:"journal",teamMembers:["Inhi Kim"]},{id:"14",authors:["Wenhua Jiang","Nan Zheng","Inhi Kim"],date:"2023-12-31",title:"Missing data imputation for transfer passenger flow identified from in-station WiFi systems",journal:"Transportmetrica B: Transport Dynamics",type:"journal",teamMembers:["Inhi Kim"]},{id:"15",authors:["Bo Wang","Hai L Vu","Inhi Kim","Chen Cai"],date:"2023-11-01",title:"Distributional prediction of short-term traffic using neural networks",journal:"Engineering Applications of Artificial Intelligence",type:"journal",teamMembers:["Inhi Kim"]},{id:"16",authors:["Donghyun Kwon","Changhee Lee","Heechan Kang","Inhi Kim"],date:"2023-09-01",title:"Large-Scale Network Imputation and Prediction of Traffic Volume Based on Multi-Source Data Collection System",journal:"Transportation Research Record",type:"journal",teamMembers:["Inhi Kim"]},{id:"17",authors:["Sicong Zhu","Hao Yue","Tatsuto Suzuki","Inhi Kim","Lei Yu","Qing Lan"],date:"2023-03-31",title:"A UWB/INS Trajectory Tracking System Application in a Cycling Safety Study",journal:"Sensors",type:"journal",teamMembers:["Inhi Kim"]},{id:"18",authors:["Zahra Nourmohammadi","Fatemeh Nourmohammadi","Inhi Kim","Shin Hyoung Park"],date:"2023-02-15",title:"A deep spatiotemporal approach in maritime accident prediction: A case study of the territorial sea of South Korea",journal:"Ocean Engineering",type:"journal",teamMembers:["Inhi Kim"]},{id:"19",authors:["Jaeeun Jung","Gyounghoon Chun","Inhi Kim"],date:"2025-01-08",title:"A Novel Roundabout Operation Strategy Using Reinforcement Learning Based Single-Agent Robot Speed Control",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"20",authors:["Songmi Paek","Tiantian Chen","Inhi Kim"],date:"2025-01-07",title:"Redefining Urban Access: A Fresh Look at Accessibility and Equity in the 20-Minute City",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"21",authors:["Donghyun Kwon","Inhi Kim"],date:"2025-01-07",title:"Customized Deep Generative Models to Resolve the Sampling Bias in Population Synthesis",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"22",authors:["Kaihan Zhang","Reuben Tamakloe","Inhi Kim"],date:"2025-01-07",title:"Elderly Pedestrian Crash Severity: Exploring the Role of Human Perceived Streetscape Design Using Explainable Ensemble Learning",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"23",authors:["Hyunchul Park","Taeho Oh","Jaehyuck Lim","Inhi Kim"],date:"2025-01-06",title:"Micromobility Safety Challenges: A Study on Drivers Overtaking Bicycles and E-Scooters According to Road Conditions and Cross-Modal Experience",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"24",authors:["Jinwon Yoon","Byeongjoon Noh","Inhi Kim"],date:"2025-01-06",title:"DARK-LLM: Description Data Auto-Labeling with Reliable Keyword Using LLM for Analyzing Causes of Autonomous Vehicle Disengagements",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"25",authors:["Tengfeng Lin","Zhixiong Jin","Hwasoo Yeo","Inhi Kim","Kaihan Zhang"],date:"2025-01-06",title:"A Surrogate Safety Measure at Non-Signalized Intersections Based on Probability Trajectory Prediction",journal:"TRB 104th Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"26",authors:["Kaihan Zhang","Reuben Tamakloe","Inhi Kim"],date:"2024-10-17",title:"The Role of Human Subjective Perceptions and Objective Measurements of the Urban Environment in Explaining Pedestrian Injury Severity",journal:"ICTCT Conference 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"27",authors:["Reuben Tamakloe","Kaihan Zhang","Inhi Kim"],date:"2024-10-17",title:"Variability in the impact of factors influencing elderly pedestrian-injuries in crashes at intersections and non-intersections before, during, and after the COVID-19 pandemic",journal:"ICTCT Conference 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"28",authors:["Reuben Tamakloe","Kaihan Zhang","Asim Alogaili","Inhi Kim"],date:"2024-10-17",title:"Differences between pedestrian injury severity determinants at school and non-school zones: new findings from streetscape quality factors",journal:"ICTCT Conference 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"29",authors:["Hyunchul Park","Taeho Oh","Jaehyuck Lim","Inhi Kim"],date:"2024-10-17",title:"Micro Mobility Safety Challenges: A Study on Drivers Overtaking Bicycles and E-Scooters in Relation to Road Conditions and Prior Riding Experience",journal:"ICTCT Conference 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"30",authors:["Tengfeng Lin","Zhixiong Jin","Hwasoo Yeo","Inhi Kim"],date:"2024-10-17",title:"Predicted Relative Time-to-Collision: Evaluating Pedestrian Potential Risk at Non-Signalized Intersections",journal:"ICTCT Conference 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"31",authors:["Kaihan Zhang","Reuben Tamakloe","Inhi Kim"],date:"2024-10-17",title:"Factors Influencing Injury Severity Among Elderly Pedestrians \u2013 Insights from Urban Imagery and Explainable Machine Learning",journal:"ICTCT Conference 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"32",authors:["Shin-Hyung Cho","Kitae Jang","Inhi Kim","Shin Hyoung Park"],date:"2024-07-02",title:"Evaluating the Sustainable Urban Mobility for Public Transit incorporating Geospatial Modeling Approach",journal:"Transit Data 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"33",authors:["Hyunsu Park","Shin-Hyung Cho","Inhi Kim","Kitae Jang","Shin Hyoung Park"],date:"2024-07-01",title:"Is it Possible to Substitute the Taxi Travel Demand to Demand Responsive Transport?",journal:"Transit Data 2024",type:"conference",teamMembers:["Inhi Kim"]},{id:"34",authors:["Taeho Oh","Inhi Kim","Zhibin Li"],date:"2024-01-09",title:"Exploring Safe Overtaking Behavior Threshold Considering Human Interactions Using Multi-Agent Driving Simulator",journal:"TRB 103rd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"35",authors:["Jaehyuck Lim","Hyunchul Park","Taeho Oh","Inhi Kim"],date:"2024-01-09",title:"The Impact of Information Delivery System in Tunnels Depending on Lighting Intensity and Speed Limit",journal:"TRB 103rd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"36",authors:["Donghyun Kwon","Eui-Jin Kim","Inhi Kim"],date:"2024-01-09",title:"Customized Deep Generative Models to Resolve the Sampling Bias in Population Synthesis",journal:"TRB 103rd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"37",authors:["Songmi Paek","Hyungchul Chung","Inhi Kim"],date:"2024-01-09",title:"Assessing Mass Circular Tram Service Equity in Metropolitan City",journal:"TRB 103rd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"38",authors:["Jaeeun Jung","Jinwon Yoon","Inhi Kim"],date:"2024-01-08",title:"EcoMRL: Deep Reinforcement Learning-based Traffic Signal Control for Urban Air Quality",journal:"TRB 103rd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"39",authors:["Hyeokjun Jang","Kitae Jang","Inhi Kim"],date:"2023-09-27",title:"Analyzing the Impact of Autonomous Vehicles on Urban Traffic Flow at the Large Scale Network Using Real-World Data",journal:"2023 IEEE 26th ITSC",type:"conference",teamMembers:["Inhi Kim"]},{id:"40",authors:["Donghyun Kwon","Inhi Kim"],date:"2023-09-05",title:"Enhancing Deep Generative Models for Distinguishing Sampling Zeros and Structural Zeros in Population Synthesis",journal:"11th hEART 2023",type:"conference",teamMembers:["Inhi Kim"]},{id:"41",authors:["Jaeeun Jung","Taeho Oh","Inhi Kim","Shinhyoung Park"],date:"2023-03-16",title:"Open-sourced real-time visualization platform for traffic simulation",journal:"14th ANT 2023",type:"conference",teamMembers:["Inhi Kim"]},{id:"42",authors:["Chunliang Wu","Inhi Kim","Zhenliang Ma"],date:"2023-03-16",title:"Deep Reinforcement Learning Based Traffic Signal Control: A Comparative Analysis",journal:"14th ANT 2023",type:"conference",teamMembers:["Inhi Kim"]},{id:"43",authors:["Yegi Yoo","Tiantian Chen","Kitae Jang","Inhi Kim"],date:"2023-03-16",title:"Impact on Platooning of Autonomous Vehicles using Macro to Micro simulations",journal:"14th ANT 2023",type:"conference",teamMembers:["Inhi Kim"]},{id:"44",authors:["Taeho Oh","Inhi Kim","Zhibin Li"],date:"2023-01-11",title:"Robust Overtaking Behavior with Human Interaction in Multi-Agent Driving Simulator Supported by Machine Learning",journal:"TRB 102nd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"45",authors:["Donghyun Kwon","Changhee Lee","Inhi Kim"],date:"2023-01-11",title:"Large-Scale Network Imputation and Prediction of Traffic Volume Based on Multi-Source Data Collection System",journal:"TRB 102nd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"46",authors:["Hyunchul Park","Taeho Oh","Inhi Kim"],date:"2023-01-10",title:"Effects of Driver\u2019s Braking Response by the Real-Time Pedestrian Scale Warning System",journal:"TRB 102nd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]},{id:"47",authors:["Fatemeh Nourmohammadi","Zahra Nourmohammadi","Jinwoo Lee","Inhi Kim"],date:"2023-01-09",title:"Designing Patrol Ship Routes Based on Multi Data Sources for Marine Environment",journal:"TRB 102nd Annual Meeting",type:"conference",teamMembers:["Inhi Kim"]}],Yse=[{id:"1",name:"\uad50\ud1b5\uc2e0\ud638\uae30 \uc81c\uc5b4\uc7a5\uce58",registrationDate:"2020-10-08",registrationNumber:"10-2166283",country:"\ub300\ud55c\ubbfc\uad6d",status:"registered"},{id:"2",name:"\ud655\ub960 \uada4\uc801 \uc608\uce21\uc744 \uae30\ubc18\uc73c\ub85c \ube44\uc2e0\ud638 \uad50\ucc28\ub85c\uc5d0\uc11c \ubcf4\ud589\uc790\uc758 \ubbf8\ub798 \ucda9\ub3cc\uc744 \ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c",registrationDate:"2024-12-13",managementNumber:"P2024-1108-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"},{id:"3",name:"\ud658\uacbd\uc601\ud5a5\uc744 \uace0\ub824\ud55c \uac15\ud654\ud559\uc2b5 \uae30\ubc18\uc758 \uc2e0\ud638\uc81c\uc5b4\ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c",registrationDate:"2024-12-12",managementNumber:"P2024-1130-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"},{id:"4",name:"\uc2a4\ud2b8\ub9ac\ud2b8 \ubdf0 \uc774\ubbf8\uc9c0\ub97c \uc774\uc6a9\ud558\uc5ec \uc804\ub3d9 \ubaa8\ube4c\ub9ac\ud2f0\uc758 \uacbd\ub85c\uc120\ud0dd\uc744 \ubd84\uc11d\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c",registrationDate:"2024-12-11",managementNumber:"P2024-1107-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"},{id:"5",name:"\uacbd\ub85c \ub9ac\ud50c\ub808\uc774\uc5d0 \uae30\ubc18\ud55c \uc2dc\uac01 \uc804\ud669\uc744 \ud65c\uc6a9\ud558\uc5ec \uc6b4\uc804\ud589\ud0dc\ub97c \uc790\uae30\ud3c9\uac00\ud558\ub294 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c",registrationDate:"2024-12-11",managementNumber:"P2024-1106-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"},{id:"6",name:"\ubcf4\ud589\uc790 \uaddc\ubaa8 \uc815\ubcf4\uc5d0 \uae30\ubc18\ud55c \uc2e4\uc2dc\uac04 \uc6b4\uc804\uc790 \uacbd\uace0 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c",registrationDate:"2024-12-09",managementNumber:"P2024-1111-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"},{id:"7",name:"\uad50\ud1b5\ub7c9 \uc81c\uc5b4 \uacc4\ud68d\uc744 \uc774\uc6a9\ud55c \uad50\ud1b5\uc2e0\ud638 \uacc4\ud68d \uc0dd\uc131 \uc7a5\uce58 \ubc0f \ubc29\ubc95",registrationDate:"2024-12-09",managementNumber:"P2024-0848-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"},{id:"8",name:"\uc870\uac74\ubd80 \uc801\ub300\uc801 \uc0dd\uc131 \ubaa8\ub378 \uae30\ubc18 \uad50\ud1b5\uc218\uc694 \ubd84\uc11d\uc758 \ub9de\ucda4\ud615 \ud569\uc131\uc778\uad6c \uc0dd\uc131 \ubc29\ubc95 \ubc0f \uc2dc\uc2a4\ud15c",registrationDate:"2024-12-05",managementNumber:"P2024-1036-KR01",country:"\ub300\ud55c\ubbfc\uad6d",status:"pending"}];let Xse=new Map;const Kse=e=>"".concat("disclosure_data_").concat(e),Zse=e=>e&&Date.now()-e.timestamp<3e5,Jse=e=>{try{const i=(e=>e.map(e=>h(h({},e),{},{year:new Date(e.date).getFullYear(),searchableText:"".concat(e.title," ").concat(e.authors.join(" ")," ").concat(e.journal).toLowerCase(),teamMembers:e.teamMembers||[]})))(e.publications),r=(e=>e.map(e=>h(h({},e),{},{year:new Date(e.registrationDate).getFullYear(),searchableText:"".concat(e.name," ").concat(e.country).toLowerCase()})))(e.patents);if(!i.every(e=>e.id&&e.title&&e.searchableText))throw new Error("Invalid publication data structure after processing");if(!r.every(e=>e.id&&e.name&&e.searchableText))throw new Error("Invalid patent data structure after processing");return{publications:i,patents:r,publicationYears:(n=i,[...new Set(n.map(e=>e.year))].sort((e,t)=>t-e)),patentYears:(t=r,[...new Set(t.map(e=>e.year))].sort((e,t)=>t-e))}}catch(i){throw console.error("Error processing data:",i),new Error("Failed to process data: ".concat(i.message))}var t,n},$se=async()=>{const e="processed_data",t=(e=>{const t=Xse.get(Kse(e));return Zse(t)?t.data:null})(e);if(t)return{success:!0,data:t,fromCache:!0};try{const t=await(async()=>{try{if(await new Promise(e=>setTimeout(e,100)),!Array.isArray(Qse))throw new Error("Publications data is not in expected format");if(!Array.isArray(Yse))throw new Error("Patents data is not in expected format");return{publications:Qse,patents:Yse}}catch(e){throw console.error("Error loading raw data:",e),new Error("Failed to load data: ".concat(e.message))}})(),n=Jse(t);return((e,t)=>{Xse.set(Kse(e),{data:t,timestamp:Date.now()})})(e,n),{success:!0,data:n,fromCache:!1}}catch(n){return console.error("Disclosure data service error:",n),{success:!1,error:n.message,data:null}}},ele=$se,tle=()=>{Xse.clear()},nle=()=>{const{t:e}=(0,i.useContext)($n),{section:t}=Dt(),n=Nt(),r=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},[a,o]=(0,i.useState)("publications"),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("all"),[d,h]=(0,i.useState)("all"),[p,m]=(0,i.useState)(!0),[f,A]=(0,i.useState)(null),[g,v]=(0,i.useState)({publications:[],patents:[],publicationYears:[],patentYears:[]});(0,i.useEffect)(()=>{(async()=>{m(!0),A(null);try{const e=await ele();e.success?v(e.data):A(e.error||"Failed to load data")}catch(e){A("An unexpected error occurred while loading data"),console.error("Data loading error:",e)}finally{m(!1)}})()},[]);const y=(0,i.useMemo)(()=>{const e={searchTerm:s,year:c,type:d};return{publications:Hse(g.publications,e),patents:Wse(g.patents,e)}},[g,s,c,d]);(0,i.useEffect)(()=>{"publications"===t||"patents"===t?o(t):t&&n("/disclosure/publications",{replace:!0})},[t,n]);const b=[{id:"publications",label:e("disclosure.tabs.publications")||"Publications",count:y.publications.length},{id:"patents",label:e("disclosure.tabs.patents")||"Patents",count:y.patents.length}],x="publications"===a?y.publications:y.patents,w="publications"===a?g.publicationYears:g.patentYears;return p?(0,Yn.jsxs)("div",{className:"disclosure-page",children:[(0,Yn.jsx)("section",{className:"disclosure-hero",children:(0,Yn.jsxs)("div",{className:"disclosure-container",children:[(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"disclosure-hero-title",children:e("disclosure.title")||"Research Achievements"})}),(0,Yn.jsx)(r,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"disclosure-hero-subtitle",children:e("disclosure.subtitle")||"Explore our academic publications and patent portfolio"})})]})}),(0,Yn.jsx)("main",{className:"disclosure-content",children:(0,Yn.jsx)("div",{className:"container",children:(0,Yn.jsxs)("div",{className:"disclosure-loading",role:"status","aria-live":"polite","aria-label":e("disclosure.loadingAriaLabel")||"Loading research achievements data",children:[(0,Yn.jsx)("div",{className:"loading-spinner","aria-hidden":"true"}),(0,Yn.jsx)("p",{children:e("disclosure.loading")||"Loading..."})]})})})]}):f?(0,Yn.jsxs)("div",{className:"disclosure-page",children:[(0,Yn.jsx)("section",{className:"disclosure-hero",children:(0,Yn.jsxs)("div",{className:"disclosure-container",children:[(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"disclosure-hero-title",children:e("disclosure.title")||"Research Achievements"})}),(0,Yn.jsx)(r,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"disclosure-hero-subtitle",children:e("disclosure.subtitle")||"Explore our academic publications and patent portfolio"})})]})}),(0,Yn.jsx)("main",{className:"disclosure-content",children:(0,Yn.jsx)("div",{className:"container",children:(0,Yn.jsxs)("div",{className:"disclosure-error",role:"alert","aria-live":"assertive",children:[(0,Yn.jsx)("h2",{children:e("disclosure.error.title")||"Error Loading Data"}),(0,Yn.jsx)("p",{children:e("disclosure.error.message")||"We encountered an error while loading the research achievements. Please try again later."}),(0,Yn.jsx)("button",{className:"retry-button",onClick:async()=>{m(!0),A(null);try{tle();const e=await ele();e.success?v(e.data):A(e.error||"Failed to load data")}catch(e){A("An unexpected error occurred while loading data"),console.error("Retry error:",e)}finally{m(!1)}},"aria-describedby":"retry-description",children:e("disclosure.error.retry")||"Retry"}),(0,Yn.jsx)("div",{id:"retry-description",className:"sr-only",children:e("disclosure.retryDescription")||"This will attempt to reload the research achievements data"})]})})})]}):(0,Yn.jsxs)("div",{className:"disclosure-page",children:[(0,Yn.jsx)("section",{className:"disclosure-hero",children:(0,Yn.jsxs)("div",{className:"disclosure-container",children:[(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"disclosure-hero-title",children:e("disclosure.title")||"Research Achievements"})}),(0,Yn.jsx)(r,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"disclosure-hero-subtitle",children:e("disclosure.subtitle")||"Explore our academic publications and patent portfolio"})})]})}),(0,Yn.jsx)("main",{className:"disclosure-content",children:(0,Yn.jsxs)("div",{className:"container",children:[(0,Yn.jsx)(jse,{activeTab:a,onTabChange:e=>{o(e),n("/disclosure/".concat(e))},tabs:b}),(0,Yn.jsx)(zse,{searchTerm:s,onSearchChange:e=>{l(e)},yearFilter:c,onYearFilterChange:e=>{u(e)},typeFilter:d,onTypeFilterChange:e=>{h(e)},availableYears:w,activeTab:a,placeholder:"publications"===a?e("disclosure.searchPlaceholder.publications")||"Search publications by title, author, or journal...":e("disclosure.searchPlaceholder.patents")||"Search patents by name or country..."}),(0,Yn.jsxs)("section",{className:"disclosure-results",role:"tabpanel",id:"".concat(a,"-panel"),"aria-labelledby":"".concat(a,"-tab"),children:[(0,Yn.jsxs)("div",{className:"results-header",children:[(0,Yn.jsx)("h2",{className:"results-title",id:"results-heading",children:"publications"===a?e("disclosure.results.publications")||"Publications":e("disclosure.results.patents")||"Patents"}),(0,Yn.jsxs)("div",{className:"results-count","aria-live":"polite","aria-atomic":"true",children:[(0,Yn.jsxs)("span",{className:"sr-only",children:[e("disclosure.resultsCount")||"Showing"," "]}),x.length," ",1===x.length?"item":"items"]})]}),(0,Yn.jsx)("div",{className:"results-list",role:"region","aria-labelledby":"results-heading","aria-live":"polite","aria-atomic":"false",children:x.length>0?(0,Yn.jsx)("div",{className:"".concat(a,"-grid"),role:"list","aria-label":"".concat("publications"===a?"Publications":"Patents"," list"),children:x.map(e=>(0,Yn.jsx)("div",{role:"listitem",children:"publications"===a?(0,Yn.jsx)(qse,{publication:e}):(0,Yn.jsx)(Gse,{patent:e})},e.id))}):(0,Yn.jsxs)("div",{className:"no-results",role:"status","aria-live":"polite",children:[(0,Yn.jsx)("div",{className:"no-results-icon","aria-hidden":"true",children:(0,Yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,Yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Yn.jsx)("path",{d:"m21 21-4.35-4.35"})]})}),(0,Yn.jsx)("h3",{children:e("disclosure.noResults.title")||"No results found"}),(0,Yn.jsx)("p",{children:s||"all"!==c?e("disclosure.noResults.withFilters")||"Try adjusting your search terms or filters.":e("disclosure.noResults.noData")||"No data available at the moment."}),(s||"all"!==c)&&(0,Yn.jsx)("button",{className:"clear-filters-button",onClick:()=>{l(""),u("all")},"aria-describedby":"clear-filters-description",children:e("disclosure.noResults.clearFilters")||"Clear all filters"}),(0,Yn.jsx)("div",{id:"clear-filters-description",className:"sr-only",children:e("disclosure.clearFiltersDescription")||"This will remove all active search and filter criteria"})]})})]})]})})]})},ile=e=>{let{className:t,children:n}=e;return(0,Yn.jsx)("div",{className:CP("mx-auto grid max-w-7xl grid-cols-1 gap-4 md:auto-rows-[18rem] md:grid-cols-3",t),children:n})},rle=e=>{let{className:t,title:n,description:i,header:r,icon:a}=e;return(0,Yn.jsxs)("div",{className:CP("group/bento shadow-input row-span-1 flex flex-col justify-between space-y-4 rounded-xl border border-neutral-200 bg-white p-4 transition duration-200 hover:shadow-xl",t),style:{colorScheme:"light"},children:[r,(0,Yn.jsxs)("div",{className:"transition duration-200 group-hover/bento:translate-x-2",children:[a,(0,Yn.jsx)("div",{className:"mt-2 mb-2 font-sans font-bold text-neutral-600",style:{colorScheme:"light"},children:n}),(0,Yn.jsx)("div",{className:"font-sans text-xs font-normal text-neutral-600",style:{colorScheme:"light"},children:i})]})]})};var ale={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const ole=["color","size","stroke","title","className","children"],sle=(e,t,n,r)=>{const a=(0,i.forwardRef)((n,a)=>{let{color:o="currentColor",size:l=24,stroke:c=2,title:u,className:d,children:p}=n,m=s(n,ole);return(0,i.createElement)("svg",h(h(h({ref:a},ale[e]),{},{width:l,height:l,className:["tabler-icon","tabler-icon-".concat(t),d].join(" ")},"filled"===e?{fill:o}:{strokeWidth:c,stroke:o}),m),[u&&(0,i.createElement)("title",{key:"svg-title"},u),...r.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(p)?p:[p]])});return a.displayName="".concat(n),a};var lle=sle("outline","building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]),cle=sle("outline","settings-automation","IconSettingsAutomation",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M10 9v6l5 -3z",key:"svg-1"}]]),ule=sle("outline","apps","IconApps",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 7l6 0",key:"svg-3"}],["path",{d:"M17 4l0 6",key:"svg-4"}]]),dle=sle("outline","briefcase","IconBriefcase",[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M3 13a20 20 0 0 0 18 0",key:"svg-3"}]]);const hle=n.p+"static/media/simulFake.a2be7f089d8d554a11f3.png";function ple(){const e=Nt(),{t:t}=(0,i.useContext)($n),n=[{title:t("bento.about.title"),description:t("bento.about.description"),header:(0,Yn.jsx)(mle,{img:DP}),icon:(0,Yn.jsx)(lle,{className:"h-5 w-5 text-neutral-500"}),link:"/about"},{title:t("bento.technologies.title"),description:t("bento.technologies.description"),header:(0,Yn.jsx)(mle,{img:hle}),icon:(0,Yn.jsx)(cle,{className:"h-5 w-5 text-neutral-500"}),link:"/disclosure"},{title:t("bento.solutions.title"),description:t("bento.solutions.description"),header:(0,Yn.jsx)(mle,{img:Joe}),icon:(0,Yn.jsx)(ule,{className:"h-5 w-5 text-neutral-500"}),link:"/solutions"},{title:t("bento.projects.title"),description:t("bento.projects.description"),header:(0,Yn.jsx)(mle,{img:koe}),icon:(0,Yn.jsx)(dle,{className:"h-5 w-5 text-neutral-500"}),link:"/projects"}];return(0,Yn.jsx)(ile,{className:"grid grid-cols-1 gap-4 md:grid-cols-3 max-w-4xl mx-auto m-4",children:n.map((t,n)=>(0,Yn.jsx)("div",{onClick:()=>e(t.link),className:"cursor-pointer transition-transform hover:scale-[1.02] ".concat(1===n||2===n?"md:col-span-2":""),children:(0,Yn.jsx)(rle,{title:t.title,description:t.description,header:t.header,icon:t.icon})},n))})}const mle=e=>{let{img:t}=e;return(0,Yn.jsx)("div",{className:"flex flex-1 w-full min-h-[9rem] rounded-xl bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(t,")")}})};function fle(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"remote-driving-page",children:[(0,Yn.jsx)("section",{className:"remote-driving-hero",children:(0,Yn.jsxs)("div",{className:"hero-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"hero-title",children:e("solutions.remoteDriving.hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"hero-subtitle",children:e("solutions.remoteDriving.hero.subtitle")})})]})}),(0,Yn.jsx)("section",{className:"overview-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.remoteDriving.overview.title")})}),(0,Yn.jsxs)("div",{className:"overview-row first-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.overview.shortDemo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.overview.shortDemoDesc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/uTBSurLXXqk?si=rOd5nQ5FnZ7SmEuq",title:e("solutions.remoteDriving.overview.shortDemo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/HHdDThRBQLw?si=jH4K4TEXP_sTr1kC",title:e("solutions.remoteDriving.overview.longDemo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.overview.longDemo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.overview.longDemoDesc")}})]})})]}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.overview.RD-1")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.overview.RD-1Desc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/jf2CWvakPNE?si=lffeQL-qNeEx0yuZ",title:e("solutions.remoteDriving.overview.RD-1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]})]})}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.remoteDriving.technical.title")})}),(0,Yn.jsxs)("div",{className:"technical-grid",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"specs-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.technical.specsTitle")}),(0,Yn.jsxs)("ul",{className:"specs-list",children:[(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.technical.spec1")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.technical.spec2")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.technical.spec3")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.technical.spec4")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.technical.spec5")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"research-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.technical.researchTitle")}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.remoteDriving.technical.patentTitle")}),(0,Yn.jsxs)("div",{className:"patent-details",children:[(0,Yn.jsxs)("div",{className:"patent-title",children:['"',e("solutions.remoteDriving.technical.patentName"),'"']}),(0,Yn.jsxs)("div",{className:"patent-info-row",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("span",{className:"patent-date-label",children:[e("solutions.remoteDriving.technical.applicationDate"),":"]}),(0,Yn.jsx)("span",{className:"patent-date-value",children:"2024.12.13"})]}),(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("span",{className:"patent-number-label",children:[e("solutions.remoteDriving.technical.patentNumber"),":"]}),(0,Yn.jsx)("span",{className:"patent-number-value",children:"P2024-1108-KR01"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.remoteDriving.technical.academicTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.technical.academicInfo")}})]}),(0,Yn.jsx)("div",{className:"cta-button-container",children:(0,Yn.jsx)(Un,{to:"/disclosure",className:"cta-button",children:e("solutions.remoteDriving.technical.disclosureButton")})})]})})]})]})}),(0,Yn.jsx)("section",{className:"use-cases-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.remoteDriving.useCases.title")})}),(0,Yn.jsxs)("div",{className:"use-cases-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"industries-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.useCases.industriesTitle")}),(0,Yn.jsxs)("div",{className:"industry-tags",children:[(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.remoteDriving.useCases.industry1")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.remoteDriving.useCases.industry2")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.remoteDriving.useCases.industry3")})]}),(0,Yn.jsxs)("div",{className:"outcome",children:[(0,Yn.jsx)("h4",{children:e("solutions.remoteDriving.useCases.outcomeTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.useCases.outcomeDesc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"scenario-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.remoteDriving.useCases.scenarioTitle")}),(0,Yn.jsxs)("div",{className:"scenario-flow",children:[(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"1"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.useCases.scenarioStep1")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"2"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.useCases.scenarioStep2")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"3"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.useCases.scenarioStep3")}})]})]})]})})]})]})}),(0,Yn.jsx)("section",{className:"get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("solutions.remoteDriving.cta.title")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",dangerouslySetInnerHTML:{__html:e("solutions.remoteDriving.cta.description")}}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("solutions.remoteDriving.cta.button")})})]})})})})]})}function Ale(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"digital-twin-page",children:[(0,Yn.jsx)("section",{className:"digital-twin-hero",children:(0,Yn.jsxs)("div",{className:"hero-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"hero-title",children:e("solutions.digitalTwinSolution.hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"hero-subtitle",children:e("solutions.digitalTwinSolution.hero.subtitle")})})]})}),(0,Yn.jsx)("section",{className:"overview-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.digitalTwinSolution.overview.title")})}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.overview.demo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.overview.demoDesc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/zkzDjxeQpOI?si=5Yom_4Cjn-zr97nl",title:e("solutions.digitalTwinSolution.overview.demo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/cMDfKVbRoYU?si=uO862X2k3VgVbElq",title:e("solutions.DigitalTwin.overview.dt-1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.overview.dt-1")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.overview.dt-1Desc")}})]})})]}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.overview.dt-2")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.overview.dt-2Desc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/esRz9DWfGes?si=JsTVwx-Lvp5zz0LP",title:e("solutions.digitalTwinSolution.overview.dt-2"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]})]})}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.digitalTwinSolution.technical.title")})}),(0,Yn.jsxs)("div",{className:"technical-grid",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"specs-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.technical.specsTitle")}),(0,Yn.jsxs)("ul",{className:"specs-list",children:[(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.technical.spec1")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.technical.spec2")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.technical.spec3")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.technical.spec4")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.technical.spec5")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"research-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.technical.researchTitle")}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.digitalTwinSolution.technical.patentTitle")}),(0,Yn.jsxs)("div",{className:"patent-details",children:[(0,Yn.jsxs)("div",{className:"patent-title",children:['"',e("solutions.digitalTwinSolution.technical.patentName"),'"']}),(0,Yn.jsxs)("div",{className:"patent-info-row",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("span",{className:"patent-date-label",children:[e("solutions.digitalTwinSolution.technical.applicationDate"),":"]}),(0,Yn.jsx)("span",{className:"patent-date-value",children:"TBD"})]}),(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("span",{className:"patent-number-label",children:[e("solutions.digitalTwinSolution.technical.patentNumber"),":"]}),(0,Yn.jsx)("span",{className:"patent-number-value",children:"TBD"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.digitalTwinSolution.technical.academicTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.technical.academicInfo")}})]}),(0,Yn.jsx)("div",{className:"cta-button-container",children:(0,Yn.jsx)(Un,{to:"/disclosure",className:"cta-button",children:e("solutions.digitalTwinSolution.technical.disclosureButton")})})]})})]})]})}),(0,Yn.jsx)("section",{className:"use-cases-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.digitalTwinSolution.useCases.title")})}),(0,Yn.jsxs)("div",{className:"use-cases-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"industries-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.useCases.industriesTitle")}),(0,Yn.jsxs)("div",{className:"industry-tags",children:[(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.digitalTwinSolution.useCases.industry1")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.digitalTwinSolution.useCases.industry2")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.digitalTwinSolution.useCases.industry3")})]}),(0,Yn.jsxs)("div",{className:"outcome",children:[(0,Yn.jsx)("h4",{children:e("solutions.digitalTwinSolution.useCases.outcomeTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.useCases.outcomeDesc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"scenario-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.digitalTwinSolution.useCases.scenarioTitle")}),(0,Yn.jsxs)("div",{className:"scenario-flow",children:[(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"1"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.useCases.scenarioStep1")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"2"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.useCases.scenarioStep2")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"3"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.useCases.scenarioStep3")}})]})]})]})})]})]})}),(0,Yn.jsx)("section",{className:"get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("solutions.digitalTwinSolution.cta.title")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",dangerouslySetInnerHTML:{__html:e("solutions.digitalTwinSolution.cta.description")}}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("solutions.digitalTwinSolution.cta.button")})})]})})})})]})}function gle(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"multimodal-simulator-page",children:[(0,Yn.jsx)("section",{className:"multimodal-simulator-hero",children:(0,Yn.jsxs)("div",{className:"hero-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"hero-title",children:e("solutions.multimodalSimulatorSolution.hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"hero-subtitle",children:e("solutions.multimodalSimulatorSolution.hero.subtitle")})})]})}),(0,Yn.jsx)("section",{className:"overview-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.multimodalSimulatorSolution.overview.title")})}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/Yp4YbAKNoew?si=mArFYpEW5w7Gn7Qq",title:e("solutions.multimodalSimulatorSolution.MO-2"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.overview.MO-2")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.overview.MO-2Desc")}})]})})]}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.overview.demo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.overview.demoDesc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/qoxocqXiaSQ?si=VX6zAm8uKa_opORk",title:e("solutions.multimodalSimulatorSolution.overview.demo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/3WK4zq-79bo?si=Us2J6nuZ71KzfovF",title:e("solutions.multimodalSimulatorSolution.dt-1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.overview.MO-1")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.overview.MO-1Desc")}})]})})]})]})}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.multimodalSimulatorSolution.technical.title")})}),(0,Yn.jsxs)("div",{className:"technical-grid",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"specs-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.technical.specsTitle")}),(0,Yn.jsxs)("ul",{className:"specs-list",children:[(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.technical.spec1")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.technical.spec2")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.technical.spec3")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.technical.spec4")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.technical.spec5")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"research-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.technical.researchTitle")}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.multimodalSimulatorSolution.technical.patentTitle")}),(0,Yn.jsxs)("div",{className:"patent-details",children:[(0,Yn.jsxs)("div",{className:"patent-title",children:['"',e("solutions.multimodalSimulatorSolution.technical.patentName"),'"']}),(0,Yn.jsxs)("div",{className:"patent-info-row",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("span",{className:"patent-date-label",children:[e("solutions.multimodalSimulatorSolution.technical.applicationDate"),":"]}),(0,Yn.jsx)("span",{className:"patent-date-value",children:"TBD"})]}),(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("span",{className:"patent-number-label",children:[e("solutions.multimodalSimulatorSolution.technical.patentNumber"),":"]}),(0,Yn.jsx)("span",{className:"patent-number-value",children:"TBD"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.multimodalSimulatorSolution.technical.academicTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.technical.academicInfo")}})]}),(0,Yn.jsx)("div",{className:"cta-button-container",children:(0,Yn.jsx)(Un,{to:"/disclosure",className:"cta-button",children:e("solutions.multimodalSimulatorSolution.technical.disclosureButton")})})]})})]})]})}),(0,Yn.jsx)("section",{className:"use-cases-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.multimodalSimulatorSolution.useCases.title")})}),(0,Yn.jsxs)("div",{className:"use-cases-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"industries-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.useCases.industriesTitle")}),(0,Yn.jsxs)("div",{className:"industry-tags",children:[(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.multimodalSimulatorSolution.useCases.industry1")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.multimodalSimulatorSolution.useCases.industry2")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.multimodalSimulatorSolution.useCases.industry3")})]}),(0,Yn.jsxs)("div",{className:"outcome",children:[(0,Yn.jsx)("h4",{children:e("solutions.multimodalSimulatorSolution.useCases.outcomeTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.useCases.outcomeDesc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"scenario-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.multimodalSimulatorSolution.useCases.scenarioTitle")}),(0,Yn.jsxs)("div",{className:"scenario-flow",children:[(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"1"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.useCases.scenarioStep1")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"2"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.useCases.scenarioStep2")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"3"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.useCases.scenarioStep3")}})]})]})]})})]})]})}),(0,Yn.jsx)("section",{className:"get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("solutions.multimodalSimulatorSolution.cta.title")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",dangerouslySetInnerHTML:{__html:e("solutions.multimodalSimulatorSolution.cta.description")}}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("solutions.multimodalSimulatorSolution.cta.button")})})]})})})})]})}function vle(e){switch(e){case"How it works":case"\uc791\ub3d9 \uc6d0\ub9ac":return"list";case"What it can do":case"\ud560 \uc218 \uc788\ub294 \uc77c":return"cards";case"Where it can be used":case"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uacf3":return"grid";default:return"default"}}function yle(e){if(!Array.isArray(e))throw new Error("Technologies must be an array");const t=e.map((e,t)=>{if(!e.title||!e.subtitle||!e.image||!e.features)throw new Error("Technology ".concat(t,": Missing required fields (title, subtitle, image, features)"));const n=e.features.filter(e=>"What it is"!==e.title).map(e=>({sectionTitle:e.title,content:Array.isArray(e.desc)?e.desc:[e.desc],layout:vle(e.title)}));return 3!==n.length&&console.warn('Technology "'.concat(e.title,'": Expected 3 sections, got ').concat(n.length)),{title:e.title,subtitle:e.subtitle,image:e.image,sections:n}});if(!function(e){if(!Array.isArray(e))return console.error("Content must be an array"),!1;for(let t=0;t<e.length;t++){const n=e[t];if(!n.title||"string"!==typeof n.title)return console.error("Item ".concat(t,": title is required and must be a string")),!1;if(!n.subtitle||"string"!==typeof n.subtitle)return console.error("Item ".concat(t,": subtitle is required and must be a string")),!1;if(!n.image||"string"!==typeof n.image)return console.error("Item ".concat(t,": image is required and must be a string")),!1;if(!Array.isArray(n.sections)||3!==n.sections.length)return console.error("Item ".concat(t,": sections must be an array with exactly 3 items")),!1;for(let e=0;e<n.sections.length;e++){const i=n.sections[e];if(!i.sectionTitle||"string"!==typeof i.sectionTitle)return console.error("Item ".concat(t,", Section ").concat(e,": sectionTitle is required and must be a string")),!1;if(!Array.isArray(i.content)||0===i.content.length)return console.error("Item ".concat(t,", Section ").concat(e,": content must be a non-empty array")),!1}}return!0}(t))throw new Error("Transformed content failed validation");return t}function ble(){return"undefined"!==typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function xle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{throttleMs:n=16,useRAF:i=!0}=t;if(i){let t=null;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t||(t=requestAnimationFrame(()=>{e(...i),t=null}))}}return function(e,t){let n;return function(){const i=arguments,r=this;n||(e.apply(r,i),n=!0,setTimeout(()=>n=!1,t))}}(e,n)}const wle=e=>{let{technology:t,isActive:n}=e;const[r,a]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!0),u=(0,i.useRef)(null),d=(0,i.useRef)(0),h=(0,i.useCallback)(()=>{a(!0),c(!1),s(!1),d.current=0},[]),p=(0,i.useCallback)(()=>{console.warn("Failed to load image: ".concat(t.image,", attempt ").concat(d.current+1)),d.current<3?(d.current+=1,setTimeout(()=>{u.current&&(u.current.src=t.image+"?retry="+d.current)},1e3*d.current)):(s(!0),c(!1),a(!1))},[t.image]);return(0,i.useEffect)(()=>{a(!1),s(!1),c(!0),d.current=0},[t.image]),(0,Yn.jsx)(vC.div,{className:"mb-6 relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},children:(0,Yn.jsxs)("div",{className:"relative overflow-hidden rounded-3xl",children:[l&&(0,Yn.jsx)("div",{className:"sticky-image bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse flex items-center justify-center",children:(0,Yn.jsx)("div",{className:"text-gray-400",children:(0,Yn.jsxs)("svg",{className:"w-12 h-12 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Yn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Yn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}),o&&(0,Yn.jsx)("div",{className:"sticky-image bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-center p-6",children:(0,Yn.jsxs)("div",{className:"text-gray-500",children:[(0,Yn.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcca"}),(0,Yn.jsx)("div",{className:"font-medium text-lg mb-1",children:t.title}),(0,Yn.jsx)("div",{className:"text-sm opacity-70",children:"Image not available"})]})}),(0,Yn.jsx)("img",{ref:u,src:t.image,alt:t.title,className:CP("sticky-image transition-all duration-500",r?"opacity-100 scale-100":"opacity-0 scale-95"),onLoad:h,onError:p,loading:"lazy",decoding:"async",style:{display:o?"none":"block"}}),r&&(0,Yn.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-10 transition-all duration-300 rounded-2xl flex items-center justify-center opacity-0 hover:opacity-100",children:(0,Yn.jsx)("div",{className:"text-white text-sm font-medium bg-black bg-opacity-50 px-3 py-1 rounded-full",children:t.title})})]})})},Tle=e=>{let{section:t,isActive:n}=e;const i="bg-white rounded-2xl shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md hover:border-gray-200";switch(t.layout){case"list":return(0,Yn.jsx)("div",{className:"space-y-4",children:t.content.map((e,t)=>(0,Yn.jsx)(vC.div,{initial:{opacity:0,y:20},animate:{opacity:n?1:.7,y:0},transition:{delay:.1*t,duration:.5},className:CP(i,"p-4 relative overflow-hidden"),children:(0,Yn.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:e})},t))});case"cards":return(0,Yn.jsx)("div",{className:"flex flex-wrap gap-6",children:t.content.map((e,t)=>(0,Yn.jsxs)(vC.div,{initial:{opacity:0,scale:.9},animate:{opacity:n?1:.7,scale:1},transition:{delay:.1*t,duration:.5},className:CP(i,"flex-1 min-w-0 p-6 text-center relative group cursor-pointer","hover:transform hover:scale-105"),children:[(0,Yn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Yn.jsxs)("div",{className:"relative z-10",children:[(0,Yn.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Yn.jsx)("span",{className:"text-white font-bold text-lg",children:t+1})}),(0,Yn.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:e})]})]},t))});case"grid":return(0,Yn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.content.map((e,t)=>(0,Yn.jsx)(vC.div,{initial:{opacity:0,x:t%2===0?-20:20},animate:{opacity:n?1:.7,x:0},transition:{delay:.1*t,duration:.5},className:"p-4 relative group",children:(0,Yn.jsx)("div",{className:"min-w-0",children:(0,Yn.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed break-words",children:e})})},t))});default:return(0,Yn.jsx)(vC.div,{initial:{opacity:0,y:20},animate:{opacity:n?1:.7,y:0},transition:{duration:.5},className:CP(i,"p-6"),children:Array.isArray(t.content)?t.content.map((e,t)=>(0,Yn.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed mb-4 last:mb-0",children:e},t)):(0,Yn.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:t.content})})}},_le=e=>{let{content:t,className:n}=e;const[r,a]=(0,i.useState)(0),[o,s]=(0,i.useState)(0),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),h=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=()=>{d(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const{scrollYProgress:p}=Noe({container:h,offset:["start start","end start"]}),m=function(e){return e.reduce((e,t)=>e+t.sections.length,0)}(t);!function(e,t,n){(0,i.useInsertionEffect)(()=>e.on(t,n),[e,t,n])}(p,"change",(0,i.useCallback)(xle(e=>{if(l)return;const n=Math.min(1,e+.08);let i=Math.floor(n*m);e>.85&&i<m-1&&(i=m-1),i=Math.min(m-1,i);const{technologyIndex:o,sectionIndex:u}=function(e,t){let n=0;for(let i=0;i<t.length;i++){const r=t[i].sections.length;if(e<n+r)return{technologyIndex:i,sectionIndex:e-n};n+=r}return{technologyIndex:t.length-1,sectionIndex:t[t.length-1].sections.length-1}}(i,t);if(o!==r){c(!0),a(o);const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;return ble()?0:e}(600);setTimeout(()=>c(!1),e)}s(u)},{throttleMs:16,useRAF:!0}),[r,t,m,l]));const f=["#f9fafd","#f9fafd","#f9fafd"],[A,g]=(0,i.useState)(f[0]);(0,i.useEffect)(()=>{g(f[r%f.length])},[r]);const v=t[r]||t[0];return(0,Yn.jsxs)(vC.div,{animate:{backgroundColor:A},transition:{duration:.6,ease:[.4,0,.2,1]},className:CP("enhanced-sticky-scroll relative flex w-full overflow-y-auto",n),ref:h,style:{height:"100vh",minHeight:"100vh"},children:[(0,Yn.jsx)("div",{className:"flex-1 relative flex items-start justify-center px-4",children:(0,Yn.jsxs)("div",{className:"w-full max-w-4xl",children:[t.map((e,t)=>(0,Yn.jsxs)("div",{className:"technology-content",children:[u&&(0,Yn.jsx)("div",{className:"mobile-tech-header lg:hidden min-h-screen flex flex-col justify-center py-16",children:(0,Yn.jsxs)(vC.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.4,0,.2,1]},className:"text-center",children:[(0,Yn.jsx)(wle,{technology:e,isActive:!0}),(0,Yn.jsx)(vC.h2,{className:"mobile-tech-title text-3xl font-bold text-slate-800 mb-4 mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.title}),(0,Yn.jsx)(vC.p,{className:"mobile-tech-subtitle text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:e.subtitle})]})}),e.sections.map((e,n)=>(0,Yn.jsx)("div",{className:CP("content-section min-h-screen flex flex-col justify-center py-16",r===t&&o===n?"active":r===t?"semi-active":"inactive"),children:(0,Yn.jsxs)(vC.div,{initial:{opacity:0,x:-20},animate:{opacity:r===t?1:.4,x:r===t?0:-20},transition:{duration:.6,ease:[.4,0,.2,1]},children:[(0,Yn.jsx)("h3",{className:"text-2xl font-semibold text-blue-600 mb-6",children:e.sectionTitle}),(0,Yn.jsx)(Tle,{section:e,isActive:r===t})]})},"".concat(t,"-").concat(n)))]},e.title+t)),(0,Yn.jsx)("div",{className:"h-40"})]})}),(0,Yn.jsx)("div",{className:"sticky-area hidden lg:flex",children:(0,Yn.jsxs)(vC.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.6,ease:[.4,0,.2,1],staggerChildren:.1},className:"text-center w-full",children:[(0,Yn.jsx)(wle,{technology:v,isActive:!0}),(0,Yn.jsx)(vC.h2,{className:"sticky-title",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:v.title}),(0,Yn.jsx)(vC.p,{className:"sticky-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:v.subtitle}),(0,Yn.jsx)(vC.div,{className:"mt-6 flex justify-center space-x-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:t.map((e,n)=>(0,Yn.jsx)("div",{className:CP("w-1.5 h-1.5 rounded-full transition-all duration-300 cursor-pointer",n===r?"bg-blue-600 w-6":"bg-gray-400 hover:bg-gray-500"),onClick:()=>{const e=3*n/m;if(h.current){const t=h.current.scrollHeight-h.current.clientHeight;h.current.scrollTop=e*t}},title:"Go to ".concat(t[n].title)},n))})]},r)})]})};function Sle(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},n=yle([{title:e("technologies.items.visum.title"),subtitle:e("technologies.items.visum.subtitle"),image:lse,features:[{title:e("technologies.items.visum.howItWorks"),desc:e("technologies.items.visum.features.howItWorks")},{title:e("technologies.items.visum.whatItCanDo"),desc:e("technologies.items.visum.features.whatItCanDo")},{title:e("technologies.items.visum.whereItCanBeUsed"),desc:e("technologies.items.visum.features.whereItCanBeUsed")}]},{title:e("technologies.items.vissim.title"),subtitle:e("technologies.items.vissim.subtitle"),image:sse,features:[{title:e("technologies.items.visum.howItWorks"),desc:e("technologies.items.vissim.features.howItWorks")},{title:e("technologies.items.visum.whatItCanDo"),desc:e("technologies.items.vissim.features.whatItCanDo")},{title:e("technologies.items.visum.whereItCanBeUsed"),desc:e("technologies.items.vissim.features.whereItCanBeUsed")}]},{title:e("technologies.items.mesh.title"),subtitle:e("technologies.items.mesh.subtitle"),image:Xoe,features:[{title:e("technologies.items.visum.howItWorks"),desc:e("technologies.items.mesh.features.howItWorks")},{title:e("technologies.items.visum.whatItCanDo"),desc:e("technologies.items.mesh.features.whatItCanDo")},{title:e("technologies.items.visum.whereItCanBeUsed"),desc:e("technologies.items.mesh.features.whereItCanBeUsed")}]}]);return(0,Yn.jsxs)("div",{className:"traffic-analysis-tools-page",children:[(0,Yn.jsx)("section",{className:"traffic-analysis-tools-hero",children:(0,Yn.jsxs)("div",{className:"hero-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"hero-title",children:e("solutions.trafficAnalysisToolsSolution.hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"hero-subtitle",dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.hero.subtitle")}})})]})}),(0,Yn.jsx)("section",{className:"overview-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/kL11AdA_DvE?si=_AKT55Okf50-HtPF",title:e("solutions.trafficAnalysisToolsSolution.overview.demo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.overview.TA-5")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.overview.TA-5Desc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.trafficAnalysisToolsSolution.overview.title")})}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/GPcCS-LHPOY?si=UKYBYGYcwKc-K3mi",title:e("solutions.trafficAnalysisToolsSolution.overview.TA-4"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.overview.TA-4")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.overview.TA-4Desc")}})]})})]}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.overview.demo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.overview.demoDesc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/4GHNow4uQ7c?si=v0t2i9JzwIu7hx8U",title:e("solutions.trafficAnalysisToolsSolution.overview.demo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/SIvNsejU8wA?si=BOCS-1AnToQd58t5",title:e("solutions.trafficAnalysisToolsSolution.overview.TA-1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.overview.TA-1")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.overview.TA-1Desc")}})]})})]}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.overview.TA-2")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.overview.TA-2Desc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/P6qtlPoWqBs?si=98PZbDMEP5FPJRd2",title:e("solutions.trafficAnalysisToolsSolution.overview.TA-2"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/200mMlmkDVA?si=g85lm4fD7F97rncg",title:e("solutions.trafficAnalysisToolsSolution.overview.TA-3"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.overview.TA-3")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.overview.TA-3Desc")}})]})})]})]})}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsx)("div",{className:"section-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.trafficAnalysisToolsSolution.technical.title")})})})}),(0,Yn.jsx)(_le,{content:n,className:"w-full"}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsx)("div",{className:"section-container",children:(0,Yn.jsxs)("div",{className:"technical-grid",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"specs-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.technical.specsTitle")}),(0,Yn.jsxs)("ul",{className:"specs-list",children:[(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.technical.spec1")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.technical.spec2")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.technical.spec3")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.technical.spec4")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.technical.spec5")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"research-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.technical.researchTitle")}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.trafficAnalysisToolsSolution.technical.patentTitle")}),(0,Yn.jsxs)("div",{className:"patent-details",children:[(0,Yn.jsx)("div",{className:"patent-title",dangerouslySetInnerHTML:{__html:'"'.concat(e("solutions.trafficAnalysisToolsSolution.technical.patentName"),'"')}}),(0,Yn.jsxs)("div",{className:"patent-info-row",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("span",{className:"patent-date-label",children:[e("solutions.trafficAnalysisToolsSolution.technical.applicationDate"),":"]}),(0,Yn.jsx)("span",{className:"patent-date-value",children:"TBD"})]}),(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("span",{className:"patent-number-label",children:[e("solutions.trafficAnalysisToolsSolution.technical.patentNumber"),":"]}),(0,Yn.jsx)("span",{className:"patent-number-value",children:"TBD"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.trafficAnalysisToolsSolution.technical.academicTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.technical.academicInfo")}})]}),(0,Yn.jsx)("div",{className:"cta-button-container",children:(0,Yn.jsx)(Un,{to:"/disclosure",className:"cta-button",children:e("solutions.trafficAnalysisToolsSolution.technical.disclosureButton")})})]})})]})})}),(0,Yn.jsx)("section",{className:"use-cases-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.trafficAnalysisToolsSolution.useCases.title")})}),(0,Yn.jsxs)("div",{className:"use-cases-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"industries-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.useCases.industriesTitle")}),(0,Yn.jsxs)("div",{className:"industry-tags",children:[(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.trafficAnalysisToolsSolution.useCases.industry1")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.trafficAnalysisToolsSolution.useCases.industry2")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.trafficAnalysisToolsSolution.useCases.industry3")})]}),(0,Yn.jsxs)("div",{className:"outcome",children:[(0,Yn.jsx)("h4",{children:e("solutions.trafficAnalysisToolsSolution.useCases.outcomeTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.useCases.outcomeDesc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"scenario-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.trafficAnalysisToolsSolution.useCases.scenarioTitle")}),(0,Yn.jsxs)("div",{className:"scenario-flow",children:[(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"1"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.useCases.scenarioStep1")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"2"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.useCases.scenarioStep2")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"3"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.useCases.scenarioStep3")}})]})]})]})})]})]})}),(0,Yn.jsx)("section",{className:"get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("solutions.trafficAnalysisToolsSolution.cta.title")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",dangerouslySetInnerHTML:{__html:e("solutions.trafficAnalysisToolsSolution.cta.description")}}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("solutions.trafficAnalysisToolsSolution.cta.button")})})]})})})})]})}function Mle(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"visualisation-page",children:[(0,Yn.jsx)("section",{className:"visualisation-hero",children:(0,Yn.jsxs)("div",{className:"hero-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"hero-title",children:e("solutions.visualisationSolution.hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"hero-subtitle",dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.hero.subtitle")}})})]})}),(0,Yn.jsx)("section",{className:"overview-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.visualisationSolution.overview.title")})}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.visualisationSolution.overview.demo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.overview.demoDesc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/bE57_-qdaq0?si=64ShTTK665vgF-wM",title:e("solutions.visualisationSolution.overview.demo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]})]})}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.visualisationSolution.technical.title")})}),(0,Yn.jsxs)("div",{className:"technical-grid",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"specs-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.visualisationSolution.technical.specsTitle")}),(0,Yn.jsxs)("ul",{className:"specs-list",children:[(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.technical.spec1")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.technical.spec2")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.technical.spec3")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.technical.spec4")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.technical.spec5")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"research-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.visualisationSolution.technical.researchTitle")}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.visualisationSolution.technical.patentTitle")}),(0,Yn.jsxs)("div",{className:"patent-details",children:[(0,Yn.jsx)("div",{className:"patent-title",dangerouslySetInnerHTML:{__html:'"'.concat(e("solutions.visualisationSolution.technical.patentName"),'"')}}),(0,Yn.jsxs)("div",{className:"patent-info-row",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("span",{className:"patent-date-label",children:[e("solutions.visualisationSolution.technical.applicationDate"),":"]}),(0,Yn.jsx)("span",{className:"patent-date-value",children:"TBD"})]}),(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("span",{className:"patent-number-label",children:[e("solutions.visualisationSolution.technical.patentNumber"),":"]}),(0,Yn.jsx)("span",{className:"patent-number-value",children:"TBD"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.visualisationSolution.technical.academicTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.technical.academicInfo")}})]}),(0,Yn.jsx)("div",{className:"cta-button-container",children:(0,Yn.jsx)(Un,{to:"/disclosure",className:"cta-button",children:e("solutions.visualisationSolution.technical.disclosureButton")})})]})})]})]})}),(0,Yn.jsx)("section",{className:"use-cases-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.visualisationSolution.useCases.title")})}),(0,Yn.jsxs)("div",{className:"use-cases-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"industries-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.visualisationSolution.useCases.industriesTitle")}),(0,Yn.jsxs)("div",{className:"industry-tags",children:[(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.visualisationSolution.useCases.industry1")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.visualisationSolution.useCases.industry2")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.visualisationSolution.useCases.industry3")})]}),(0,Yn.jsxs)("div",{className:"outcome",children:[(0,Yn.jsx)("h4",{children:e("solutions.visualisationSolution.useCases.outcomeTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.useCases.outcomeDesc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"scenario-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.visualisationSolution.useCases.scenarioTitle")}),(0,Yn.jsxs)("div",{className:"scenario-flow",children:[(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"1"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.useCases.scenarioStep1")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"2"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.useCases.scenarioStep2")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"3"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.useCases.scenarioStep3")}})]})]})]})})]})]})}),(0,Yn.jsx)("section",{className:"get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("solutions.visualisationSolution.cta.title")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",dangerouslySetInnerHTML:{__html:e("solutions.visualisationSolution.cta.description")}}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("solutions.visualisationSolution.cta.button")})})]})})})})]})}function Ele(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"vr-road-design-page",children:[(0,Yn.jsx)("section",{className:"vr-road-design-hero",children:(0,Yn.jsxs)("div",{className:"hero-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"hero-title",children:e("solutions.lifeSavingRobotSolution.hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"hero-subtitle",dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.hero.subtitle")}})})]})}),(0,Yn.jsx)("section",{className:"overview-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.lifeSavingRobotSolution.overview.title")})}),(0,Yn.jsxs)("div",{className:"overview-content",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.lifeSavingRobotSolution.overview.demo")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.overview.demoDesc")}})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/w5PZGGoV2l4?si=lOD56aI8XaXYw0Wa",title:e("solutions.lifeSavingRobotSolution.overview.demo"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})})]}),(0,Yn.jsxs)("div",{className:"overview-row",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsx)("div",{className:"video-wrapper",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:"https://www.youtube.com/embed/YJT_K-G124s?si=la3ZWWVwcroHxQDW",title:e("solutions.lifeSavingRobotSolution.overview.LSR-1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:100,children:(0,Yn.jsxs)("div",{className:"explanation-content",children:[(0,Yn.jsx)("h3",{children:e("solutions.lifeSavingRobotSolution.overview.LSR-1")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.overview.LSR-1Desc")}})]})})]})]})}),(0,Yn.jsx)("section",{className:"technical-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.lifeSavingRobotSolution.technical.title")})}),(0,Yn.jsxs)("div",{className:"technical-grid",children:[(0,Yn.jsx)(t,{animation:"slide-left",delay:100,children:(0,Yn.jsxs)("div",{className:"specs-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.lifeSavingRobotSolution.technical.specsTitle")}),(0,Yn.jsxs)("ul",{className:"specs-list",children:[(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.technical.spec1")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.technical.spec2")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.technical.spec3")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.technical.spec4")}}),(0,Yn.jsx)("li",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.technical.spec5")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-right",delay:200,children:(0,Yn.jsxs)("div",{className:"research-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.lifeSavingRobotSolution.technical.researchTitle")}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.lifeSavingRobotSolution.technical.patentTitle")}),(0,Yn.jsxs)("div",{className:"patent-details",children:[(0,Yn.jsx)("div",{className:"patent-title",dangerouslySetInnerHTML:{__html:'"'.concat(e("solutions.lifeSavingRobotSolution.technical.patentName"),'"')}}),(0,Yn.jsxs)("div",{className:"patent-info-row",children:[(0,Yn.jsxs)("div",{className:"patent-date",children:[(0,Yn.jsxs)("span",{className:"patent-date-label",children:[e("solutions.lifeSavingRobotSolution.technical.applicationDate"),":"]}),(0,Yn.jsx)("span",{className:"patent-date-value",children:"TBD"})]}),(0,Yn.jsxs)("div",{className:"patent-number",children:[(0,Yn.jsxs)("span",{className:"patent-number-label",children:[e("solutions.lifeSavingRobotSolution.technical.patentNumber"),":"]}),(0,Yn.jsx)("span",{className:"patent-number-value",children:"TBD"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"research-item",children:[(0,Yn.jsx)("h4",{children:e("solutions.lifeSavingRobotSolution.technical.academicTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.technical.academicInfo")}})]}),(0,Yn.jsx)("div",{className:"cta-button-container",children:(0,Yn.jsx)(Un,{to:"/disclosure",className:"cta-button",children:e("solutions.lifeSavingRobotSolution.technical.disclosureButton")})})]})})]})]})}),(0,Yn.jsx)("section",{className:"use-cases-section",children:(0,Yn.jsxs)("div",{className:"section-container",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h2",{className:"section-title",children:e("solutions.lifeSavingRobotSolution.useCases.title")})}),(0,Yn.jsxs)("div",{className:"use-cases-content",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"industries-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.lifeSavingRobotSolution.useCases.industriesTitle")}),(0,Yn.jsxs)("div",{className:"industry-tags",children:[(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.lifeSavingRobotSolution.useCases.industry1")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.lifeSavingRobotSolution.useCases.industry2")}),(0,Yn.jsx)("span",{className:"industry-tag",children:e("solutions.lifeSavingRobotSolution.useCases.industry3")})]}),(0,Yn.jsxs)("div",{className:"outcome",children:[(0,Yn.jsx)("h4",{children:e("solutions.lifeSavingRobotSolution.useCases.outcomeTitle")}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.useCases.outcomeDesc")}})]})]})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"scenario-card",children:[(0,Yn.jsx)("h3",{children:e("solutions.lifeSavingRobotSolution.useCases.scenarioTitle")}),(0,Yn.jsxs)("div",{className:"scenario-flow",children:[(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"1"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.useCases.scenarioStep1")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"2"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.useCases.scenarioStep2")}})]}),(0,Yn.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,Yn.jsxs)("div",{className:"flow-step",children:[(0,Yn.jsx)("div",{className:"step-number",children:"3"}),(0,Yn.jsx)("p",{dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.useCases.scenarioStep3")}})]})]})]})})]})]})}),(0,Yn.jsx)("section",{className:"get-in-touch-section",children:(0,Yn.jsx)("div",{className:"get-in-touch-container",children:(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("div",{className:"get-in-touch-content",children:[(0,Yn.jsx)("h3",{className:"section-title",children:e("solutions.lifeSavingRobotSolution.cta.title")}),(0,Yn.jsx)("p",{className:"get-in-touch-description",dangerouslySetInnerHTML:{__html:e("solutions.lifeSavingRobotSolution.cta.description")}}),(0,Yn.jsx)("div",{className:"get-in-touch-buttons",children:(0,Yn.jsx)(Un,{to:"/get-in-touch",className:"contact-button primary",children:e("solutions.lifeSavingRobotSolution.cta.button")})})]})})})})]})}const Cle=n.p+"static/media/news11.351940050e0d15f3c8b7.png",Ple=n.p+"static/media/LLM2.659ef3bc96c3f62b743e.png",Nle=n.p+"static/media/newsMobility.5d11f56ee963673ef767.jpg",Rle=n.p+"static/media/tkkimPresentation.a0c65fd09f7ce3f55751.jpg",Dle=n.p+"static/media/\uae40\ucc3d\ud76cNews2.1146f8919ed5805977f5.jpg";function Ile(){const{t:e}=(0,i.useContext)($n),t=Nt(),[n,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[s,l]=(0,i.useState)("newest");(0,i.useEffect)(()=>{const e=setTimeout(()=>{r(a)},300);return()=>clearTimeout(e)},[a]),(0,i.useEffect)(()=>{o(n)},[n]);const c=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},u=[{id:4,title:e("news.items.ptvApacUgm2025.title"),date:"2025-09-24",displayDate:e("news.items.ptvApacUgm2025.date"),category:e("news.items.ptvApacUgm2025.category"),excerpt:e("news.items.ptvApacUgm2025.excerpt"),image:Rle,slug:"ptv-apac-ugm-2025"},{id:3,title:e("news.items.kaistMobilityTech2025.title"),date:"2025-09-23",displayDate:e("news.items.kaistMobilityTech2025.date"),category:e("news.items.kaistMobilityTech2025.category"),excerpt:e("news.items.kaistMobilityTech2025.excerpt"),image:Nle,slug:"kaist-mobility-tech-2025"},{id:2,title:e("news.items.llmTrafficAnalysis.title"),date:"2025-09-12",displayDate:e("news.items.llmTrafficAnalysis.date"),category:e("news.items.llmTrafficAnalysis.category"),excerpt:e("news.items.llmTrafficAnalysis.excerpt"),image:Ple,slug:"llm-traffic-analysis-v1-release"},{id:1,title:e("news.items.changhuiKimInternship.title"),date:"2025-08-29",displayDate:e("news.items.changhuiKimInternship.date"),category:e("news.items.changhuiKimInternship.category"),excerpt:e("news.items.changhuiKimInternship.excerpt"),image:Dle,slug:"changhui-kim-internship-2025"},{id:0,title:e("news.items.ptvCertified.title"),date:"2025-08-25",displayDate:e("news.items.ptvCertified.date"),category:e("news.items.ptvCertified.category"),excerpt:e("news.items.ptvCertified.excerpt"),image:Cle,slug:"ptv-certified-trainers-2025"}].filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.category.toLowerCase().includes(n.toLowerCase())),d=[...u].sort((e,t)=>{switch(s){case"newest":return new Date(t.date)-new Date(e.date);case"oldest":return new Date(e.date)-new Date(t.date);case"category":return e.category.localeCompare(t.category);default:return 0}}),h=d;return(0,Yn.jsxs)("div",{className:"news-page",children:[(0,Yn.jsx)("section",{className:"news-hero",children:(0,Yn.jsxs)("div",{className:"news-hero-content",children:[(0,Yn.jsx)(c,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"news-hero-title",children:e("news.heroTitle")})}),(0,Yn.jsx)(c,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"news-hero-subtitle",children:e("news.heroSubtitle")})})]})}),(0,Yn.jsx)("section",{className:"news-main-section",children:(0,Yn.jsxs)("div",{className:"news-container",children:[(0,Yn.jsxs)("div",{className:"news-controls",children:[(0,Yn.jsxs)("div",{className:"news-search",children:[(0,Yn.jsx)("input",{type:"text",placeholder:e("news.searchPlaceholder"),value:a,onChange:e=>{o(e.target.value)},className:"search-input"}),(0,Yn.jsxs)("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Yn.jsx)("path",{d:"21 21l-4.35-4.35"})]})]}),(0,Yn.jsx)("div",{className:"news-sort",children:(0,Yn.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"sort-select",children:[(0,Yn.jsx)("option",{value:"newest",children:e("news.sort.newest")}),(0,Yn.jsx)("option",{value:"oldest",children:e("news.sort.oldest")}),(0,Yn.jsx)("option",{value:"category",children:e("news.sort.category")})]})})]}),n&&(0,Yn.jsx)(c,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("div",{className:"search-results-info",children:e("news.searchResults",{count:u.length,term:n})})}),(0,Yn.jsx)("div",{className:"news-grid",children:h.map((n,i)=>(0,Yn.jsx)(c,{animation:"slide-up",delay:100*i,children:(0,Yn.jsxs)("article",{className:"news-card",children:[(0,Yn.jsxs)("div",{className:"news-image-container",children:[(0,Yn.jsx)("img",{src:n.image,alt:n.title,className:"news-image"}),(0,Yn.jsx)("div",{className:"news-category-badge","data-category":n.category,children:n.category})]}),(0,Yn.jsxs)("div",{className:"news-content",children:[(0,Yn.jsx)("div",{className:"news-meta",children:(0,Yn.jsx)("time",{className:"news-date",children:n.displayDate})}),(0,Yn.jsx)("h3",{className:"news-title",children:n.title}),(0,Yn.jsxs)("button",{className:"read-more-btn",onClick:()=>{return e=n.slug,void t("/news/".concat(e));var e},children:[e("news.readMore"),(0,Yn.jsx)("svg",{className:"read-more-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},n.id))}),0===h.length&&(0,Yn.jsx)(c,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"no-results",children:[(0,Yn.jsx)("h3",{children:e("news.noResults.title")}),(0,Yn.jsx)("p",{children:e("news.noResults.message")})]})})]})})]})}const Lle=n.p+"static/media/news12.3df903f5b8441c4f9c37.png",kle=n.p+"static/media/App.9e325f7d44e6e3e4d475.png",Ble=n.p+"static/media/Taeho-676x1024.0e8836c1d61cd436962f.png",Fle=n.p+"static/media/\uae40\ud0dc\uade0-1.6a26a689fd2d5e3d69f2.png",Ole=(n.p,n.p+"static/media/tkkimPresentation2.b173f8b5e0d4500738d1.jpg"),Ule=n.p+"static/media/TKPhotoPTVmeeting.a3b863d5c4bb6497976f.jpg",Vle=n.p+"static/media/ptvTKkimCertificate.ed1c450425528543e465.jpg",jle=n.p+"static/media/\uae40\ucc3d\ud76cNews.db92fd0202c19ffd3148.jpg";function zle(){const{slug:e}=Dt(),t=Nt(),{t:n}=(0,i.useContext)($n),r=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},a=(e=>({"ptv-certified-trainers-2025":{id:0,title:n("news.articles.ptvCertified.title"),date:"2025-08-25",displayDate:n("news.articles.ptvCertified.date"),category:n("news.items.ptvCertified.category"),author:n("news.articles.ptvCertified.author"),readTime:n("news.articles.ptvCertified.readTime"),heroImage:Cle,content:n("news.articles.ptvCertified.content"),images:[],certificates:[{src:kle,caption:"Inhi Kim"},{src:Ble,caption:"Tae-ho Oh"},{src:Fle,caption:"Tae-kyun Kim"}]},"llm-traffic-analysis-v1-release":{id:1,title:n("news.articles.llmTrafficAnalysis.title"),date:"2025-09-12",displayDate:n("news.articles.llmTrafficAnalysis.date"),category:n("news.articles.llmTrafficAnalysis.category"),author:n("news.articles.llmTrafficAnalysis.author"),readTime:n("news.articles.llmTrafficAnalysis.readTime"),heroImage:Ple,contentIntro:n("news.articles.llmTrafficAnalysis.contentIntro"),contentMain:n("news.articles.llmTrafficAnalysis.contentMain"),images:[],videoUrl:"https://www.youtube.com/embed/kL11AdA_DvE?si=_AKT55Okf50-HtPF",ctaButton:{text:n("news.articles.llmTrafficAnalysis.ctaButton"),link:"/solutions/traffic-analysis-tools"}},"kaist-mobility-tech-2025":{id:2,title:n("news.articles.kaistMobilityTech2025.title"),date:"2025-09-23",displayDate:n("news.articles.kaistMobilityTech2025.date"),category:n("news.articles.kaistMobilityTech2025.category"),author:n("news.articles.kaistMobilityTech2025.author"),readTime:n("news.articles.kaistMobilityTech2025.readTime"),heroImage:Nle,content:n("news.articles.kaistMobilityTech2025.content"),images:[]},"ptv-apac-ugm-2025":{id:3,title:n("news.articles.ptvApacUgm2025.title"),date:"2025-09-24",displayDate:n("news.articles.ptvApacUgm2025.date"),category:n("news.articles.ptvApacUgm2025.category"),author:n("news.articles.ptvApacUgm2025.author"),readTime:n("news.articles.ptvApacUgm2025.readTime"),heroImage:Rle,content:n("news.articles.ptvApacUgm2025.content").replace("IMAGE_TKKIM_PHOTO",Ule).replace("IMAGE_TKKIM_PRESENTATION2",Ole).replace("IMAGE_TKKIM_CERTIFICATE",Vle),images:[]},"changhui-kim-internship-2025":{id:4,title:n("news.articles.changhuiKimInternship.title"),date:"2025-08-29",displayDate:n("news.articles.changhuiKimInternship.date"),category:n("news.articles.changhuiKimInternship.category"),author:n("news.articles.changhuiKimInternship.author"),readTime:n("news.articles.changhuiKimInternship.readTime"),heroImage:Dle,content:n("news.articles.changhuiKimInternship.content").replace("IMAGE_CHANGHUI_CERTIFICATE",jle).replace("IMAGE_CHANGHUI_SINGAPORE",Dle),images:[]}}[e]))(e);if(!a)return(0,Yn.jsx)("div",{className:"news-article-page",children:(0,Yn.jsx)("div",{className:"article-container",children:(0,Yn.jsxs)("div",{className:"article-not-found",children:[(0,Yn.jsx)("h1",{children:n("news.article.notFound.title")}),(0,Yn.jsx)("p",{children:n("news.article.notFound.message")}),(0,Yn.jsx)("button",{onClick:()=>t("/news"),className:"back-to-news-btn",children:n("news.article.backToNews")})]})})});const o=()=>{t("/news")};return(0,Yn.jsxs)("div",{className:"news-article-page",children:[(0,Yn.jsx)("section",{className:"article-breadcrumb",children:(0,Yn.jsx)("div",{className:"article-container",children:(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("nav",{className:"breadcrumb-nav",children:(0,Yn.jsxs)("button",{onClick:o,className:"breadcrumb-link",children:[(0,Yn.jsx)("svg",{className:"breadcrumb-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n("news.article.backToNews")]})})})})}),(0,Yn.jsx)("section",{className:"article-hero",children:(0,Yn.jsx)("div",{className:"article-hero-image-container",children:(0,Yn.jsx)(r,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("img",{src:a.heroImage,alt:a.title,className:"article-hero-image"})})})}),(0,Yn.jsx)("article",{className:"article-main",children:(0,Yn.jsxs)("div",{className:"article-container",children:[(0,Yn.jsxs)("header",{className:"article-header",children:[(0,Yn.jsx)(r,{animation:"slide-up",delay:100,children:(0,Yn.jsx)("div",{className:"article-category-badge","data-category":a.category,children:a.category})}),(0,Yn.jsx)(r,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("h1",{className:"article-title",children:a.title})}),(0,Yn.jsx)(r,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("div",{className:"article-meta",children:[(0,Yn.jsxs)("div",{className:"article-meta-item",children:[(0,Yn.jsxs)("svg",{className:"meta-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Yn.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Yn.jsx)("polyline",{points:"12,6 12,12 16,14"})]}),(0,Yn.jsx)("time",{className:"article-date",children:a.displayDate})]}),(0,Yn.jsxs)("div",{className:"article-meta-item",children:[(0,Yn.jsxs)("svg",{className:"meta-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Yn.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Yn.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),(0,Yn.jsx)("span",{className:"article-author",children:a.author})]}),(0,Yn.jsxs)("div",{className:"article-meta-item",children:[(0,Yn.jsx)("svg",{className:"meta-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{d:"M2 3h6l1.31 3.65L8 10v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-5l-1.31-3.35L16 3h6"})}),(0,Yn.jsx)("span",{className:"article-read-time",children:a.readTime})]})]})})]}),(0,Yn.jsxs)("div",{className:"article-body",children:[a.contentIntro&&(0,Yn.jsx)(r,{animation:"slide-up",delay:400,children:(0,Yn.jsx)("div",{className:"article-content",dangerouslySetInnerHTML:{__html:a.contentIntro}})}),a.ctaButton&&(0,Yn.jsx)(r,{animation:"slide-up",delay:500,children:(0,Yn.jsx)("div",{className:"article-cta",children:(0,Yn.jsxs)(Un,{to:a.ctaButton.link,className:"article-cta-button",children:[a.ctaButton.text,(0,Yn.jsx)("svg",{className:"cta-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}),a.contentMain&&(0,Yn.jsx)(r,{animation:"slide-up",delay:600,children:(0,Yn.jsx)("div",{className:"article-content",dangerouslySetInnerHTML:{__html:a.contentMain}})}),!a.contentIntro&&!a.contentMain&&a.content&&(0,Yn.jsx)(r,{animation:"slide-up",delay:400,children:(0,Yn.jsx)("div",{className:"article-content",dangerouslySetInnerHTML:{__html:(s=a.content,"ptv-certified-trainers-2025"===e?s.replace("TRAINING_FACILITIES_IMAGE",Lle):s)}})}),a.videoUrl&&(0,Yn.jsx)(r,{animation:"slide-up",delay:700,children:(0,Yn.jsx)("div",{className:"article-video",children:(0,Yn.jsx)("div",{className:"video-container",children:(0,Yn.jsx)("iframe",{src:a.videoUrl,title:"Product Demo",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-video"})})})}),a.images&&a.images.length>0&&(0,Yn.jsx)("div",{className:"article-images",children:a.images.map((e,t)=>(0,Yn.jsx)(r,{animation:"slide-up",delay:600+100*t,children:(0,Yn.jsxs)("figure",{className:"article-figure",children:[(0,Yn.jsx)("img",{src:e.src,alt:e.caption,className:"article-image"}),(0,Yn.jsx)("figcaption",{className:"article-image-caption",children:e.caption})]})},t))}),a.certificates&&a.certificates.length>0&&(0,Yn.jsxs)("div",{className:"certificate-gallery",children:[(0,Yn.jsx)(r,{animation:"slide-up",delay:600,children:(0,Yn.jsx)("h3",{className:"certificate-gallery-title",children:"PTV Certified Trainers"})}),(0,Yn.jsx)("div",{className:"certificate-grid",children:a.certificates.map((e,t)=>(0,Yn.jsx)(r,{animation:"slide-up",delay:700+100*t,children:(0,Yn.jsxs)("figure",{className:"certificate-figure",children:[(0,Yn.jsx)("img",{src:e.src,alt:e.caption,className:"certificate-image"}),(0,Yn.jsx)("figcaption",{className:"certificate-caption",children:e.caption})]})},t))}),(0,Yn.jsx)(r,{animation:"slide-up",delay:1e3,children:(0,Yn.jsx)("div",{className:"team-cta",children:(0,Yn.jsxs)("button",{onClick:()=>t("/team"),className:"team-cta-button",children:["Meet Our Team",(0,Yn.jsx)("svg",{className:"team-cta-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})})]})]}),(0,Yn.jsx)("footer",{className:"article-footer",children:(0,Yn.jsx)(r,{animation:"slide-up",delay:600,children:(0,Yn.jsxs)("button",{onClick:o,className:"back-to-news-btn",children:[(0,Yn.jsx)("svg",{className:"back-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n("news.article.backToNews")]})})})]})})]});var s}const qle=n.p+"static/media/visum.ded2c97d7f997c876906.jpg",Gle=n.p+"static/media/Simulation-in-PTV-VISSIM-software.fc35600ac5df5d08a53c.png",Hle=n.p+"static/media/vistro.4d63528842014d2eaee0.png",Wle=n.p+"static/media/simulator_course.560db72909826f8f2ab7.jpg",Qle={"ind-001":{title:"Individual Training",code:"IND-001",product:"General",level:"Individual",image:Wle,description:"On request, <strong>PTV</strong> also offers individually tailored training programs, either at one of our professional training venues or at a place of your choosing.",content:"When organizing <strong>individual trainings</strong>, we consider your needs, paying close attention to the skill levels of you and your colleagues. Our expert trainers are at your side to answer project specific questions and assist with working out the appropriate solutions. Benefit from an <em>efficient, hands-on training</em> with your individual project and work requirements.",targetGroup:"Our individual training is suited to those who already use our software solutions but require a tailored training. This is also perfect for those interested in seeing the potential of our solutions for their project needs but don't use a PTV product today.",prerequisites:"Prerequisites depend on the agreed course content and can be adopted to your needs. Courses can be adjusted to a group with varying experience and demands.",duration:"Customizable",contents:["A detailed training program will be discussed with you prior to the training."],advantages:["<strong>Customized Training:</strong> Training sessions are designed to meet the staff's specific skill level","<strong>Adaptive Learning:</strong> Learning targets are adjusted to progress and need","<strong>On-site Flexibility:</strong> Classes can take place at the client's location using the technical facilities available","Flexible Scheduling: <em>Convenient timing</em> that fits your organization's needs","Cost-efficiency: Saving of travel expenses for several participants"],pricing:"For more information about our individual training, please contact us."},"tr-t0101":{title:"Visum Introduction",code:"TR-T0101",product:"Visum",level:"Basic",image:qle,description:"You will learn how to handle the <strong>network objects</strong> and the processing of demand matrices. Moreover, operating various graphical analyses and evaluations is in the focus.",content:'We will acquaint you with the description of <strong>procedure sequences</strong> including the procedures for private transport assignment as well as a common procedure for public transport assignment. We will use the <span class="tech-term">PTV Visum Scenario manager</span> to illustrate how to construct a base scenario and multiple planning scenarios and how to work with these scenarios. <div class="key-info-box"><div class="title">Important Note</div>This course serves as the <strong>basis for any PTV Visum application</strong> and further training courses. Participation in this training course is required for future use of the Technical PTV Visum support service due to the maintenance contract.</div>',targetGroup:"The PTV Visum introductory course addresses to transport planners with academic professional knowledge in the fields of transport planning and engineering or with practical experience in traffic and transport expertises. To specialist engineers, this training course provides an introduction into the PTV Visum practice for efficient processing and evaluation of traffic studies by means of a standard software.",prerequisites:"You are familiar with the standard Office software tools (MS-Excel, MS-Word, OpenOffice.org, LibreOffice) that run with the operating system MS-Windows. You are able to use a conventional text editor (Notepad, Editor, TextPad, Notepad ++, etc.) for data editing. According to your professional background or due to your practical experience you are well-grounded in the field of transport planning.",duration:"3 Days",contents:['<strong>Day 1:</strong> Introduction to the fundamentals of transport planning and to <span class="tech-term">PTV Visum</span>, PTV Visum network model - structure and processing, PTV Visum network check and validation, Network data import from third-party systems (e.g. shape file import), PTV Visum graphic parameters \u2013 simple introduction','<strong>Day 2:</strong> <em>Assignment procedures</em> \u2013 Modeling of route choice decisions for private transport, Volume-delay functions, Impedance functions, Assignment procedures in detail: <span class="tech-term">Incremental assignment</span>, <span class="tech-term">Equilibrium assignment</span>, Equilibrium assignment LUCE, Equilibrium_Lohse, Overview of further assignment procedures: Stochastic assignment, Dynamic User Equilibrium DUE, Dynamic stochastic assignment, Simple public transport assignment procedure for PuT demand segments, <strong>Scenario management</strong> (project definition), Definition of the base application case, Generation of scenarios and description of the dependencies','<strong>Day 3:</strong> PTV Visum presentation of the results, <em>Graphical visualization</em> of the assignment results as flow bundles, isochrones, turn volumes, or one of the difference display variants, Layout of maps and plans, <span class="tech-term">Skim matrices and vectors</span>: Travel time, travel distance, access and egress times, Matrix classification: Distributions of travel times and travel distances, Matrix correction by TFlowFuzzy, Skim value-based difference calculation for the assessment of the scenarios, Print output of the training course results']},"tr-t0102":{title:"Visum Introduction PuT",code:"TR-T0102",product:"Visum",level:"Basic",image:qle,description:"Primarily you work in the area of private transport modeling. Additionally, you would like to know how to handle the network objects which are required for modelling public transport networks.",content:"You will learn the fundamentals of public transport supply modelling. Moreover, how to connect the public transport demand and supply in PTV Visum will be explained. This training course serves as the basis for the use of the basic public transport functionality in PTV Visum. Users who are interested in detailed public transport modeling are recommended to attend the two-day Public Transport basic training course which includes both supply and demand.",targetGroup:"The course addresses Visum users, who want to include components of public transport into their network models.",prerequisites:'You successfully participated in our basic course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or have similar experience with PTV Visum. With your professional background and practical experience you are well-grounded in the field of transport planning.',duration:"1 Day",contents:["Fundamentals of how to model the elements of the public transport supply side","Public transport stops and their structure","PT lines and line routes","Regular services and timetables","Vehicle types","Fundamentals of modeling and analyzing PT demand","Connectors","Assignment procedure methods for public transport","Calculation of public transport-specific skims and their tabular and graphical display"]},"tr-t0103":{title:"Visum PuT Supply and Demand",code:"TR-T0103",product:"Visum",level:"Basic",image:qle,description:"PTV Visum provides various functions for analysis, planning, visualization and evaluation of PuT supply. One of the main characteristics of PTV Visum is that it allows you to model both PuT supply and demand and to combine the two subsystems.",content:'Based on a road network model, you will learn how to model all basic PuT supply elements, e.g. stops, lines and timetables, vehicle types and operators. In addition, you will get to know how to visualize and analyze PuT model data in tables and graphs in PTV Visum. Based on an existing PuT supply model, you will learn how to adopt PuT demand data and combine it with supply data by applying several methods for passenger behavior simulation. We will thus focus on assignment procedures that allow us to determine passenger routes and calculate and display passenger volumes. Where useful, we will also look at procedures used to calculate and visualize the volume/capacity ratio of links, lines and vehicle trips. The course "Modelling Public Transport networks and combining supply and demand" impart the basics required for participation in our other PuT courses. This course serves as the basis for any PTV Visum application and further training courses.',targetGroup:"Employees in planning departments of authorities, transport companies, transport associations and traffic planning offices that want to model and analyse PuT systems in detail.",prerequisites:"No prerequisites. You ideally have experience with projects in PuT network and service planning.",duration:"2 Days",contents:["Day 1: Adopting data from digital network models, Basics of network modelling (nodes, links, turns), Importing, creating and editing stops, stop areas and stop points, Interactive graphical creating and editing of lines and line routes, Creating and adjusting time profiles, Editing timetables in graphs and tables, Editing vehicle types, operators, valid days, Calculating skims from both the passenger's and operator's perspective","Day 2: Basic sources and elements required to model PuT demand, Basics of the procedures for assignment of PuT demand matrices, Application cases and parameters of assignment procedures, Calculation of transport supply indicators and operating costs for evaluations, Tabular, graphical and map-based display of passenger demand indicators by stops, links, lines and vehicle journeys, furthermore display of the volume/capacity ratio by line or vehicle journey"]},"tr-t0109":{title:"Visum 4-Step Model",code:"TR-T0109",product:"Visum",level:"Advanced",image:qle,description:"One of the main uses of Visum is modeling transport demand. The most common travel forecasts analyse the daily travel behaviour of people.",content:"These forecasts provide answers to the questions, when, how often, where and how do people travel. The standard 4-step model generally includes the steps trip generation, trip distribution, mode choice, and assignment. In Visum the variants 4-step model with sequential calculation and Nested demand model can be used. The two variants have in common that both trip generation and assignment are carried out in separate steps, either before or after calculation of the demand matrices. This two-day course will first introduce you to the various modelling methods. After describing all demand models available in PTV Visum, the course covers in detail the subjects of model segmentation, data supply, calibration and validation. The actual implementation of these subjects in PTV Visum is explained and participants practice with a training model.",targetGroup:"The course provides an introduction to demand modelling, but is also aimed at users who already have experience with macroscopic traffic models and want to deepen their knowledge.",prerequisites:'You successfully participated in our basic course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or have similar experience with PTV Visum. You also have obtained practical project experience. It is of advantage if you attended our course "PTV Visum - Introduction to Public Transport Modelling" (TR-T0102) and have some basic knowledge of demand modelling.',duration:"2 Days",contents:["Day 1: Model architecture, Discussing methods (4-stage model, VISEM, EVA), Model segmentation, Calculation process, Definition of the model area, Data supply, Required data and data sources (network-, behaviour- and structural data), Data preparation and organization, Interfaces for network data, Creating an 4-step example for practice, Matrix processing","Day 2: PrT/PuT assignments, Calibration and validation, Parameter calibration for choice of destination and means of transport, Bottom-up validation of the model, Matrix calibration, Forecast calculation, Scenario Manager"]},"tr-t0112":{title:"Visum COM",code:"TR-T0112",product:"Visum",level:"Advanced",image:qle,description:"Some of the customers would like to add their own applications to the given PTV Visum functionality or embed PTV Visum in enterprise workflows.",content:"Using the COM interface and a considerable object library giving access to almost any functionality of Visum, you have nearly unlimited possibilities for model processing on behalf of your specific purposes. This course will impart the basic knowledge of the COM model of PTV Visum. Course participants will learn how to control PTV Visum from external applications, run repeated processes automatically and how to create and implement simple applications in PTV Visum. The examples and exercises will use Python as the scripting language. A short recapitulation of Python language constructs is given.",targetGroup:"The course addresses to experienced users with basic programming knowledge in engineering firms or transport associations who would like to improve the automation of certain processes to work more efficiently or develop their own specific functional PTV Visum extensions.",prerequisites:'You successfully participated in our basic course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or have similar experience with PTV Visum. Basic programming knowledge of any programming language is required. The course will be given with examples in Python.',duration:"1 Day",contents:["Introduction to the COM model","Fields of application for your own COM programs","Short introduction to the programming language Python","Programming environment and overview of the COM documentation","Manipulating network objects and their properties","Complex matrix processing","Specific aspects of the COM interface (Public Transport, procedures, importing, \u2026) on request","Including scripts in PTV Visum","Examples for the discussed COM applications","Various exercises"]},"tr-t0116":{title:"Visum Visem",code:"TR-T0116",product:"Visum",level:"Advanced",image:qle,description:"The tour-based model Visem is a disaggregated, behavior-oriented demand model which allows the planner to include all kinds of data relating to socio-demography and traffic policy issues.",content:"The tour-based model calculates three logical work unit: Trip generation, Trip distribution and Mode choice. These three logical units are not processed separately in succession by the tour-based model, but are interlocked. Especially steps 2 and 3, Trip distribution and Mode choice are carried out simultaneous in a single procedure. In all three work units two important concepts have been implemented for the tour-based model: Calculation on the basis of groups with homogeneous behavior and activity chains.",targetGroup:"This course provides experienced users a deeper insight into demand modelling. It is aimed at users who already have basic knowledge of demand modelling and who want to extend it to the tour-based model / activity chain based model Visem.",prerequisites:'You have successfully participated in our course "PTV Visum \u2013 Creating a 4-Step Transport Model" (TR-T0109) or have comparable knowledge of demand modelling in PTV Visum. You also have obtained practical project experience.',duration:"1 Day",contents:["Demand modelling with Visem","Principles and properties of the procedure","Data structure","Model architecture"]},"tr-t0118":{title:"Visum EVA",code:"TR-T0118",product:"Visum",level:"Advanced",image:qle,description:"The EVA model developed by Lohse at Dresden Technical University constitutes an alternative approach to the first three stages of the classical traffic planning model.",content:"In the EVA model and Standard 4-step model, productions and attractions are calculated similarly, namely based on demographic (number of inhabitants) and structural (jobs, size of retail sales floor\u2026) parameters as well as on mobility rates (taken from statistical surveys on traffic behavior). It is performed separately for each demand stratum, which means for each activity pair and its major person groups.",targetGroup:"This course provides experienced users a deeper insight into demand modelling. It is aimed at users who already have basic knowledge of demand modelling and who want to extend it to the passenger-based model model EVA.",prerequisites:'You have successfully participated in our course "PTV Visum \u2013 Creating a 4-Step Transport Model" (TR-T0109) or have comparable knowledge of demand modelling in PTV Visum. You also have obtained practical project experience.',duration:"1 Day",contents:["Demand modelling with EVA","Principles and properties of the procedure","Data structure","Model architecture"]},"tr-t0119":{title:"Visum Freight Modelling",code:"TR-T0119",product:"Visum",level:"Advanced",image:qle,description:"Particularly in urban areas a large amount of traffic is caused as a result of economic activities. These include various trip purposes, such as the delivery and distribution of goods, the supply of construction materials and disposal of construction waste or the provision of services.",content:"For modeling tour-based freight, there is a separate demand model available that includes the corresponding demand objects and procedures. Key elements of the model are based on the WIVER model (Sonntag, 1995), jointly developed by IVU and PTV in the 90s and applied in numerous transport models. This model allows you to model origin and destination traffic resulting from orders as well as interrelations between different industries. On this basis, you can then model how these orders are delivered in trips. The model provides the necessary data structures for modeling sector requirements and delivery concepts or vehicle types.",targetGroup:"This course provides experienced users a deeper insight into demand modelling. It is aimed at users who already have basic knowledge of demand modelling and who want to extend it to the tour-based freight model.",prerequisites:'You have successfully participated in our course "PTV Visum \u2013 Creating a 4-Step Transport Model" (TR-T0109) or have comparable knowledge of demand modelling in PTV Visum. You also have obtained practical project experience.',duration:"1 Day",contents:["Demand modelling with Freight Modelling","Principles and properties of the procedure","Data structure","Model architecture"]},"tr-t0120":{title:"Visum Nested Demand Modelling",code:"TR-T0120",product:"Visum",level:"Advanced",image:qle,description:"The nested logit approach, which underpins the Nested Demand Model, represents behavioural choices (typically trip distribution, mode choice and time of the day choice) in hierarchical model structures.",content:"The appropriate hierarchy of choices must be determined by the relative sensitivities to the utilities of travel. Choices made higher in the hierarchy act as constraints on those made later further down the hierarchy. The calculation of utilities starts at the bottom of the hierarchy. The resulting log sums are passed on to the next level in the hierarchy adding one more choice at each level on the way up the hierarchy. This type of demand modelling is standard practice in the UK and is currently being used by the DfT's own National Transport Model with PTV Visum. This is therefore an ideal approach for modelling that is in line with DfT's and WebTAG recommendations.",targetGroup:"This course provides experienced users with a deeper insight into TAG-compliant variable demand modelling. It is aimed at users who already have basic knowledge of variable demand modelling and who want to extend it to PTV Visum.",prerequisites:'You have obtained practical project experience in TAG compliant variable demand modelling and successfully participated in our course \u201eIntroduction to macroscopic modelling with PTV Visum" (TR-T0101) or have comparable knowledge of demand modelling in PTV Visum.',duration:"1 Day",contents:["Demand model with the Nested Logit approach","Principles and properties of the procedure","Choice model structure","Utility functions","Scaling parameters","Gap calculation and model iteration","Matrix operations"]},"tr-t0122":{title:"Visum Long-Distance Freight",code:"TR-T0122",product:"Visum",level:"Advanced",image:qle,description:"When modelling long-distance freight traffic covering very large areas, three challenges have to be considered.",content:"First, the geographic distribution of trips not only depends on locations of production and consumption, but also on the choice between alternative logistic distribution chains and the locations of intermediate distribution centers. Second, any stage of the distribution chain may combine several modes into a multi-leg transport. Third, the large scale of the model leads to large zones, implying a significant share of intrazonal traffic. In this two-day course we will show you how to adapt the four-stage model by generalizing destination choice into a distribution channel model and by introducing a mode sequence choice model for multimodal transport. A simplified distance band model is applied to intrazonal traffic.",targetGroup:"This course provides experienced users a deeper insight into demand modelling. It is aimed at users who already have basic knowledge of demand modelling and who want to extend it to long-distance freight models.",prerequisites:'You have successfully participated in our course "PTV Visum \u2013 Creating a 4-step transport model" (TR-T0109) or have comparable knowledge of demand modelling in PTV Visum. You also have obtained practical project experience.',duration:"1 Day",contents:["Creating an example of longdistance 4-step freight demand model with multimodal assignment and distribution center choice modelling","Freight model architecture","Transportsystems, Modes, Demand Model Segments","Link types, links, network","Zoning system, structural data","Skim matrices for freight","Path sequences","Multimodal transport","Economic sectors and distribution chain legs","Freight model procedure sequence"]},"tr-t0124":{title:"Visum Emissions",code:"TR-T0124",product:"Visum",level:"Advanced",image:qle,description:"Air pollution control and noise pollution are on everyone's lips and one of the biggest challenges. Cities, municipalities and legislators, as well as car manufacturers and other stakeholders involved in mobility, are working intensively on how to meet national and international targets and implement measures.",content:"In this one-day course you will learn the basics of emissions in relation to noise and air. We will show you the possibilities to calculate pollutant emissions in passenger and freight traffic in PTV Visum on the basis of the Handbook for Emission Factors (HBEFA) published by the German Federal Environment Agency. Furthermore, we create noise emission calculations and emission maps for the emitter road based on RLS-19 (Richtlinien f\xfcr den L\xe4rmschutz an Stra\xdfen, Ausgabe 2019 / Guidelines for noise protection on roads, 2019 edition, published by FGSV) and fathom the possibilities to create noise reduction plans.",targetGroup:"This course offers experienced users an introduction to theories and hands on examples of emission calculations with PTV Visum. It is targeted towards users who already gained basic knowledge of traffic modelling and want to expand it with emission calculations.",prerequisites:'You succesfully attended our course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or gained similar experience with PTV Visum. You also gained some practical project experience.',duration:"1 Day",contents:["General about Emissions - Short introduction into the topic and the possibilities and limitations in PTV Visum","Emissions calculation according to HBEFA - Emissions calculation for car and trucks based on assignment results, Emissions calculation for scheduled public transport busses based on time table data, Calculation of cold start excess emissions based on zone data, Statistical calculations (not analytical time intervalls), Definition and refining of demand segments and transport systems to create detailed analysis, Comparing scenarios","Noise calculation according to RLS-19 (Emitter Road) - Definitions for noise calculation, Noise calculation based on assignment results, Presentation of noise emission maps, Presentation of noise reduction plans (comparing scenarios)"]},"tr-t0125":{title:"Visum ICA SBA",code:"TR-T0125",product:"Visum",level:"Advanced",image:qle,description:"Realistic impedance modelling for nodes premises that nodes are modelled in detail in a way that conflicts between turns can be identified correctly.",content:"Transferred to Visum this means, that for these nodes the geometry and control need to be modelled in the junction editor. Subsequently, precise impedances and capacities of the turns can be calculated using the Intersection Capacity Analysis (ICA). Simulation-based dynamic assignment (SBA) is a dynamic assignment procedure that accounts for node impedances and allows users to model the forming and dissolving of queues over time. The supply and demand may be varied over time. Unlike other dynamic assignment procedures in Visum, the network is loaded with demand based on a simulation.",targetGroup:"This course provides experienced users with a deeper insight into junction impedance-based highway assignment modelling. It is aimed at users who already have basic knowledge of PTV Visum and who are familiar with the principals of highway assignment model.",prerequisites:'You successfully participated in our basic course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or have similar experience with PTV Visum. You also gained some practical project experience in highway assignment modelling.',duration:"1 Day",contents:["Intersection Capacity Analysis (ICA) - Principles and fundamentals, Junction coding for ICA nodes, The ICA assignment procedure, Convergence criteria, Input and output attributes, Understanding ICA results","Simulation Based Assignment (SBA) - Steps of simulation-based dynamic assignment, Route search, Volume balancing, Simulation and network loading, Input and output attributes, Evaluation of assignment"]},"tr-t0126":{title:"PTV Visum - ABM Training for Modellers",code:"TR-T0126",product:"Visum",level:"Advanced",image:qle,description:"In this course, you will learn how to build an activity-based model (ABM) with PTV Visum, what data is required for it and how it can be used.",content:"You will use examples to create a synthetic population, develop appropriate choice models and run an example model from start to finish. You will also develop policy questions to be tested in the model and learn how to analyze and visualize the results.",targetGroup:"Modelers who have experience with PTV Visum and understand the setup steps for a 4-stage demand model. You will collaborate and develop an ABM in PTV Visum. It is helpful if you are familiar with the user interface and the processing of data via lists and objects.",prerequisites:"Experience with PTV Visum and basic understanding of demand modeling",duration:"1 day",contents:["01. Methodology - Workflow, Structure and population data, Choice model, Stable ABM, Advantages / disadvantages","02. Network, structural data and parameters - Disaggregation to activity locations, Connectors, Assignment, Time-differentiated skims","03. Synthetic population - Installation of PopulationSim, Configuration, Behavioral data, Import to PTV Visum","04. Parameterization - Utility definition, Parameter adoption from macroscopic models","05. Example calculations - Basic example, Scenario, Stable calculation","06. Calibration","07. Analysis tools"]},"tr-t0130":{title:"PTV Visum \u2013 Hybrid Macro-Meso Highway Assignment with SBA",code:"TR-T0130",product:"Visum",level:"Advanced",image:qle,description:"Realistic modelling for nodes requires them to be modelled such that conflicts between turns can be identified correctly.",content:"In the Visum context, this means that the geometry and relevant control needs to be modelled in the junction editor. With this detail in place, Intersection Capacity Analysis (ICA) and mesoscopic simulation with SBA are possible. Simulation-based dynamic assignment (SBA) is a dynamic assignment procedure which loads demand using the simplified car-following simulation. The procedure is suited for medium-sized and large networks whose network model and demand are suitably modelled for dynamic applications. A recent development has been to allow for hybrid macro-meso assignment with SBA. This capability allows the possibility to create large-scale dynamic models with the flexibility to require the additional junction (node) detail only where the mesoscopic simulation is used.",targetGroup:"Transport modellers familiar with highway assignment or microsimulation who are interested in how mesoscopic modelling can improve their workflows, and/or how hybrid macro-meso modelling can be applied at scale. It is aimed at users who already have basic knowledge of PTV Visum and who are familiar with the principles of highway assignment model.",prerequisites:'You successfully participated in our basic course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or have similar experience with PTV Visum. You also gained some practical project experience in highway assignment modelling.',duration:"1 Day",contents:["Introduction to the Simulation-Based Assignment in PTV Visum","Explanation of model development workflows"]},"tr-t0140":{title:"PTV Visum - Scenario Management: Tips & Tricks for traffic forecast (PL)",code:"TR-T0140",product:"Visum",level:"Intermediate",image:qle,description:"The training focuses on presenting the Scenario Manager as a modern form of traffic forecasting.",content:"In the training, you will learn how the Scenario Manager tool can accelerate the traffic forecasting process and how to increase readability and control in your projects. During the training, all options and functionalities of the tool will be discussed, and then we will practice each of them together.",targetGroup:"The course is directed to users who have experience working with traffic macro-models built in PTV Visum but have not used the Scenario Manager so far or have used it sporadically to a limited extent.",prerequisites:"Knowledge of the basics of travel modeling (building supply and demand models) in PTV Visum, basic experience in building traffic forecasts.",duration:"1 Day",contents:["Elements that make up traffic forecasts","Scenario Manager (SM) \u2013 introduction and application in current work","Creating a project in Scenario Manager (SM)","SM options and functions, principles of relationships between elements","Base model functions","Modifications, procedures and graphic layouts","Building scenarios","Comparing traffic distribution results between different scenarios","Creating global traffic parameters (e.g. concerning transport work) and comparing them between scenarios","Tips & Tricks"]},"tr-t0141":{title:"PTV Visum - Automation of transport model building process (PL)",code:"TR-T0141",product:"Visum",level:"Intermediate",image:qle,description:"The training focuses on presenting practical knowledge and methods for automating the construction of communication networks and selected elements of the demand model: explanatory variables, change indicators.",content:"In addition to learning the methods themselves, their advantages and disadvantages will be discussed. Thanks to the training, you will learn not only how to speed up the process of building traffic models, but above all how to improve the readability of your models and the level of control of its elements.",targetGroup:'The course is directed to users who have experience working with traffic macro-models built in PTV Visum, i.e., those who build traffic models and forecasts "on a daily basis".',prerequisites:"Building and parameterizing model networks in PTV Visum, understanding the role of explanatory variables for transport demand models in the travel modeling process.",duration:"1 Day",contents:["Role of automation in the travel modeling process in PTV VISUM","User-defined attributes (UDA)",'Automatic network parameterization in the existing state with the possibility of introducing "manual" forecast modifications',"Automation of network parameterization for forecast horizons","Method of automatic counting and updating of explanatory variables for transport demand model","Method of automatic determination of explanatory variable values for transport demand model in forecast horizons"]},"tr-t0151":{title:"PTV Visum - Introduction (US)",code:"TR-T0151",product:"Visum",level:"Basic",image:qle,description:"In this eight-hour course participants will explore the basic processes for setting up a private transportation travel demand model in PTV Visum.",content:"Upon completion participants will understand how to build up the geometry of the network, configure the demand, run trip assignments, calibrate their assignments, and evaluate the data.",targetGroup:"Travel demand modelers, Transportation Planners, Traffic Engineers",prerequisites:"Background in travel demand modeling, or transportation planning.",duration:"8 hours (split into two 4-hour sessions)",contents:["Creation of network objects","Explore the attributes of the network objects","Practice inserting travel demand","Practice running trip assignment","Performing basic analysis on the network","Explore visualizing the results","Practice comparing different scenarios"]},"tr-t0152":{title:"PTV Visum - ABM Training for Policy Makers and Model Managers (UK)",code:"TR-T0152",product:"Visum",level:"Basic",image:qle,description:"During this one-day course you will be introduced to ABMs, finding out what they are, how they can be used, and how the ABM in PTV Visum is implemented.",content:"You will learn what input data is required for an ABM, how it is structured within PTV Visum, and how it can be analysed to provide detailed and granular outputs. You will also see how an ABM in PTV Visum could be expanded using an existing 4-stage model, and discuss how these models could be used in parallel for exploration, through to appraisal.",targetGroup:"Policy Makers or Model Managers who are familiar with the concepts of 4-stage demand modelling and are curious about how an ABM can be developed and used in practice alongside a strategic model. Hands-on experience of PTV Visum is not required, although you will have the opportunity to follow along in pairs using a virtual machine.",prerequisites:"None",duration:"1 Day",contents:["How ABM is implemented within PTV Visum","Use cases for ABM","Data requirements for an ABM","Pathways towards ABM from a conventional strategic 4-stage model","Examples of policy questions that can be assessed in an ABM","No direct Visum experience required, although machines will be made available to pairs if you want to follow along","Training materials will be provided following the course"]},"tr-t0153":{title:"PTV Visum - ABM Training for Modellers (UK)",code:"TR-T0153",product:"Visum",level:"Advanced",image:qle,description:"During this two-day course you will attend Day 1 of ABM Training for Policy Makers and Model Managers. The first day will provide you with knowledge of how ABMs in PTV Visum are structured, how they can be used, and what data is required to build one.",content:"On Day 2 you will follow along and run through examples to create a synthetic population in the UK, develop the choice models in the PTV ABM, and run through an example model from start to finish. You will also develop policy questions to test in the model and learn how to analyse and visualise the outputs.",targetGroup:"Modellers who are experienced with PTV Visum and understand the building steps for a 4-stage demand model. You will follow along using a virtual machine (which will be provided for the training), and will develop an ABM in PTV Visum so you should be familiar with the interface and the manipulation of data via lists and objects.",prerequisites:"Experience with PTV Visum",duration:"2 Days",contents:["Day 1: How ABM is implemented within PTV Visum, Use cases for ABM, Data requirements for an ABM, Pathways towards ABM from a conventional strategic 4-stage model, Examples of policy questions that can be assessed in an ABM, No direct Visum experience required, although machines will be made available to pairs if you want to follow along, Training materials will be provided following the course","Day 2: How existing UK datasets and models can be leveraged to develop an ABM, How to build a synthetic population for a UK model, Choice structures and building steps for an ABM, How to run examples and analyses in an ABM, Segmentation and analysis of ABM outputs, Visualising ABMs, PTV Visum experience is required, virtual machines will be made available to follow along and run examples, Training materials will be provided following the course"]},"tr-t0154":{title:"PTV Visum - Dynamic Traffic Assignment (SBA) in PTV Visum (US)",code:"TR-T0154",product:"Visum",level:"Intermediate",image:qle,description:"In this course, we will cover the application of dynamic traffic assignment (SBA) in PTV-Visum. Simulation-based dynamic assignment (SBA) considers intersection geometry and control (signal timings). It can be used to model spatio-temporal interaction of traffic at a large scale.",targetGroup:"Traffic engineers and modelers working on corridor studies and large-scale traffic simulation.",prerequisites:"Knowledge of static traffic assignment and its application in PTV-Visum.",duration:"8 hours (split into two 4-hour sessions over two days)",contents:["Preparing networks for SBA - network coding","Setting up time varying demand for SBA","Adjusting model parameters: Car-following, Merging and lane changing","Visualization of results"]},"tr-t0155":{title:"PTV Visum - Synthetic Matrix Estimation (ODME) in PTV Visum (US)",code:"TR-T0155",product:"Visum",level:"Intermediate",image:qle,description:"In this course, we will cover the application of synthetic matrix estimation (ODME) procedures in PTV-Visum. ODME methods are used to adjust demand matrices, so that network assignment results match observed count data more closely.",content:"Matrix estimation can be useful in the following situations: Using current year counts to update trip tables from travel demand models for a traffic study that occurs in a different year than the calibrated base model. A matrix generated from sample data is to be improved using count data. For example: big data from mobile devices. Adjusting seed or existing trip tables to match surveyed trip length distribution. The course will cover both entropy-based (TFlowFuzzy) and least squares matrix estimation methods implemented in Visum. Application of the dynamic variant of the least squares method will also be covered. While matrix estimation methods are applicable to both PrT (auto) and PuT (transit) modes, this course will cover the PrT (auto) side application.",targetGroup:"Traffic engineers and travel demand modelers working on corridor and impact studies with short to mid-term horizons.",prerequisites:"Knowledge of traffic assignments in general and ideally some application experience in PTV-Visum.",duration:"4 hours",contents:["Data preparation for matrix estimation","Application of matrix estimation methods in PTV-Visum (TFLowFuzzy, Least Squares, Dynamic Least Squares)","Analysis of results"]},"tr-t0170":{title:"PTV Visum - Simulation Based Assignment for Mesoscopic and Hybrid Modelling",code:"TR-T0170",product:"Visum",level:"Advanced",image:qle,description:"Simulation-based dynamic assignment (SBA) is a dynamic assignment procedure that accounts for node impedances and allows users to model the forming and dissolving of queues over time.",content:"The supply and demand may be varied over time. Unlike other dynamic assignment procedures in Visum, the network is loaded with demand based on a simulation. This means that individual vehicles are simulated and a simple car following model is applied to have the vehicles follow the paths they are assigned. The procedure is suited for medium-sized and large networks whose network model and demand are suitably modelled for dynamic applications.",targetGroup:"This course addresses to experienced PTV Visum users from all disciplines.",prerequisites:'You successfully participated in our basic course "PTV Visum - Introduction to Macroscopic Network Modelling" (TR-T0101) or have similar experience with PTV Visum.',duration:"1 day",contents:["Introduction to the Fundamentals of SBA","SBA Setup: Learn the essential steps to set up and run SBA in your projects","Hybrid Macro-Meso Modelling: Understand how to combine macroscopic and mesoscopic models for comprehensive traffic analysis","3D Visualization and SBA Result Analysis"]},"tr-t0201":{title:"Vissim Introduction",code:"TR-T0201",product:"Vissim",level:"Basic",image:Gle,description:'During this <strong>two-day course</strong> you will be introduced to <em>microscopic traffic flow simulation</em> with <span class="tech-term">PTV Vissim</span>. You will get to know the extensive functions of PTV Vissim and learn their application using practical examples.',content:'In our <strong>introductory day</strong>, you will learn the basic functionality of <span class="tech-term">PTV Vissim</span>. At the end of the day you will be able to <em>build small network models independently</em> and perform initial evaluations. <br><br>On the <strong>second day</strong>, you will learn how to conduct high quality traffic studies much more efficiently using the microscopic simulation software PTV Vissim. You will get to know how the different calibrations of a traffic model are carried out and which factors must be considered. <div class="success-box">We offer a one-day basic add-on course <strong>"PTV Vissim \u2013 Scenario-Management, Evaluations and Visualization of Traffic Models" (TR-T0207)</strong> to deeper explore the above topics and learn additional features of PTV Vissim.</div>',targetGroup:"PTV Vissim beginners as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency.",prerequisites:"No prerequisites.",duration:"2 Days",contents:['<strong>Day 1:</strong> Objectives and tasks of <span class="tech-term">microscopic simulations</span>, <strong>Modelling of the transport supply side</strong> on the open road and at intersections (priority rules and signal control), <em>Modelling of the traffic demand</em> with input flows and route, Overview of public transport line modelling','<strong>Day 2:</strong> Tasks involved in traffic studies with microscopic simulation, <strong>Required input data</strong> for supply and demand modelling, Overview of the empirical data which can be used for calibration, <em>Calibrating a PTV Vissim model</em>, Introduction to <span class="tech-term">Evaluation of a transport network/model</span>']},"tr-t0202":{title:"Vissim VisVAP",code:"TR-T0202",product:"Vissim",level:"Advanced",image:Gle,description:"Would you like to design and test green time prolongations in private transport or public transport prioritization? The purpose of this one-day course is to show you the different types of vehicle-actuated signal control and their implementation using VisVAP in PTV Vissim.",content:"Moreover, you will learn how to apply your VisVAP knowledge to other projects in a reasonable way.",targetGroup:"Training course: Modelling Basics and Traffic Impact Studies using Microscopic Traffic Flow Simulation or a similar level of experience with PTV Vissim.",prerequisites:'You successfully participated in our basic course "PTV Vissim \u2013 Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim.',duration:"1 Day",contents:["Fields of application of traffic-actuated signal controls","Traffic-actuated signal control for private transport only","Design of public transport priority schemes","Use of VisVAP for other project types"]},"tr-t0203":{title:"Vissim Realistic Pedestrian Simulation with Viswalk",code:"TR-T0203",product:"Vissim",level:"Basic",image:Gle,description:"Do you want to integrate pedestrians into your PTV Vissim simulations and use PTV Viswalk, the tool for the realistic simulation of pedestrian flows? The purpose of this one-day course is to explain the theoretical details of pedestrian simulation and to show you how to develop a pedestrian flow model which allows you to carry out your projects efficiently and successfully.",targetGroup:"The course addresses to traffic engineers who want to realistically simulate pedestrians in their models and planners of public transport stations and stops.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim.',duration:"1 Day",contents:["Fields of application for pedestrian simulations","Modelling levels, ramps, stairs, escalators and elevators, e.g. at public transport stops","Pedestrian-vehicle interaction: creating crosswalks and crosswalk signalization.","Calibration and validation of simulations","Evaluations of pedestrian simulations","Performing evaluations and generating graphic overlays"]},"tr-t0205":{title:"Vissim COM",code:"TR-T0205",product:"Vissim",level:"Advanced",image:Gle,description:"Do you want to automate scenario calculations or does modelling in PTV Vissim come up against the limits of the software? The purpose of this course is to show you how to extend PTV Vissim capabilities by means of the COM interface.",content:"The course starts with an introduction to Python and COM. Numerous examples will help you to become quickly familiar with COM programming in PTV Vissim.",targetGroup:"This course addresses to experienced PTV Vissim users from all disciplines. In addition, programming experience is recommended.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim. Basic programming knowledge is required. This course will be given with a focus on programming examples with Python. With sufficient general programming experience, you should be able to follow the course even if you don\'t master the programming language used by the teacher.',duration:"1 Day",contents:["Explanation of the COM interface","Introduction to the programming language Python","Working with COM documentation and online help","Modification of Vissim objects before and during the simulation on the basis of practice examples","Application examples for large-scale COM applications"]},"tr-t0206":{title:"Vissim Dynamic Assignment / Meso",code:"TR-T0206",product:"Vissim",level:"Advanced",image:Gle,description:"If you have to model larger networks, it might be time-consuming and sometimes even difficult to enter the routes because the route choice depends on the signal control and traffic situation. Moreover, it might vary from scenario to scenario. The purpose of this course is to show you how dynamic assignment can assist you in solving this task efficiently.",content:"In addition to network preparation and dynamic assignment, you will learn more about further fields of application based on examples.",targetGroup:"This course addresses to experienced PTV Vissim users from all disciplines.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim. Project experience is also recommended.',duration:"1 Day",contents:["Typical fields of application for dynamic assignment and mesoscopic simulations","Preparation of the simulation network, including parking lots, nodes and edges","Demand modelling with matrices","Path search model and destination choice model","Convergence","Mesoscopic fundamentals","Combining a micro- and mesoscopic simulation in a hybrid simulation","Evaluation of simulation results"]},"tr-t0207":{title:"Vissim Scenario Management, Evaluations, Visualization",code:"TR-T0207",product:"Vissim",level:"Basic",image:Gle,description:'In this course, we pick up the topics that are briefly explained in our introduction course "PTV Vissim \u2013 Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) and extend them with further theory and practical examples.',content:"We also cover the additional functions in PTV Vissim that are essential for professional traffic modelling. The extensive evaluation opportunities of traffic models in PTV Vissim are emphasized in this course. Moreover, efficient processing of projects with the scenario manager tool is another focus. You will also learn the modelling of parking lots and their effects on your simulation. Preparation of videos from the simulation and different presentation ideas of the results including various 3D models are also demonstrated.",targetGroup:"PTV Vissim beginners who want to develop their knowledge and extend it with Vissim functions which are not covered in the introduction/introductory course.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim.',duration:"1 Day",contents:["Scenario Manager","Parking Lots","3D Models: import of vehicles and other structures from external sources","Evaluations","Creating 3D video with PTV Vissim"]},"tr-t0208":{title:"Vissim Public Transport and Pedestrians",code:"TR-T0208",product:"Vissim",level:"Advanced",image:Gle,description:"In this course we will show you how to model public transport networks in Vissim with the preparation of timetables, delay management and BRT and LRT modelling.",content:"We will go through the integration of pedestrian transfer behaviour in a multimodal environment. In addition to network preparation, we will demonstrate best practices based on examples.",targetGroup:"Traffic engineers, traffic planers, planners of public transport stops and stations who want to simulate public transport and pedestrians transfer behavior in a multimodal environment.",prerequisites:'You should have successfully completed our course "Realistic pedestrian simulation" (TR-T0203) or have comparable experience with PTV Vissim.',duration:"1 Day",contents:["Developing public transport Vissim networks, including lines, stops and signals","Overview of Bus Rapid Transit (BRT and Light Rail Transit (LRT) modelling","Timetable preparation and delay responsive departure management","Transfer of pedestrians between different modes and levels","Defining the opening position of doors of vehicles based on PT stop characteristics","Configuring public transit vehicles","Configuring transit stop passenger demand","Evaluating transit operations"]},"tr-t0209":{title:"Vissim Complex Parking Scenarios",code:"TR-T0209",product:"Vissim",level:"Advanced",image:Gle,description:"In this course we show you the options available in PTV Vissim to model complex parking situations and the related vehicle behaviour.",content:"We explore different parking techniques along with the interaction of parking vehicles as well as parking structures with public transport and other general traffic. In practice examples you will learn how to model multi-level parking and huge car parks. We will also discuss advanced parking options that go beyond PTV Vissim using the built-in COM interface to program own tools.",targetGroup:"Experienced Vissim users who want to understand how to model complex parking scenarios in PTV Vissim.",prerequisites:'You should have successfully completed our basic training course "PTV Vissim \u2013 Introduction to microscopic traffic flow simulation" (TR-T0201) or have comparable experience with PTV Vissim. Basic programming knowledge is required to follow the COM programming part.',duration:"1 Day",contents:["Setting up a model including parking lots","Link-based flows vs Dynamic Assignment","Parking techniques","Parking lot routing decisions","Interaction of on-street parking vehicles with general traffic and public transport vehicles","Introduction to the COM interface to demonstrate how to build sophisticated parking options: signs showing number of available spaces, signal head barrier at the entrance/exit, automated vehicle parking elevator system","Key performance Indicators (KPI) from a model","Multi-level parking","Modelling large car parks"]},"tr-t0210":{title:"Vissim Roundabout Modelling",code:"TR-T0210",product:"Vissim",level:"Advanced",image:Gle,description:"In this half-day course, you will explore techniques for creating, evaluating, and calibrating roundabouts; including constructing the approaches and circulating lanes, configuring speed profiles throughout the roundabout, and calibrating custom lane change and gap acceptance behaviors.",targetGroup:"Experienced PTV Vissim users from all disciplines.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have equivalent experience generating microsimulation network models.',duration:"Half Day",contents:["Creating and editing the required physical network","Configuring yielding movements","Creating multi-lane roundabouts","Evaluating a roundabout","Calibrating gap acceptance","Calibrating driving behaviors"]},"tr-t0211":{title:"Vissim Freeway basics",code:"TR-T0211",product:"Vissim",level:"Basic",image:Gle,description:"This half-day version of our PTV Vissim freeway operations training explores static demand-based freeway facilities such as freeway facility geometry, driver behavior calibration, and demos on modeling ramp meters and managed lanes.",content:"By the end of the course participants should feel confident modeling basic freeway segments in microsimulation using PTV Vissim software.",targetGroup:"Traffic engineers or transportation planners preparing to build or review microscopically simulated freeway facilities in PTV Vissim.",prerequisites:'You successfully participated in our basic course "PTV Vissim \u2013 Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim. Some experience in freeway operations and facilities preferred.',duration:"Half Days",contents:["Freeway geometry creation and best practices","Freeway-specific speed and demand configuration","Fleet types, classes, and compositions","Performing evaluations on freeway facilities","Calibrating driving following and lane change behaviors"]},"tr-t0212-en":{title:"PTV Vissim - Vissim for Reviewers",code:"TR-T0212-EN",product:"Vissim",level:"Advanced",image:Gle,description:"This course is designed for professionals who need to review and evaluate PTV Vissim models created by others.",content:"Learn the key aspects to check when reviewing microsimulation models, including network coding, demand setup, calibration parameters, and result validation.",targetGroup:"Traffic engineers, consultants, and agency staff responsible for reviewing microsimulation studies.",prerequisites:"Basic understanding of traffic simulation concepts and PTV Vissim functionality.",duration:"1 Day",contents:["Model review checklist and best practices","Network coding verification","Demand and calibration assessment","Results validation and interpretation"]},"tr-t0213-en":{title:"PTV Vissim - Public Transport Modelling",code:"TR-T0213-EN",product:"Vissim",level:"Advanced",image:Gle,description:"Comprehensive course covering advanced public transport modelling techniques in PTV Vissim.",content:"Learn to model complex public transport systems including bus rapid transit, light rail, and integrated multimodal networks.",targetGroup:"Public transport planners and traffic engineers working on transit systems.",prerequisites:"Experience with basic PTV Vissim functionality and public transport concepts.",duration:"1 Day",contents:["Advanced public transport network modeling","Bus Rapid Transit (BRT) and Light Rail Transit (LRT) systems","Multimodal integration and passenger flows","Performance evaluation and optimization"]},"tr-t0214":{title:"Vissim Freeway Active Traffic Management",code:"TR-T0214",product:"Vissim",level:"Advanced",image:Gle,description:"This half-day PTV Vissim freeway training course explores configuring freeway facilities such as hard and soft-barrier separated managed lanes, restricted access lanes for HOV or Transit, driver behavior calibration, as well as how to implement active traffic management strategies.",content:"By the end of the course participants should feel confident modeling static and time-dependent toll lanes, ramp meters, speed harmonization and hard-shoulder facilities using PTV Vissim software.",targetGroup:"Traffic engineers or traffic planners preparing for the construction or inspection of microscopically simulated freeway facilities in PTV Vissim.",prerequisites:'You successfully participated in our basic course "PTV Vissim \u2013 Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim. Some experience in freeway operations and facilities preferred.',duration:"Half Days",contents:["Configuring restricted access lanes such as HOV, Transit, or Truck lanes","Configuring Managed Lane facilities such as Toll roads or HOT lanes","Configuring Static and Dynamic (time, speed, and/or delay dependent) tolling models","VAP controlled active traffic management facilities such as variable speed limits, hard shoulder running, and ramp metering"]},"tr-t0215":{title:"PTV Vissim \u2013 Microscopic Simulation for Automotive Engineering",code:"TR-T0215",product:"Vissim",level:"Advanced",image:Gle,description:"In this course, we show you how the microscopic simulation can be used for automotive engineering; How you can reproduce the connected & autonomous vehicles (CAV) behavior using internal model, how you can build the virtual environment where you can test your e.g. safety logic, fuel-saving model, fleet operation system, and how you can couple your external script/model/software as system under test.",content:"The course will make use of the COM interface as well as the API package with Driver Model Interface, Driving Simulator Interface and external emissions model.",targetGroup:"Experienced Vissim users who want to understand how to model CAV behavior or virtual test environments with PTV Vissim for the purpose of automotive engineering.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim. Basic programming knowledge is required. This course will be given with a focus on programming examples with Python and C/C++. With sufficient general programming experience, you should be able to follow the course even if you don\'t master the programming language used by the teacher.',duration:"2 Days",contents:["Day 1: Introduction - Purpose of automotive engineering/development, Benefit of traffic simulations for the virtual test, Vissim application for automotive industry, How to reproduce CAVs behavior (comparison between internal model, COM, API, DSI); Internal model training - Wiedemann's car following model, Adaptive Cruise Control model, Lane change & Lateral behavior model, Special setting for CAV (EABD, stochastics, platooning), Driver errors (Lack of attention, Distraction, Misestimation); COM training - COM Interface overview, Basic commands, Speed Camera, On-demand taxi, V2I Optimal speed","Day 2: API training \u2013 Emission model - Emission model overview, Custom emission model; API training \u2013 Driver model - Driver model overview, Custom following model, Custom lane change model; DSI training - Driving Simulator Interface overview, Driving Simulator Text Client, Live In Unity example, External software example (like CarMaker, PreScan and so on), Build-in functionality to co-simulate with Vissim"]},"tr-t0251":{title:"PTV Vissim - Introduction to Microscopic Traffic Flow Simulation (US)",code:"TR-T0251",product:"Vissim",level:"Basic",image:Gle,description:"In our 16-hour Introduction course to PTV Vissim, you will learn to construct a microsimulation network with static demand that contains common Urban and Freeway facilities.",content:"By the end of the course you should feel confident in PTV Vissim model construction and evaluation as well as some basic driver behavior, gap acceptance, and demand calibration techniques.",targetGroup:"PTV Vissim beginners as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency.",prerequisites:"No prerequisites.",duration:"16 hours (split into four 4-hour sessions)",contents:["Session 1: PTV Vissim GUI overview, Placing Links efficient efficiently, Freeway and Interchange Geometry, Configuring various speed zones and speed profiles, Placing and configuring static demand","Session 2: Intersection Geometry, Yield Control, Stop Control, Pre-timed Ring-Barrier control, Actuated Ring-Barrier control, PTV Vistro/Visum Import, Scenario Manager","Session 3: Creating and adapting Vehicle Types, Classes, and Compositions, Configuring PTV Vissim's data collection and evaluation results, Post-Processing evaluations","Session 4: Following behavior adjustments, Lane change behavior adjustments, Gap acceptance adjustments, Speed and demand adjustments"]},"tr-t0252":{title:"PTV Vissim - Transit Signal Priority and Preemption (US)",code:"TR-T0252",product:"Vissim",level:"Advanced",image:Gle,description:"In this four-hour course you will learn and apply the principles of a Ring-Barrier Controllers Transit Signal Priority and Preemption methods; learning how to place the necessary network objects (detectors and signal heads) as well as how to program the logic into an existing PTV Vissim network.",content:"Transit Signal Priority (TSP) provides additional green timing within a cycle to a specific phase when activated to reduce delay for that movement if the conditions are right. Preemption shuts down an intersection to allow a specific movement to traverse the intersection unimpeded.",targetGroup:"Experienced PTV Vissim users as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency. Experienced PTV Vissim users from all disciplines, signal control modeling experience helpful.",prerequisites:'You successfully participated in our basic course "PTV Vissim \u2013 Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim.',duration:"4 hours",contents:["TSP Check-In/Check-Out Detection","TSP Transit Stop Departure Detection","TSP Early Green Priority","TSP Extended Green Priority","TSP Recovery Timing","TSP Transit Delay-Dependent Operation","TSP Reservice","Preemption Check-In/Check-Out Detection","Preemption Transit Stop Departure Detection","Preemption Start-Up timing","Preemption Conflicting Flow Clearance timing","Preemption Dwell State timing","Preemption Recovery timing","Preemption Reservice"]},"tr-t0253":{title:"PTV Vissim - Roundabout Modeling (US)",code:"TR-T0253",product:"Vissim",level:"Basic",image:Gle,description:"In this four-hour course, you will explore techniques for creating, evaluating, and calibrating roundabouts; including constructing the approaches and circulating lanes, configuring speed profiles throughout the roundabout, and calibrating custom lane change and gap acceptance behaviors.",targetGroup:"PTV Vissim beginners as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency.",prerequisites:"No prerequisites.",duration:"4 hours",contents:["Creating and editing the required physical network","Configuring yielding movements","Creating multi-lane roundabouts","Evaluating a roundabout","Calibrating gap acceptance and movement capacities","Calibrating driving behaviors within the roundabout"]},"tr-t0254":{title:"PTV Vissim - Freeway Modeling Basics (US)",code:"TR-T0254",product:"Vissim",level:"Basic",image:Gle,description:"In this four-hour course we explore modeling static demand-based freeway facilities.",content:"By the end of the course participants should feel confident modeling basic freeway segment geometry, calibrating merge and weaving behavior, and evaluating freeway facilities in microsimulation using PTV Vissim software.",targetGroup:"PTV Vissim beginners as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency.",prerequisites:"No prerequisites.",duration:"4 hours",contents:["Freeway geometry creation and best practices","Freeway-specific speed and demand configuration","Fleet types, classes, and compositions","Performing evaluations on freeway facilities","Calibrating driving following and lane change behaviors"]},"tr-t0255":{title:"PTV Vissim - Viswalk Pedestrian Simulation (US)",code:"TR-T0255",product:"Vissim",level:"Basic",image:Gle,description:"In this eight-hour course will walk participants through constructing a pedestrian microsimulation network.",content:"By the end of the course participants will be confident creating multi-level pedestrian models complete with ped-vehicle interactions, public transit boarding and alighting, and the full suite of Viswalk evaluations and outputs.",targetGroup:"PTV Vissim and PTV Viswalk beginners as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency.",prerequisites:"No prerequisites.",duration:"8 hours (split into two 4-hour sessions)",contents:["Session 1: PTV Viswalk interface overview, Constructing the physical network, Creating levels, ramps (ramps, stairs, and escalators) and elevators, Adding static demand to a PTV Viswalk network, Creating crosswalks and crosswalk signalization","Session 2: Inserting Public Transit elements, Creating queuing areas and partial routes, Performing evaluations and generating graphic overlays"]},"tr-t0256":{title:"PTV Vissim - Reviewing Simulation Models (US)",code:"TR-T0256",product:"Vissim",level:"Basic",image:Gle,description:"In this eight-hour course provides insights and procedures commonly used to review finished PTV Vissim microsimulation traffic studies.",content:"It is designed to be a starting point for developing reviewing processes, presenting workflow recommendations, best practices, and sample layouts that can streamline the review process.",targetGroup:"PTV Vissim beginners as well as traffic engineers from cities and engineering firms that want to work on their projects at state-of-the-art level and efficiency.",prerequisites:"No prerequisites.",duration:"8 hours (split into two 4-hour sessions)",contents:["PTV Vissim Interface Overview","Simulation Parameters Review","Network Geometry Review","Demand Configuration","Intersection Control","Transit, Parking, and Pedestrian operations","Facility Types and Behaviors","Speed Settings","Assignment (Volume) Fit","Error Documentation"]},"tr-t0257":{title:"PTV Vissim - Freeway Managed Lanes and Active Traffic Management (US)",code:"TR-T0257",product:"Vissim",level:"Advanced",image:Gle,description:"In this four-hour course explores configuring freeway facilities such as hard and soft-barrier separated managed lanes, restricted access lanes for HOV or Transit, driver behavior calibration, as well as how to implement active traffic management strategies.",content:"By the end of the course participants should feel confident modeling static and time-dependent toll lanes, ramp meters, speed harmonization, and hard-shoulder facilities using PTV Vissim software.",targetGroup:"Experienced PTV Vissim users or Traffic engineers from cities and engineering firms that are studying freeway corridors.",prerequisites:"You successfully participated in one of our basic courses or have similar experience with PTV Vissim.",duration:"4 hours",contents:["Configuring restricted access lanes such as HOV, Transit, or Truck lanes","Configuring Managed Lane facilities such as Toll roads or HOT lanes","Configuring Static and Dynamic (time, speed, and/or delay dependent) tolling models","Using Attribute modifications to model active traffic management facilities such as variable speed limits, hard shoulder running, and ramp metering"]},"tr-t0258":{title:"PTV Vissim - Dynamic Traffic Assignment (US)",code:"TR-T0258",product:"Vissim",level:"Advanced",image:Gle,description:"In this four-hour course you will learn and apply the principles of PTV Vissim's dynamic traffic assignment (DTA) methods; learning how to generate a micro-simulation model from origin-destination data, search new routes and find convergence for the demand distribution.",content:"Participants will also be introduced to some travel demand modeling fundamentals.",targetGroup:"Experienced PTV Vissim Users or Traffic engineers from cities and engineering firms that are studying freeway corridors or wide-area models.",prerequisites:"You successfully participated in one of our basic courses or have similar experience with PTV Vissim.",duration:"4 Hours",contents:["Discuss the principles of DTA's abstract network","Explore the principles of Vissim's destination and route choice methods","Insert travel demand elements; zones, matrices, zone connectors, nodes","Apply DTA calibration techniques","Discuss and apply assignment convergence techniques"]},"tr-t0259":{title:"PTV Vissim - User-Defined Attributes and Attribute Modifications (US)",code:"TR-T0259",product:"Vissim",level:"Advanced",image:Gle,description:"In this four-hour course you will learn and apply the principles of PTV Vissim's dynamic traffic assignment (DTA) methods; learning how to generate a micro-simulation model from origin-destination data, search new routes and find convergence for the demand distribution.",content:"Participants will also be introduced to some travel demand modeling fundamentals.",targetGroup:"Experienced PTV Vissim Users or Traffic engineers from cities and engineering firms who need to impliment custom logic within PTV Vissim.",prerequisites:"You successfully participated in one of our basic courses or have similar experience with PTV Vissim.",duration:"4 hours",contents:["Creating and utilizing static user-defined attributes","Configuring vehicle attribute decisions based on default and user-defined attributes","Configuring formula-based routing to dynamically control vehicles based on specific attributes or network conditions","Configuring and utilizing attribute modifications to dynamically update network infrastructure and vehicle behavior based on simulation conditions"]},"tr-t0260":{title:"PTV Vissim - Public Transit Operations (US)",code:"TR-T0260",product:"Vissim",level:"Advanced",image:Gle,description:"In this four-hour course will walk participants through adding public transit facilities to an existing micro-simulation network.",content:"By the end of the course participants will be confident configuring Public Transit lines, Transit Stops, passenger flow models, and transit schedules as well as performing evaluations specific to PTV Vissim's transit module.",targetGroup:"Experienced PTV Vissim Users or Traffic engineers from cities and engineering firms who need to study public transit operations within PTV Vissim.",prerequisites:"You successfully participated in one of our basic courses or have similar experience with PTV Vissim.",duration:"4 hours",contents:["Configuring public transit vehicles","Placing public transit stops","Configuring transit stop passenger demand","Placing transit line routes","Creating transit vehicle arrival schedules","Creating transit vehicle stop schedules","Evaluating transit operations"]},"tr-t0261":{title:"PTV Vissim - Advanced intersections (US)",code:"TR-T0261",product:"Vissim",level:"Advanced",image:Gle,description:"In this four-hour long course, we will cover the advanced design and application of intersection control.",targetGroup:"Experienced PTV Vissim users or Traffic engineers from cities and engineering firms that are studying intersections.",prerequisites:"You successfully participated in one of our basic courses or have similar experience with PTV Vissim.",duration:"4 hours",contents:['As roadway designs change to prioritize safety and mobility over throughput, the needs are growing for analyses of these intersection types, and PTV VISSIM is the industry standard for modelling of advanced intersection types. With the knowledge of VISSIM modelling basics, and modelling of the Ring Barrier Controller (RBC) signal controllers, we will focus on a few types of "advanced intersections in PTV VISSIM". The course will focus on the "best practices" for modelling urban roundabouts in VISSIM, with practical examples and some discussion on capacity and modelling of "right-of-way". The course will also focus on the transit signal priority (TSP) features native to PTV VISSIM, with several types of preemption explained. And finally, the course will touch on the modelling of "alternative intersections", such as the SPUI and Diverging Diamond, how to model them, and the interaction with PTV Vissim for building and co-analyses.']},"tr-t0270":{title:"PTV Vissim User Defined Attributes, Attribute Modifications and COM using Python",code:"TR-T0270",product:"Vissim",level:"Advanced",image:Gle,description:"Do you want to automate scenario calculations or does modelling in PTV Vissim come up against the limits of the software? The purpose of this course is to show you how to extend PTV Vissim capabilities by means of the COM interface.",content:"The course starts with an introduction to Python and COM. Numerous examples will help you to become quickly familiar with COM programming in PTV Vissim.",targetGroup:"This course addresses to experienced PTV Vissim users from all disciplines. In addition, programming experience is recommended.",prerequisites:'You successfully participated in our basic course "PTV Vissim - Introduction to Microscopic Traffic Flow Simulation" (TR-T0201) or have similar experience with PTV Vissim. Basic programming knowledge is required. This course will be given with a focus on programming examples with Python. With sufficient general programming experience, you should be able to follow the course even if you don\'t master the programming language used by the teacher.',duration:"1 day",contents:["User-Defined Attributes and Attribute Modifications - Creating and utilizing static user-defined attributes, Configuring vehicle attribute decisions based on default and user-defined attributes, Configuring formula-based routing to dynamically control vehicles based on specific attributes or network conditions, Configuring and utilizing attribute modifications to dynamically update network infrastructure and vehicle behavior based on simulation conditions","Introduction to COM Interface using Python - Explanation of the COM interface, Introduction to the programming language Python, Working with COM documentation and online help, Modification of Vissim objects before and during the simulation on the basis of practice examples"]},"tr-t0301":{title:"Vistro Introduction",code:"TR-T0301",product:"Vistro",level:"Basic",image:Hle,description:"In our PTV Vistro Traffic Analysis course, you will learn how to conduct traffic studies, evaluate development impacts and optimize signals all with a single package.",content:"We work with interactive examples of intersections, corridors, networks and development scenarios.",targetGroup:"Traffic engineers and planners from public and private sectors who would like to carry out their traffic engineering projects efficiently, and in compliance with the latest standards.",prerequisites:"A basic understanding of signal timing concepts is helpful, but not required.",duration:"1 Day",contents:["Background images and BingTM Maps","Network Setup","Signal timing development","LOS analysis with Highway Capacity Manual (HCM), Canadian Capacity Guide (CCG) and other methodologies","Scenario management","Signal timing optimization of intersections, corridors and networks","Traffic impact analysis network setup","Development trip tracking","Mitigation analysis","Creation of report-ready figures and output summaries","Data import from other software packages","Data export to PTV Vissim microsimulation"]},"tr-t0351":{title:"PTV Vistro - Introduction (US)",code:"TR-T0351",product:"Vistro",level:"Basic",image:Hle,description:"In our Vistro Traffic Analysis course you will learn how to conduct traffic studies, evaluate development impacts, and optimize signals all with a single package.",content:"We work with interactive examples of intersections corridors, networks, and development scenarios.",targetGroup:"Traffic engineers and planners from the public or private sector who would like to carry out their traffic engineering projects efficiently and in compliance with the latest standards",prerequisites:"A basic understanding of signal timing concepts is helpful, but not required.",duration:"8 hours (split into two 4-hour sessions)",contents:["Background images and Bing\u2122 Maps Network setup","Signal timing development","LOS analysis with HCM and other methodologies","Scenario management","Signal timing optimization of intersections, corridors, & networks","Traffic impact analysis network setup","Development trip tracking","Mitigation analysis","Creation of report-ready figures and output summaries","Data import from other software packages","Data export to Vissim microsimulation"]},"tr-t0501":{title:"Vistad-EUSKA",code:"TR-T0501",product:"Vistad",level:"Basic",image:Wle,description:"Safety is not a matter of course. Nearly every minute, somebody is hurt or killed in a traffic accident. Therefore, it is important to set clear goals for reducing accidents involving personal injury and also to collect data about accidents, so that suitable measures can be taken to increase traffic safety.",content:"If road safety is your daily business, PTV Vistad is the right tool for you to reach vision zero! This state-of-the-art software helps you collect, validate and analyse traffic accident data. PTV Vistad is a software with which traffic safety experts and traffic planners can quickly and easily record and evaluate accident data. The accident situation can be analysed and thus better understood. It provides a basis for the sustained improvement of road safety by means of derived measures. The software provides you with optimum support in your road safety work - from the collection and analysis of data, through accident investigation on site, to measures and the monitoring of their effects on road safety.",targetGroup:"The course is aimed at safety experts or anyone who has an interest in road safety or accident data and wants to know more about how to use PTV Vistad to efficiently work towards more traffic safety.",prerequisites:"Knowledge from accident data analysis is beneficial but not required.",duration:"1 Day",contents:["Importing and collecting accident data","Quality assurance of accident data: Validation and geocoding of traffic accident data","Analysis of accident data: map based and statistical evaluation possibilities","Evaluate accident data: filter accident data according to typical questions and investigate further","Accident blackspots: Finding accident blackspots, investigating their causes and changes in time","Reports and exports: Export and process study results"]},"tr-t0601":{title:"Visum Safety",code:"TR-T0601",product:"Visum",level:"Basic",image:qle,description:"PTV Visum Safety is the tool for analysing accident data. With Visum Safety, it is possible to integrate aspects of traffic safety into strategic traffic planning decisions from the very beginning.",content:"The software clearly visualises the accident data collected by the police and identifies black spots and high-risk areas. Detailed information about each individual accident allow users to find similarities and contributing factors to draw conclusions about causes and develop, plan and optimise effective and cost-efficient mitigation measures. You will learn how to use PTV Visum Safety in combination with the strategic traffic planning software PTV Visum to design coordinated assessment and planning stages. This allows different organisations like police, municipal services and traffic planners to work together towards the goal of a safer mobility.",targetGroup:"The course is aimed at traffic planner, safety experts or anyone with an interest in how to implement traffic safety in your planning process with PTV Visum Safety.",prerequisites:"Knowledge about traffic accident analysis are beneficial, skills in PTV Visum are not required.",duration:"1 Day",contents:["Black Spot Management (BSM): Finding accident hot spots and investigating their causes","Network Safety Management (NSM): Analyzing the network wide road safety situation","Road Safety Impact Assessment (RIA): Using Accident prediction models (APMs) for the evaluation of future planning alternatives"]},"tr-t0701":{title:"Optima - Deploy, Configuration & Integration",code:"TR-T0701",product:"Optima",level:"Advanced",image:Wle,description:"The course is intended to provide the understanding of the <strong>architecture of Optima solution</strong> and the complex interconnections amongst its components, both in setting up a new environment and <em>fine-tuning it</em>.",targetGroup:"The course addresses members of teams of operations, maintenance, support, system integrators. This includes also staff playing the role of technical project manager in Optima projects.",prerequisites:'<div class="warning-box"><strong>Technical Requirements:</strong><br>\u2022 <span class="tech-term">Basic knowledge of Linux</span> is expected<br>\u2022 Basic knowledge of API communication (e.g. Postman) and relational databases (e.g. PostgreSQL) is recommended<br>\u2022 <strong>Practical experience</strong> or professional background on transport planning or traffic engineering is expected<br>\u2022 Basic knowledge of PTV Visum is a plus</div>',duration:"3 Days",contents:["<strong>Module 1:</strong> <em>Architecture of Optima solution</em> and component interconnections","<strong>Module 2:</strong> Setting up new environments with best practices","<strong>Module 3:</strong> Fine-tuning and optimization techniques","<strong>Module 4:</strong> Integration with existing systems and workflows"]},"tr-t0702":{title:"Optima Modelling",code:"TR-T0702",product:"Optima",level:"Advanced",image:Wle,description:"The course is intended to give modellers a deep understanding of the relationships between dynamic transport models and PTV Optima applications.",content:"This will include build up, calibrate and update these models, with respect to real world and real-time applications. Furthermore, it will show how to interpret traffic phenomena via traffic data analysis and simulations. A wide range of tools available for all these activities will be presented and used through all the duration of the course, with specific attention to the practice.",targetGroup:"The course addresses transport modellers aiming to set up and maintain transport models for PTV Optima systems. The course gives solid bases to work on Optima model in all phases.",prerequisites:"Proficiency in Visum is expected. Basic skills of data analysis with MS-Excel on MS-Windows OS are required. Practical experience or professional background on traffic engineering is recommended.",duration:"3 Days",contents:["Dynamic transport models and PTV Optima applications","Model building, calibration and updating","Real world and real-time applications","Traffic data analysis and simulations","Tools and practical applications"]},"ct-001":{title:"PTV Certified Trainer Programme",code:"CT-001",product:"General",level:"Advanced",image:Wle,description:"The PTV Certified Trainer programme trains industry professionals to deliver certified courses in the broad range of PTV's leading mobility software applications.",content:"This programme is especially suited for individuals seeking to strengthen their professional profile with documented expertise in PTV's software solutions to deliver trainings to colleagues and customers. To become a PTV Certified Trainer, applicants need to pass an admission test and attend a PTV Certified Trainer Course at PTV headquarters in Germany or in an online training course. The course focuses on presentation and teaching skills, and it concludes in an oral exam.",targetGroup:"Industry professionals seeking to strengthen their professional profile with documented expertise in PTV's software solutions.",prerequisites:"Must pass an admission test.",duration:"Variable",contents:["Register your interest and apply for an online admission exam","Attend a PTV Certified Trainer Course, which concludes in an oral exam","Congratulations - you are now a Certified Trainer!","Keep up to date with our CT community, your license can be renewed on an annual basis"],advantages:["Strengthen professional profile with documented expertise","Deliver trainings to colleagues and customers","Access to CT community and annual license renewal"]}},Yle={"ind-001":{title:"\uac1c\ubcc4 \uad50\uc721",code:"IND-001",product:"General",level:"Individual",image:Wle,description:"\uc694\uccad\uc5d0 \ub530\ub77c <strong>PTV</strong>\uc5d0\uc11c\ub294 \uc804\ubb38 \uad50\uc721 \uc7a5\uc18c\ub098 \uc120\ud0dd\ud558\uc2e0 \uc7a5\uc18c\uc5d0\uc11c \uac1c\ubcc4 \ub9de\ucda4\ud615 \uad50\uc721 \ud504\ub85c\uadf8\ub7a8\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.",content:"<strong>\uac1c\ubcc4 \uad50\uc721</strong>\uc744 \uc870\uc9c1\ud560 \ub54c, \uc800\ud76c\ub294 \uadc0\ud558\uc640 \ub3d9\ub8cc\ub4e4\uc758 \uae30\uc220 \uc218\uc900\uc5d0 \uc138\uc2ec\ud55c \uc8fc\uc758\ub97c \uae30\uc6b8\uc5ec \uadc0\ud558\uc758 \uc694\uad6c\ub97c \uace0\ub824\ud569\ub2c8\ub2e4. \uc800\ud76c \uc804\ubb38 \uad50\uc721\uc790\ub4e4\uc774 \ud504\ub85c\uc81d\ud2b8\ubcc4 \uc9c8\ubb38\uc5d0 \ub2f5\ud558\uace0 \uc801\uc808\ud55c \uc194\ub8e8\uc158 \ub9c8\ub828\uc744 \ub3c4\uc640\ub4dc\ub9bd\ub2c8\ub2e4. \uac1c\ubcc4 \ud504\ub85c\uc81d\ud2b8\uc640 \uc791\uc5c5 \uc694\uad6c\uc0ac\ud56d\uc5d0 \ub9de\ub294 <em>\ud6a8\uc728\uc801\uc774\uace0 \uc2e4\uc2b5 \uc911\uc2ec\uc758 \uad50\uc721</em>\uc758 \ud61c\ud0dd\uc744 \ub204\ub9ac\uc2ed\uc2dc\uc624.",targetGroup:"\uc800\ud76c \uac1c\ubcc4 \uad50\uc721\uc740 \uc774\ubbf8 \uc800\ud76c \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc194\ub8e8\uc158\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uc9c0\ub9cc \ub9de\ucda4\ud615 \uad50\uc721\uc774 \ud544\uc694\ud55c \ubd84\ub4e4\uc5d0\uac8c \uc801\ud569\ud569\ub2c8\ub2e4. \ud604\uc7ac PTV \uc81c\ud488\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc9c0\ub9cc \ud504\ub85c\uc81d\ud2b8 \uc694\uad6c\ub97c \uc704\ud55c \uc800\ud76c \uc194\ub8e8\uc158\uc758 \uc7a0\uc7ac\ub825\uc744 \ubcf4\uace0 \uc2f6\uc5b4\ud558\ub294 \ubd84\ub4e4\uc5d0\uac8c\ub3c4 \uc644\ubcbd\ud569\ub2c8\ub2e4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc740 \ud569\uc758\ub41c \uad50\uc721 \ub0b4\uc6a9\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c0\uba70 \uadc0\ud558\uc758 \uc694\uad6c\uc5d0 \ub9de\uac8c \uc870\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uad50\uc721 \uacfc\uc815\uc740 \ub2e4\uc591\ud55c \uacbd\ud5d8\uacfc \uc694\uad6c\ub97c \uac00\uc9c4 \uadf8\ub8f9\uc5d0 \ub9de\uac8c \uc870\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",duration:"\ub9de\ucda4 \uac00\ub2a5",contents:["\uc0c1\uc138\ud55c \uad50\uc721 \ud504\ub85c\uadf8\ub7a8\uc740 \uad50\uc721 \uc774\uc804\uc5d0 \uadc0\ud558\uc640 \ub17c\uc758\ub429\ub2c8\ub2e4."],advantages:["<strong>\ub9de\ucda4\ud615 \uad50\uc721:</strong> \uad50\uc721 \uc138\uc158\uc740 \uc9c1\uc6d0\uc758 \ud2b9\uc815 \uae30\uc220 \uc218\uc900\uc5d0 \ub9de\uac8c \uc124\uacc4\ub429\ub2c8\ub2e4","<strong>\uc801\uc751\ud615 \ud559\uc2b5:</strong> \ud559\uc2b5 \ubaa9\ud45c\uac00 \uc9c4\ud589 \uc0c1\ud669\uacfc \ud544\uc694\uc5d0 \ub530\ub77c \uc870\uc815\ub429\ub2c8\ub2e4","<strong>\ud604\uc7a5 \uc720\uc5f0\uc131:</strong> \ud074\ub77c\uc774\uc5b8\ud2b8 \uc704\uce58\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uae30\uc220 \uc2dc\uc124\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc218\uc5c5\uc744 \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4","\uc720\uc5f0\ud55c \uc77c\uc815: \uc870\uc9c1\uc758 \uc694\uad6c\uc5d0 \ub9de\ub294 <em>\ud3b8\ub9ac\ud55c \uc2dc\uac04</em>","\ube44\uc6a9 \ud6a8\uc728\uc131: \uc5ec\ub7ec \ucc38\uac00\uc790\uc758 \ucd9c\uc7a5\ube44 \uc808\uc57d"],pricing:"\uac1c\ubcc4 \uad50\uc721\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \uc815\ubcf4\ub294 \ubb38\uc758\ud574 \uc8fc\uc2ed\uc2dc\uc624."},"tr-t0101":{title:"Visum \uc18c\uac1c",code:"TR-T0101",product:"Visum",level:"Basic",image:qle,description:"\uadc0\ud558\ub294 <strong>\ub124\ud2b8\uc6cc\ud06c \uac1d\uccb4</strong> \ucc98\ub9ac\uc640 \uc218\uc694 \ud589\ub82c \ucc98\ub9ac \ubc29\ubc95\uc744 \ud559\uc2b5\ud558\uac8c \ub429\ub2c8\ub2e4. \ub610\ud55c \ub2e4\uc591\ud55c \uadf8\ub798\ud53d \ubd84\uc11d \ubc0f \ud3c9\uac00 \uc6b4\uc601\uc5d0 \ucd08\uc810\uc744 \ub9de\ucda5\ub2c8\ub2e4.",content:'\uc800\ud76c\ub294 \uac1c\uc778 \uad50\ud1b5 \ubc30\uc815 \uc808\ucc28\uc640 \uc77c\ubc18\uc801\uc778 \ub300\uc911\uad50\ud1b5 \ubc30\uc815 \uc808\ucc28\ub97c \ud3ec\ud568\ud55c <strong>\uc808\ucc28 \uc2dc\ud000\uc2a4</strong> \uc124\uba85\uc744 \uc54c\ub824\ub4dc\ub9bd\ub2c8\ub2e4. \uae30\ubcf8 \uc2dc\ub098\ub9ac\uc624\uc640 \uc5ec\ub7ec \uacc4\ud68d \uc2dc\ub098\ub9ac\uc624\ub97c \uad6c\uc131\ud558\uace0 \uc774\ub7ec\ud55c \uc2dc\ub098\ub9ac\uc624\ub85c \uc791\uc5c5\ud558\ub294 \ubc29\ubc95\uc744 \uc124\uba85\ud558\uae30 \uc704\ud574 <span class="tech-term">PTV Visum \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790</span>\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. <div class="key-info-box"><div class="title">\uc911\uc694 \ucc38\uace0\uc0ac\ud56d</div>\uc774 \uad50\uc721 \uacfc\uc815\uc740 <strong>\ubaa8\ub4e0 PTV Visum \uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8</strong>\uacfc \ucd94\uac00 \uad50\uc721 \uacfc\uc815\uc758 <strong>\uae30\ubc18</strong>\uc774 \ub429\ub2c8\ub2e4. \uc720\uc9c0 \uad00\ub9ac \uacc4\uc57d\uc5d0 \ub530\ub978 \uae30\uc220 PTV Visum \uc9c0\uc6d0 \uc11c\ube44\uc2a4\uc758 \ud5a5\ud6c4 \uc0ac\uc6a9\uc744 \uc704\ud574\uc11c\ub294 \uc774 \uad50\uc721 \uacfc\uc815 \ucc38\uac00\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.</div>',targetGroup:"PTV Visum \uc785\ubb38 \uacfc\uc815\uc740 \uad50\ud1b5 \uacc4\ud68d \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ubd84\uc57c\uc758 \ud559\uc220\uc801 \uc804\ubb38 \uc9c0\uc2dd\uc774\ub098 \uad50\ud1b5 \uc6b4\uc1a1 \uc804\ubb38 \ubd84\uc57c\uc758 \uc2e4\ubb34 \uacbd\ud5d8\uc744 \uac00\uc9c4 \uad50\ud1b5 \uacc4\ud68d\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4. \uc804\ubb38 \uc5d4\uc9c0\ub2c8\uc5b4\uc5d0\uac8c \uc774 \uad50\uc721 \uacfc\uc815\uc740 \ud45c\uc900 \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \ud1b5\ud55c \uad50\ud1b5 \uc5f0\uad6c\uc758 \ud6a8\uc728\uc801\uc778 \ucc98\ub9ac \ubc0f \ud3c9\uac00\ub97c \uc704\ud55c PTV Visum \uc2e4\ubb34 \uc18c\uac1c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.",prerequisites:"MS-Windows \uc6b4\uc601 \uccb4\uc81c\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \ud45c\uc900 Office \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ub3c4\uad6c(MS-Excel, MS-Word, OpenOffice.org, LibreOffice)\uc5d0 \uc775\uc219\ud558\uc154\uc57c \ud569\ub2c8\ub2e4. \ub370\uc774\ud130 \ud3b8\uc9d1\uc744 \uc704\ud574 \uc77c\ubc18\uc801\uc778 \ud14d\uc2a4\ud2b8 \ud3b8\uc9d1\uae30(\uba54\ubaa8\uc7a5, \ud3b8\uc9d1\uae30, TextPad, Notepad ++ \ub4f1)\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uc804\ubb38\uc801 \ubc30\uacbd\uc774\ub098 \uc2e4\ubb34 \uacbd\ud5d8\uc5d0 \ub530\ub77c \uad50\ud1b5 \uacc4\ud68d \ubd84\uc57c\uc5d0 \ub300\ud55c \uae30\ucd08\uac00 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.",duration:"3\uc77c",contents:['<strong>1\uc77c\ucc28:</strong> \uad50\ud1b5 \uacc4\ud68d\uc758 \uae30\ubcf8 \uc0ac\ud56d\uacfc <span class="tech-term">PTV Visum</span> \uc18c\uac1c, PTV Visum \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378 - \uad6c\uc870 \ubc0f \ucc98\ub9ac, PTV Visum \ub124\ud2b8\uc6cc\ud06c \uac80\uc0ac \ubc0f \uac80\uc99d, \ud0c0\uc0ac \uc2dc\uc2a4\ud15c\uc5d0\uc11c\uc758 \ub124\ud2b8\uc6cc\ud06c \ub370\uc774\ud130 \uac00\uc838\uc624\uae30(\uc608: shape \ud30c\uc77c \uac00\uc838\uc624\uae30), PTV Visum \uadf8\ub798\ud53d \ub9e4\uac1c\ubcc0\uc218 \u2013 \uac04\ub2e8\ud55c \uc18c\uac1c','<strong>2\uc77c\ucc28:</strong> <em>\ubc30\uc815 \uc808\ucc28</em> \u2013 \uac1c\uc778 \uad50\ud1b5\uc758 \uacbd\ub85c \uc120\ud0dd \uacb0\uc815 \ubaa8\ub378\ub9c1, \ubcfc\ub968-\uc9c0\uc5f0 \ud568\uc218, \uc784\ud53c\ub358\uc2a4 \ud568\uc218, \ubc30\uc815 \uc808\ucc28 \uc0c1\uc138: <span class="tech-term">\uc99d\ubd84 \ubc30\uc815</span>, <span class="tech-term">\uade0\ud615 \ubc30\uc815</span>, \uade0\ud615 \ubc30\uc815 LUCE, Equilibrium_Lohse, \ucd94\uac00 \ubc30\uc815 \uc808\ucc28 \uac1c\uc694: \ud655\ub960\uc801 \ubc30\uc815, \ub3d9\uc801 \uc0ac\uc6a9\uc790 \uade0\ud615 DUE, \ub3d9\uc801 \ud655\ub960\uc801 \ubc30\uc815, PuT \uc218\uc694 \uc138\uadf8\uba3c\ud2b8\ub97c \uc704\ud55c \uac04\ub2e8\ud55c \ub300\uc911\uad50\ud1b5 \ubc30\uc815 \uc808\ucc28, <strong>\uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac</strong> (\ud504\ub85c\uc81d\ud2b8 \uc815\uc758), \uae30\ubcf8 \uc801\uc6a9 \uc0ac\ub840 \uc815\uc758, \uc2dc\ub098\ub9ac\uc624 \uc0dd\uc131 \ubc0f \uc885\uc18d\uc131 \uc124\uba85','<strong>3\uc77c\ucc28:</strong> PTV Visum \uacb0\uacfc \ud504\ub808\uc820\ud14c\uc774\uc158, \ud50c\ub85c\uc6b0 \ubc88\ub4e4, \ub4f1\uc2dc\uc120, \ud68c\uc804 \ubcfc\ub968 \ub610\ub294 \ucc28\uc774 \ud45c\uc2dc \ubcc0\ud615 \uc911 \ud558\ub098\ub85c\uc11c \ubc30\uc815 \uacb0\uacfc\uc758 <em>\uadf8\ub798\ud53d \uc2dc\uac01\ud654</em>, \uc9c0\ub3c4 \ubc0f \uacc4\ud68d \ub808\uc774\uc544\uc6c3, <span class="tech-term">\uc2a4\ud0b4 \ub9e4\ud2b8\ub9ad\uc2a4 \ubc0f \ubca1\ud130</span>: \uc5ec\ud589 \uc2dc\uac04, \uc5ec\ud589 \uac70\ub9ac, \uc811\uadfc \ubc0f \uc774\ud0c8 \uc2dc\uac04, \ub9e4\ud2b8\ub9ad\uc2a4 \ubd84\ub958: \uc5ec\ud589 \uc2dc\uac04 \ubc0f \uc5ec\ud589 \uac70\ub9ac \ubd84\ud3ec, TFlowFuzzy\uc5d0 \uc758\ud55c \ub9e4\ud2b8\ub9ad\uc2a4 \uc218\uc815, \uc2dc\ub098\ub9ac\uc624 \ud3c9\uac00\ub97c \uc704\ud55c \uc2a4\ud0b4 \uac12 \uae30\ubc18 \ucc28\uc774 \uacc4\uc0b0, \uad50\uc721 \uacfc\uc815 \uacb0\uacfc\uc758 \uc778\uc1c4 \ucd9c\ub825']},"tr-t0102":{title:"Visum \ub300\uc911\uad50\ud1b5 \uc18c\uac1c",code:"TR-T0102",product:"Visum",level:"Basic",image:qle,description:"\uc8fc\ub85c \uac1c\uc778 \uad50\ud1b5 \ubaa8\ub378\ub9c1 \ubd84\uc57c\uc5d0\uc11c \uc791\uc5c5\ud558\uc2dc\ub294 \ubd84\ub4e4\uc744 \uc704\ud55c \uacfc\uc815\uc785\ub2c8\ub2e4. \ucd94\uac00\uc801\uc73c\ub85c \ub300\uc911\uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1\uc5d0 \ud544\uc694\ud55c \ub124\ud2b8\uc6cc\ud06c \uac1d\uccb4 \ucc98\ub9ac \ubc29\ubc95\uc744 \uc54c\uace0 \uc2f6\uc73c\uc2e0 \ubd84\ub4e4\uc744 \uc704\ud55c \uacfc\uc815\uc785\ub2c8\ub2e4.",content:"\ub300\uc911\uad50\ud1b5 \uacf5\uae09 \ubaa8\ub378\ub9c1\uc758 \uae30\ubcf8 \uc0ac\ud56d\uc744 \ud559\uc2b5\ud558\uac8c \ub429\ub2c8\ub2e4. \ub610\ud55c PTV Visum\uc5d0\uc11c \ub300\uc911\uad50\ud1b5 \uc218\uc694\uc640 \uacf5\uae09\uc744 \uc5f0\uacb0\ud558\ub294 \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4. \uc774 \uad50\uc721 \uacfc\uc815\uc740 PTV Visum\uc5d0\uc11c \uae30\ubcf8 \ub300\uc911\uad50\ud1b5 \uae30\ub2a5 \uc0ac\uc6a9\uc758 \uae30\ucd08\uac00 \ub429\ub2c8\ub2e4. \uc0c1\uc138\ud55c \ub300\uc911\uad50\ud1b5 \ubaa8\ub378\ub9c1\uc5d0 \uad00\uc2ec\uc774 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c\ub294 \uacf5\uae09\uacfc \uc218\uc694\ub97c \ubaa8\ub450 \ud3ec\ud568\ud558\ub294 2\uc77c\uac04\uc758 \ub300\uc911\uad50\ud1b5 \uae30\ubcf8 \uad50\uc721 \uacfc\uc815 \ucc38\uac00\ub97c \uad8c\uc7a5\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\uc5d0 \ub300\uc911\uad50\ud1b5 \uad6c\uc131 \uc694\uc18c\ub97c \ud3ec\ud568\ud558\uace0\uc790 \ud558\ub294 Visum \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \uc804\ubb38\uc801 \ubc30\uacbd\uacfc \uc2e4\ubb34 \uacbd\ud5d8\uc73c\ub85c \uad50\ud1b5 \uacc4\ud68d \ubd84\uc57c\uc5d0 \ub300\ud55c \uae30\ucd08\uac00 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ub300\uc911\uad50\ud1b5 \uacf5\uae09\uce21 \uc694\uc18c \ubaa8\ub378\ub9c1 \ubc29\ubc95\uc758 \uae30\ubcf8 \uc0ac\ud56d","\ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5\uacfc \uadf8 \uad6c\uc870","PT \ub178\uc120\uacfc \ub178\uc120 \uacbd\ub85c","\uc815\uae30 \uc11c\ube44\uc2a4\uc640 \uc2dc\uac04\ud45c","\ucc28\ub7c9 \uc720\ud615","PT \uc218\uc694 \ubaa8\ub378\ub9c1 \ubc0f \ubd84\uc11d\uc758 \uae30\ubcf8 \uc0ac\ud56d","\uc5f0\uacb0\uc120","\ub300\uc911\uad50\ud1b5\uc744 \uc704\ud55c \ubc30\uc815 \uc808\ucc28 \ubc29\ubc95","\ub300\uc911\uad50\ud1b5\ubcc4 \uc2a4\ud0b4 \uacc4\uc0b0\uacfc \ud45c \ubc0f \uadf8\ub798\ud53d \ud45c\uc2dc"]},"tr-t0103":{title:"Visum \ub300\uc911\uad50\ud1b5 \uacf5\uae09 \ubc0f \uc218\uc694",code:"TR-T0103",product:"Visum",level:"Basic",image:qle,description:"PTV Visum\uc740 \ub300\uc911\uad50\ud1b5 \uacf5\uae09\uc758 \ubd84\uc11d, \uacc4\ud68d, \uc2dc\uac01\ud654 \ubc0f \ud3c9\uac00\ub97c \uc704\ud55c \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. PTV Visum\uc758 \uc8fc\uc694 \ud2b9\uc9d5 \uc911 \ud558\ub098\ub294 \ub300\uc911\uad50\ud1b5 \uacf5\uae09\uacfc \uc218\uc694\ub97c \ubaa8\ub450 \ubaa8\ub378\ub9c1\ud558\uace0 \ub450 \ud558\uc704 \uc2dc\uc2a4\ud15c\uc744 \uacb0\ud569\ud560 \uc218 \uc788\ub2e4\ub294 \uac83\uc785\ub2c8\ub2e4.",content:'\ub3c4\ub85c \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\uc744 \uae30\ubc18\uc73c\ub85c \uc815\ub958\uc7a5, \ub178\uc120 \ubc0f \uc2dc\uac04\ud45c, \ucc28\ub7c9 \uc720\ud615 \ubc0f \uc6b4\uc601\uc790\uc640 \uac19\uc740 \ubaa8\ub4e0 \uae30\ubcf8 \ub300\uc911\uad50\ud1b5 \uacf5\uae09 \uc694\uc18c\ub97c \ubaa8\ub378\ub9c1\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \ub610\ud55c PTV Visum\uc5d0\uc11c \ud45c\uc640 \uadf8\ub798\ud504\ub85c \ub300\uc911\uad50\ud1b5 \ubaa8\ub378 \ub370\uc774\ud130\ub97c \uc2dc\uac01\ud654\ud558\uace0 \ubd84\uc11d\ud558\ub294 \ubc29\ubc95\uc744 \uc54c\uac8c \ub429\ub2c8\ub2e4. \uae30\uc874 \ub300\uc911\uad50\ud1b5 \uacf5\uae09 \ubaa8\ub378\uc744 \uae30\ubc18\uc73c\ub85c \ub300\uc911\uad50\ud1b5 \uc218\uc694 \ub370\uc774\ud130\ub97c \ucc44\ud0dd\ud558\uace0 \uc2b9\uac1d \ud589\ub3d9 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uc704\ud55c \uc5ec\ub7ec \ubc29\ubc95\uc744 \uc801\uc6a9\ud558\uc5ec \uacf5\uae09 \ub370\uc774\ud130\uc640 \uacb0\ud569\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc2b9\uac1d \uacbd\ub85c\ub97c \uacb0\uc815\ud558\uace0 \uc2b9\uac1d \ubcfc\ub968\uc744 \uacc4\uc0b0 \ubc0f \ud45c\uc2dc\ud560 \uc218 \uc788\ub294 \ubc30\uc815 \uc808\ucc28\uc5d0 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4. \uc720\uc6a9\ud55c \uacbd\uc6b0 \ub9c1\ud06c, \ub178\uc120 \ubc0f \ucc28\ub7c9 \uc6b4\ud589\uc758 \ubcfc\ub968/\uc6a9\ub7c9 \ube44\uc728\uc744 \uacc4\uc0b0\ud558\uace0 \uc2dc\uac01\ud654\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\ub294 \uc808\ucc28\ub3c4 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4. "\ub300\uc911\uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \ubc0f \uacf5\uae09\uacfc \uc218\uc694 \uacb0\ud569" \uacfc\uc815\uc740 \ub2e4\ub978 \ub300\uc911\uad50\ud1b5 \uacfc\uc815 \ucc38\uac00\uc5d0 \ud544\uc694\ud55c \uae30\ubcf8 \uc0ac\ud56d\uc744 \uc804\ub2ec\ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 \ubaa8\ub4e0 PTV Visum \uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8\uacfc \ucd94\uac00 \uad50\uc721 \uacfc\uc815\uc758 \uae30\ucd08\uac00 \ub429\ub2c8\ub2e4.',targetGroup:"\ub300\uc911\uad50\ud1b5 \uc2dc\uc2a4\ud15c\uc744 \uc0c1\uc138\ud788 \ubaa8\ub378\ub9c1\ud558\uace0 \ubd84\uc11d\ud558\uace0\uc790 \ud558\ub294 \ub2f9\uad6d, \uad50\ud1b5 \ud68c\uc0ac, \uad50\ud1b5 \ud611\ud68c \ubc0f \uad50\ud1b5 \uacc4\ud68d \uc0ac\ubb34\uc18c\uc758 \uacc4\ud68d \ubd80\uc11c \uc9c1\uc6d0.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc740 \uc5c6\uc2b5\ub2c8\ub2e4. \ub300\uc911\uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c \ubc0f \uc11c\ube44\uc2a4 \uacc4\ud68d \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc774 \uc788\uc73c\uc2dc\uba74 \uc774\uc0c1\uc801\uc785\ub2c8\ub2e4.",duration:"2\uc77c",contents:["1\uc77c\ucc28: \ub514\uc9c0\ud138 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\uc5d0\uc11c \ub370\uc774\ud130 \ucc44\ud0dd, \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uae30\ubcf8 \uc0ac\ud56d(\ub178\ub4dc, \ub9c1\ud06c, \ud68c\uc804), \uc815\ub958\uc7a5, \uc815\ub958\uc7a5 \uc9c0\uc5ed \ubc0f \uc815\ub958\uc7a5 \uc9c0\uc810 \uac00\uc838\uc624\uae30, \uc0dd\uc131 \ubc0f \ud3b8\uc9d1, \ub178\uc120\uacfc \ub178\uc120 \uacbd\ub85c\uc758 \ub300\ud654\ud615 \uadf8\ub798\ud53d \uc0dd\uc131 \ubc0f \ud3b8\uc9d1, \uc2dc\uac04 \ud504\ub85c\ud544 \uc0dd\uc131 \ubc0f \uc870\uc815, \uadf8\ub798\ud504\uc640 \ud45c\uc5d0\uc11c \uc2dc\uac04\ud45c \ud3b8\uc9d1, \ucc28\ub7c9 \uc720\ud615, \uc6b4\uc601\uc790, \uc720\ud6a8 \uc77c\uc218 \ud3b8\uc9d1, \uc2b9\uac1d\uacfc \uc6b4\uc601\uc790 \uad00\uc810\uc5d0\uc11c \uc2a4\ud0b4 \uacc4\uc0b0","2\uc77c\ucc28: \ub300\uc911\uad50\ud1b5 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ud544\uc694\ud55c \uae30\ubcf8 \uc18c\uc2a4 \ubc0f \uc694\uc18c, \ub300\uc911\uad50\ud1b5 \uc218\uc694 \ub9e4\ud2b8\ub9ad\uc2a4 \ubc30\uc815 \uc808\ucc28\uc758 \uae30\ubcf8 \uc0ac\ud56d, \ubc30\uc815 \uc808\ucc28\uc758 \uc801\uc6a9 \uc0ac\ub840 \ubc0f \ub9e4\uac1c\ubcc0\uc218, \ud3c9\uac00\ub97c \uc704\ud55c \uad50\ud1b5 \uacf5\uae09 \uc9c0\ud45c \ubc0f \uc6b4\uc601 \ube44\uc6a9 \uacc4\uc0b0, \uc815\ub958\uc7a5, \ub9c1\ud06c, \ub178\uc120 \ubc0f \ucc28\ub7c9 \uc6b4\ud589\ubcc4 \uc2b9\uac1d \uc218\uc694 \uc9c0\ud45c\uc758 \ud45c, \uadf8\ub798\ud504 \ubc0f \uc9c0\ub3c4 \uae30\ubc18 \ud45c\uc2dc, \ub610\ud55c \ub178\uc120 \ub610\ub294 \ucc28\ub7c9 \uc6b4\ud589\ubcc4 \ubcfc\ub968/\uc6a9\ub7c9 \ube44\uc728 \ud45c\uc2dc"]},"tr-t0109":{title:"Visum 4\ub2e8\uacc4 \ubaa8\ub378",code:"TR-T0109",product:"Visum",level:"Advanced",image:qle,description:"Visum\uc758 \uc8fc\uc694 \uc6a9\ub3c4 \uc911 \ud558\ub098\ub294 \uad50\ud1b5 \uc218\uc694 \ubaa8\ub378\ub9c1\uc785\ub2c8\ub2e4. \uac00\uc7a5 \uc77c\ubc18\uc801\uc778 \uc5ec\ud589 \uc608\uce21\uc740 \uc0ac\ub78c\ub4e4\uc758 \uc77c\uc77c \uc5ec\ud589 \ud589\ub3d9\uc744 \ubd84\uc11d\ud569\ub2c8\ub2e4.",content:"\uc774\ub7ec\ud55c \uc608\uce21\uc740 \uc5b8\uc81c, \uc5bc\ub9c8\ub098 \uc790\uc8fc, \uc5b4\ub514\uc11c, \uc5b4\ub5bb\uac8c \uc0ac\ub78c\ub4e4\uc774 \uc5ec\ud589\ud558\ub294\uc9c0\uc5d0 \ub300\ud55c \uc9c8\ubb38\uc5d0 \ub2f5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \ud45c\uc900 4\ub2e8\uacc4 \ubaa8\ub378\uc740 \uc77c\ubc18\uc801\uc73c\ub85c \ud1b5\ud589 \ubc1c\uc0dd, \ud1b5\ud589 \ubd84\ud3ec, \uc218\ub2e8 \uc120\ud0dd \ubc0f \ubc30\uc815 \ub2e8\uacc4\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4. Visum\uc5d0\uc11c\ub294 \uc21c\ucc28 \uacc4\uc0b0\uc744 \uac00\uc9c4 4\ub2e8\uacc4 \ubaa8\ub378\uacfc \uc911\ucca9 \uc218\uc694 \ubaa8\ub378 \ubcc0\ud615\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub450 \ubcc0\ud615 \ubaa8\ub450 \ud1b5\ud589 \ubc1c\uc0dd\uacfc \ubc30\uc815\uc774 \uc218\uc694 \ub9e4\ud2b8\ub9ad\uc2a4 \uacc4\uc0b0 \uc804\ud6c4\uc758 \ubcc4\ub3c4 \ub2e8\uacc4\ub85c \uc218\ud589\ub41c\ub2e4\ub294 \uacf5\ud1b5\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc774 2\uc77c \uacfc\uc815\uc5d0\uc11c\ub294 \uba3c\uc800 \ub2e4\uc591\ud55c \ubaa8\ub378\ub9c1 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4. PTV Visum\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubaa8\ub4e0 \uc218\uc694 \ubaa8\ub378\uc744 \uc124\uba85\ud55c \ud6c4, \uacfc\uc815\uc5d0\uc11c\ub294 \ubaa8\ub378 \uc138\ubd84\ud654, \ub370\uc774\ud130 \uacf5\uae09, \ubcf4\uc815 \ubc0f \uac80\uc99d \uc8fc\uc81c\ub97c \uc0c1\uc138\ud788 \ub2e4\ub8f9\ub2c8\ub2e4. PTV Visum\uc5d0\uc11c \uc774\ub7ec\ud55c \uc8fc\uc81c\uc758 \uc2e4\uc81c \uad6c\ud604\uc774 \uc124\uba85\ub418\uace0 \ucc38\uac00\uc790\ub4e4\uc740 \uad50\uc721 \ubaa8\ub378\ub85c \uc5f0\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uc18c\uac1c\ub97c \uc81c\uacf5\ud558\uc9c0\ub9cc, \uc774\ubbf8 \uac70\uc2dc\uc801 \uad50\ud1b5 \ubaa8\ub378 \uacbd\ud5d8\uc774 \uc788\uace0 \uc9c0\uc2dd\uc744 \uae4a\uac8c \ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uc800\ud76c \uacfc\uc815\uc778 "PTV Visum - \ub300\uc911\uad50\ud1b5 \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0102)\uc5d0 \ucc38\uac00\ud558\uc2dc\uace0 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc788\uc73c\uc2dc\uba74 \uc720\ub9ac\ud569\ub2c8\ub2e4.',duration:"2\uc77c",contents:["1\uc77c\ucc28: \ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98, \ubc29\ubc95 \ub17c\uc758(4\ub2e8\uacc4 \ubaa8\ub378, VISEM, EVA), \ubaa8\ub378 \uc138\ubd84\ud654, \uacc4\uc0b0 \uacfc\uc815, \ubaa8\ub378 \uc601\uc5ed \uc815\uc758, \ub370\uc774\ud130 \uacf5\uae09, \ud544\uc694\ud55c \ub370\uc774\ud130 \ubc0f \ub370\uc774\ud130 \uc18c\uc2a4(\ub124\ud2b8\uc6cc\ud06c, \ud589\ub3d9 \ubc0f \uad6c\uc870 \ub370\uc774\ud130), \ub370\uc774\ud130 \uc900\ube44 \ubc0f \uad6c\uc131, \ub124\ud2b8\uc6cc\ud06c \ub370\uc774\ud130\uc6a9 \uc778\ud130\ud398\uc774\uc2a4, \uc5f0\uc2b5\uc6a9 4\ub2e8\uacc4 \uc608\uc81c \uc0dd\uc131, \ub9e4\ud2b8\ub9ad\uc2a4 \ucc98\ub9ac","2\uc77c\ucc28: \uac1c\uc778\uad50\ud1b5/\ub300\uc911\uad50\ud1b5 \ubc30\uc815, \ubcf4\uc815 \ubc0f \uac80\uc99d, \ubaa9\uc801\uc9c0 \uc120\ud0dd \ubc0f \uad50\ud1b5\uc218\ub2e8 \uc120\ud0dd\uc744 \uc704\ud55c \ub9e4\uac1c\ubcc0\uc218 \ubcf4\uc815, \ubaa8\ub378\uc758 \uc0c1\ud5a5\uc2dd \uac80\uc99d, \ub9e4\ud2b8\ub9ad\uc2a4 \ubcf4\uc815, \uc608\uce21 \uacc4\uc0b0, \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790"]},"tr-t0201":{title:"Vissim \uc18c\uac1c",code:"TR-T0201",product:"Vissim",level:"Basic",image:Gle,description:'\uc774 <strong>2\uc77c \uacfc\uc815</strong>\uc5d0\uc11c <span class="tech-term">PTV Vissim</span>\uc744 \uc0ac\uc6a9\ud55c <em>\ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158</em>\uc5d0 \ub300\ud574 \uc18c\uac1c\ubc1b\uac8c \ub429\ub2c8\ub2e4. PTV Vissim\uc758 \uad11\ubc94\uc704\ud55c \uae30\ub2a5\uc744 \uc54c\uac8c \ub418\uace0 \uc2e4\uc81c \uc608\uc81c\ub97c \uc0ac\uc6a9\ud558\uc5ec \uadf8 \uc801\uc6a9\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.',content:'\uc800\ud76c <strong>\uccab\uc9f8 \ub0a0</strong>\uc5d0\ub294 <span class="tech-term">PTV Vissim</span>\uc758 \uae30\ubcf8 \uae30\ub2a5\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \ud558\ub8e8\uac00 \ub05d\ub0a0 \ub54c\ucbe4\uc5d0\ub294 <em>\uc18c\uaddc\ubaa8 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\uc744 \ub3c5\ub9bd\uc801\uc73c\ub85c \uad6c\ucd95</em>\ud558\uace0 \ucd08\uae30 \ud3c9\uac00\ub97c \uc218\ud589\ud560 \uc218 \uc788\uac8c \ub429\ub2c8\ub2e4. <br><br><strong>\ub458\uc9f8 \ub0a0</strong>\uc5d0\ub294 \ubbf8\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\ud504\ud2b8\uc6e8\uc5b4 PTV Vissim\uc744 \uc0ac\uc6a9\ud558\uc5ec \uace0\ud488\uc9c8 \uad50\ud1b5 \uc5f0\uad6c\ub97c \ud6e8\uc52c \ub354 \ud6a8\uc728\uc801\uc73c\ub85c \uc218\ud589\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \uad50\ud1b5 \ubaa8\ub378\uc758 \ub2e4\uc591\ud55c \ubcf4\uc815\uc774 \uc5b4\ub5bb\uac8c \uc218\ud589\ub418\ub294\uc9c0\uc640 \uace0\ub824\ud574\uc57c \ud560 \uc694\uc18c\ub4e4\uc744 \uc54c\uac8c \ub429\ub2c8\ub2e4. <div class="success-box">\uc704 \uc8fc\uc81c\ub4e4\uc744 \ub354 \uae4a\uc774 \ud0d0\uad6c\ud558\uace0 PTV Vissim\uc758 \ucd94\uac00 \uae30\ub2a5\uc744 \ud559\uc2b5\ud558\uae30 \uc704\ud574 1\uc77c \uae30\ubcf8 \ucd94\uac00 \uacfc\uc815 <strong>"PTV Vissim \u2013 \uad50\ud1b5 \ubaa8\ub378\uc758 \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac, \ud3c9\uac00 \ubc0f \uc2dc\uac01\ud654" (TR-T0207)</strong>\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</div>',targetGroup:"PTV Vissim \ucd08\ubcf4\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",duration:"2\uc77c",contents:['<strong>1\uc77c\ucc28:</strong> <span class="tech-term">\ubbf8\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158</span>\uc758 \ubaa9\ud45c\uc640 \uc791\uc5c5, \uac1c\ubc29 \ub3c4\ub85c\uc640 \uad50\ucc28\ub85c\uc5d0\uc11c\uc758 <strong>\uad50\ud1b5 \uacf5\uae09\uce21 \ubaa8\ub378\ub9c1</strong> (\uc6b0\uc120\uad8c \uaddc\uce59 \ubc0f \uc2e0\ud638 \uc81c\uc5b4), \uc785\ub825 \ud750\ub984\uacfc \uacbd\ub85c\ub97c \uac00\uc9c4 <em>\uad50\ud1b5 \uc218\uc694 \ubaa8\ub378\ub9c1</em>, \ub300\uc911\uad50\ud1b5 \ub178\uc120 \ubaa8\ub378\ub9c1 \uac1c\uc694','<strong>2\uc77c\ucc28:</strong> \ubbf8\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uc774\uc6a9\ud55c \uad50\ud1b5 \uc5f0\uad6c\uc5d0 \uad00\ub828\ub41c \uc791\uc5c5, \uacf5\uae09 \ubc0f \uc218\uc694 \ubaa8\ub378\ub9c1\uc744 \uc704\ud55c <strong>\ud544\uc694\ud55c \uc785\ub825 \ub370\uc774\ud130</strong>, \ubcf4\uc815\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uacbd\ud5d8\uc801 \ub370\uc774\ud130 \uac1c\uc694, <em>PTV Vissim \ubaa8\ub378 \ubcf4\uc815</em>, <span class="tech-term">\uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c/\ubaa8\ub378 \ud3c9\uac00</span> \uc18c\uac1c']},"tr-t0301":{title:"Vistro \uc18c\uac1c",code:"TR-T0301",product:"Vistro",level:"Basic",image:Hle,description:"\uc800\ud76c PTV Vistro \uad50\ud1b5 \ubd84\uc11d \uacfc\uc815\uc5d0\uc11c\ub294 \uad50\ud1b5 \uc5f0\uad6c \uc218\ud589, \uac1c\ubc1c \uc601\ud5a5 \ud3c9\uac00, \uc2e0\ud638 \ucd5c\uc801\ud654\ub97c \ubaa8\ub450 \ud558\ub098\uc758 \ud328\ud0a4\uc9c0\ub85c \uc218\ud589\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\uad50\ucc28\ub85c, \ubcf5\ub3c4, \ub124\ud2b8\uc6cc\ud06c \ubc0f \uac1c\ubc1c \uc2dc\ub098\ub9ac\uc624\uc758 \ub300\ud654\ud615 \uc608\uc81c\ub85c \uc791\uc5c5\ud569\ub2c8\ub2e4.",targetGroup:"\ucd5c\uc2e0 \ud45c\uc900\uc744 \uc900\uc218\ud558\uc5ec \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud504\ub85c\uc81d\ud2b8\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uc218\ud589\ud558\uace0\uc790 \ud558\ub294 \uacf5\uacf5 \ubc0f \ubbfc\uac04 \ubd80\ubb38\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\uc640 \uacc4\ud68d\uc790.",prerequisites:"\uc2e0\ud638 \ud0c0\uc774\ubc0d \uac1c\ub150\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc774\ud574\uac00 \ub3c4\uc6c0\uc774 \ub418\uc9c0\ub9cc \ud544\uc218\ub294 \uc544\ub2d9\ub2c8\ub2e4.",duration:"1\uc77c",contents:["\ubc30\uacbd \uc774\ubbf8\uc9c0 \ubc0f Bing\u2122 \uc9c0\ub3c4","\ub124\ud2b8\uc6cc\ud06c \uc124\uc815","\uc2e0\ud638 \ud0c0\uc774\ubc0d \uac1c\ubc1c","HCM(Highway Capacity Manual), CCG(Canadian Capacity Guide) \ubc0f \uae30\ud0c0 \ubc29\ubc95\ub860\uc744 \uc0ac\uc6a9\ud55c LOS \ubd84\uc11d","\uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac","\uad50\ucc28\ub85c, \ubcf5\ub3c4 \ubc0f \ub124\ud2b8\uc6cc\ud06c\uc758 \uc2e0\ud638 \ud0c0\uc774\ubc0d \ucd5c\uc801\ud654","\uad50\ud1b5 \uc601\ud5a5 \ubd84\uc11d \ub124\ud2b8\uc6cc\ud06c \uc124\uc815","\uac1c\ubc1c \ud1b5\ud589 \ucd94\uc801","\uc644\ud654 \ubd84\uc11d","\ubcf4\uace0\uc11c\uc6a9 \uadf8\ub9bc \ubc0f \ucd9c\ub825 \uc694\uc57d \uc0dd\uc131","\ub2e4\ub978 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ud328\ud0a4\uc9c0\uc5d0\uc11c \ub370\uc774\ud130 \uac00\uc838\uc624\uae30","PTV Vissim \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158\uc73c\ub85c \ub370\uc774\ud130 \ub0b4\ubcf4\ub0b4\uae30"]},"tr-t0112":{title:"Visum COM",code:"TR-T0112",product:"Visum",level:"Advanced",image:qle,description:"\uc77c\ubd80 \uace0\uac1d\uc740 \uc8fc\uc5b4\uc9c4 PTV Visum \uae30\ub2a5\uc5d0 \uc790\uccb4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ucd94\uac00\ud558\uac70\ub098 PTV Visum\uc744 \uae30\uc5c5 \uc6cc\ud06c\ud50c\ub85c\uc5d0 \ud3ec\ud568\uc2dc\ud0a4\uace0\uc790 \ud569\ub2c8\ub2e4.",content:"COM \uc778\ud130\ud398\uc774\uc2a4\uc640 Visum\uc758 \uac70\uc758 \ubaa8\ub4e0 \uae30\ub2a5\uc5d0 \uc561\uc138\uc2a4\ud560 \uc218 \uc788\ub294 \uc0c1\ub2f9\ud55c \uac1d\uccb4 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud2b9\uc815 \ubaa9\uc801\uc744 \uc704\ud55c \ubaa8\ub378 \ucc98\ub9ac\ub97c \uc704\ud55c \uac70\uc758 \ubb34\uc81c\ud55c\uc758 \uac00\ub2a5\uc131\uc744 \uac16\uac8c \ub429\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 PTV Visum\uc758 COM \ubaa8\ub378\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc744 \uc804\ub2ec\ud569\ub2c8\ub2e4. \uacfc\uc815 \ucc38\uac00\uc790\ub294 \uc678\ubd80 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c PTV Visum\uc744 \uc81c\uc5b4\ud558\uace0, \ubc18\ubcf5 \ud504\ub85c\uc138\uc2a4\ub97c \uc790\ub3d9\uc73c\ub85c \uc2e4\ud589\ud558\uba70, PTV Visum\uc5d0\uc11c \uac04\ub2e8\ud55c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc0dd\uc131\ud558\uace0 \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \uc608\uc81c\uc640 \uc5f0\uc2b5\uc740 Python\uc744 \uc2a4\ud06c\ub9bd\ud305 \uc5b8\uc5b4\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. Python \uc5b8\uc5b4 \uad6c\uc870\uc5d0 \ub300\ud55c \uac04\ub2e8\ud55c \ubcf5\uc2b5\uc774 \uc81c\uacf5\ub429\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ud2b9\uc815 \ud504\ub85c\uc138\uc2a4\uc758 \uc790\ub3d9\ud654\ub97c \uac1c\uc120\ud558\uc5ec \ub354 \ud6a8\uc728\uc801\uc73c\ub85c \uc791\uc5c5\ud558\uac70\ub098 \uc790\uccb4\uc801\uc778 \ud2b9\uc815 \uae30\ub2a5 PTV Visum \ud655\uc7a5\uc744 \uac1c\ubc1c\ud558\uace0\uc790 \ud558\ub294 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\ub098 \uad50\ud1b5 \ud611\ud68c\uc758 \uae30\ubcf8 \ud504\ub85c\uadf8\ub798\ubc0d \uc9c0\uc2dd\uc744 \uac00\uc9c4 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 Python\uc758 \uc608\uc81c\ub97c \uc911\uc2ec\uc73c\ub85c \uc9c4\ud589\ub429\ub2c8\ub2e4.',duration:"1\uc77c",contents:["COM \ubaa8\ub378 \uc18c\uac1c","\uc790\uccb4 COM \ud504\ub85c\uadf8\ub7a8\uc758 \uc801\uc6a9 \ubd84\uc57c","\ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 Python\uc5d0 \ub300\ud55c \uac04\ub2e8\ud55c \uc18c\uac1c","\ud504\ub85c\uadf8\ub798\ubc0d \ud658\uacbd \ubc0f COM \ubb38\uc11c \uac1c\uc694","\ub124\ud2b8\uc6cc\ud06c \uac1d\uccb4\uc640 \uadf8 \uc18d\uc131 \uc870\uc791","\ubcf5\uc7a1\ud55c \ub9e4\ud2b8\ub9ad\uc2a4 \ucc98\ub9ac","\uc694\uccad \uc2dc COM \uc778\ud130\ud398\uc774\uc2a4\uc758 \ud2b9\uc815 \uce21\uba74(\ub300\uc911\uad50\ud1b5, \uc808\ucc28, \uac00\uc838\uc624\uae30 \ub4f1)","PTV Visum\uc5d0 \uc2a4\ud06c\ub9bd\ud2b8 \ud3ec\ud568","\ub17c\uc758\ub41c COM \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc608\uc81c","\ub2e4\uc591\ud55c \uc5f0\uc2b5"]},"tr-t0116":{title:"Visum Visem",code:"TR-T0116",product:"Visum",level:"Advanced",image:qle,description:"\ud22c\uc5b4 \uae30\ubc18 \ubaa8\ub378 Visem\uc740 \uc0ac\ud68c \uc778\uad6c\ud559 \ubc0f \uad50\ud1b5 \uc815\ucc45 \ubb38\uc81c\uc640 \uad00\ub828\ub41c \ubaa8\ub4e0 \uc885\ub958\uc758 \ub370\uc774\ud130\ub97c \ud3ec\ud568\ud560 \uc218 \uc788\ub294 \ube44\uc9d1\uacc4, \ud589\ub3d9 \uc9c0\ud5a5 \uc218\uc694 \ubaa8\ub378\uc785\ub2c8\ub2e4.",content:"\ud22c\uc5b4 \uae30\ubc18 \ubaa8\ub378\uc740 \uc138 \uac00\uc9c0 \ub17c\ub9ac\uc801 \uc791\uc5c5 \ub2e8\uc704\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4: \ud1b5\ud589 \ubc1c\uc0dd, \ud1b5\ud589 \ubd84\ud3ec \ubc0f \uc218\ub2e8 \uc120\ud0dd. \uc774 \uc138 \ub17c\ub9ac\uc801 \ub2e8\uc704\ub294 \ud22c\uc5b4 \uae30\ubc18 \ubaa8\ub378\uc5d0 \uc758\ud574 \uc5f0\uc18d\uc801\uc73c\ub85c \ubcc4\ub3c4\ub85c \ucc98\ub9ac\ub418\uc9c0 \uc54a\uace0 \uc5f0\uacb0\ub429\ub2c8\ub2e4. \ud2b9\ud788 2\ub2e8\uacc4\uc640 3\ub2e8\uacc4\uc778 \ud1b5\ud589 \ubd84\ud3ec\uc640 \uc218\ub2e8 \uc120\ud0dd\uc740 \ub2e8\uc77c \uc808\ucc28\uc5d0\uc11c \ub3d9\uc2dc\uc5d0 \uc218\ud589\ub429\ub2c8\ub2e4. \ubaa8\ub4e0 \uc138 \uc791\uc5c5 \ub2e8\uc704\uc5d0\uc11c \ud22c\uc5b4 \uae30\ubc18 \ubaa8\ub378\uc5d0 \ub300\ud574 \ub450 \uac00\uc9c0 \uc911\uc694\ud55c \uac1c\ub150\uc774 \uad6c\ud604\ub418\uc5c8\uc2b5\ub2c8\ub2e4: \ub3d9\uc9c8\uc801 \ud589\ub3d9\uc744 \uac00\uc9c4 \uadf8\ub8f9\uc744 \uae30\ubc18\uc73c\ub85c \ud55c \uacc4\uc0b0\uacfc \ud65c\ub3d9 \uccb4\uc778.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ub354 \uae4a\uc740 \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 \ud22c\uc5b4 \uae30\ubc18 \ubaa8\ub378/\ud65c\ub3d9 \uccb4\uc778 \uae30\ubc18 \ubaa8\ub378 Visem\uc73c\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uacfc\uc815\uc778 "PTV Visum \u2013 4\ub2e8\uacc4 \uad50\ud1b5 \ubaa8\ub378 \uc0dd\uc131" (TR-T0109)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc758 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uc9c0\uc2dd\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["Visem\uc744 \uc774\uc6a9\ud55c \uc218\uc694 \ubaa8\ub378\ub9c1","\uc808\ucc28\uc758 \uc6d0\ub9ac\uc640 \uc18d\uc131","\ub370\uc774\ud130 \uad6c\uc870","\ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98"]},"tr-t0118":{title:"Visum EVA",code:"TR-T0118",product:"Visum",level:"Advanced",image:qle,description:"\ub4dc\ub808\uc2a4\ub374 \uacf5\uacfc\ub300\ud559\uc758 Lohse\uac00 \uac1c\ubc1c\ud55c EVA \ubaa8\ub378\uc740 \uace0\uc804\uc801\uc778 \uad50\ud1b5 \uacc4\ud68d \ubaa8\ub378\uc758 \uccab \uc138 \ub2e8\uacc4\uc5d0 \ub300\ud55c \ub300\uc548\uc801 \uc811\uadfc \ubc29\uc2dd\uc744 \uad6c\uc131\ud569\ub2c8\ub2e4.",content:"EVA \ubaa8\ub378\uacfc \ud45c\uc900 4\ub2e8\uacc4 \ubaa8\ub378\uc5d0\uc11c \ucd9c\ubc1c\uacfc \ub3c4\ucc29\uc740 \uc720\uc0ac\ud558\uac8c \uacc4\uc0b0\ub429\ub2c8\ub2e4. \uc989, \uc778\uad6c \ud1b5\uacc4\uc801(\uac70\uc8fc\uc790 \uc218) \ubc0f \uad6c\uc870\uc801(\uc77c\uc790\ub9ac, \uc18c\ub9e4 \ud310\ub9e4 \uba74\uc801 \ud06c\uae30...) \ub9e4\uac1c\ubcc0\uc218\uc640 \uc774\ub3d9\uc131 \ube44\uc728(\uad50\ud1b5 \ud589\ub3d9\uc5d0 \ub300\ud55c \ud1b5\uacc4 \uc870\uc0ac\uc5d0\uc11c \uac00\uc838\uc628)\uc744 \uae30\ubc18\uc73c\ub85c \uacc4\uc0b0\ub429\ub2c8\ub2e4. \uac01 \uc218\uc694 \uacc4\uce35\uc5d0 \ub300\ud574 \ubcc4\ub3c4\ub85c \uc218\ud589\ub418\ub294\ub370, \uc774\ub294 \uac01 \ud65c\ub3d9 \uc30d\uacfc \uc8fc\uc694 \uac1c\uc778 \uadf8\ub8f9\uc5d0 \ub300\ud574 \uc218\ud589\ub429\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ub354 \uae4a\uc740 \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 \uc2b9\uac1d \uae30\ubc18 \ubaa8\ub378\uc778 EVA\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uacfc\uc815\uc778 "PTV Visum \u2013 4\ub2e8\uacc4 \uad50\ud1b5 \ubaa8\ub378 \uc0dd\uc131" (TR-T0109)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc758 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uc9c0\uc2dd\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["EVA\ub97c \uc774\uc6a9\ud55c \uc218\uc694 \ubaa8\ub378\ub9c1","\uc808\ucc28\uc758 \uc6d0\ub9ac\uc640 \uc18d\uc131","\ub370\uc774\ud130 \uad6c\uc870","\ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98"]},"tr-t0119":{title:"Visum \ud654\ubb3c \ubaa8\ub378\ub9c1",code:"TR-T0119",product:"Visum",level:"Advanced",image:qle,description:"\ud2b9\ud788 \ub3c4\uc2dc \uc9c0\uc5ed\uc5d0\uc11c\ub294 \uacbd\uc81c \ud65c\ub3d9\uc758 \uacb0\uacfc\ub85c \ub9ce\uc740 \uc591\uc758 \uad50\ud1b5\uc774 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uc774\uc5d0\ub294 \uc0c1\ud488\uc758 \ubc30\uc1a1 \ubc0f \uc720\ud1b5, \uac74\uc124 \uc790\uc7ac \uacf5\uae09 \ubc0f \uac74\uc124 \ud3d0\uae30\ubb3c \ucc98\ub9ac \ub610\ub294 \uc11c\ube44\uc2a4 \uc81c\uacf5\uacfc \uac19\uc740 \ub2e4\uc591\ud55c \ud1b5\ud589 \ubaa9\uc801\uc774 \ud3ec\ud568\ub429\ub2c8\ub2e4.",content:"\ud22c\uc5b4 \uae30\ubc18 \ud654\ubb3c \ubaa8\ub378\ub9c1\uc744 \uc704\ud574 \ud574\ub2f9 \uc218\uc694 \uac1d\uccb4\uc640 \uc808\ucc28\ub97c \ud3ec\ud568\ud558\ub294 \ubcc4\ub3c4\uc758 \uc218\uc694 \ubaa8\ub378\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ubaa8\ub378\uc758 \ud575\uc2ec \uc694\uc18c\ub294 90\ub144\ub300\uc5d0 IVU\uc640 PTV\uac00 \uacf5\ub3d9 \uac1c\ubc1c\ud558\uace0 \uc218\ub9ce\uc740 \uad50\ud1b5 \ubaa8\ub378\uc5d0 \uc801\uc6a9\ub41c WIVER \ubaa8\ub378(Sonntag, 1995)\uc744 \uae30\ubc18\uc73c\ub85c \ud569\ub2c8\ub2e4. \uc774 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uba74 \uc8fc\ubb38\uc73c\ub85c \uc778\ud55c \ucd9c\ubc1c\uc9c0 \ubc0f \ubaa9\uc801\uc9c0 \uad50\ud1b5\uacfc \ub2e4\uc591\ud55c \uc0b0\uc5c5 \uac04\uc758 \uc0c1\ud638 \uad00\uacc4\ub97c \ubaa8\ub378\ub9c1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \uae30\ubc18\uc73c\ub85c \uc774\ub7ec\ud55c \uc8fc\ubb38\uc774 \ud1b5\ud589\uc73c\ub85c \uc5b4\ub5bb\uac8c \ubc30\uc1a1\ub418\ub294\uc9c0 \ubaa8\ub378\ub9c1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubaa8\ub378\uc740 \ubd80\ubb38 \uc694\uad6c \uc0ac\ud56d\uacfc \ubc30\uc1a1 \uac1c\ub150 \ub610\ub294 \ucc28\ub7c9 \uc720\ud615\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ub370 \ud544\uc694\ud55c \ub370\uc774\ud130 \uad6c\uc870\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ub354 \uae4a\uc740 \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 \ud22c\uc5b4 \uae30\ubc18 \ud654\ubb3c \ubaa8\ub378\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uacfc\uc815\uc778 "PTV Visum \u2013 4\ub2e8\uacc4 \uad50\ud1b5 \ubaa8\ub378 \uc0dd\uc131" (TR-T0109)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc758 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uc9c0\uc2dd\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ud654\ubb3c \ubaa8\ub378\ub9c1\uc744 \uc774\uc6a9\ud55c \uc218\uc694 \ubaa8\ub378\ub9c1","\uc808\ucc28\uc758 \uc6d0\ub9ac\uc640 \uc18d\uc131","\ub370\uc774\ud130 \uad6c\uc870","\ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98"]},"tr-t0120":{title:"Visum \uc911\ucca9 \uc218\uc694 \ubaa8\ub378\ub9c1",code:"TR-T0120",product:"Visum",level:"Advanced",image:qle,description:"\uc911\ucca9 \uc218\uc694 \ubaa8\ub378\uc758 \uae30\ubc18\uc774 \ub418\ub294 \uc911\ucca9 \ub85c\uc9d3 \uc811\uadfc\ubc95\uc740 \uacc4\uce35\uc801 \ubaa8\ub378 \uad6c\uc870\uc5d0\uc11c \ud589\ub3d9 \uc120\ud0dd(\uc77c\ubc18\uc801\uc73c\ub85c \ud1b5\ud589 \ubd84\ud3ec, \uc218\ub2e8 \uc120\ud0dd \ubc0f \uc2dc\uac04\ub300 \uc120\ud0dd)\uc744 \ub098\ud0c0\ub0c5\ub2c8\ub2e4.",content:"\uc120\ud0dd\uc758 \uc801\uc808\ud55c \uacc4\uce35\uc740 \uc5ec\ud589\uc758 \ud6a8\uc6a9\uc5d0 \ub300\ud55c \uc0c1\ub300\uc801 \ubbfc\uac10\ub3c4\uc5d0 \uc758\ud574 \uacb0\uc815\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uacc4\uce35\uc5d0\uc11c \ub354 \ub192\uc774 \ub9cc\ub4e4\uc5b4\uc9c4 \uc120\ud0dd\uc740 \ub098\uc911\uc5d0 \uacc4\uce35\uc5d0\uc11c \ub354 \uc544\ub798\ub85c \ub9cc\ub4e4\uc5b4\uc9c4 \uc120\ud0dd\uc5d0 \ub300\ud55c \uc81c\uc57d\uc73c\ub85c \uc791\uc6a9\ud569\ub2c8\ub2e4. \ud6a8\uc6a9 \uacc4\uc0b0\uc740 \uacc4\uce35\uc758 \ub9e8 \uc544\ub798\uc5d0\uc11c \uc2dc\uc791\ub429\ub2c8\ub2e4. \uacb0\uacfc\uc801\uc778 \ub85c\uadf8 \ud569\uacc4\ub294 \uacc4\uce35\uc758 \uc704\ub85c \uc62c\ub77c\uac00\uba74\uc11c \uac01 \uc218\uc900\uc5d0\uc11c \ud558\ub098 \ub354 \ub9ce\uc740 \uc120\ud0dd\uc744 \ucd94\uac00\ud558\uc5ec \uacc4\uce35\uc758 \ub2e4\uc74c \uc218\uc900\uc73c\ub85c \uc804\ub2ec\ub429\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uc720\ud615\uc758 \uc218\uc694 \ubaa8\ub378\ub9c1\uc740 \uc601\uad6d\uc5d0\uc11c \ud45c\uc900 \uad00\ud589\uc774\uba70 \ud604\uc7ac DfT\uc758 \uc790\uccb4 \uad6d\uac00 \uad50\ud1b5 \ubaa8\ub378\uc5d0\uc11c PTV Visum\uacfc \ud568\uaed8 \uc0ac\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc774\ub294 DfT\uc640 WebTAG \uad8c\uc7a5 \uc0ac\ud56d\uc5d0 \ubd80\ud569\ud558\ub294 \ubaa8\ub378\ub9c1\uc744 \uc704\ud55c \uc774\uc0c1\uc801\uc778 \uc811\uadfc\ubc95\uc785\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c TAG \uc900\uc218 \uac00\ubcc0 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ub354 \uae4a\uc740 \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uac00\ubcc0 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 PTV Visum\uc73c\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'TAG \uc900\uc218 \uac00\ubcc0 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0\uc11c \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uace0 \uc800\ud76c \uacfc\uc815\uc778 "\uac70\uc2dc\uc801 \ubaa8\ub378\ub9c1 \uc18c\uac1c with PTV Visum" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc758 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uc9c0\uc2dd\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\uc911\ucca9 \ub85c\uc9d3 \uc811\uadfc\ubc95\uc744 \uac00\uc9c4 \uc218\uc694 \ubaa8\ub378","\uc808\ucc28\uc758 \uc6d0\ub9ac\uc640 \uc18d\uc131","\uc120\ud0dd \ubaa8\ub378 \uad6c\uc870","\ud6a8\uc6a9 \ud568\uc218","\uc2a4\ucf00\uc77c\ub9c1 \ub9e4\uac1c\ubcc0\uc218","\uac2d \uacc4\uc0b0 \ubc0f \ubaa8\ub378 \ubc18\ubcf5","\ub9e4\ud2b8\ub9ad\uc2a4 \uc5f0\uc0b0"]},"tr-t0122":{title:"Visum \uc7a5\uac70\ub9ac \ud654\ubb3c",code:"TR-T0122",product:"Visum",level:"Advanced",image:qle,description:"\ub9e4\uc6b0 \ud070 \uc9c0\uc5ed\uc744 \ud3ec\uad04\ud558\ub294 \uc7a5\uac70\ub9ac \ud654\ubb3c \uad50\ud1b5\uc744 \ubaa8\ub378\ub9c1\ud560 \ub54c \uc138 \uac00\uc9c0 \uacfc\uc81c\ub97c \uace0\ub824\ud574\uc57c \ud569\ub2c8\ub2e4.",content:"\uccab\uc9f8, \ud1b5\ud589\uc758 \uc9c0\ub9ac\uc801 \ubd84\ud3ec\ub294 \uc0dd\uc0b0 \ubc0f \uc18c\ube44 \uc704\uce58\ubfd0\ub9cc \uc544\ub2c8\ub77c \ub300\uc548\uc801 \ubb3c\ub958 \uc720\ud1b5 \uccb4\uc778 \uc120\ud0dd\uacfc \uc911\uac04 \uc720\ud1b5 \uc13c\ud130\uc758 \uc704\uce58\uc5d0\ub3c4 \uc758\uc874\ud569\ub2c8\ub2e4. \ub458\uc9f8, \uc720\ud1b5 \uccb4\uc778\uc758 \ubaa8\ub4e0 \ub2e8\uacc4\ub294 \uc5ec\ub7ec \uc218\ub2e8\uc744 \ub2e4\uc911 \uad6c\uac04 \uc6b4\uc1a1\uc73c\ub85c \uacb0\ud569\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc14b\uc9f8, \ubaa8\ub378\uc758 \ub300\uaddc\ubaa8 \uaddc\ubaa8\ub294 \ud070 \uc874\uc73c\ub85c \uc774\uc5b4\uc838 \uc874 \ub0b4\ubd80 \uad50\ud1b5\uc758 \uc0c1\ub2f9\ud55c \ube44\uc911\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \uc774 2\uc77c \uacfc\uc815\uc5d0\uc11c\ub294 \ubaa9\uc801\uc9c0 \uc120\ud0dd\uc744 \uc720\ud1b5 \ucc44\ub110 \ubaa8\ub378\ub85c \uc77c\ubc18\ud654\ud558\uace0 \ub2e4\uc911 \ubaa8\ub4dc \uc6b4\uc1a1\uc744 \uc704\ud55c \uc218\ub2e8 \uc21c\uc11c \uc120\ud0dd \ubaa8\ub378\uc744 \ub3c4\uc785\ud558\uc5ec 4\ub2e8\uacc4 \ubaa8\ub378\uc744 \uc801\uc751\uc2dc\ud0a4\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\ub4dc\ub9bd\ub2c8\ub2e4. \uc874 \ub0b4\ubd80 \uad50\ud1b5\uc5d0\ub294 \ub2e8\uc21c\ud654\ub41c \uac70\ub9ac \ubc34\ub4dc \ubaa8\ub378\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ub354 \uae4a\uc740 \ud1b5\ucc30\ub825\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 \uc7a5\uac70\ub9ac \ud654\ubb3c \ubaa8\ub378\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uacfc\uc815\uc778 "PTV Visum \u2013 4\ub2e8\uacc4 \uad50\ud1b5 \ubaa8\ub378 \uc0dd\uc131" (TR-T0109)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc758 \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uc9c0\uc2dd\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ub2e4\uc911 \ubaa8\ub4dc \ubc30\uc815 \ubc0f \uc720\ud1b5 \uc13c\ud130 \uc120\ud0dd \ubaa8\ub378\ub9c1\uc744 \ud3ec\ud568\ud55c \uc7a5\uac70\ub9ac 4\ub2e8\uacc4 \ud654\ubb3c \uc218\uc694 \ubaa8\ub378 \uc608\uc81c \uc0dd\uc131","\ud654\ubb3c \ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98","\uad50\ud1b5 \uc2dc\uc2a4\ud15c, \uc218\ub2e8, \uc218\uc694 \ubaa8\ub378 \uc138\uadf8\uba3c\ud2b8","\ub9c1\ud06c \uc720\ud615, \ub9c1\ud06c, \ub124\ud2b8\uc6cc\ud06c","\uc874 \uccb4\uacc4, \uad6c\uc870 \ub370\uc774\ud130","\ud654\ubb3c\uc6a9 \uc2a4\ud0b4 \ub9e4\ud2b8\ub9ad\uc2a4","\uacbd\ub85c \uc21c\uc11c","\ub2e4\uc911 \ubaa8\ub4dc \uc6b4\uc1a1","\uacbd\uc81c \ubd80\ubb38 \ubc0f \uc720\ud1b5 \uccb4\uc778 \uad6c\uac04","\ud654\ubb3c \ubaa8\ub378 \uc808\ucc28 \uc21c\uc11c"]},"tr-t0124":{title:"Visum \ubc30\ucd9c\uac00\uc2a4",code:"TR-T0124",product:"Visum",level:"Advanced",image:qle,description:"\ub300\uae30 \uc624\uc5fc \uc81c\uc5b4\uc640 \uc18c\uc74c \uacf5\ud574\ub294 \ubaa8\ub4e0 \uc0ac\ub78c\uc758 \uad00\uc2ec\uc0ac\uc774\uba70 \uac00\uc7a5 \ud070 \uacfc\uc81c \uc911 \ud558\ub098\uc785\ub2c8\ub2e4. \ub3c4\uc2dc, \uc9c0\ubc29\uc790\uce58\ub2e8\uccb4, \uc785\ubc95\ubd80\ubfd0\ub9cc \uc544\ub2c8\ub77c \uc790\ub3d9\ucc28 \uc81c\uc870\uc5c5\uccb4 \ubc0f \ubaa8\ube4c\ub9ac\ud2f0\uc640 \uad00\ub828\ub41c \uae30\ud0c0 \uc774\ud574\uad00\uacc4\uc790\ub4e4\uc774 \uad6d\uac00 \ubc0f \uad6d\uc81c \ubaa9\ud45c\ub97c \ub2ec\uc131\ud558\uace0 \uc870\uce58\ub97c \uc2dc\ud589\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \uc9d1\uc911\uc801\uc73c\ub85c \uc791\uc5c5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",content:"\uc774 1\uc77c \uacfc\uc815\uc5d0\uc11c\ub294 \uc18c\uc74c\uacfc \ub300\uae30\uc640 \uad00\ub828\ub41c \ubc30\ucd9c\uc758 \uae30\ubcf8 \uc0ac\ud56d\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \ub3c5\uc77c \uc5f0\ubc29\ud658\uacbd\uccad\uc5d0\uc11c \ubc1c\ud589\ud55c \ubc30\ucd9c \uacc4\uc218 \ud578\ub4dc\ubd81(HBEFA)\uc744 \uae30\ubc18\uc73c\ub85c PTV Visum\uc5d0\uc11c \uc2b9\uac1d \ubc0f \ud654\ubb3c \uad50\ud1b5\uc758 \uc624\uc5fc \ubb3c\uc9c8 \ubc30\ucd9c\uc744 \uacc4\uc0b0\ud558\ub294 \uac00\ub2a5\uc131\uc744 \ubcf4\uc5ec\ub4dc\ub9bd\ub2c8\ub2e4. \ub610\ud55c RLS-19(\ub3c4\ub85c \uc18c\uc74c \ubcf4\ud638 \uc9c0\uce68, 2019\ub144\ud310, FGSV \ubc1c\ud589)\ub97c \uae30\ubc18\uc73c\ub85c \ub3c4\ub85c \ubc30\ucd9c\uc6d0\uc5d0 \ub300\ud55c \uc18c\uc74c \ubc30\ucd9c \uacc4\uc0b0 \ubc0f \ubc30\ucd9c \uc9c0\ub3c4\ub97c \uc0dd\uc131\ud558\uace0 \uc18c\uc74c \uc800\uac10 \uacc4\ud68d\uc744 \ub9cc\ub4e4 \uac00\ub2a5\uc131\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c PTV Visum\uc744 \uc0ac\uc6a9\ud55c \ubc30\ucd9c \uacc4\uc0b0\uc758 \uc774\ub860\uacfc \uc2e4\uc81c \uc608\uc81c\uc5d0 \ub300\ud55c \uc18c\uac1c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uad50\ud1b5 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc744 \uc774\ubbf8 \uc5bb\uace0 \ubc30\ucd9c \uacc4\uc0b0\uc73c\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uc11d\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc77c\ubd80 \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ubc30\ucd9c\uc5d0 \ub300\ud55c \uc77c\ubc18\uc801 \ub0b4\uc6a9 - \uc8fc\uc81c\uc5d0 \ub300\ud55c \uac04\ub2e8\ud55c \uc18c\uac1c\uc640 PTV Visum\uc5d0\uc11c\uc758 \uac00\ub2a5\uc131 \ubc0f \ud55c\uacc4","HBEFA\uc5d0 \ub530\ub978 \ubc30\ucd9c \uacc4\uc0b0 - \ubc30\uc815 \uacb0\uacfc\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \uc790\ub3d9\ucc28 \ubc0f \ud2b8\ub7ed\uc758 \ubc30\ucd9c \uacc4\uc0b0, \uc2dc\uac04\ud45c \ub370\uc774\ud130\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \uc815\uae30 \ub300\uc911\uad50\ud1b5 \ubc84\uc2a4\uc758 \ubc30\ucd9c \uacc4\uc0b0, \uc874 \ub370\uc774\ud130\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \ub0c9\uc2dc\ub3d9 \ucd08\uacfc \ubc30\ucd9c \uacc4\uc0b0, \ud1b5\uacc4\uc801 \uacc4\uc0b0(\ubd84\uc11d\uc801 \uc2dc\uac04 \uac04\uaca9\uc774 \uc544\ub2d8), \uc0c1\uc138 \ubd84\uc11d\uc744 \ub9cc\ub4e4\uae30 \uc704\ud55c \uc218\uc694 \uc138\uadf8\uba3c\ud2b8 \ubc0f \uad50\ud1b5 \uc2dc\uc2a4\ud15c\uc758 \uc815\uc758 \ubc0f \uc815\uc81c, \uc2dc\ub098\ub9ac\uc624 \ube44\uad50","RLS-19\uc5d0 \ub530\ub978 \uc18c\uc74c \uacc4\uc0b0(\ub3c4\ub85c \ubc30\ucd9c\uc6d0) - \uc18c\uc74c \uacc4\uc0b0\uc744 \uc704\ud55c \uc815\uc758, \ubc30\uc815 \uacb0\uacfc\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \uc18c\uc74c \uacc4\uc0b0, \uc18c\uc74c \ubc30\ucd9c \uc9c0\ub3c4 \ud45c\uc2dc, \uc18c\uc74c \uc800\uac10 \uacc4\ud68d \ud45c\uc2dc(\uc2dc\ub098\ub9ac\uc624 \ube44\uad50)"]},"tr-t0125":{title:"Visum ICA SBA",code:"TR-T0125",product:"Visum",level:"Advanced",image:qle,description:"\ub178\ub4dc\uc5d0 \ub300\ud55c \ud604\uc2e4\uc801\uc778 \uc784\ud53c\ub358\uc2a4 \ubaa8\ub378\ub9c1\uc740 \ud68c\uc804 \uac04\uc758 \ucda9\ub3cc\uc744 \uc62c\ubc14\ub974\uac8c \uc2dd\ubcc4\ud560 \uc218 \uc788\ub294 \ubc29\uc2dd\uc73c\ub85c \ub178\ub4dc\ub97c \uc0c1\uc138\ud788 \ubaa8\ub378\ub9c1\ud558\ub294 \uac83\uc744 \uc804\uc81c\ub85c \ud569\ub2c8\ub2e4.",content:"Visum\uc73c\ub85c \uc62e\uae30\uba74 \uc774\ub294 \uc774\ub7ec\ud55c \ub178\ub4dc\uc5d0 \ub300\ud574 \uad50\ucc28\ub85c \ud3b8\uc9d1\uae30\uc5d0\uc11c \uae30\ud558\ud559\uacfc \uc81c\uc5b4\ub97c \ubaa8\ub378\ub9c1\ud574\uc57c \ud568\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \uadf8 \ud6c4 \uad50\ucc28\ub85c \uc6a9\ub7c9 \ubd84\uc11d(ICA)\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud68c\uc804\uc758 \uc815\ud655\ud55c \uc784\ud53c\ub358\uc2a4\uc640 \uc6a9\ub7c9\uc744 \uacc4\uc0b0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ub3d9\uc801 \ubc30\uc815(SBA)\uc740 \ub178\ub4dc \uc784\ud53c\ub358\uc2a4\ub97c \uace0\ub824\ud558\uace0 \uc0ac\uc6a9\uc790\uac00 \uc2dc\uac04\uc5d0 \ub530\ub978 \ub300\uae30\uc5f4\uc758 \ud615\uc131\uacfc \ud574\uc18c\ub97c \ubaa8\ub378\ub9c1\ud560 \uc218 \uc788\uac8c \ud558\ub294 \ub3d9\uc801 \ubc30\uc815 \uc808\ucc28\uc785\ub2c8\ub2e4. \uacf5\uae09\uacfc \uc218\uc694\ub294 \uc2dc\uac04\uc5d0 \ub530\ub77c \ubcc0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Visum\uc758 \ub2e4\ub978 \ub3d9\uc801 \ubc30\uc815 \uc808\ucc28\uc640 \ub2ec\ub9ac \ub124\ud2b8\uc6cc\ud06c\ub294 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uae30\ubc18\uc73c\ub85c \uc218\uc694\uc640 \ud568\uaed8 \ub85c\ub4dc\ub429\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uad50\ucc28\ub85c \uc784\ud53c\ub358\uc2a4 \uae30\ubc18 \uace0\uc18d\ub3c4\ub85c \ubc30\uc815 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \ub354 \uae4a\uc740 \ud1b5\ucc30\ub825\uc744 \uac00\uc9c4 \uacbd\ud5d8 \uc788\ub294 \uc0ac\uc6a9\uc790\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. PTV Visum\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 \uace0\uc18d\ub3c4\ub85c \ubc30\uc815 \ubaa8\ub378\uc758 \uc6d0\ub9ac\uc5d0 \uc775\uc219\ud55c \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uace0\uc18d\ub3c4\ub85c \ubc30\uc815 \ubaa8\ub378\ub9c1\uc5d0\uc11c \uc77c\ubd80 \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\uad50\ucc28\ub85c \uc6a9\ub7c9 \ubd84\uc11d(ICA) - \uc6d0\ub9ac\uc640 \uae30\ubcf8 \uc0ac\ud56d, ICA \ub178\ub4dc\ub97c \uc704\ud55c \uad50\ucc28\ub85c \ucf54\ub529, ICA \ubc30\uc815 \uc808\ucc28, \uc218\ub834 \uae30\uc900, \uc785\ub825 \ubc0f \ucd9c\ub825 \uc18d\uc131, ICA \uacb0\uacfc \uc774\ud574","\uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ubc30\uc815(SBA) - \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ub3d9\uc801 \ubc30\uc815\uc758 \ub2e8\uacc4, \uacbd\ub85c \uac80\uc0c9, \ubcfc\ub968 \uade0\ud615, \uc2dc\ubbac\ub808\uc774\uc158 \ubc0f \ub124\ud2b8\uc6cc\ud06c \ub85c\ub529, \uc785\ub825 \ubc0f \ucd9c\ub825 \uc18d\uc131, \ubc30\uc815 \ud3c9\uac00"]},"tr-t0126":{title:"PTV Visum - \ubaa8\ub378\ub7ec\ub97c \uc704\ud55c ABM \uad50\uc721",code:"TR-T0126",product:"Visum",level:"Advanced",image:qle,description:"\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 PTV Visum\uc73c\ub85c \ud65c\ub3d9 \uae30\ubc18 \ubaa8\ub378(ABM)\uc744 \uad6c\ucd95\ud558\ub294 \ubc29\ubc95, \ud544\uc694\ud55c \ub370\uc774\ud130, \uc0ac\uc6a9 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\uc608\uc81c\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud569\uc131 \uc778\uad6c\ub97c \uc0dd\uc131\ud558\uace0, \uc801\uc808\ud55c \uc120\ud0dd \ubaa8\ub378\uc744 \uac1c\ubc1c\ud558\uba70, \ucc98\uc74c\ubd80\ud130 \ub05d\uae4c\uc9c0 \uc608\uc81c \ubaa8\ub378\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4. \ub610\ud55c \ubaa8\ub378\uc5d0\uc11c \ud14c\uc2a4\ud2b8\ud560 \uc815\ucc45 \uc9c8\ubb38\uc744 \uac1c\ubc1c\ud558\uace0 \uacb0\uacfc\ub97c \ubd84\uc11d\ud558\uace0 \uc2dc\uac01\ud654\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"PTV Visum\uc5d0 \ub300\ud55c \uacbd\ud5d8\uc774 \uc788\uace0 4\ub2e8\uacc4 \uc218\uc694 \ubaa8\ub378\uc758 \uc124\uc815 \ub2e8\uacc4\ub97c \uc774\ud574\ud558\ub294 \ubaa8\ub378\ub7ec. PTV Visum\uc5d0\uc11c ABM\uc744 \ud611\ub825\ud558\uace0 \uac1c\ubc1c\ud558\uac8c \ub429\ub2c8\ub2e4. \uc0ac\uc6a9\uc790 \uc778\ud130\ud398\uc774\uc2a4\uc640 \ubaa9\ub85d \ubc0f \uac1d\uccb4\ub97c \ud1b5\ud55c \ub370\uc774\ud130 \ucc98\ub9ac\uc5d0 \uc775\uc219\ud558\uc2dc\uba74 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.",prerequisites:"PTV Visum\uc5d0 \ub300\ud55c \uacbd\ud5d8\uacfc \uc218\uc694 \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc774\ud574",duration:"1\uc77c",contents:["01. \ubc29\ubc95\ub860 - \uc6cc\ud06c\ud50c\ub85c, \uad6c\uc870 \ubc0f \uc778\uad6c \ub370\uc774\ud130, \uc120\ud0dd \ubaa8\ub378, \uc548\uc815\uc801\uc778 ABM, \uc7a5\ub2e8\uc810","02. \ub124\ud2b8\uc6cc\ud06c, \uad6c\uc870 \ub370\uc774\ud130 \ubc0f \ub9e4\uac1c\ubcc0\uc218 - \ud65c\ub3d9 \uc704\uce58\ub85c\uc758 \ube44\uc9d1\uacc4, \uc5f0\uacb0\uc120, \ubc30\uc815, \uc2dc\uac04\ubcc4 \uc2a4\ud0b4","03. \ud569\uc131 \uc778\uad6c - PopulationSim \uc124\uce58, \uad6c\uc131, \ud589\ub3d9 \ub370\uc774\ud130, PTV Visum\uc73c\ub85c \uac00\uc838\uc624\uae30","04. \ub9e4\uac1c\ubcc0\uc218\ud654 - \ud6a8\uc6a9 \uc815\uc758, \uac70\uc2dc\uc801 \ubaa8\ub378\uc5d0\uc11c \ub9e4\uac1c\ubcc0\uc218 \ucc44\ud0dd","05. \uc608\uc81c \uacc4\uc0b0 - \uae30\ubcf8 \uc608\uc81c, \uc2dc\ub098\ub9ac\uc624, \uc548\uc815\uc801\uc778 \uacc4\uc0b0","06. \ubcf4\uc815","07. \ubd84\uc11d \ub3c4\uad6c"]},"tr-t0130":{title:"PTV Visum \u2013 SBA\ub97c \uc0ac\uc6a9\ud55c \ud558\uc774\ube0c\ub9ac\ub4dc \uac70\uc2dc-\uc911\uc2dc \uace0\uc18d\ub3c4\ub85c \ubc30\uc815",code:"TR-T0130",product:"Visum",level:"Advanced",image:qle,description:"\ub178\ub4dc\uc5d0 \ub300\ud55c \ud604\uc2e4\uc801\uc778 \ubaa8\ub378\ub9c1\uc740 \ud68c\uc804 \uac04\uc758 \ucda9\ub3cc\uc744 \uc62c\ubc14\ub974\uac8c \uc2dd\ubcc4\ud560 \uc218 \uc788\ub3c4\ub85d \ubaa8\ub378\ub9c1\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4.",content:"Visum \ub9e5\ub77d\uc5d0\uc11c \uc774\ub294 \uad00\ub828 \uc81c\uc5b4\uc640 \uae30\ud558\ud559\uc774 \uad50\ucc28\ub85c \ud3b8\uc9d1\uae30\uc5d0\uc11c \ubaa8\ub378\ub9c1\ub418\uc5b4\uc57c \ud568\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uc138\ubd80 \uc0ac\ud56d\uc774 \uc900\ube44\ub418\uba74 \uad50\ucc28\ub85c \uc6a9\ub7c9 \ubd84\uc11d(ICA)\uacfc SBA\ub97c \uc0ac\uc6a9\ud55c \uc911\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ub3d9\uc801 \ubc30\uc815(SBA)\uc740 \ub2e8\uc21c\ud654\ub41c \ucc28\ub7c9 \ucd94\uc885 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc218\uc694\ub97c \ub85c\ub4dc\ud558\ub294 \ub3d9\uc801 \ubc30\uc815 \uc808\ucc28\uc785\ub2c8\ub2e4. \uc774 \uc808\ucc28\ub294 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\uacfc \uc218\uc694\uac00 \ub3d9\uc801 \uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8\uc5d0 \uc801\ud569\ud558\uac8c \ubaa8\ub378\ub9c1\ub41c \uc911\uac04 \uaddc\ubaa8 \ubc0f \ub300\uaddc\ubaa8 \ub124\ud2b8\uc6cc\ud06c\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4. \ucd5c\uadfc \uac1c\ubc1c\ub41c \uac83\uc740 SBA\ub97c \uc0ac\uc6a9\ud55c \ud558\uc774\ube0c\ub9ac\ub4dc \uac70\uc2dc-\uc911\uc2dc \ubc30\uc815\uc744 \ud5c8\uc6a9\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \uc774 \uae30\ub2a5\uc740 \uc911\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158\uc774 \uc0ac\uc6a9\ub418\ub294 \uacf3\uc5d0\uc11c\ub9cc \ucd94\uac00 \uad50\ucc28\ub85c(\ub178\ub4dc) \uc138\ubd80 \uc0ac\ud56d\uc744 \uc694\uad6c\ud558\ub294 \uc720\uc5f0\uc131\uc744 \uac00\uc9c4 \ub300\uaddc\ubaa8 \ub3d9\uc801 \ubaa8\ub378\uc744 \uc0dd\uc131\ud560 \uac00\ub2a5\uc131\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.",targetGroup:"\uace0\uc18d\ub3c4\ub85c \ubc30\uc815\uc774\ub098 \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158\uc5d0 \uc775\uc219\ud55c \uad50\ud1b5 \ubaa8\ub378\ub7ec\ub85c\uc11c \uc911\uc2dc\uc801 \ubaa8\ub378\ub9c1\uc774 \uc6cc\ud06c\ud50c\ub85c\ub97c \uac1c\uc120\ud558\ub294 \ubc29\ubc95 \ubc0f/\ub610\ub294 \ud558\uc774\ube0c\ub9ac\ub4dc \uac70\uc2dc-\uc911\uc2dc \ubaa8\ub378\ub9c1\uc744 \ub300\uaddc\ubaa8\ub85c \uc801\uc6a9\ud558\ub294 \ubc29\ubc95\uc5d0 \uad00\uc2ec\uc774 \uc788\ub294 \ubd84\ub4e4. PTV Visum\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \uc774\ubbf8 \uc788\uace0 \uace0\uc18d\ub3c4\ub85c \ubc30\uc815 \ubaa8\ub378\uc758 \uc6d0\ub9ac\uc5d0 \uc775\uc219\ud55c \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uace0\uc18d\ub3c4\ub85c \ubc30\uc815 \ubaa8\ub378\ub9c1\uc5d0\uc11c \uc77c\ubd80 \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\uc744 \uc5bb\uc73c\uc168\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["PTV Visum\uc5d0\uc11c \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ubc30\uc815 \uc18c\uac1c","\ubaa8\ub378 \uac1c\ubc1c \uc6cc\ud06c\ud50c\ub85c \uc124\uba85"]},"tr-t0140":{title:"PTV Visum - \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac: \uad50\ud1b5 \uc608\uce21\uc744 \uc704\ud55c \ud301\uacfc \uc694\ub839 (PL)",code:"TR-T0140",product:"Visum",level:"Intermediate",image:qle,description:"\uad50\uc721\uc740 \ud604\ub300\uc801\uc778 \uad50\ud1b5 \uc608\uce21 \ud615\ud0dc\ub85c\uc11c \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790\ub97c \uc81c\uc2dc\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4.",content:"\uad50\uc721\uc5d0\uc11c\ub294 \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790 \ub3c4\uad6c\uac00 \uad50\ud1b5 \uc608\uce21 \ud504\ub85c\uc138\uc2a4\ub97c \uac00\uc18d\ud654\ud558\ub294 \ubc29\ubc95\uacfc \ud504\ub85c\uc81d\ud2b8\uc758 \uac00\ub3c5\uc131\uacfc \uc81c\uc5b4\ub97c \uc99d\uac00\uc2dc\ud0a4\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \uad50\uc721 \uc911\uc5d0\ub294 \ub3c4\uad6c\uc758 \ubaa8\ub4e0 \uc635\uc158\uacfc \uae30\ub2a5\uc774 \ub17c\uc758\ub418\uba70, \uadf8 \ub2e4\uc74c \uac01\uac01\uc744 \ud568\uaed8 \uc5f0\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 PTV Visum\uc5d0\uc11c \uad6c\ucd95\ub41c \uad50\ud1b5 \uac70\uc2dc \ubaa8\ub378 \uc791\uc5c5 \uacbd\ud5d8\uc774 \uc788\uc9c0\ub9cc \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790\ub97c \uc9c0\uae08\uae4c\uc9c0 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc558\uac70\ub098 \uc81c\ud55c\uc801\uc73c\ub85c \uc0b0\ubc1c\uc801\uc73c\ub85c \uc0ac\uc6a9\ud55c \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:"PTV Visum\uc5d0\uc11c \uc5ec\ud589 \ubaa8\ub378\ub9c1 \uae30\ubcf8 \uc0ac\ud56d(\uacf5\uae09 \ubc0f \uc218\uc694 \ubaa8\ub378 \uad6c\ucd95)\uc5d0 \ub300\ud55c \uc9c0\uc2dd, \uad50\ud1b5 \uc608\uce21 \uad6c\ucd95\uc5d0 \ub300\ud55c \uae30\ubcf8 \uacbd\ud5d8.",duration:"1\uc77c",contents:["\uad50\ud1b5 \uc608\uce21\uc744 \uad6c\uc131\ud558\ub294 \uc694\uc18c","\uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790(SM) \u2013 \uc18c\uac1c \ubc0f \ud604\uc7ac \uc791\uc5c5\uc5d0\uc11c\uc758 \uc801\uc6a9","\uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790(SM)\uc5d0\uc11c \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131","SM \uc635\uc158\uacfc \uae30\ub2a5, \uc694\uc18c \uac04 \uad00\uacc4\uc758 \uc6d0\ub9ac","\uae30\ubcf8 \ubaa8\ub378 \uae30\ub2a5","\uc218\uc815, \uc808\ucc28 \ubc0f \uadf8\ub798\ud53d \ub808\uc774\uc544\uc6c3","\uc2dc\ub098\ub9ac\uc624 \uad6c\ucd95","\ub2e4\ub978 \uc2dc\ub098\ub9ac\uc624 \uac04 \uad50\ud1b5 \ubd84\ud3ec \uacb0\uacfc \ube44\uad50","\uae00\ub85c\ubc8c \uad50\ud1b5 \ub9e4\uac1c\ubcc0\uc218(\uc608: \uad50\ud1b5 \uc791\uc5c5 \uad00\ub828) \uc0dd\uc131 \ubc0f \uc2dc\ub098\ub9ac\uc624 \uac04 \ube44\uad50","\ud301\uacfc \uc694\ub839"]},"tr-t0141":{title:"PTV Visum - \uad50\ud1b5 \ubaa8\ub378 \uad6c\ucd95 \ud504\ub85c\uc138\uc2a4 \uc790\ub3d9\ud654 (PL)",code:"TR-T0141",product:"Visum",level:"Intermediate",image:qle,description:"\uad50\uc721\uc740 \ud1b5\uc2e0 \ub124\ud2b8\uc6cc\ud06c \uad6c\ucd95\uacfc \uc218\uc694 \ubaa8\ub378\uc758 \uc120\ud0dd\ub41c \uc694\uc18c\uc778 \uc124\uba85 \ubcc0\uc218, \ubcc0\ud654 \uc9c0\ud45c\ub97c \uc790\ub3d9\ud654\ud558\ub294 \uc2e4\uc6a9\uc801 \uc9c0\uc2dd\uacfc \ubc29\ubc95\uc744 \uc81c\uc2dc\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4.",content:"\ubc29\ubc95 \uc790\uccb4\ub97c \ud559\uc2b5\ud558\ub294 \uac83 \uc678\uc5d0\ub3c4 \uc7a5\ub2e8\uc810\uc774 \ub17c\uc758\ub420 \uac83\uc785\ub2c8\ub2e4. \uad50\uc721 \ub355\ubd84\uc5d0 \uad50\ud1b5 \ubaa8\ub378 \uad6c\ucd95 \ud504\ub85c\uc138\uc2a4\ub97c \uac00\uc18d\ud654\ud558\ub294 \ubc29\ubc95\ubfd0\ub9cc \uc544\ub2c8\ub77c \ubb34\uc5c7\ubcf4\ub2e4\ub3c4 \ubaa8\ub378\uc758 \uac00\ub3c5\uc131\uacfc \uadf8 \uc694\uc18c\uc758 \uc81c\uc5b4 \uc218\uc900\uc744 \ud5a5\uc0c1\uc2dc\ud0a4\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud558\uac8c \ub429\ub2c8\ub2e4.",targetGroup:'\uc774 \uacfc\uc815\uc740 PTV Visum\uc5d0\uc11c \uad6c\ucd95\ub41c \uad50\ud1b5 \uac70\uc2dc \ubaa8\ub378 \uc791\uc5c5 \uacbd\ud5d8\uc774 \uc788\ub294 \uc0ac\uc6a9\uc790, \uc989 "\uc77c\uc0c1\uc801\uc73c\ub85c" \uad50\ud1b5 \ubaa8\ub378\uacfc \uc608\uce21\uc744 \uad6c\ucd95\ud558\ub294 \uc0ac\ub78c\ub4e4\uc744 \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.',prerequisites:"PTV Visum\uc5d0\uc11c \ubaa8\ub378 \ub124\ud2b8\uc6cc\ud06c \uad6c\ucd95 \ubc0f \ub9e4\uac1c\ubcc0\uc218\ud654, \uc5ec\ud589 \ubaa8\ub378\ub9c1 \ud504\ub85c\uc138\uc2a4\uc5d0\uc11c \uad50\ud1b5 \uc218\uc694 \ubaa8\ub378\uc744 \uc704\ud55c \uc124\uba85 \ubcc0\uc218\uc758 \uc5ed\ud560 \uc774\ud574.",duration:"1\uc77c",contents:["PTV VISUM\uc5d0\uc11c \uc5ec\ud589 \ubaa8\ub378\ub9c1 \ud504\ub85c\uc138\uc2a4\uc5d0\uc11c \uc790\ub3d9\ud654\uc758 \uc5ed\ud560","\uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131(UDA)",'"\uc218\ub3d9" \uc608\uce21 \uc218\uc815 \ub3c4\uc785 \uac00\ub2a5\uc131\uacfc \ud568\uaed8 \uae30\uc874 \uc0c1\ud0dc\uc5d0\uc11c \uc790\ub3d9 \ub124\ud2b8\uc6cc\ud06c \ub9e4\uac1c\ubcc0\uc218\ud654',"\uc608\uce21 \uc9c0\ud3c9\uc120\uc744 \uc704\ud55c \ub124\ud2b8\uc6cc\ud06c \ub9e4\uac1c\ubcc0\uc218\ud654 \uc790\ub3d9\ud654","\uad50\ud1b5 \uc218\uc694 \ubaa8\ub378\uc744 \uc704\ud55c \uc124\uba85 \ubcc0\uc218\uc758 \uc790\ub3d9 \uacc4\uc0b0 \ubc0f \uc5c5\ub370\uc774\ud2b8 \ubc29\ubc95","\uc608\uce21 \uc9c0\ud3c9\uc120\uc5d0\uc11c \uad50\ud1b5 \uc218\uc694 \ubaa8\ub378\uc744 \uc704\ud55c \uc124\uba85 \ubcc0\uc218 \uac12\uc758 \uc790\ub3d9 \uacb0\uc815 \ubc29\ubc95"]},"tr-t0151":{title:"PTV Visum - \uc18c\uac1c (US)",code:"TR-T0151",product:"Visum",level:"Basic",image:qle,description:"\uc774 8\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c \ucc38\uac00\uc790\ub4e4\uc740 PTV Visum\uc5d0\uc11c \uac1c\uc778 \uad50\ud1b5 \uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\uc744 \uc124\uc815\ud558\ub294 \uae30\ubcf8 \ud504\ub85c\uc138\uc2a4\ub97c \ud0d0\uad6c\ud569\ub2c8\ub2e4.",content:"\uc644\ub8cc \ud6c4 \ucc38\uac00\uc790\ub4e4\uc740 \ub124\ud2b8\uc6cc\ud06c\uc758 \uae30\ud558\ud559\uc744 \uad6c\ucd95\ud558\uace0, \uc218\uc694\ub97c \uad6c\uc131\ud558\uba70, \ud1b5\ud589 \ubc30\uc815\uc744 \uc2e4\ud589\ud558\uace0, \ubc30\uc815\uc744 \ubcf4\uc815\ud558\uba70, \ub370\uc774\ud130\ub97c \ud3c9\uac00\ud558\ub294 \ubc29\ubc95\uc744 \uc774\ud574\ud558\uac8c \ub429\ub2c8\ub2e4.",targetGroup:"\uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\ub7ec, \uad50\ud1b5 \uacc4\ud68d\uc790, \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4",prerequisites:"\uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\ub9c1 \ub610\ub294 \uad50\ud1b5 \uacc4\ud68d \ubc30\uacbd.",duration:"8\uc2dc\uac04 (4\uc2dc\uac04\uc529 \ub450 \uc138\uc158\uc73c\ub85c \ubd84\ud560)",contents:["\ub124\ud2b8\uc6cc\ud06c \uac1d\uccb4 \uc0dd\uc131","\ub124\ud2b8\uc6cc\ud06c \uac1d\uccb4\uc758 \uc18d\uc131 \ud0d0\uad6c","\uc5ec\ud589 \uc218\uc694 \uc0bd\uc785 \uc5f0\uc2b5","\ud1b5\ud589 \ubc30\uc815 \uc2e4\ud589 \uc5f0\uc2b5","\ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c \uae30\ubcf8 \ubd84\uc11d \uc218\ud589","\uacb0\uacfc \uc2dc\uac01\ud654 \ud0d0\uad6c","\ub2e4\ub978 \uc2dc\ub098\ub9ac\uc624 \ube44\uad50 \uc5f0\uc2b5"]},"tr-t0152":{title:"PTV Visum - \uc815\ucc45 \uacb0\uc815\uc790\uc640 \ubaa8\ub378 \uad00\ub9ac\uc790\ub97c \uc704\ud55c ABM \uad50\uc721 (UK)",code:"TR-T0152",product:"Visum",level:"Basic",image:qle,description:"\uc774 1\uc77c \uacfc\uc815\uc5d0\uc11c\ub294 ABM\uc5d0 \ub300\ud574 \uc18c\uac1c\ubc1b\uace0, ABM\uc774 \ubb34\uc5c7\uc778\uc9c0, \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ub420 \uc218 \uc788\ub294\uc9c0, PTV Visum\uc5d0\uc11c ABM\uc774 \uc5b4\ub5bb\uac8c \uad6c\ud604\ub418\ub294\uc9c0 \uc54c\uc544\ubd05\ub2c8\ub2e4.",content:"ABM\uc5d0 \ud544\uc694\ud55c \uc785\ub825 \ub370\uc774\ud130, PTV Visum \ub0b4\uc5d0\uc11c \uad6c\uc870\ud654\ub418\ub294 \ubc29\ubc95, \uc0c1\uc138\ud558\uace0 \uc138\ubd84\ud654\ub41c \ucd9c\ub825\uc744 \uc81c\uacf5\ud558\uae30 \uc704\ud574 \ubd84\uc11d\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \ub610\ud55c \uae30\uc874 4\ub2e8\uacc4 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec PTV Visum\uc5d0\uc11c ABM\uc744 \ud655\uc7a5\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uace0, \uc774\ub7ec\ud55c \ubaa8\ub378\uc774 \ud0d0\uc0c9\ubd80\ud130 \ud3c9\uac00\uae4c\uc9c0 \ubcd1\ub82c\ub85c \uc0ac\uc6a9\ub420 \uc218 \uc788\ub294 \ubc29\ubc95\uc744 \ub17c\uc758\ud569\ub2c8\ub2e4.",targetGroup:"4\ub2e8\uacc4 \uc218\uc694 \ubaa8\ub378\ub9c1\uc758 \uac1c\ub150\uc5d0 \uc775\uc219\ud558\uace0 ABM\uc774 \uc804\ub7b5\uc801 \ubaa8\ub378\uacfc \ud568\uaed8 \uc2e4\uc81c\ub85c \uc5b4\ub5bb\uac8c \uac1c\ubc1c\ub418\uace0 \uc0ac\uc6a9\ub420 \uc218 \uc788\ub294\uc9c0 \uad81\uae08\ud55c \uc815\ucc45 \uacb0\uc815\uc790 \ub610\ub294 \ubaa8\ub378 \uad00\ub9ac\uc790. PTV Visum\uc758 \uc2e4\ubb34 \uacbd\ud5d8\uc740 \ud544\uc694\ud558\uc9c0 \uc54a\uc9c0\ub9cc, \uac00\uc0c1 \uba38\uc2e0\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc30d\uc73c\ub85c \ub530\ub77c\ud560 \uae30\ud68c\uac00 \uc788\uc2b5\ub2c8\ub2e4.",prerequisites:"\uc5c6\uc74c",duration:"1\uc77c",contents:["PTV Visum \ub0b4\uc5d0\uc11c ABM \uad6c\ud604 \ubc29\ubc95","ABM \uc0ac\uc6a9 \uc0ac\ub840","ABM\uc744 \uc704\ud55c \ub370\uc774\ud130 \uc694\uad6c\uc0ac\ud56d","\uae30\uc874 \uc804\ub7b5\uc801 4\ub2e8\uacc4 \ubaa8\ub378\uc5d0\uc11c ABM\uc73c\ub85c\uc758 \uacbd\ub85c","ABM\uc5d0\uc11c \ud3c9\uac00\ud560 \uc218 \uc788\ub294 \uc815\ucc45 \uc9c8\ubb38\uc758 \uc608","\uc9c1\uc811\uc801\uc778 Visum \uacbd\ud5d8\uc740 \ud544\uc694\ud558\uc9c0 \uc54a\uc9c0\ub9cc, \ub530\ub77c\ud558\uace0 \uc2f6\ub2e4\uba74 \uc30d\uc5d0\uac8c \uba38\uc2e0\uc774 \uc81c\uacf5\ub429\ub2c8\ub2e4","\uacfc\uc815 \ud6c4 \uad50\uc721 \uc790\ub8cc\uac00 \uc81c\uacf5\ub429\ub2c8\ub2e4"]},"tr-t0153":{title:"PTV Visum - \ubaa8\ub378\ub7ec\ub97c \uc704\ud55c ABM \uad50\uc721 (UK)",code:"TR-T0153",product:"Visum",level:"Advanced",image:qle,description:"\uc774 2\uc77c \uacfc\uc815\uc5d0\uc11c\ub294 \uc815\ucc45 \uacb0\uc815\uc790\uc640 \ubaa8\ub378 \uad00\ub9ac\uc790\ub97c \uc704\ud55c ABM \uad50\uc721\uc758 1\uc77c\ucc28\uc5d0 \ucc38\uc11d\ud569\ub2c8\ub2e4. \uccab\uc9f8 \ub0a0\uc740 PTV Visum\uc5d0\uc11c ABM\uc774 \uc5b4\ub5bb\uac8c \uad6c\uc870\ud654\ub418\ub294\uc9c0, \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ub420 \uc218 \uc788\ub294\uc9c0, \uad6c\ucd95\uc5d0 \ud544\uc694\ud55c \ub370\uc774\ud130\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.",content:"2\uc77c\ucc28\uc5d0\ub294 \uc601\uad6d\uc5d0\uc11c \ud569\uc131 \uc778\uad6c\ub97c \uc0dd\uc131\ud558\uace0, PTV ABM\uc5d0\uc11c \uc120\ud0dd \ubaa8\ub378\uc744 \uac1c\ubc1c\ud558\uba70, \ucc98\uc74c\ubd80\ud130 \ub05d\uae4c\uc9c0 \uc608\uc81c \ubaa8\ub378\uc744 \uc2e4\ud589\ud558\ub294 \uc608\uc81c\ub97c \ub530\ub77c\ud558\uace0 \uc2e4\ud589\ud569\ub2c8\ub2e4. \ub610\ud55c \ubaa8\ub378\uc5d0\uc11c \ud14c\uc2a4\ud2b8\ud560 \uc815\ucc45 \uc9c8\ubb38\uc744 \uac1c\ubc1c\ud558\uace0 \ucd9c\ub825\uc744 \ubd84\uc11d\ud558\uace0 \uc2dc\uac01\ud654\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"PTV Visum\uc5d0 \ub300\ud55c \uacbd\ud5d8\uc774 \uc788\uace0 4\ub2e8\uacc4 \uc218\uc694 \ubaa8\ub378\uc758 \uad6c\ucd95 \ub2e8\uacc4\ub97c \uc774\ud574\ud558\ub294 \ubaa8\ub378\ub7ec. \uac00\uc0c1 \uba38\uc2e0(\uad50\uc721\uc744 \uc704\ud574 \uc81c\uacf5\ub428)\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub530\ub77c\ud558\uace0 PTV Visum\uc5d0\uc11c ABM\uc744 \uac1c\ubc1c\ud558\ubbc0\ub85c \uc778\ud130\ud398\uc774\uc2a4\uc640 \ubaa9\ub85d \ubc0f \uac1d\uccb4\ub97c \ud1b5\ud55c \ub370\uc774\ud130 \uc870\uc791\uc5d0 \uc775\uc219\ud574\uc57c \ud569\ub2c8\ub2e4.",prerequisites:"PTV Visum\uc5d0 \ub300\ud55c \uacbd\ud5d8",duration:"2\uc77c",contents:["1\uc77c\ucc28: PTV Visum \ub0b4\uc5d0\uc11c ABM \uad6c\ud604 \ubc29\ubc95, ABM \uc0ac\uc6a9 \uc0ac\ub840, ABM\uc744 \uc704\ud55c \ub370\uc774\ud130 \uc694\uad6c\uc0ac\ud56d, \uae30\uc874 \uc804\ub7b5\uc801 4\ub2e8\uacc4 \ubaa8\ub378\uc5d0\uc11c ABM\uc73c\ub85c\uc758 \uacbd\ub85c, ABM\uc5d0\uc11c \ud3c9\uac00\ud560 \uc218 \uc788\ub294 \uc815\ucc45 \uc9c8\ubb38\uc758 \uc608, \uc9c1\uc811\uc801\uc778 Visum \uacbd\ud5d8\uc740 \ud544\uc694\ud558\uc9c0 \uc54a\uc9c0\ub9cc, \ub530\ub77c\ud558\uace0 \uc2f6\ub2e4\uba74 \uc30d\uc5d0\uac8c \uba38\uc2e0\uc774 \uc81c\uacf5\ub429\ub2c8\ub2e4, \uacfc\uc815 \ud6c4 \uad50\uc721 \uc790\ub8cc\uac00 \uc81c\uacf5\ub429\ub2c8\ub2e4","2\uc77c\ucc28: \uae30\uc874 \uc601\uad6d \ub370\uc774\ud130\uc138\ud2b8\uc640 \ubaa8\ub378\uc744 \ud65c\uc6a9\ud558\uc5ec ABM\uc744 \uac1c\ubc1c\ud558\ub294 \ubc29\ubc95, \uc601\uad6d \ubaa8\ub378\uc744 \uc704\ud55c \ud569\uc131 \uc778\uad6c\ub97c \uad6c\ucd95\ud558\ub294 \ubc29\ubc95, ABM\uc744 \uc704\ud55c \uc120\ud0dd \uad6c\uc870\uc640 \uad6c\ucd95 \ub2e8\uacc4, ABM\uc5d0\uc11c \uc608\uc81c\uc640 \ubd84\uc11d\uc744 \uc2e4\ud589\ud558\ub294 \ubc29\ubc95, ABM \ucd9c\ub825\uc758 \uc138\ubd84\ud654\uc640 \ubd84\uc11d, ABM \uc2dc\uac01\ud654, PTV Visum \uacbd\ud5d8\uc774 \ud544\uc694\ud558\uba70, \uc608\uc81c\ub97c \ub530\ub77c\ud558\uace0 \uc2e4\ud589\ud558\uae30 \uc704\ud574 \uac00\uc0c1 \uba38\uc2e0\uc774 \uc81c\uacf5\ub429\ub2c8\ub2e4, \uacfc\uc815 \ud6c4 \uad50\uc721 \uc790\ub8cc\uac00 \uc81c\uacf5\ub429\ub2c8\ub2e4"]},"tr-t0170":{title:"PTV Visum - \uc911\uc2dc\uc801 \ubc0f \ud558\uc774\ube0c\ub9ac\ub4dc \ubaa8\ub378\ub9c1\uc744 \uc704\ud55c \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ubc30\uc815",code:"TR-T0170",product:"Visum",level:"Advanced",image:qle,description:"\uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ub3d9\uc801 \ubc30\uc815(SBA)\uc740 \ub178\ub4dc \uc784\ud53c\ub358\uc2a4\ub97c \uace0\ub824\ud558\uace0 \uc0ac\uc6a9\uc790\uac00 \uc2dc\uac04\uc5d0 \ub530\ub978 \ub300\uae30\uc5f4\uc758 \ud615\uc131\uacfc \ud574\uc18c\ub97c \ubaa8\ub378\ub9c1\ud560 \uc218 \uc788\uac8c \ud558\ub294 \ub3d9\uc801 \ubc30\uc815 \uc808\ucc28\uc785\ub2c8\ub2e4.",content:"\uacf5\uae09\uacfc \uc218\uc694\ub294 \uc2dc\uac04\uc5d0 \ub530\ub77c \ubcc0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Visum\uc758 \ub2e4\ub978 \ub3d9\uc801 \ubc30\uc815 \uc808\ucc28\uc640 \ub2ec\ub9ac \ub124\ud2b8\uc6cc\ud06c\ub294 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uae30\ubc18\uc73c\ub85c \uc218\uc694\uc640 \ud568\uaed8 \ub85c\ub4dc\ub429\ub2c8\ub2e4. \uc774\ub294 \uac1c\ubcc4 \ucc28\ub7c9\uc774 \uc2dc\ubbac\ub808\uc774\uc158\ub418\uace0 \ucc28\ub7c9\uc774 \ubc30\uc815\ub41c \uacbd\ub85c\ub97c \ub530\ub974\ub3c4\ub85d \ud558\uae30 \uc704\ud574 \uac04\ub2e8\ud55c \ucc28\ub7c9 \ucd94\uc885 \ubaa8\ub378\uc774 \uc801\uc6a9\ub428\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \uc774 \uc808\ucc28\ub294 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\uacfc \uc218\uc694\uac00 \ub3d9\uc801 \uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8\uc5d0 \uc801\ud569\ud558\uac8c \ubaa8\ub378\ub9c1\ub41c \uc911\uac04 \uaddc\ubaa8 \ubc0f \ub300\uaddc\ubaa8 \ub124\ud2b8\uc6cc\ud06c\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ubaa8\ub4e0 \ubd84\uc57c\uc758 \uacbd\ud5d8 \uc788\ub294 PTV Visum \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Visum - \uac70\uc2dc\uc801 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1 \uc18c\uac1c" (TR-T0101)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Visum\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["SBA\uc758 \uae30\ubcf8 \uc0ac\ud56d \uc18c\uac1c","SBA \uc124\uc815: \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c SBA\ub97c \uc124\uc815\ud558\uace0 \uc2e4\ud589\ud558\ub294 \ud544\uc218 \ub2e8\uacc4 \ud559\uc2b5","\ud558\uc774\ube0c\ub9ac\ub4dc \uac70\uc2dc-\uc911\uc2dc \ubaa8\ub378\ub9c1: \ud3ec\uad04\uc801\uc778 \uad50\ud1b5 \ubd84\uc11d\uc744 \uc704\ud574 \uac70\uc2dc\uc801 \ubaa8\ub378\uacfc \uc911\uc2dc\uc801 \ubaa8\ub378\uc744 \uacb0\ud569\ud558\ub294 \ubc29\ubc95 \uc774\ud574","3D \uc2dc\uac01\ud654 \ubc0f SBA \uacb0\uacfc \ubd84\uc11d"]},"tr-t0202":{title:"Vissim VisVAP",code:"TR-T0202",product:"Vissim",level:"Advanced",image:Gle,description:"\uac1c\uc778 \uad50\ud1b5\uc5d0\uc11c \ub179\uc0c9 \uc2e0\ud638 \uc5f0\uc7a5\uc774\ub098 \ub300\uc911\uad50\ud1b5 \uc6b0\uc120 \uc2e0\ud638\ub97c \uc124\uacc4\ud558\uace0 \ud14c\uc2a4\ud2b8\ud558\uace0 \uc2f6\uc73c\uc2e0\uac00\uc694? \uc774 1\uc77c \uacfc\uc815\uc758 \ubaa9\uc801\uc740 PTV Vissim\uc5d0\uc11c VisVAP\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub2e4\uc591\ud55c \uc720\ud615\uc758 \ucc28\ub7c9 \uac10\uc751 \uc2e0\ud638 \uc81c\uc5b4\uc640 \uadf8 \uad6c\ud604\uc744 \ubcf4\uc5ec\ub4dc\ub9ac\ub294 \uac83\uc785\ub2c8\ub2e4.",content:"\ub610\ud55c VisVAP \uc9c0\uc2dd\uc744 \ub2e4\ub978 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ud569\ub9ac\uc801\uc778 \ubc29\uc2dd\uc73c\ub85c \uc801\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"\uad50\uc721 \uacfc\uc815: \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uc0ac\uc6a9\ud55c \ubaa8\ub378\ub9c1 \uae30\ubcf8 \uc0ac\ud56d\uacfc \uad50\ud1b5 \uc601\ud5a5 \uc5f0\uad6c \ub610\ub294 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uc218\uc900\uc758 \uacbd\ud5d8.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim \u2013 \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\uad50\ud1b5 \uac10\uc751 \uc2e0\ud638 \uc81c\uc5b4\uc758 \uc801\uc6a9 \ubd84\uc57c","\uac1c\uc778 \uad50\ud1b5\ub9cc\uc744 \uc704\ud55c \uad50\ud1b5 \uac10\uc751 \uc2e0\ud638 \uc81c\uc5b4","\ub300\uc911\uad50\ud1b5 \uc6b0\uc120 \uacc4\ud68d \uc124\uacc4","\ub2e4\ub978 \ud504\ub85c\uc81d\ud2b8 \uc720\ud615\uc744 \uc704\ud55c VisVAP \uc0ac\uc6a9"]},"tr-t0203":{title:"Vissim Viswalk\ub97c \uc0ac\uc6a9\ud55c \ud604\uc2e4\uc801\uc778 \ubcf4\ud589\uc790 \uc2dc\ubbac\ub808\uc774\uc158",code:"TR-T0203",product:"Vissim",level:"Basic",image:Gle,description:"PTV Vissim \uc2dc\ubbac\ub808\uc774\uc158\uc5d0 \ubcf4\ud589\uc790\ub97c \ud1b5\ud569\ud558\uace0 \ubcf4\ud589\uc790 \ud750\ub984\uc758 \ud604\uc2e4\uc801\uc778 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \uc704\ud55c \ub3c4\uad6c\uc778 PTV Viswalk\ub97c \uc0ac\uc6a9\ud558\uace0 \uc2f6\uc73c\uc2e0\uac00\uc694? \uc774 1\uc77c \uacfc\uc815\uc758 \ubaa9\uc801\uc740 \ubcf4\ud589\uc790 \uc2dc\ubbac\ub808\uc774\uc158\uc758 \uc774\ub860\uc801 \uc138\ubd80 \uc0ac\ud56d\uc744 \uc124\uba85\ud558\uace0 \ud504\ub85c\uc81d\ud2b8\ub97c \ud6a8\uc728\uc801\uc774\uace0 \uc131\uacf5\uc801\uc73c\ub85c \uc218\ud589\ud560 \uc218 \uc788\ub294 \ubcf4\ud589\uc790 \ud750\ub984 \ubaa8\ub378\uc744 \uac1c\ubc1c\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\ub4dc\ub9ac\ub294 \uac83\uc785\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ubaa8\ub378\uc5d0\uc11c \ubcf4\ud589\uc790\ub97c \ud604\uc2e4\uc801\uc73c\ub85c \uc2dc\ubbac\ub808\uc774\uc158\ud558\uace0\uc790 \ud558\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\uc640 \ub300\uc911\uad50\ud1b5 \uc5ed \ubc0f \uc815\ub958\uc7a5 \uacc4\ud68d\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ubcf4\ud589\uc790 \uc2dc\ubbac\ub808\uc774\uc158\uc758 \uc801\uc6a9 \ubd84\uc57c","\ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \ub4f1\uc5d0\uc11c \ub808\ubca8, \uacbd\uc0ac\ub85c, \uacc4\ub2e8, \uc5d0\uc2a4\uceec\ub808\uc774\ud130 \ubc0f \uc5d8\ub9ac\ubca0\uc774\ud130 \ubaa8\ub378\ub9c1","\ubcf4\ud589\uc790-\ucc28\ub7c9 \uc0c1\ud638\uc791\uc6a9: \ud6a1\ub2e8\ubcf4\ub3c4 \ubc0f \ud6a1\ub2e8\ubcf4\ub3c4 \uc2e0\ud638 \uc0dd\uc131","\uc2dc\ubbac\ub808\uc774\uc158\uc758 \ubcf4\uc815 \ubc0f \uac80\uc99d","\ubcf4\ud589\uc790 \uc2dc\ubbac\ub808\uc774\uc158\uc758 \ud3c9\uac00","\ud3c9\uac00 \uc218\ud589 \ubc0f \uadf8\ub798\ud53d \uc624\ubc84\ub808\uc774 \uc0dd\uc131"]},"tr-t0205":{title:"Vissim COM",code:"TR-T0205",product:"Vissim",level:"Advanced",image:Gle,description:"\uc2dc\ub098\ub9ac\uc624 \uacc4\uc0b0\uc744 \uc790\ub3d9\ud654\ud558\uac70\ub098 PTV Vissim\uc5d0\uc11c \ubaa8\ub378\ub9c1\uc774 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc758 \ud55c\uacc4\uc5d0 \ubd80\ub52a\ud788\ub098\uc694? \uc774 \uacfc\uc815\uc758 \ubaa9\uc801\uc740 COM \uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud574 PTV Vissim \uae30\ub2a5\uc744 \ud655\uc7a5\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\ub4dc\ub9ac\ub294 \uac83\uc785\ub2c8\ub2e4.",content:"\uacfc\uc815\uc740 Python\uacfc COM\uc5d0 \ub300\ud55c \uc18c\uac1c\ub85c \uc2dc\uc791\ub429\ub2c8\ub2e4. \uc218\ub9ce\uc740 \uc608\uc81c\uac00 PTV Vissim\uc5d0\uc11c COM \ud504\ub85c\uadf8\ub798\ubc0d\uc5d0 \ube60\ub974\uac8c \uc775\uc219\ud574\uc9c0\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub420 \uac83\uc785\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ubaa8\ub4e0 \ubd84\uc57c\uc758 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4. \ub610\ud55c \ud504\ub85c\uadf8\ub798\ubc0d \uacbd\ud5d8\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \uae30\ubcf8\uc801\uc778 \ud504\ub85c\uadf8\ub798\ubc0d \uc9c0\uc2dd\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 Python\uc73c\ub85c \ud504\ub85c\uadf8\ub798\ubc0d \uc608\uc81c\uc5d0 \uc911\uc810\uc744 \ub450\uace0 \uc9c4\ud589\ub429\ub2c8\ub2e4. \ucda9\ubd84\ud55c \uc77c\ubc18 \ud504\ub85c\uadf8\ub798\ubc0d \uacbd\ud5d8\uc774 \uc788\ub2e4\uba74, \uad50\uc0ac\uac00 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\ub97c \ub9c8\uc2a4\ud130\ud558\uc9c0 \ubabb\ud558\ub354\ub77c\ub3c4 \uacfc\uc815\uc744 \ub530\ub77c\uac08 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["COM \uc778\ud130\ud398\uc774\uc2a4 \uc124\uba85","\ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 Python \uc18c\uac1c","COM \ubb38\uc11c \ubc0f \uc628\ub77c\uc778 \ub3c4\uc6c0\ub9d0 \uc791\uc5c5","\uc2e4\uc81c \uc608\uc81c\ub97c \uae30\ubc18\uc73c\ub85c \uc2dc\ubbac\ub808\uc774\uc158 \uc804\ud6c4 \ubc0f \ub3c4\uc911 Vissim \uac1d\uccb4 \uc218\uc815","\ub300\uaddc\ubaa8 COM \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc704\ud55c \uc801\uc6a9 \uc608\uc81c"]},"tr-t0206":{title:"Vissim \ub3d9\uc801 \ubc30\uc815 / \uc911\uc2dc",code:"TR-T0206",product:"Vissim",level:"Advanced",image:Gle,description:"\ub354 \ud070 \ub124\ud2b8\uc6cc\ud06c\ub97c \ubaa8\ub378\ub9c1\ud574\uc57c \ud558\ub294 \uacbd\uc6b0, \uacbd\ub85c \uc120\ud0dd\uc774 \uc2e0\ud638 \uc81c\uc5b4\uc640 \uad50\ud1b5 \uc0c1\ud669\uc5d0 \uc758\uc874\ud558\ubbc0\ub85c \uacbd\ub85c \uc785\ub825\uc774 \uc2dc\uac04 \uc18c\ubaa8\uc801\uc774\uace0 \ub54c\ub85c\ub294 \uc5b4\ub824\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc2dc\ub098\ub9ac\uc624\ub9c8\ub2e4 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc758 \ubaa9\uc801\uc740 \ub3d9\uc801 \ubc30\uc815\uc774 \uc774 \uc791\uc5c5\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \ud574\uacb0\ud558\ub294 \ub370 \uc5b4\ub5bb\uac8c \ub3c4\uc6c0\uc774 \ub420 \uc218 \uc788\ub294\uc9c0 \ubcf4\uc5ec\ub4dc\ub9ac\ub294 \uac83\uc785\ub2c8\ub2e4.",content:"\ub124\ud2b8\uc6cc\ud06c \uc900\ube44\uc640 \ub3d9\uc801 \ubc30\uc815 \uc678\uc5d0\ub3c4 \uc608\uc81c\ub97c \uae30\ubc18\uc73c\ub85c \ucd94\uac00 \uc801\uc6a9 \ubd84\uc57c\uc5d0 \ub300\ud574 \ub354 \ub9ce\uc774 \ud559\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ubaa8\ub4e0 \ubd84\uc57c\uc758 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8\ub3c4 \uad8c\uc7a5\ub429\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ub3d9\uc801 \ubc30\uc815 \ubc0f \uc911\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158\uc758 \uc804\ud615\uc801\uc778 \uc801\uc6a9 \ubd84\uc57c","\uc8fc\ucc28\uc7a5, \ub178\ub4dc \ubc0f \uc5d0\uc9c0\ub97c \ud3ec\ud568\ud55c \uc2dc\ubbac\ub808\uc774\uc158 \ub124\ud2b8\uc6cc\ud06c \uc900\ube44","\ub9e4\ud2b8\ub9ad\uc2a4\ub97c \uc0ac\uc6a9\ud55c \uc218\uc694 \ubaa8\ub378\ub9c1","\uacbd\ub85c \uac80\uc0c9 \ubaa8\ub378 \ubc0f \ubaa9\uc801\uc9c0 \uc120\ud0dd \ubaa8\ub378","\uc218\ub834","\uc911\uc2dc\uc801 \uae30\ubcf8 \uc0ac\ud56d","\ud558\uc774\ube0c\ub9ac\ub4dc \uc2dc\ubbac\ub808\uc774\uc158\uc5d0\uc11c \ubbf8\uc2dc\uc801 \ubc0f \uc911\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158 \uacb0\ud569","\uc2dc\ubbac\ub808\uc774\uc158 \uacb0\uacfc \ud3c9\uac00"]},"tr-t0207":{title:"Vissim \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac, \ud3c9\uac00, \uc2dc\uac01\ud654",code:"TR-T0207",product:"Vissim",level:"Basic",image:Gle,description:'\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 \uc800\ud76c \uc785\ubb38 \uacfc\uc815\uc778 "PTV Vissim \u2013 \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0\uc11c \uac04\ub7b5\ud788 \uc124\uba85\ub41c \uc8fc\uc81c\ub97c \ub2e4\ub8e8\uace0 \ucd94\uac00 \uc774\ub860\uacfc \uc2e4\uc81c \uc608\uc81c\ub85c \ud655\uc7a5\ud569\ub2c8\ub2e4.',content:"\ub610\ud55c \uc804\ubb38\uc801\uc778 \uad50\ud1b5 \ubaa8\ub378\ub9c1\uc5d0 \ud544\uc218\uc801\uc778 PTV Vissim\uc758 \ucd94\uac00 \uae30\ub2a5\ub3c4 \ub2e4\ub8f9\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc5d0\uc11c\ub294 PTV Vissim\uc5d0\uc11c \uad50\ud1b5 \ubaa8\ub378\uc758 \uad11\ubc94\uc704\ud55c \ud3c9\uac00 \uae30\ud68c\uac00 \uac15\uc870\ub429\ub2c8\ub2e4. \ub610\ud55c \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790 \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\uc81d\ud2b8\uc758 \ud6a8\uc728\uc801\uc778 \ucc98\ub9ac\uac00 \ub610 \ub2e4\ub978 \ucd08\uc810\uc785\ub2c8\ub2e4. \uc8fc\ucc28\uc7a5 \ubaa8\ub378\ub9c1\uacfc \uc2dc\ubbac\ub808\uc774\uc158\uc5d0 \ubbf8\uce58\ub294 \uc601\ud5a5\ub3c4 \ud559\uc2b5\ud569\ub2c8\ub2e4. \uc2dc\ubbac\ub808\uc774\uc158\uc5d0\uc11c \ube44\ub514\uc624 \uc900\ube44\uc640 \ub2e4\uc591\ud55c 3D \ubaa8\ub378\uc744 \ud3ec\ud568\ud55c \uacb0\uacfc\uc758 \ub2e4\uc591\ud55c \ud504\ub808\uc820\ud14c\uc774\uc158 \uc544\uc774\ub514\uc5b4\ub3c4 \uc2dc\uc5f0\ub429\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ucd08\ubcf4\uc790\ub85c\uc11c \uc9c0\uc2dd\uc744 \uac1c\ubc1c\ud558\uace0 \uc785\ubb38/\uc18c\uac1c \uacfc\uc815\uc5d0\uc11c \ub2e4\ub8e8\uc9c0 \uc54a\ub294 Vissim \uae30\ub2a5\uc73c\ub85c \ud655\uc7a5\ud558\uace0\uc790 \ud558\ub294 \ubd84\ub4e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790","\uc8fc\ucc28\uc7a5","3D \ubaa8\ub378: \uc678\ubd80 \uc18c\uc2a4\uc5d0\uc11c \ucc28\ub7c9 \ubc0f \uae30\ud0c0 \uad6c\uc870\ubb3c \uac00\uc838\uc624\uae30","\ud3c9\uac00","PTV Vissim\uc73c\ub85c 3D \ube44\ub514\uc624 \uc0dd\uc131"]},"tr-t0208":{title:"Vissim \ub300\uc911\uad50\ud1b5 \ubc0f \ubcf4\ud589\uc790",code:"TR-T0208",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 \uc2dc\uac04\ud45c \uc900\ube44, \uc9c0\uc5f0 \uad00\ub9ac \ubc0f BRT\uc640 LRT \ubaa8\ub378\ub9c1\uc744 \ud1b5\ud574 Vissim\uc5d0\uc11c \ub300\uc911\uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c\ub97c \ubaa8\ub378\ub9c1\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\ub4dc\ub9bd\ub2c8\ub2e4.",content:"\ub2e4\uc911 \ubaa8\ub4dc \ud658\uacbd\uc5d0\uc11c \ubcf4\ud589\uc790 \ud658\uc2b9 \ud589\ub3d9\uc758 \ud1b5\ud569\uc744 \ub2e4\ub8f9\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc900\ube44 \uc678\uc5d0\ub3c4 \uc608\uc81c\ub97c \uae30\ubc18\uc73c\ub85c \ubaa8\ubc94 \uc0ac\ub840\ub97c \uc2dc\uc5f0\ud569\ub2c8\ub2e4.",targetGroup:"\ub2e4\uc911 \ubaa8\ub4dc \ud658\uacbd\uc5d0\uc11c \ub300\uc911\uad50\ud1b5\uacfc \ubcf4\ud589\uc790 \ud658\uc2b9 \ud589\ub3d9\uc744 \uc2dc\ubbac\ub808\uc774\uc158\ud558\uace0\uc790 \ud558\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4, \uad50\ud1b5 \uacc4\ud68d\uc790, \ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \ubc0f \uc5ed \uacc4\ud68d\uc790.",prerequisites:'\uc800\ud76c \uacfc\uc815\uc778 "\ud604\uc2e4\uc801\uc778 \ubcf4\ud589\uc790 \uc2dc\ubbac\ub808\uc774\uc158" (TR-T0203)\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\ub178\uc120, \uc815\ub958\uc7a5 \ubc0f \uc2e0\ud638\ub97c \ud3ec\ud568\ud55c \ub300\uc911\uad50\ud1b5 Vissim \ub124\ud2b8\uc6cc\ud06c \uac1c\ubc1c","\ubc84\uc2a4 \uace0\uc18d\uad50\ud1b5(BRT) \ubc0f \uacbd\uc804\ucca0(LRT) \ubaa8\ub378\ub9c1 \uac1c\uc694","\uc2dc\uac04\ud45c \uc900\ube44 \ubc0f \uc9c0\uc5f0 \ub300\uc751 \ucd9c\ubc1c \uad00\ub9ac","\ub2e4\ub978 \uc218\ub2e8\uacfc \ub808\ubca8 \uac04 \ubcf4\ud589\uc790 \ud658\uc2b9","\ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \ud2b9\uc131\uc5d0 \uae30\ubc18\ud55c \ucc28\ub7c9 \ubb38\uc758 \uac1c\ubc29 \uc704\uce58 \uc815\uc758","\ub300\uc911\uad50\ud1b5 \ucc28\ub7c9 \uad6c\uc131","\ud658\uc2b9 \uc815\ub958\uc7a5 \uc2b9\uac1d \uc218\uc694 \uad6c\uc131","\ub300\uc911\uad50\ud1b5 \uc6b4\uc601 \ud3c9\uac00"]},"tr-t0209":{title:"Vissim \ubcf5\uc7a1\ud55c \uc8fc\ucc28 \uc2dc\ub098\ub9ac\uc624",code:"TR-T0209",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 \ubcf5\uc7a1\ud55c \uc8fc\ucc28 \uc0c1\ud669\uacfc \uad00\ub828 \ucc28\ub7c9 \ud589\ub3d9\uc744 \ubaa8\ub378\ub9c1\ud558\uae30 \uc704\ud574 PTV Vissim\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uc635\uc158\uc744 \ubcf4\uc5ec\ub4dc\ub9bd\ub2c8\ub2e4.",content:"\uc8fc\ucc28 \ucc28\ub7c9\uc758 \uc0c1\ud638\uc791\uc6a9\ubfd0\ub9cc \uc544\ub2c8\ub77c \ub300\uc911\uad50\ud1b5 \ubc0f \uae30\ud0c0 \uc77c\ubc18 \uad50\ud1b5\uacfc\uc758 \uc8fc\ucc28 \uad6c\uc870\ub97c \ud0d0\uad6c\ud569\ub2c8\ub2e4. \uc2e4\uc81c \uc608\uc81c\uc5d0\uc11c \ub2e4\uce35 \uc8fc\ucc28\uc7a5\uacfc \ub300\ud615 \uc8fc\ucc28\uc7a5\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \ub610\ud55c \uc790\uccb4 \ub3c4\uad6c\ub97c \ud504\ub85c\uadf8\ub798\ubc0d\ud558\uae30 \uc704\ud574 \ub0b4\uc7a5 COM \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc5ec PTV Vissim\uc744 \ub118\uc5b4\uc11c\ub294 \uace0\uae09 \uc8fc\ucc28 \uc635\uc158\uc5d0 \ub300\ud574\uc11c\ub3c4 \ub17c\uc758\ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim\uc5d0\uc11c \ubcf5\uc7a1\ud55c \uc8fc\ucc28 \uc2dc\ub098\ub9ac\uc624\ub97c \ubaa8\ub378\ub9c1\ud558\ub294 \ubc29\ubc95\uc744 \uc774\ud574\ud558\uace0\uc790 \ud558\ub294 \uacbd\ud5d8 \uc788\ub294 Vissim \uc0ac\uc6a9\uc790.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uad50\uc721 \uacfc\uc815\uc778 "PTV Vissim \u2013 \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \ube44\uc2b7\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. COM \ud504\ub85c\uadf8\ub798\ubc0d \ubd80\ubd84\uc744 \ub530\ub77c\ud558\ub824\uba74 \uae30\ubcf8\uc801\uc778 \ud504\ub85c\uadf8\ub798\ubc0d \uc9c0\uc2dd\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\uc8fc\ucc28\uc7a5\uc744 \ud3ec\ud568\ud55c \ubaa8\ub378 \uc124\uc815","\ub9c1\ud06c \uae30\ubc18 \ud750\ub984 vs \ub3d9\uc801 \ubc30\uc815","\uc8fc\ucc28 \uae30\ubc95","\uc8fc\ucc28\uc7a5 \uacbd\ub85c \uacb0\uc815","\uae38\uac00 \uc8fc\ucc28 \ucc28\ub7c9\uacfc \uc77c\ubc18 \uad50\ud1b5 \ubc0f \ub300\uc911\uad50\ud1b5 \ucc28\ub7c9\uc758 \uc0c1\ud638\uc791\uc6a9","\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uacf5\uac04 \uc218\ub97c \ud45c\uc2dc\ud558\ub294 \ud45c\uc9c0\ud310, \uc785\uad6c/\ucd9c\uad6c\uc758 \uc2e0\ud638\ub4f1 \ucc28\ub2e8\ub9c9, \uc790\ub3d9 \ucc28\ub7c9 \uc8fc\ucc28 \uc5d8\ub9ac\ubca0\uc774\ud130 \uc2dc\uc2a4\ud15c\uacfc \uac19\uc740 \uc815\uad50\ud55c \uc8fc\ucc28 \uc635\uc158\uc744 \uad6c\ucd95\ud558\ub294 \ubc29\ubc95\uc744 \uc2dc\uc5f0\ud558\uae30 \uc704\ud55c COM \uc778\ud130\ud398\uc774\uc2a4 \uc18c\uac1c","\ubaa8\ub378\uc5d0\uc11c \ud575\uc2ec \uc131\uacfc \uc9c0\ud45c(KPI)","\ub2e4\uce35 \uc8fc\ucc28","\ub300\ud615 \uc8fc\ucc28\uc7a5 \ubaa8\ub378\ub9c1"]},"tr-t0210":{title:"Vissim \ud68c\uc804\uad50\ucc28\ub85c \ubaa8\ub378\ub9c1",code:"TR-T0210",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 \ubc18\ub098\uc808 \uacfc\uc815\uc5d0\uc11c\ub294 \ud68c\uc804\uad50\ucc28\ub85c \uc0dd\uc131, \ud3c9\uac00 \ubc0f \ubcf4\uc815 \uae30\ubc95\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4. \uc811\uadfc\ub85c\uc640 \uc21c\ud658 \ucc28\ub85c \uad6c\uc131, \ud68c\uc804\uad50\ucc28\ub85c \uc804\uccb4\uc758 \uc18d\ub3c4 \ud504\ub85c\ud30c\uc77c \uad6c\uc131, \uc0ac\uc6a9\uc790 \uc815\uc758 \ucc28\uc120 \ubcc0\uacbd \ubc0f \ucc28\uac04 \uc218\ub77d \ud589\ub3d9 \ubcf4\uc815\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4.",targetGroup:"\ubaa8\ub4e0 \ubd84\uc57c\uc758 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378 \uc0dd\uc131\uc5d0 \ub300\ud55c \ub3d9\ub4f1\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"\ubc18\uc77c",contents:["\ud544\uc694\ud55c \ubb3c\ub9ac\uc801 \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131 \ubc0f \ud3b8\uc9d1","\uc591\ubcf4 \uc6c0\uc9c1\uc784 \uad6c\uc131","\ub2e4\ucc28\uc120 \ud68c\uc804\uad50\ucc28\ub85c \uc0dd\uc131","\ud68c\uc804\uad50\ucc28\ub85c \ud3c9\uac00","\ucc28\uac04 \uc218\ub77d \ubcf4\uc815","\uc6b4\uc804 \ud589\ub3d9 \ubcf4\uc815"]},"tr-t0211":{title:"Vissim \uace0\uc18d\ub3c4\ub85c \uae30\ubcf8",code:"TR-T0211",product:"Vissim",level:"Basic",image:Gle,description:"\uc774 \ubc18\ub098\uc808 \ubc84\uc804\uc758 PTV Vissim \uace0\uc18d\ub3c4\ub85c \uc6b4\uc601 \uad50\uc721\uc740 \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124 \uae30\ud558\ud559, \uc6b4\uc804\uc790 \ud589\ub3d9 \ubcf4\uc815, \ub7a8\ud504 \ubbf8\ud130 \ubc0f \uad00\ub9ac \ucc28\ub85c \ubaa8\ub378\ub9c1 \ub370\ubaa8\uc640 \uac19\uc740 \uc815\uc801 \uc218\uc694 \uae30\ubc18 \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 \ucc38\uac00\uc790\ub4e4\uc740 PTV Vissim \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158\uc5d0\uc11c \uae30\ubcf8 \uace0\uc18d\ub3c4\ub85c \uad6c\uac04\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ub370 \uc790\uc2e0\uac10\uc744 \uac00\uc838\uc57c \ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim\uc5d0\uc11c \ubbf8\uc2dc\uc801\uc73c\ub85c \uc2dc\ubbac\ub808\uc774\uc158\ub41c \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124\uc744 \uad6c\ucd95\ud558\uac70\ub098 \uac80\ud1a0\ud560 \uc900\ube44\ub97c \ud558\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4 \ub610\ub294 \uad50\ud1b5 \uacc4\ud68d\uc790.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim \u2013 \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \uace0\uc18d\ub3c4\ub85c \uc6b4\uc601 \ubc0f \uc2dc\uc124\uc5d0 \ub300\ud55c \uc77c\ubd80 \uacbd\ud5d8\uc774 \uc120\ud638\ub429\ub2c8\ub2e4.',duration:"\ubc18\uc77c",contents:["\uace0\uc18d\ub3c4\ub85c \uae30\ud558\ud559 \uc0dd\uc131 \ubc0f \ubaa8\ubc94 \uc0ac\ub840","\uace0\uc18d\ub3c4\ub85c\ubcc4 \uc18d\ub3c4 \ubc0f \uc218\uc694 \uad6c\uc131","\ucc28\ub7c9\uad70 \uc720\ud615, \ud074\ub798\uc2a4 \ubc0f \uad6c\uc131","\uace0\uc18d\ub3c4\ub85c \uc2dc\uc124\uc5d0\uc11c \ud3c9\uac00 \uc218\ud589","\uc6b4\uc804 \ucd94\uc885 \ubc0f \ucc28\uc120 \ubcc0\uacbd \ud589\ub3d9 \ubcf4\uc815"]},"tr-t0212-en":{title:"PTV Vissim - \uac80\ud1a0\uc790\ub97c \uc704\ud55c Vissim",code:"TR-T0212-EN",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 \uacfc\uc815\uc740 \ub2e4\ub978 \uc0ac\ub78c\uc774 \uc0dd\uc131\ud55c PTV Vissim \ubaa8\ub378\uc744 \uac80\ud1a0\ud558\uace0 \ud3c9\uac00\ud574\uc57c \ud558\ub294 \uc804\ubb38\uac00\ub4e4\uc744 \uc704\ud574 \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",content:"\ub124\ud2b8\uc6cc\ud06c \ucf54\ub529, \uc218\uc694 \uc124\uc815, \ubcf4\uc815 \ub9e4\uac1c\ubcc0\uc218 \ubc0f \uacb0\uacfc \uac80\uc99d\uc744 \ud3ec\ud568\ud558\uc5ec \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub378\uc744 \uac80\ud1a0\ud560 \ub54c \ud655\uc778\ud574\uc57c \ud560 \uc8fc\uc694 \uce21\uba74\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"\ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158 \uc5f0\uad6c\ub97c \uac80\ud1a0\ud560 \ucc45\uc784\uc774 \uc788\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4, \ucee8\uc124\ud134\ud2b8 \ubc0f \uae30\uad00 \uc9c1\uc6d0.",prerequisites:"\uad50\ud1b5 \uc2dc\ubbac\ub808\uc774\uc158 \uac1c\ub150\uacfc PTV Vissim \uae30\ub2a5\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc774\ud574.",duration:"1\uc77c",contents:["\ubaa8\ub378 \uac80\ud1a0 \uccb4\ud06c\ub9ac\uc2a4\ud2b8 \ubc0f \ubaa8\ubc94 \uc0ac\ub840","\ub124\ud2b8\uc6cc\ud06c \ucf54\ub529 \uac80\uc99d","\uc218\uc694 \ubc0f \ubcf4\uc815 \ud3c9\uac00","\uacb0\uacfc \uac80\uc99d \ubc0f \ud574\uc11d"]},"tr-t0213-en":{title:"PTV Vissim - \ub300\uc911\uad50\ud1b5 \ubaa8\ub378\ub9c1",code:"TR-T0213-EN",product:"Vissim",level:"Advanced",image:Gle,description:"PTV Vissim\uc5d0\uc11c \uace0\uae09 \ub300\uc911\uad50\ud1b5 \ubaa8\ub378\ub9c1 \uae30\ubc95\uc744 \ub2e4\ub8e8\ub294 \ud3ec\uad04\uc801\uc778 \uacfc\uc815.",content:"\ubc84\uc2a4 \uace0\uc18d\uad50\ud1b5, \uacbd\uc804\ucca0 \ubc0f \ud1b5\ud569 \ub2e4\uc911 \ubaa8\ub4dc \ub124\ud2b8\uc6cc\ud06c\ub97c \ud3ec\ud568\ud55c \ubcf5\uc7a1\ud55c \ub300\uc911\uad50\ud1b5 \uc2dc\uc2a4\ud15c\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",targetGroup:"\ub300\uc911\uad50\ud1b5 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc791\uc5c5\ud558\ub294 \ub300\uc911\uad50\ud1b5 \uacc4\ud68d\uc790 \ubc0f \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uae30\ubcf8\uc801\uc778 PTV Vissim \uae30\ub2a5\uacfc \ub300\uc911\uad50\ud1b5 \uac1c\ub150\uc5d0 \ub300\ud55c \uacbd\ud5d8.",duration:"1\uc77c",contents:["\uace0\uae09 \ub300\uc911\uad50\ud1b5 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub378\ub9c1","\ubc84\uc2a4 \uace0\uc18d\uad50\ud1b5(BRT) \ubc0f \uacbd\uc804\ucca0(LRT) \uc2dc\uc2a4\ud15c","\ub2e4\uc911 \ubaa8\ub4dc \ud1b5\ud569 \ubc0f \uc2b9\uac1d \ud750\ub984","\uc131\ub2a5 \ud3c9\uac00 \ubc0f \ucd5c\uc801\ud654"]},"tr-t0214":{title:"Vissim \uace0\uc18d\ub3c4\ub85c \ub2a5\ub3d9 \uad50\ud1b5 \uad00\ub9ac",code:"TR-T0214",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 \ubc18\ub098\uc808 PTV Vissim \uace0\uc18d\ub3c4\ub85c \uad50\uc721 \uacfc\uc815\uc740 \ud558\ub4dc \ubc0f \uc18c\ud504\ud2b8 \ubc30\ub9ac\uc5b4\ub85c \ubd84\ub9ac\ub41c \uad00\ub9ac \ucc28\ub85c, HOV \ub610\ub294 \ub300\uc911\uad50\ud1b5\uc744 \uc704\ud55c \uc81c\ud55c \uc811\uadfc \ucc28\ub85c, \uc6b4\uc804\uc790 \ud589\ub3d9 \ubcf4\uc815\ubfd0\ub9cc \uc544\ub2c8\ub77c \ub2a5\ub3d9 \uad50\ud1b5 \uad00\ub9ac \uc804\ub7b5\uc744 \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uacfc \uac19\uc740 \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124 \uad6c\uc131\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 \ucc38\uac00\uc790\ub4e4\uc740 PTV Vissim \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc815\uc801 \ubc0f \uc2dc\uac04 \uc758\uc874\uc801 \ud1b5\ud589\ub8cc \ucc28\ub85c, \ub7a8\ud504 \ubbf8\ud130, \uc18d\ub3c4 \uc870\ud654 \ubc0f \uac13\uae38 \uc2dc\uc124\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ub370 \uc790\uc2e0\uac10\uc744 \uac00\uc838\uc57c \ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim\uc5d0\uc11c \ubbf8\uc2dc\uc801\uc73c\ub85c \uc2dc\ubbac\ub808\uc774\uc158\ub41c \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124\uc758 \uac74\uc124\uc774\ub098 \uac80\uc0ac\ub97c \uc900\ube44\ud558\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4 \ub610\ub294 \uad50\ud1b5 \uacc4\ud68d\uc790.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim \u2013 \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \uace0\uc18d\ub3c4\ub85c \uc6b4\uc601 \ubc0f \uc2dc\uc124\uc5d0 \ub300\ud55c \uc77c\ubd80 \uacbd\ud5d8\uc774 \uc120\ud638\ub429\ub2c8\ub2e4.',duration:"\ubc18\uc77c",contents:["HOV, \ub300\uc911\uad50\ud1b5 \ub610\ub294 \ud2b8\ub7ed \ucc28\ub85c\uc640 \uac19\uc740 \uc81c\ud55c \uc811\uadfc \ucc28\ub85c \uad6c\uc131","\ud1b5\ud589\ub8cc \ub3c4\ub85c \ub610\ub294 HOT \ucc28\ub85c\uc640 \uac19\uc740 \uad00\ub9ac \ucc28\ub85c \uc2dc\uc124 \uad6c\uc131","\uc815\uc801 \ubc0f \ub3d9\uc801(\uc2dc\uac04, \uc18d\ub3c4 \ubc0f/\ub610\ub294 \uc9c0\uc5f0 \uc758\uc874\uc801) \ud1b5\ud589\ub8cc \ubaa8\ub378 \uad6c\uc131","\uac00\ubcc0 \uc18d\ub3c4 \uc81c\ud55c, \uac13\uae38 \uc6b4\ud589 \ubc0f \ub7a8\ud504 \ubbf8\ud130\ub9c1\uacfc \uac19\uc740 VAP \uc81c\uc5b4 \ub2a5\ub3d9 \uad50\ud1b5 \uad00\ub9ac \uc2dc\uc124"]},"tr-t0215":{title:"PTV Vissim \u2013 \uc790\ub3d9\ucc28 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1\uc744 \uc704\ud55c \ubbf8\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158",code:"TR-T0215",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 \ubbf8\uc2dc\uc801 \uc2dc\ubbac\ub808\uc774\uc158\uc774 \uc790\ub3d9\ucc28 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1\uc5d0 \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ub420 \uc218 \uc788\ub294\uc9c0, \ub0b4\ubd80 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc5f0\uacb0\ub41c \uc790\uc728 \ucc28\ub7c9(CAV) \ud589\ub3d9\uc744 \uc5b4\ub5bb\uac8c \uc7ac\ud604\ud560 \uc218 \uc788\ub294\uc9c0, \uc608\ub97c \ub4e4\uc5b4 \uc548\uc804 \ub85c\uc9c1, \uc5f0\ub8cc \uc808\uc57d \ubaa8\ub378, \ucc28\ub7c9\uad70 \uc6b4\uc601 \uc2dc\uc2a4\ud15c\uc744 \ud14c\uc2a4\ud2b8\ud560 \uc218 \uc788\ub294 \uac00\uc0c1 \ud658\uacbd\uc744 \uc5b4\ub5bb\uac8c \uad6c\ucd95\ud560 \uc218 \uc788\ub294\uc9c0, \uadf8\ub9ac\uace0 \ud14c\uc2a4\ud2b8 \ub300\uc0c1 \uc2dc\uc2a4\ud15c\uc73c\ub85c \uc678\ubd80 \uc2a4\ud06c\ub9bd\ud2b8/\ubaa8\ub378/\uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc5b4\ub5bb\uac8c \uacb0\ud569\ud560 \uc218 \uc788\ub294\uc9c0 \ubcf4\uc5ec\ub4dc\ub9bd\ub2c8\ub2e4.",content:"\uacfc\uc815\uc740 \uc6b4\uc804\uc790 \ubaa8\ub378 \uc778\ud130\ud398\uc774\uc2a4, \ub4dc\ub77c\uc774\ube59 \uc2dc\ubbac\ub808\uc774\ud130 \uc778\ud130\ud398\uc774\uc2a4 \ubc0f \uc678\ubd80 \ubc30\ucd9c \ubaa8\ub378\uacfc \ud568\uaed8 COM \uc778\ud130\ud398\uc774\uc2a4\uc640 API \ud328\ud0a4\uc9c0\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim\uc73c\ub85c CAV \ud589\ub3d9\uc774\ub098 \uc790\ub3d9\ucc28 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ubaa9\uc801\uc758 \uac00\uc0c1 \ud14c\uc2a4\ud2b8 \ud658\uacbd\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ubc29\ubc95\uc744 \uc774\ud574\ud558\uace0\uc790 \ud558\ub294 \uacbd\ud5d8 \uc788\ub294 Vissim \uc0ac\uc6a9\uc790.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \uae30\ubcf8\uc801\uc778 \ud504\ub85c\uadf8\ub798\ubc0d \uc9c0\uc2dd\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 Python\uacfc C/C++\uc758 \ud504\ub85c\uadf8\ub798\ubc0d \uc608\uc81c\uc5d0 \uc911\uc810\uc744 \ub450\uace0 \uc9c4\ud589\ub429\ub2c8\ub2e4. \ucda9\ubd84\ud55c \uc77c\ubc18 \ud504\ub85c\uadf8\ub798\ubc0d \uacbd\ud5d8\uc774 \uc788\ub2e4\uba74, \uad50\uc0ac\uac00 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\ub97c \ub9c8\uc2a4\ud130\ud558\uc9c0 \ubabb\ud558\ub354\ub77c\ub3c4 \uacfc\uc815\uc744 \ub530\ub77c\uac08 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"2\uc77c",contents:["1\uc77c\ucc28: \uc18c\uac1c - \uc790\ub3d9\ucc28 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1/\uac1c\ubc1c\uc758 \ubaa9\uc801, \uac00\uc0c1 \ud14c\uc2a4\ud2b8\ub97c \uc704\ud55c \uad50\ud1b5 \uc2dc\ubbac\ub808\uc774\uc158\uc758 \uc774\uc810, \uc790\ub3d9\ucc28 \uc0b0\uc5c5\uc744 \uc704\ud55c Vissim \uc751\uc6a9, CAV \ud589\ub3d9 \uc7ac\ud604 \ubc29\ubc95(\ub0b4\ubd80 \ubaa8\ub378, COM, API, DSI \uac04 \ube44\uad50); \ub0b4\ubd80 \ubaa8\ub378 \uad50\uc721 - Wiedemann\uc758 \ucc28\ub7c9 \ucd94\uc885 \ubaa8\ub378, \uc801\uc751\ud615 \ud06c\ub8e8\uc988 \ucee8\ud2b8\ub864 \ubaa8\ub378, \ucc28\uc120 \ubcc0\uacbd \ubc0f \ud6a1\ubc29\ud5a5 \ud589\ub3d9 \ubaa8\ub378, CAV\ub97c \uc704\ud55c \ud2b9\ubcc4 \uc124\uc815(EABD, \ud655\ub960\ub860, \ub300\uc5f4 \uc8fc\ud589), \uc6b4\uc804\uc790 \uc624\ub958(\uc8fc\uc758 \ubd80\uc871, \uc0b0\ub9cc\ud568, \uc798\ubabb\ub41c \ucd94\uc815); COM \uad50\uc721 - COM \uc778\ud130\ud398\uc774\uc2a4 \uac1c\uc694, \uae30\ubcf8 \uba85\ub839, \uc18d\ub3c4 \uce74\uba54\ub77c, \uc8fc\ubb38\ud615 \ud0dd\uc2dc, V2I \ucd5c\uc801 \uc18d\ub3c4","2\uc77c\ucc28: API \uad50\uc721 \u2013 \ubc30\ucd9c \ubaa8\ub378 - \ubc30\ucd9c \ubaa8\ub378 \uac1c\uc694, \uc0ac\uc6a9\uc790 \uc815\uc758 \ubc30\ucd9c \ubaa8\ub378; API \uad50\uc721 \u2013 \uc6b4\uc804\uc790 \ubaa8\ub378 - \uc6b4\uc804\uc790 \ubaa8\ub378 \uac1c\uc694, \uc0ac\uc6a9\uc790 \uc815\uc758 \ucd94\uc885 \ubaa8\ub378, \uc0ac\uc6a9\uc790 \uc815\uc758 \ucc28\uc120 \ubcc0\uacbd \ubaa8\ub378; DSI \uad50\uc721 - \ub4dc\ub77c\uc774\ube59 \uc2dc\ubbac\ub808\uc774\ud130 \uc778\ud130\ud398\uc774\uc2a4 \uac1c\uc694, \ub4dc\ub77c\uc774\ube59 \uc2dc\ubbac\ub808\uc774\ud130 \ud14d\uc2a4\ud2b8 \ud074\ub77c\uc774\uc5b8\ud2b8, Unity\uc5d0\uc11c \ub77c\uc774\ube0c \uc608\uc81c, \uc678\ubd80 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc608\uc81c(CarMaker, PreScan \ub4f1), Vissim\uacfc \uacf5\ub3d9 \uc2dc\ubbac\ub808\uc774\uc158\ud558\uae30 \uc704\ud55c \ub0b4\uc7a5 \uae30\ub2a5"]},"tr-t0251":{title:"PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c (US)",code:"TR-T0251",product:"Vissim",level:"Basic",image:Gle,description:"\uc800\ud76c 16\uc2dc\uac04 PTV Vissim \uc18c\uac1c \uacfc\uc815\uc5d0\uc11c\ub294 \uc77c\ubc18\uc801\uc778 \ub3c4\uc2dc \ubc0f \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124\uc744 \ud3ec\ud568\ud558\ub294 \uc815\uc801 \uc218\uc694\ub97c \uac00\uc9c4 \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158 \ub124\ud2b8\uc6cc\ud06c\ub97c \uad6c\ucd95\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 PTV Vissim \ubaa8\ub378 \uad6c\ucd95 \ubc0f \ud3c9\uac00\ubfd0\ub9cc \uc544\ub2c8\ub77c \uba87 \uac00\uc9c0 \uae30\ubcf8\uc801\uc778 \uc6b4\uc804\uc790 \ud589\ub3d9, \ucc28\uac04 \uc218\ub77d \ubc0f \uc218\uc694 \ubcf4\uc815 \uae30\ubc95\uc5d0 \uc790\uc2e0\uac10\uc744 \uac00\uc838\uc57c \ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ucd08\ubcf4\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",duration:"16\uc2dc\uac04 (4\uc2dc\uac04\uc529 \ub124 \uc138\uc158\uc73c\ub85c \ubd84\ud560)",contents:["\uc138\uc158 1: PTV Vissim GUI \uac1c\uc694, \ud6a8\uc728\uc801\uc778 \ub9c1\ud06c \ubc30\uce58, \uace0\uc18d\ub3c4\ub85c \ubc0f \uc778\ud130\uccb4\uc778\uc9c0 \uae30\ud558\ud559, \ub2e4\uc591\ud55c \uc18d\ub3c4 \uad6c\uc5ed \ubc0f \uc18d\ub3c4 \ud504\ub85c\ud30c\uc77c \uad6c\uc131, \uc815\uc801 \uc218\uc694 \ubc30\uce58 \ubc0f \uad6c\uc131","\uc138\uc158 2: \uad50\ucc28\ub85c \uae30\ud558\ud559, \uc591\ubcf4 \uc81c\uc5b4, \uc815\uc9c0 \uc81c\uc5b4, \uc0ac\uc804 \uc2dc\uac04 \ub9c1-\ubc30\ub9ac\uc5b4 \uc81c\uc5b4, \uac10\uc751 \ub9c1-\ubc30\ub9ac\uc5b4 \uc81c\uc5b4, PTV Vistro/Visum \uac00\uc838\uc624\uae30, \uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac\uc790","\uc138\uc158 3: \ucc28\ub7c9 \uc720\ud615, \ud074\ub798\uc2a4 \ubc0f \uad6c\uc131 \uc0dd\uc131 \ubc0f \uc801\uc751, PTV Vissim\uc758 \ub370\uc774\ud130 \uc218\uc9d1 \ubc0f \ud3c9\uac00 \uacb0\uacfc \uad6c\uc131, \ud6c4\ucc98\ub9ac \ud3c9\uac00","\uc138\uc158 4: \ucd94\uc885 \ud589\ub3d9 \uc870\uc815, \ucc28\uc120 \ubcc0\uacbd \ud589\ub3d9 \uc870\uc815, \ucc28\uac04 \uc218\ub77d \uc870\uc815, \uc18d\ub3c4 \ubc0f \uc218\uc694 \uc870\uc815"]},"tr-t0252":{title:"PTV Vissim - \ub300\uc911\uad50\ud1b5 \uc2e0\ud638 \uc6b0\uc120 \ubc0f \uc120\uc810 (US)",code:"TR-T0252",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 \ub9c1-\ubc30\ub9ac\uc5b4 \ucee8\ud2b8\ub864\ub7ec \ub300\uc911\uad50\ud1b5 \uc2e0\ud638 \uc6b0\uc120 \ubc0f \uc120\uc810 \ubc29\ubc95\uc758 \uc6d0\ub9ac\ub97c \ud559\uc2b5\ud558\uace0 \uc801\uc6a9\ud569\ub2c8\ub2e4. \ud544\uc694\ud55c \ub124\ud2b8\uc6cc\ud06c \uac1d\uccb4(\uac80\uc9c0\uae30 \ubc0f \uc2e0\ud638\ub4f1)\ub97c \ubc30\uce58\ud558\ub294 \ubc29\ubc95\uacfc \uae30\uc874 PTV Vissim \ub124\ud2b8\uc6cc\ud06c\uc5d0 \ub85c\uc9c1\uc744 \ud504\ub85c\uadf8\ub798\ubc0d\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\ub300\uc911\uad50\ud1b5 \uc2e0\ud638 \uc6b0\uc120(TSP)\uc740 \uc870\uac74\uc774 \ub9de\uc744 \ub54c \ud65c\uc131\ud654\ub418\uba74 \ud2b9\uc815 \uc704\uc0c1\uc5d0 \ub300\ud55c \uc9c0\uc5f0\uc744 \uc904\uc774\uae30 \uc704\ud574 \uc0ac\uc774\ud074 \ub0b4\uc5d0\uc11c \ucd94\uac00 \ub179\uc0c9 \ud0c0\uc774\ubc0d\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc120\uc810\uc740 \ud2b9\uc815 \uc6c0\uc9c1\uc784\uc774 \uad50\ucc28\ub85c\ub97c \ubc29\ud574\ubc1b\uc9c0 \uc54a\uace0 \ud1b5\uacfc\ud560 \uc218 \uc788\ub3c4\ub85d \uad50\ucc28\ub85c\ub97c \ucc28\ub2e8\ud569\ub2c8\ub2e4.",targetGroup:"\uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4. \ubaa8\ub4e0 \ubd84\uc57c\uc758 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790, \uc2e0\ud638 \uc81c\uc5b4 \ubaa8\ub378\ub9c1 \uacbd\ud5d8\uc774 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim \u2013 \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.',duration:"4\uc2dc\uac04",contents:["TSP \uccb4\ud06c\uc778/\uccb4\ud06c\uc544\uc6c3 \uac80\uc9c0","TSP \ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \ucd9c\ubc1c \uac80\uc9c0","TSP \uc870\uae30 \ub179\uc0c9 \uc6b0\uc120","TSP \uc5f0\uc7a5 \ub179\uc0c9 \uc6b0\uc120","TSP \ubcf5\uad6c \ud0c0\uc774\ubc0d","TSP \ub300\uc911\uad50\ud1b5 \uc9c0\uc5f0 \uc758\uc874 \uc6b4\uc601","TSP \uc7ac\uc11c\ube44\uc2a4","\uc120\uc810 \uccb4\ud06c\uc778/\uccb4\ud06c\uc544\uc6c3 \uac80\uc9c0","\uc120\uc810 \ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \ucd9c\ubc1c \uac80\uc9c0","\uc120\uc810 \uc2dc\uc791 \ud0c0\uc774\ubc0d","\uc120\uc810 \uc0c1\ucda9 \ud750\ub984 \uc815\ub9ac \ud0c0\uc774\ubc0d","\uc120\uc810 \ub300\uae30 \uc0c1\ud0dc \ud0c0\uc774\ubc0d","\uc120\uc810 \ubcf5\uad6c \ud0c0\uc774\ubc0d","\uc120\uc810 \uc7ac\uc11c\ube44\uc2a4"]},"tr-t0253":{title:"PTV Vissim - \ud68c\uc804\uad50\ucc28\ub85c \ubaa8\ub378\ub9c1 (US)",code:"TR-T0253",product:"Vissim",level:"Basic",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 \ud68c\uc804\uad50\ucc28\ub85c \uc0dd\uc131, \ud3c9\uac00 \ubc0f \ubcf4\uc815 \uae30\ubc95\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4. \uc811\uadfc\ub85c\uc640 \uc21c\ud658 \ucc28\ub85c \uad6c\uc131, \ud68c\uc804\uad50\ucc28\ub85c \uc804\uccb4\uc758 \uc18d\ub3c4 \ud504\ub85c\ud30c\uc77c \uad6c\uc131, \uc0ac\uc6a9\uc790 \uc815\uc758 \ucc28\uc120 \ubcc0\uacbd \ubc0f \ucc28\uac04 \uc218\ub77d \ud589\ub3d9 \ubcf4\uc815\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ucd08\ubcf4\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:["\ud544\uc694\ud55c \ubb3c\ub9ac\uc801 \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131 \ubc0f \ud3b8\uc9d1","\uc591\ubcf4 \uc6c0\uc9c1\uc784 \uad6c\uc131","\ub2e4\ucc28\uc120 \ud68c\uc804\uad50\ucc28\ub85c \uc0dd\uc131","\ud68c\uc804\uad50\ucc28\ub85c \ud3c9\uac00","\ucc28\uac04 \uc218\ub77d \ubc0f \uc6c0\uc9c1\uc784 \uc6a9\ub7c9 \ubcf4\uc815","\ud68c\uc804\uad50\ucc28\ub85c \ub0b4 \uc6b4\uc804 \ud589\ub3d9 \ubcf4\uc815"]},"tr-t0254":{title:"PTV Vissim - \uace0\uc18d\ub3c4\ub85c \ubaa8\ub378\ub9c1 \uae30\ubcf8 (US)",code:"TR-T0254",product:"Vissim",level:"Basic",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 \uc815\uc801 \uc218\uc694 \uae30\ubc18 \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124 \ubaa8\ub378\ub9c1\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 \ucc38\uac00\uc790\ub4e4\uc740 \uae30\ubcf8 \uace0\uc18d\ub3c4\ub85c \uad6c\uac04 \uae30\ud558\ud559 \ubaa8\ub378\ub9c1, \ud569\ub958 \ubc0f \uc5ee\uae30 \ud589\ub3d9 \ubcf4\uc815, PTV Vissim \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud55c \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158\uc5d0\uc11c \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124 \ud3c9\uac00\uc5d0 \uc790\uc2e0\uac10\uc744 \uac00\uc838\uc57c \ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ucd08\ubcf4\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:["\uace0\uc18d\ub3c4\ub85c \uae30\ud558\ud559 \uc0dd\uc131 \ubc0f \ubaa8\ubc94 \uc0ac\ub840","\uace0\uc18d\ub3c4\ub85c\ubcc4 \uc18d\ub3c4 \ubc0f \uc218\uc694 \uad6c\uc131","\ucc28\ub7c9\uad70 \uc720\ud615, \ud074\ub798\uc2a4 \ubc0f \uad6c\uc131","\uace0\uc18d\ub3c4\ub85c \uc2dc\uc124\uc5d0\uc11c \ud3c9\uac00 \uc218\ud589","\uc6b4\uc804 \ucd94\uc885 \ubc0f \ucc28\uc120 \ubcc0\uacbd \ud589\ub3d9 \ubcf4\uc815"]},"tr-t0255":{title:"PTV Vissim - Viswalk \ubcf4\ud589\uc790 \uc2dc\ubbac\ub808\uc774\uc158 (US)",code:"TR-T0255",product:"Vissim",level:"Basic",image:Gle,description:"\uc774 8\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 \ucc38\uac00\uc790\ub4e4\uc774 \ubcf4\ud589\uc790 \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158 \ub124\ud2b8\uc6cc\ud06c \uad6c\ucd95\uc744 \uc548\ub0b4\ubc1b\uc2b5\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 \ucc38\uac00\uc790\ub4e4\uc740 \ubcf4\ud589\uc790-\ucc28\ub7c9 \uc0c1\ud638\uc791\uc6a9, \ub300\uc911\uad50\ud1b5 \uc2b9\ud558\ucc28, Viswalk \ud3c9\uac00 \ubc0f \ucd9c\ub825\uc758 \uc804\uccb4 \ubaa8\uc74c\uc744 \ud3ec\ud568\ud55c \ub2e4\uce35 \ubcf4\ud589\uc790 \ubaa8\ub378 \uc0dd\uc131\uc5d0 \uc790\uc2e0\uac10\uc744 \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4.",targetGroup:"PTV Vissim\uacfc PTV Viswalk \ucd08\ubcf4\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",duration:"8\uc2dc\uac04 (4\uc2dc\uac04\uc529 \ub450 \uc138\uc158\uc73c\ub85c \ubd84\ud560)",contents:["\uc138\uc158 1: PTV Viswalk \uc778\ud130\ud398\uc774\uc2a4 \uac1c\uc694, \ubb3c\ub9ac\uc801 \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131, \ub808\ubca8, \uacbd\uc0ac\ub85c(\uacbd\uc0ac\ub85c, \uacc4\ub2e8, \uc5d0\uc2a4\uceec\ub808\uc774\ud130) \ubc0f \uc5d8\ub9ac\ubca0\uc774\ud130 \uc0dd\uc131, PTV Viswalk \ub124\ud2b8\uc6cc\ud06c\uc5d0 \uc815\uc801 \uc218\uc694 \ucd94\uac00, \ud6a1\ub2e8\ubcf4\ub3c4 \ubc0f \ud6a1\ub2e8\ubcf4\ub3c4 \uc2e0\ud638 \uc0dd\uc131","\uc138\uc158 2: \ub300\uc911\uad50\ud1b5 \uc694\uc18c \uc0bd\uc785, \ub300\uae30 \uc9c0\uc5ed \ubc0f \ubd80\ubd84 \uacbd\ub85c \uc0dd\uc131, \ud3c9\uac00 \uc218\ud589 \ubc0f \uadf8\ub798\ud53d \uc624\ubc84\ub808\uc774 \uc0dd\uc131"]},"tr-t0256":{title:"PTV Vissim - \uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub378 \uac80\ud1a0 (US)",code:"TR-T0256",product:"Vissim",level:"Basic",image:Gle,description:"\uc774 8\uc2dc\uac04 \uacfc\uc815\uc740 \uc644\uc131\ub41c PTV Vissim \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158 \uad50\ud1b5 \uc5f0\uad6c\ub97c \uac80\ud1a0\ud558\ub294 \ub370 \uc77c\ubc18\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ud1b5\ucc30\ub825\uacfc \uc808\ucc28\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.",content:"\uac80\ud1a0 \ud504\ub85c\uc138\uc2a4 \uac1c\ubc1c\uc758 \ucd9c\ubc1c\uc810\uc774 \ub418\ub3c4\ub85d \uc124\uacc4\ub418\uc5c8\uc73c\uba70, \uac80\ud1a0 \ud504\ub85c\uc138\uc2a4\ub97c \uac04\uc18c\ud654\ud560 \uc218 \uc788\ub294 \uc6cc\ud06c\ud50c\ub85c \uad8c\uc7a5 \uc0ac\ud56d, \ubaa8\ubc94 \uc0ac\ub840 \ubc0f \uc0d8\ud50c \ub808\uc774\uc544\uc6c3\uc744 \uc81c\uc2dc\ud569\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ucd08\ubcf4\uc790\ubfd0\ub9cc \uc544\ub2c8\ub77c \ucd5c\uc2e0 \uc218\uc900\uacfc \ud6a8\uc728\uc131\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud558\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",duration:"8\uc2dc\uac04 (4\uc2dc\uac04\uc529 \ub450 \uc138\uc158\uc73c\ub85c \ubd84\ud560)",contents:["PTV Vissim \uc778\ud130\ud398\uc774\uc2a4 \uac1c\uc694","\uc2dc\ubbac\ub808\uc774\uc158 \ub9e4\uac1c\ubcc0\uc218 \uac80\ud1a0","\ub124\ud2b8\uc6cc\ud06c \uae30\ud558\ud559 \uac80\ud1a0","\uc218\uc694 \uad6c\uc131","\uad50\ucc28\ub85c \uc81c\uc5b4","\ub300\uc911\uad50\ud1b5, \uc8fc\ucc28 \ubc0f \ubcf4\ud589\uc790 \uc6b4\uc601","\uc2dc\uc124 \uc720\ud615 \ubc0f \ud589\ub3d9","\uc18d\ub3c4 \uc124\uc815","\ubc30\uc815(\ubcfc\ub968) \uc801\ud569\uc131","\uc624\ub958 \ubb38\uc11c\ud654"]},"tr-t0257":{title:"PTV Vissim - \uace0\uc18d\ub3c4\ub85c \uad00\ub9ac \ucc28\ub85c \ubc0f \ub2a5\ub3d9 \uad50\ud1b5 \uad00\ub9ac (US)",code:"TR-T0257",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc740 \ud558\ub4dc \ubc0f \uc18c\ud504\ud2b8 \ubc30\ub9ac\uc5b4\ub85c \ubd84\ub9ac\ub41c \uad00\ub9ac \ucc28\ub85c, HOV \ub610\ub294 \ub300\uc911\uad50\ud1b5\uc744 \uc704\ud55c \uc81c\ud55c \uc811\uadfc \ucc28\ub85c, \uc6b4\uc804\uc790 \ud589\ub3d9 \ubcf4\uc815\ubfd0\ub9cc \uc544\ub2c8\ub77c \ub2a5\ub3d9 \uad50\ud1b5 \uad00\ub9ac \uc804\ub7b5\uc744 \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uacfc \uac19\uc740 \uace0\uc18d\ub3c4\ub85c \uc2dc\uc124 \uad6c\uc131\uc744 \ud0d0\uad6c\ud569\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 \ucc38\uac00\uc790\ub4e4\uc740 PTV Vissim \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc815\uc801 \ubc0f \uc2dc\uac04 \uc758\uc874\uc801 \ud1b5\ud589\ub8cc \ucc28\ub85c, \ub7a8\ud504 \ubbf8\ud130, \uc18d\ub3c4 \uc870\ud654 \ubc0f \uac13\uae38 \uc2dc\uc124\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ub370 \uc790\uc2e0\uac10\uc744 \uac00\uc838\uc57c \ud569\ub2c8\ub2e4.",targetGroup:"\uace0\uc18d\ub3c4\ub85c \ubcf5\ub3c4\ub97c \uc5f0\uad6c\ud558\ub294 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790 \ub610\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc800\ud76c \uae30\ubcf8 \uacfc\uc815 \uc911 \ud558\ub098\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:["HOV, \ub300\uc911\uad50\ud1b5 \ub610\ub294 \ud2b8\ub7ed \ucc28\ub85c\uc640 \uac19\uc740 \uc81c\ud55c \uc811\uadfc \ucc28\ub85c \uad6c\uc131","\ud1b5\ud589\ub8cc \ub3c4\ub85c \ub610\ub294 HOT \ucc28\ub85c\uc640 \uac19\uc740 \uad00\ub9ac \ucc28\ub85c \uc2dc\uc124 \uad6c\uc131","\uc815\uc801 \ubc0f \ub3d9\uc801(\uc2dc\uac04, \uc18d\ub3c4 \ubc0f/\ub610\ub294 \uc9c0\uc5f0 \uc758\uc874\uc801) \ud1b5\ud589\ub8cc \ubaa8\ub378 \uad6c\uc131","\uac00\ubcc0 \uc18d\ub3c4 \uc81c\ud55c, \uac13\uae38 \uc6b4\ud589 \ubc0f \ub7a8\ud504 \ubbf8\ud130\ub9c1\uacfc \uac19\uc740 \ub2a5\ub3d9 \uad50\ud1b5 \uad00\ub9ac \uc2dc\uc124\uc744 \ubaa8\ub378\ub9c1\ud558\uae30 \uc704\ud55c \uc18d\uc131 \uc218\uc815 \uc0ac\uc6a9"]},"tr-t0258":{title:"PTV Vissim - \ub3d9\uc801 \uad50\ud1b5 \ubc30\uc815 (US)",code:"TR-T0258",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 PTV Vissim\uc758 \ub3d9\uc801 \uad50\ud1b5 \ubc30\uc815(DTA) \ubc29\ubc95\uc758 \uc6d0\ub9ac\ub97c \ud559\uc2b5\ud558\uace0 \uc801\uc6a9\ud569\ub2c8\ub2e4. \ucd9c\ubc1c\uc9c0-\ubaa9\uc801\uc9c0 \ub370\uc774\ud130\uc5d0\uc11c \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub378\uc744 \uc0dd\uc131\ud558\uace0, \uc0c8\ub85c\uc6b4 \uacbd\ub85c\ub97c \uac80\uc0c9\ud558\uba70, \uc218\uc694 \ubd84\ud3ec\ub97c \uc704\ud55c \uc218\ub834\uc744 \ucc3e\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\ucc38\uac00\uc790\ub4e4\uc740 \ub610\ud55c \uc77c\ubd80 \uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\ub9c1 \uae30\ubcf8 \uc0ac\ud56d\uc5d0 \ub300\ud574\uc11c\ub3c4 \uc18c\uac1c\ubc1b\uc2b5\ub2c8\ub2e4.",targetGroup:"\uace0\uc18d\ub3c4\ub85c \ubcf5\ub3c4\ub098 \uad11\uc5ed \ubaa8\ub378\uc744 \uc5f0\uad6c\ud558\ub294 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790 \ub610\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc800\ud76c \uae30\ubcf8 \uacfc\uc815 \uc911 \ud558\ub098\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:["DTA\uc758 \ucd94\uc0c1 \ub124\ud2b8\uc6cc\ud06c \uc6d0\ub9ac \ub17c\uc758","Vissim\uc758 \ubaa9\uc801\uc9c0 \ubc0f \uacbd\ub85c \uc120\ud0dd \ubc29\ubc95\uc758 \uc6d0\ub9ac \ud0d0\uad6c","\uc5ec\ud589 \uc218\uc694 \uc694\uc18c \uc0bd\uc785; \uc874, \ub9e4\ud2b8\ub9ad\uc2a4, \uc874 \uc5f0\uacb0\uc120, \ub178\ub4dc","DTA \ubcf4\uc815 \uae30\ubc95 \uc801\uc6a9","\ubc30\uc815 \uc218\ub834 \uae30\ubc95 \ub17c\uc758 \ubc0f \uc801\uc6a9"]},"tr-t0259":{title:"PTV Vissim - \uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131 \ubc0f \uc18d\uc131 \uc218\uc815 (US)",code:"TR-T0259",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 PTV Vissim\uc758 \ub3d9\uc801 \uad50\ud1b5 \ubc30\uc815(DTA) \ubc29\ubc95\uc758 \uc6d0\ub9ac\ub97c \ud559\uc2b5\ud558\uace0 \uc801\uc6a9\ud569\ub2c8\ub2e4. \ucd9c\ubc1c\uc9c0-\ubaa9\uc801\uc9c0 \ub370\uc774\ud130\uc5d0\uc11c \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub378\uc744 \uc0dd\uc131\ud558\uace0, \uc0c8\ub85c\uc6b4 \uacbd\ub85c\ub97c \uac80\uc0c9\ud558\uba70, \uc218\uc694 \ubd84\ud3ec\ub97c \uc704\ud55c \uc218\ub834\uc744 \ucc3e\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\ucc38\uac00\uc790\ub4e4\uc740 \ub610\ud55c \uc77c\ubd80 \uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\ub9c1 \uae30\ubcf8 \uc0ac\ud56d\uc5d0 \ub300\ud574\uc11c\ub3c4 \uc18c\uac1c\ubc1b\uc2b5\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ub0b4\uc5d0\uc11c \uc0ac\uc6a9\uc790 \uc815\uc758 \ub85c\uc9c1\uc744 \uad6c\ud604\ud574\uc57c \ud558\ub294 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790 \ub610\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc800\ud76c \uae30\ubcf8 \uacfc\uc815 \uc911 \ud558\ub098\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:["\uc815\uc801 \uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131 \uc0dd\uc131 \ubc0f \ud65c\uc6a9","\uae30\ubcf8 \ubc0f \uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131\uc744 \uae30\ubc18\uc73c\ub85c \ud55c \ucc28\ub7c9 \uc18d\uc131 \uacb0\uc815 \uad6c\uc131","\ud2b9\uc815 \uc18d\uc131\uc774\ub098 \ub124\ud2b8\uc6cc\ud06c \uc870\uac74\uc5d0 \uae30\ubc18\ud558\uc5ec \ucc28\ub7c9\uc744 \ub3d9\uc801\uc73c\ub85c \uc81c\uc5b4\ud558\uae30 \uc704\ud55c \uacf5\uc2dd \uae30\ubc18 \uacbd\ub85c \uc124\uc815 \uad6c\uc131","\uc2dc\ubbac\ub808\uc774\uc158 \uc870\uac74\uc5d0 \uae30\ubc18\ud558\uc5ec \ub124\ud2b8\uc6cc\ud06c \uc778\ud504\ub77c\uc640 \ucc28\ub7c9 \ud589\ub3d9\uc744 \ub3d9\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud558\uae30 \uc704\ud55c \uc18d\uc131 \uc218\uc815 \uad6c\uc131 \ubc0f \ud65c\uc6a9"]},"tr-t0260":{title:"PTV Vissim - \ub300\uc911\uad50\ud1b5 \uc6b4\uc601 (US)",code:"TR-T0260",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 \ucc38\uac00\uc790\ub4e4\uc774 \uae30\uc874 \ubbf8\uc2dc \uc2dc\ubbac\ub808\uc774\uc158 \ub124\ud2b8\uc6cc\ud06c\uc5d0 \ub300\uc911\uad50\ud1b5 \uc2dc\uc124\uc744 \ucd94\uac00\ud558\ub294 \uacfc\uc815\uc744 \uc548\ub0b4\ubc1b\uc2b5\ub2c8\ub2e4.",content:"\uacfc\uc815\uc774 \ub05d\ub098\uba74 \ucc38\uac00\uc790\ub4e4\uc740 \ub300\uc911\uad50\ud1b5 \ub178\uc120, \ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5, \uc2b9\uac1d \ud750\ub984 \ubaa8\ub378, \ub300\uc911\uad50\ud1b5 \uc77c\uc815 \uad6c\uc131\ubfd0\ub9cc \uc544\ub2c8\ub77c PTV Vissim\uc758 \ub300\uc911\uad50\ud1b5 \ubaa8\ub4c8\uc5d0 \ud2b9\ud654\ub41c \ud3c9\uac00 \uc218\ud589\uc5d0 \uc790\uc2e0\uac10\uc744 \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4.",targetGroup:"PTV Vissim \ub0b4\uc5d0\uc11c \ub300\uc911\uad50\ud1b5 \uc6b4\uc601\uc744 \uc5f0\uad6c\ud574\uc57c \ud558\ub294 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790 \ub610\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc800\ud76c \uae30\ubcf8 \uacfc\uc815 \uc911 \ud558\ub098\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:["\ub300\uc911\uad50\ud1b5 \ucc28\ub7c9 \uad6c\uc131","\ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \ubc30\uce58","\ub300\uc911\uad50\ud1b5 \uc815\ub958\uc7a5 \uc2b9\uac1d \uc218\uc694 \uad6c\uc131","\ub300\uc911\uad50\ud1b5 \ub178\uc120 \uacbd\ub85c \ubc30\uce58","\ub300\uc911\uad50\ud1b5 \ucc28\ub7c9 \ub3c4\ucc29 \uc77c\uc815 \uc0dd\uc131","\ub300\uc911\uad50\ud1b5 \ucc28\ub7c9 \uc815\ub958\uc7a5 \uc77c\uc815 \uc0dd\uc131","\ub300\uc911\uad50\ud1b5 \uc6b4\uc601 \ud3c9\uac00"]},"tr-t0261":{title:"PTV Vissim - \uace0\uae09 \uad50\ucc28\ub85c (US)",code:"TR-T0261",product:"Vissim",level:"Advanced",image:Gle,description:"\uc774 4\uc2dc\uac04 \uacfc\uc815\uc5d0\uc11c\ub294 \uad50\ucc28\ub85c \uc81c\uc5b4\uc758 \uace0\uae09 \uc124\uacc4\uc640 \uc801\uc6a9\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.",targetGroup:"\uad50\ucc28\ub85c\ub97c \uc5f0\uad6c\ud558\ub294 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790 \ub610\ub294 \ub3c4\uc2dc \ubc0f \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud68c\uc0ac\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4.",prerequisites:"\uc800\ud76c \uae30\ubcf8 \uacfc\uc815 \uc911 \ud558\ub098\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4.",duration:"4\uc2dc\uac04",contents:['\ub3c4\ub85c \uc124\uacc4\uac00 \ucc98\ub9ac\ub7c9\ubcf4\ub2e4 \uc548\uc804\uacfc \uc774\ub3d9\uc131\uc744 \uc6b0\uc120\uc2dc\ud558\ub3c4\ub85d \ubcc0\ud654\ud568\uc5d0 \ub530\ub77c, \uc774\ub7ec\ud55c \uad50\ucc28\ub85c \uc720\ud615\uc758 \ubd84\uc11d\uc5d0 \ub300\ud55c \uc694\uad6c\uac00 \uc99d\uac00\ud558\uace0 \uc788\uc73c\uba70, PTV VISSIM\uc740 \uace0\uae09 \uad50\ucc28\ub85c \uc720\ud615 \ubaa8\ub378\ub9c1\uc758 \uc5c5\uacc4 \ud45c\uc900\uc785\ub2c8\ub2e4. VISSIM \ubaa8\ub378\ub9c1 \uae30\ubcf8 \uc0ac\ud56d\uacfc \ub9c1 \ubc30\ub9ac\uc5b4 \ucee8\ud2b8\ub864\ub7ec(RBC) \uc2e0\ud638 \ucee8\ud2b8\ub864\ub7ec \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc744 \ubc14\ud0d5\uc73c\ub85c, \uc6b0\ub9ac\ub294 "PTV VISSIM\uc5d0\uc11c \uace0\uae09 \uad50\ucc28\ub85c" \uba87 \uac00\uc9c0 \uc720\ud615\uc5d0 \uc911\uc810\uc744 \ub458 \uac83\uc785\ub2c8\ub2e4. \uacfc\uc815\uc740 \uc2e4\uc81c \uc608\uc81c\uc640 "\ud1b5\ud589\uad8c" \uc6a9\ub7c9 \ubc0f \ubaa8\ub378\ub9c1\uc5d0 \ub300\ud55c \uc77c\ubd80 \ub17c\uc758\uc640 \ud568\uaed8 VISSIM\uc5d0\uc11c \ub3c4\uc2dc \ud68c\uc804\uad50\ucc28\ub85c \ubaa8\ub378\ub9c1\uc758 "\ubaa8\ubc94 \uc0ac\ub840"\uc5d0 \uc911\uc810\uc744 \ub458 \uac83\uc785\ub2c8\ub2e4. \uacfc\uc815\uc740 \ub610\ud55c PTV VISSIM\uc5d0 \uae30\ubcf8\uc73c\ub85c \uc81c\uacf5\ub418\ub294 \ub300\uc911\uad50\ud1b5 \uc2e0\ud638 \uc6b0\uc120(TSP) \uae30\ub2a5\uc5d0 \uc911\uc810\uc744 \ub450\uace0, \uc5ec\ub7ec \uc720\ud615\uc758 \uc120\uc810\uc774 \uc124\uba85\ub429\ub2c8\ub2e4. \ub9c8\uc9c0\ub9c9\uc73c\ub85c, \uacfc\uc815\uc740 SPUI \ubc0f \ub2e4\uc774\ubc84\uc9d5 \ub2e4\uc774\uc544\ubaac\ub4dc\uc640 \uac19\uc740 "\ub300\uc548 \uad50\ucc28\ub85c"\uc758 \ubaa8\ub378\ub9c1, \ubaa8\ub378\ub9c1 \ubc29\ubc95, \uad6c\ucd95 \ubc0f \uacf5\ub3d9 \ubd84\uc11d\uc744 \uc704\ud55c PTV Vissim\uacfc\uc758 \uc0c1\ud638\uc791\uc6a9\uc5d0 \ub300\ud574 \ub2e4\ub8f0 \uac83\uc785\ub2c8\ub2e4.']},"tr-t0270":{title:"PTV Vissim Python\uc744 \uc0ac\uc6a9\ud55c \uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131, \uc18d\uc131 \uc218\uc815 \ubc0f COM",code:"TR-T0270",product:"Vissim",level:"Advanced",image:Gle,description:"\uc2dc\ub098\ub9ac\uc624 \uacc4\uc0b0\uc744 \uc790\ub3d9\ud654\ud558\uac70\ub098 PTV Vissim\uc5d0\uc11c \ubaa8\ub378\ub9c1\uc774 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc758 \ud55c\uacc4\uc5d0 \ubd80\ub52a\ud788\ub098\uc694? \uc774 \uacfc\uc815\uc758 \ubaa9\uc801\uc740 COM \uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud574 PTV Vissim \uae30\ub2a5\uc744 \ud655\uc7a5\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\ub4dc\ub9ac\ub294 \uac83\uc785\ub2c8\ub2e4.",content:"\uacfc\uc815\uc740 Python\uacfc COM\uc5d0 \ub300\ud55c \uc18c\uac1c\ub85c \uc2dc\uc791\ub429\ub2c8\ub2e4. \uc218\ub9ce\uc740 \uc608\uc81c\uac00 PTV Vissim\uc5d0\uc11c COM \ud504\ub85c\uadf8\ub798\ubc0d\uc5d0 \ube60\ub974\uac8c \uc775\uc219\ud574\uc9c0\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub420 \uac83\uc785\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \ubaa8\ub4e0 \ubd84\uc57c\uc758 \uacbd\ud5d8 \uc788\ub294 PTV Vissim \uc0ac\uc6a9\uc790\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4. \ub610\ud55c \ud504\ub85c\uadf8\ub798\ubc0d \uacbd\ud5d8\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.",prerequisites:'\uc800\ud76c \uae30\ubcf8 \uacfc\uc815\uc778 "PTV Vissim - \ubbf8\uc2dc\uc801 \uad50\ud1b5 \ud750\ub984 \uc2dc\ubbac\ub808\uc774\uc158 \uc18c\uac1c" (TR-T0201)\uc5d0 \uc131\uacf5\uc801\uc73c\ub85c \ucc38\uac00\ud558\uc168\uac70\ub098 PTV Vissim\uc5d0 \ub300\ud55c \uc720\uc0ac\ud55c \uacbd\ud5d8\uc774 \uc788\uc73c\uc154\uc57c \ud569\ub2c8\ub2e4. \uae30\ubcf8\uc801\uc778 \ud504\ub85c\uadf8\ub798\ubc0d \uc9c0\uc2dd\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 Python\uc73c\ub85c \ud504\ub85c\uadf8\ub798\ubc0d \uc608\uc81c\uc5d0 \uc911\uc810\uc744 \ub450\uace0 \uc9c4\ud589\ub429\ub2c8\ub2e4. \ucda9\ubd84\ud55c \uc77c\ubc18 \ud504\ub85c\uadf8\ub798\ubc0d \uacbd\ud5d8\uc774 \uc788\ub2e4\uba74, \uad50\uc0ac\uac00 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\ub97c \ub9c8\uc2a4\ud130\ud558\uc9c0 \ubabb\ud558\ub354\ub77c\ub3c4 \uacfc\uc815\uc744 \ub530\ub77c\uac08 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.',duration:"1\uc77c",contents:["\uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131 \ubc0f \uc18d\uc131 \uc218\uc815 - \uc815\uc801 \uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131 \uc0dd\uc131 \ubc0f \ud65c\uc6a9, \uae30\ubcf8 \ubc0f \uc0ac\uc6a9\uc790 \uc815\uc758 \uc18d\uc131\uc744 \uae30\ubc18\uc73c\ub85c \ud55c \ucc28\ub7c9 \uc18d\uc131 \uacb0\uc815 \uad6c\uc131, \ud2b9\uc815 \uc18d\uc131\uc774\ub098 \ub124\ud2b8\uc6cc\ud06c \uc870\uac74\uc5d0 \uae30\ubc18\ud558\uc5ec \ucc28\ub7c9\uc744 \ub3d9\uc801\uc73c\ub85c \uc81c\uc5b4\ud558\uae30 \uc704\ud55c \uacf5\uc2dd \uae30\ubc18 \uacbd\ub85c \uc124\uc815 \uad6c\uc131, \uc2dc\ubbac\ub808\uc774\uc158 \uc870\uac74\uc5d0 \uae30\ubc18\ud558\uc5ec \ub124\ud2b8\uc6cc\ud06c \uc778\ud504\ub77c\uc640 \ucc28\ub7c9 \ud589\ub3d9\uc744 \ub3d9\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud558\uae30 \uc704\ud55c \uc18d\uc131 \uc218\uc815 \uad6c\uc131 \ubc0f \ud65c\uc6a9","Python\uc744 \uc0ac\uc6a9\ud55c COM \uc778\ud130\ud398\uc774\uc2a4 \uc18c\uac1c - COM \uc778\ud130\ud398\uc774\uc2a4 \uc124\uba85, \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 Python \uc18c\uac1c, COM \ubb38\uc11c \ubc0f \uc628\ub77c\uc778 \ub3c4\uc6c0\ub9d0 \uc791\uc5c5, \uc2e4\uc81c \uc608\uc81c\ub97c \uae30\ubc18\uc73c\ub85c \uc2dc\ubbac\ub808\uc774\uc158 \uc804\ud6c4 \ubc0f \ub3c4\uc911 Vissim \uac1d\uccb4 \uc218\uc815"]},"tr-t0351":{title:"PTV Vistro - \uc18c\uac1c (US)",code:"TR-T0351",product:"Vistro",level:"Basic",image:Hle,description:"\uc800\ud76c Vistro \uad50\ud1b5 \ubd84\uc11d \uacfc\uc815\uc5d0\uc11c\ub294 \uad50\ud1b5 \uc5f0\uad6c \uc218\ud589, \uac1c\ubc1c \uc601\ud5a5 \ud3c9\uac00, \uc2e0\ud638 \ucd5c\uc801\ud654\ub97c \ubaa8\ub450 \ud558\ub098\uc758 \ud328\ud0a4\uc9c0\ub85c \uc218\ud589\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.",content:"\uad50\ucc28\ub85c \ubcf5\ub3c4, \ub124\ud2b8\uc6cc\ud06c \ubc0f \uac1c\ubc1c \uc2dc\ub098\ub9ac\uc624\uc758 \ub300\ud654\ud615 \uc608\uc81c\ub85c \uc791\uc5c5\ud569\ub2c8\ub2e4.",targetGroup:"\ucd5c\uc2e0 \ud45c\uc900\uc744 \uc900\uc218\ud558\uc5ec \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1 \ud504\ub85c\uc81d\ud2b8\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uc218\ud589\ud558\uace0\uc790 \ud558\ub294 \uacf5\uacf5 \ub610\ub294 \ubbfc\uac04 \ubd80\ubb38\uc758 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\uc640 \uacc4\ud68d\uc790",prerequisites:"\uc2e0\ud638 \ud0c0\uc774\ubc0d \uac1c\ub150\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc774\ud574\uac00 \ub3c4\uc6c0\uc774 \ub418\uc9c0\ub9cc \ud544\uc218\ub294 \uc544\ub2d9\ub2c8\ub2e4.",duration:"8\uc2dc\uac04 (4\uc2dc\uac04\uc529 \ub450 \uc138\uc158\uc73c\ub85c \ubd84\ud560)",contents:["\ubc30\uacbd \uc774\ubbf8\uc9c0 \ubc0f Bing\u2122 \uc9c0\ub3c4 \ub124\ud2b8\uc6cc\ud06c \uc124\uc815","\uc2e0\ud638 \ud0c0\uc774\ubc0d \uac1c\ubc1c","HCM \ubc0f \uae30\ud0c0 \ubc29\ubc95\ub860\uc744 \uc0ac\uc6a9\ud55c LOS \ubd84\uc11d","\uc2dc\ub098\ub9ac\uc624 \uad00\ub9ac","\uad50\ucc28\ub85c, \ubcf5\ub3c4 \ubc0f \ub124\ud2b8\uc6cc\ud06c\uc758 \uc2e0\ud638 \ud0c0\uc774\ubc0d \ucd5c\uc801\ud654","\uad50\ud1b5 \uc601\ud5a5 \ubd84\uc11d \ub124\ud2b8\uc6cc\ud06c \uc124\uc815","\uac1c\ubc1c \ud1b5\ud589 \ucd94\uc801","\uc644\ud654 \ubd84\uc11d","\ubcf4\uace0\uc11c\uc6a9 \uadf8\ub9bc \ubc0f \ucd9c\ub825 \uc694\uc57d \uc0dd\uc131","\ub2e4\ub978 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ud328\ud0a4\uc9c0\uc5d0\uc11c \ub370\uc774\ud130 \uac00\uc838\uc624\uae30","Vissim \ubbf8\uc2dc\uc2dc\ubbac\ub808\uc774\uc158\uc73c\ub85c \ub370\uc774\ud130 \ub0b4\ubcf4\ub0b4\uae30"]},"tr-t0501":{title:"Vistad-EUSKA",code:"TR-T0501",product:"Vistad",level:"Basic",image:Wle,description:"\uc548\uc804\uc740 \ub2f9\uc5f0\ud55c \uac83\uc774 \uc544\ub2d9\ub2c8\ub2e4. \uac70\uc758 \ub9e4\ubd84\ub9c8\ub2e4 \ub204\uad70\uac00\uac00 \uad50\ud1b5\uc0ac\uace0\ub85c \ub2e4\uce58\uac70\ub098 \uc0ac\ub9dd\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc778\uba85 \ud53c\ud574\ub97c \uc218\ubc18\ud558\ub294 \uc0ac\uace0\ub97c \uc904\uc774\uae30 \uc704\ud55c \uba85\ud655\ud55c \ubaa9\ud45c\ub97c \uc124\uc815\ud558\uace0 \uc801\uc808\ud55c \uad50\ud1b5 \uc548\uc804 \uc99d\uc9c4 \uc870\uce58\ub97c \ucde8\ud560 \uc218 \uc788\ub3c4\ub85d \uc0ac\uace0\uc5d0 \ub300\ud55c \ub370\uc774\ud130\ub97c \uc218\uc9d1\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4.",content:"\ub3c4\ub85c \uc548\uc804\uc774 \uadc0\ud558\uc758 \uc77c\uc0c1 \uc5c5\ubb34\ub77c\uba74, PTV Vistad\ub294 \ube44\uc804 \uc81c\ub85c\uc5d0 \ub3c4\ub2ec\ud558\uae30 \uc704\ud55c \uc62c\ubc14\ub978 \ub3c4\uad6c\uc785\ub2c8\ub2e4! \uc774 \ucd5c\ucca8\ub2e8 \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub294 \uad50\ud1b5\uc0ac\uace0 \ub370\uc774\ud130\ub97c \uc218\uc9d1, \uac80\uc99d \ubc0f \ubd84\uc11d\ud558\ub294 \ub370 \ub3c4\uc6c0\uc744 \uc90d\ub2c8\ub2e4. PTV Vistad\ub294 \uad50\ud1b5 \uc548\uc804 \uc804\ubb38\uac00\uc640 \uad50\ud1b5 \uacc4\ud68d\uc790\uac00 \uc0ac\uace0 \ub370\uc774\ud130\ub97c \ube60\ub974\uace0 \uc27d\uac8c \uae30\ub85d\ud558\uace0 \ud3c9\uac00\ud560 \uc218 \uc788\ub294 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc785\ub2c8\ub2e4. \uc0ac\uace0 \uc0c1\ud669\uc744 \ubd84\uc11d\ud558\uc5ec \ub354 \uc798 \uc774\ud574\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub3c4\ucd9c\ub41c \uc870\uce58\ub97c \ud1b5\ud55c \ub3c4\ub85c \uc548\uc804\uc758 \uc9c0\uc18d\uc801\uc778 \uac1c\uc120\uc744 \uc704\ud55c \uae30\ucd08\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc774 \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub294 \ub370\uc774\ud130 \uc218\uc9d1 \ubc0f \ubd84\uc11d\ubd80\ud130 \ud604\uc7a5 \uc0ac\uace0 \uc870\uc0ac, \uc870\uce58 \ubc0f \ub3c4\ub85c \uc548\uc804\uc5d0 \ubbf8\uce58\ub294 \ud6a8\uacfc \ubaa8\ub2c8\ud130\ub9c1\uae4c\uc9c0 \ub3c4\ub85c \uc548\uc804 \uc5c5\ubb34\uc5d0\uc11c \ucd5c\uc801\uc758 \uc9c0\uc6d0\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uc548\uc804 \uc804\ubb38\uac00\ub098 \ub3c4\ub85c \uc548\uc804 \ub610\ub294 \uc0ac\uace0 \ub370\uc774\ud130\uc5d0 \uad00\uc2ec\uc774 \uc788\uace0 PTV Vistad\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub354 \ub9ce\uc740 \uad50\ud1b5 \uc548\uc804\uc744 \uc704\ud574 \ud6a8\uc728\uc801\uc73c\ub85c \uc791\uc5c5\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \ub354 \uc54c\uace0 \uc2f6\uc5b4\ud558\ub294 \ub204\uad6c\ub098\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:"\uc0ac\uace0 \ub370\uc774\ud130 \ubd84\uc11d\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc774 \ub3c4\uc6c0\uc774 \ub418\uc9c0\ub9cc \ud544\uc218\ub294 \uc544\ub2d9\ub2c8\ub2e4.",duration:"1\uc77c",contents:["\uc0ac\uace0 \ub370\uc774\ud130 \uac00\uc838\uc624\uae30 \ubc0f \uc218\uc9d1","\uc0ac\uace0 \ub370\uc774\ud130\uc758 \ud488\uc9c8 \ubcf4\uc99d: \uad50\ud1b5\uc0ac\uace0 \ub370\uc774\ud130\uc758 \uac80\uc99d \ubc0f \uc9c0\uc624\ucf54\ub529","\uc0ac\uace0 \ub370\uc774\ud130 \ubd84\uc11d: \uc9c0\ub3c4 \uae30\ubc18 \ubc0f \ud1b5\uacc4\uc801 \ud3c9\uac00 \uac00\ub2a5\uc131","\uc0ac\uace0 \ub370\uc774\ud130 \ud3c9\uac00: \uc804\ud615\uc801\uc778 \uc9c8\ubb38\uc5d0 \ub530\ub77c \uc0ac\uace0 \ub370\uc774\ud130\ub97c \ud544\ud130\ub9c1\ud558\uace0 \ucd94\uac00 \uc870\uc0ac","\uc0ac\uace0 \ub2e4\ubc1c\uc9c0\uc810: \uc0ac\uace0 \ub2e4\ubc1c\uc9c0\uc810 \ucc3e\uae30, \uc6d0\uc778 \uc870\uc0ac \ubc0f \uc2dc\uac04\uc5d0 \ub530\ub978 \ubcc0\ud654","\ubcf4\uace0\uc11c \ubc0f \ub0b4\ubcf4\ub0b4\uae30: \uc5f0\uad6c \uacb0\uacfc \ub0b4\ubcf4\ub0b4\uae30 \ubc0f \ucc98\ub9ac"]},"tr-t0601":{title:"Visum Safety",code:"TR-T0601",product:"Visum",level:"Basic",image:qle,description:"PTV Visum Safety\ub294 \uc0ac\uace0 \ub370\uc774\ud130\ub97c \ubd84\uc11d\ud558\ub294 \ub3c4\uad6c\uc785\ub2c8\ub2e4. Visum Safety\ub97c \uc0ac\uc6a9\ud558\uba74 \ucc98\uc74c\ubd80\ud130 \uc804\ub7b5\uc801 \uad50\ud1b5 \uacc4\ud68d \uacb0\uc815\uc5d0 \uad50\ud1b5 \uc548\uc804 \uce21\uba74\uc744 \ud1b5\ud569\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",content:"\uc774 \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub294 \uacbd\ucc30\uc774 \uc218\uc9d1\ud55c \uc0ac\uace0 \ub370\uc774\ud130\ub97c \uba85\ud655\ud558\uac8c \uc2dc\uac01\ud654\ud558\uace0 \uc0ac\uace0 \ub2e4\ubc1c\uc9c0\uc810\uacfc \uace0\uc704\ud5d8 \uc9c0\uc5ed\uc744 \uc2dd\ubcc4\ud569\ub2c8\ub2e4. \uac01 \uac1c\ubcc4 \uc0ac\uace0\uc5d0 \ub300\ud55c \uc0c1\uc138 \uc815\ubcf4\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790\ub294 \uc720\uc0ac\uc131\uacfc \uae30\uc5ec \uc694\uc778\uc744 \ucc3e\uc544 \uc6d0\uc778\uc5d0 \ub300\ud55c \uacb0\ub860\uc744 \ub3c4\ucd9c\ud558\uace0 \ud6a8\uacfc\uc801\uc774\uace0 \ube44\uc6a9 \ud6a8\uc728\uc801\uc778 \uc644\ud654 \uc870\uce58\ub97c \uac1c\ubc1c, \uacc4\ud68d \ubc0f \ucd5c\uc801\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc804\ub7b5\uc801 \uad50\ud1b5 \uacc4\ud68d \uc18c\ud504\ud2b8\uc6e8\uc5b4 PTV Visum\uacfc \ud568\uaed8 PTV Visum Safety\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc870\uc815\ub41c \ud3c9\uac00 \ubc0f \uacc4\ud68d \ub2e8\uacc4\ub97c \uc124\uacc4\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574 \uacbd\ucc30, \uc9c0\ubc29\uc790\uce58\ub2e8\uccb4 \uc11c\ube44\uc2a4 \ubc0f \uad50\ud1b5 \uacc4\ud68d\uc790\uc640 \uac19\uc740 \ub2e4\uc591\ud55c \uc870\uc9c1\uc774 \ub354 \uc548\uc804\ud55c \ubaa8\ube4c\ub9ac\ud2f0\ub77c\ub294 \ubaa9\ud45c\ub97c \ud5a5\ud574 \ud568\uaed8 \uc791\uc5c5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 PTV Visum Safety\ub97c \uc0ac\uc6a9\ud558\uc5ec \uacc4\ud68d \ud504\ub85c\uc138\uc2a4\uc5d0\uc11c \uad50\ud1b5 \uc548\uc804\uc744 \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uc5d0 \uad00\uc2ec\uc774 \uc788\ub294 \uad50\ud1b5 \uacc4\ud68d\uc790, \uc548\uc804 \uc804\ubb38\uac00 \ub610\ub294 \ub204\uad6c\ub098\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4.",prerequisites:"\uad50\ud1b5\uc0ac\uace0 \ubd84\uc11d\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc774 \ub3c4\uc6c0\uc774 \ub418\uba70, PTV Visum \uae30\uc220\uc740 \ud544\uc694\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",duration:"1\uc77c",contents:["\uc0ac\uace0 \ub2e4\ubc1c\uc9c0\uc810 \uad00\ub9ac(BSM): \uc0ac\uace0 \ub2e4\ubc1c\uc9c0\uc810 \ucc3e\uae30 \ubc0f \uc6d0\uc778 \uc870\uc0ac","\ub124\ud2b8\uc6cc\ud06c \uc548\uc804 \uad00\ub9ac(NSM): \ub124\ud2b8\uc6cc\ud06c \uc804\uccb4 \ub3c4\ub85c \uc548\uc804 \uc0c1\ud669 \ubd84\uc11d","\ub3c4\ub85c \uc548\uc804 \uc601\ud5a5 \ud3c9\uac00(RIA): \ubbf8\ub798 \uacc4\ud68d \ub300\uc548 \ud3c9\uac00\ub97c \uc704\ud55c \uc0ac\uace0 \uc608\uce21 \ubaa8\ub378(APM) \uc0ac\uc6a9"]},"tr-t0701":{title:"Optima - \ubc30\ud3ec, \uad6c\uc131 \ubc0f \ud1b5\ud569",code:"TR-T0701",product:"Optima",level:"Advanced",image:Wle,description:"\uc774 \uacfc\uc815\uc740 <strong>Optima \uc194\ub8e8\uc158\uc758 \uc544\ud0a4\ud14d\ucc98</strong>\uc640 \uc0c8\ub85c\uc6b4 \ud658\uacbd \uc124\uc815\uacfc <em>\ubbf8\uc138 \uc870\uc815</em> \ubaa8\ub450\uc5d0\uc11c \uad6c\uc131 \uc694\uc18c \uac04\uc758 \ubcf5\uc7a1\ud55c \uc0c1\ud638 \uc5f0\uacb0\uc5d0 \ub300\ud55c \uc774\ud574\ub97c \uc81c\uacf5\ud558\uae30 \uc704\ud55c \uac83\uc785\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 \uc6b4\uc601, \uc720\uc9c0 \uad00\ub9ac, \uc9c0\uc6d0, \uc2dc\uc2a4\ud15c \ud1b5\ud569\uc5c5\uccb4 \ud300 \uad6c\uc131\uc6d0\uc744 \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0\ub294 Optima \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uae30\uc220 \ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac\uc790 \uc5ed\ud560\uc744 \ud558\ub294 \uc9c1\uc6d0\ub3c4 \ud3ec\ud568\ub429\ub2c8\ub2e4.",prerequisites:'<div class="warning-box"><strong>\uae30\uc220\uc801 \uc694\uad6c\uc0ac\ud56d:</strong><br>\u2022 <span class="tech-term">Linux\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd</span>\uc774 \uc608\uc0c1\ub429\ub2c8\ub2e4<br>\u2022 API \ud1b5\uc2e0(\uc608: Postman) \ubc0f \uad00\uacc4\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4(\uc608: PostgreSQL)\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4<br>\u2022 \uad50\ud1b5 \uacc4\ud68d \ub610\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1\uc5d0 \ub300\ud55c <strong>\uc2e4\ubb34 \uacbd\ud5d8</strong> \ub610\ub294 \uc804\ubb38\uc801 \ubc30\uacbd\uc774 \uc608\uc0c1\ub429\ub2c8\ub2e4<br>\u2022 PTV Visum\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc9c0\uc2dd\uc774 \ud50c\ub7ec\uc2a4\uc785\ub2c8\ub2e4</div>',duration:"3\uc77c",contents:["<strong>\ubaa8\ub4c8 1:</strong> <em>Optima \uc194\ub8e8\uc158\uc758 \uc544\ud0a4\ud14d\ucc98</em> \ubc0f \uad6c\uc131 \uc694\uc18c \uc0c1\ud638 \uc5f0\uacb0","<strong>\ubaa8\ub4c8 2:</strong> \ubaa8\ubc94 \uc0ac\ub840\ub85c \uc0c8\ub85c\uc6b4 \ud658\uacbd \uc124\uc815","<strong>\ubaa8\ub4c8 3:</strong> \ubbf8\uc138 \uc870\uc815 \ubc0f \ucd5c\uc801\ud654 \uae30\ubc95","<strong>\ubaa8\ub4c8 4:</strong> \uae30\uc874 \uc2dc\uc2a4\ud15c \ubc0f \uc6cc\ud06c\ud50c\ub85c\uc640\uc758 \ud1b5\ud569"]},"tr-t0702":{title:"Optima \ubaa8\ub378\ub9c1",code:"TR-T0702",product:"Optima",level:"Advanced",image:Wle,description:"\uc774 \uacfc\uc815\uc740 \ub3d9\uc801 \uad50\ud1b5 \ubaa8\ub378\uacfc PTV Optima \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uac04\uc758 \uad00\uacc4\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574\ub97c \ubaa8\ub378\ub7ec\uc5d0\uac8c \uc81c\uacf5\ud558\uae30 \uc704\ud55c \uac83\uc785\ub2c8\ub2e4.",content:"\uc5ec\uae30\uc5d0\ub294 \uc2e4\uc81c \uc138\uacc4 \ubc0f \uc2e4\uc2dc\uac04 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \uad00\ub828\ud558\uc5ec \uc774\ub7ec\ud55c \ubaa8\ub378\uc744 \uad6c\ucd95, \ubcf4\uc815 \ubc0f \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \uac83\uc774 \ud3ec\ud568\ub429\ub2c8\ub2e4. \ub610\ud55c \uad50\ud1b5 \ub370\uc774\ud130 \ubd84\uc11d \ubc0f \uc2dc\ubbac\ub808\uc774\uc158\uc744 \ud1b5\ud574 \uad50\ud1b5 \ud604\uc0c1\uc744 \ud574\uc11d\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ubaa8\ub4e0 \ud65c\ub3d9\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uad11\ubc94\uc704\ud55c \ub3c4\uad6c\uac00 \uc2e4\uc2b5\uc5d0 \ud2b9\ubcc4\ud55c \uc8fc\uc758\ub97c \uae30\uc6b8\uc5ec \uacfc\uc815 \uc804\uccb4 \uae30\uac04 \ub3d9\uc548 \uc81c\uc2dc\ub418\uace0 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.",targetGroup:"\uc774 \uacfc\uc815\uc740 PTV Optima \uc2dc\uc2a4\ud15c\uc744 \uc704\ud55c \uad50\ud1b5 \ubaa8\ub378\uc744 \uc124\uc815\ud558\uace0 \uc720\uc9c0 \uad00\ub9ac\ud558\ub294 \uac83\uc744 \ubaa9\ud45c\ub85c \ud558\ub294 \uad50\ud1b5 \ubaa8\ub378\ub7ec\ub97c \ub300\uc0c1\uc73c\ub85c \ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 \ubaa8\ub4e0 \ub2e8\uacc4\uc5d0\uc11c Optima \ubaa8\ub378\uc5d0\uc11c \uc791\uc5c5\ud558\ub294 \uacac\uace0\ud55c \uae30\ucd08\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.",prerequisites:"Visum\uc5d0 \ub300\ud55c \uc219\ub828\ub3c4\uac00 \uc608\uc0c1\ub429\ub2c8\ub2e4. MS-Windows OS\uc5d0\uc11c MS-Excel\uc744 \uc0ac\uc6a9\ud55c \ub370\uc774\ud130 \ubd84\uc11d\uc758 \uae30\ubcf8 \uae30\uc220\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1\uc5d0 \ub300\ud55c \uc2e4\ubb34 \uacbd\ud5d8 \ub610\ub294 \uc804\ubb38\uc801 \ubc30\uacbd\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.",duration:"3\uc77c",contents:["\ub3d9\uc801 \uad50\ud1b5 \ubaa8\ub378 \ubc0f PTV Optima \uc560\ud50c\ub9ac\ucf00\uc774\uc158","\ubaa8\ub378 \uad6c\ucd95, \ubcf4\uc815 \ubc0f \uc5c5\ub370\uc774\ud2b8","\uc2e4\uc81c \uc138\uacc4 \ubc0f \uc2e4\uc2dc\uac04 \uc560\ud50c\ub9ac\ucf00\uc774\uc158","\uad50\ud1b5 \ub370\uc774\ud130 \ubd84\uc11d \ubc0f \uc2dc\ubbac\ub808\uc774\uc158","\ub3c4\uad6c \ubc0f \uc2e4\uc81c \uc801\uc6a9"]},"ct-001":{title:"PTV \uc778\uc99d \uad50\uc721\uc790 \ud504\ub85c\uadf8\ub7a8",code:"CT-001",product:"General",level:"Advanced",image:Wle,description:"PTV \uc778\uc99d \uad50\uc721\uc790 \ud504\ub85c\uadf8\ub7a8\uc740 \uc5c5\uacc4 \uc804\ubb38\uac00\ub4e4\uc774 PTV\uc758 \uc8fc\uc694 \ubaa8\ube4c\ub9ac\ud2f0 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uad11\ubc94\uc704\ud55c \ubc94\uc704\uc5d0\uc11c \uc778\uc99d\ub41c \uacfc\uc815\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\ub3c4\ub85d \uad50\uc721\ud569\ub2c8\ub2e4.",content:"\uc774 \ud504\ub85c\uadf8\ub7a8\uc740 \ub3d9\ub8cc\uc640 \uace0\uac1d\uc5d0\uac8c \uad50\uc721\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\ub294 PTV\uc758 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc194\ub8e8\uc158\uc5d0 \ub300\ud55c \ubb38\uc11c\ud654\ub41c \uc804\ubb38\uc131\uc73c\ub85c \uc804\ubb38\uc801 \ud504\ub85c\ud544\uc744 \uac15\ud654\ud558\uace0\uc790 \ud558\ub294 \uac1c\uc778\uc5d0\uac8c \ud2b9\ud788 \uc801\ud569\ud569\ub2c8\ub2e4. PTV \uc778\uc99d \uad50\uc721\uc790\uac00 \ub418\ub824\uba74 \uc9c0\uc6d0\uc790\ub294 \uc785\ud559 \uc2dc\ud5d8\uc744 \ud1b5\uacfc\ud558\uace0 \ub3c5\uc77c PTV \ubcf8\uc0ac\uc5d0\uc11c \ub610\ub294 \uc628\ub77c\uc778 \uad50\uc721 \uacfc\uc815\uc5d0\uc11c PTV \uc778\uc99d \uad50\uc721\uc790 \uacfc\uc815\uc5d0 \ucc38\uc11d\ud574\uc57c \ud569\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 \ud504\ub808\uc820\ud14c\uc774\uc158 \ubc0f \uad50\uc721 \uae30\uc220\uc5d0 \uc911\uc810\uc744 \ub450\uba70 \uad6c\uc220 \uc2dc\ud5d8\uc73c\ub85c \ub9c8\ubb34\ub9ac\ub429\ub2c8\ub2e4.",targetGroup:"PTV\uc758 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc194\ub8e8\uc158\uc5d0 \ub300\ud55c \ubb38\uc11c\ud654\ub41c \uc804\ubb38\uc131\uc73c\ub85c \uc804\ubb38\uc801 \ud504\ub85c\ud544\uc744 \uac15\ud654\ud558\uace0\uc790 \ud558\ub294 \uc5c5\uacc4 \uc804\ubb38\uac00.",prerequisites:"\uc785\ud559 \uc2dc\ud5d8\uc744 \ud1b5\uacfc\ud574\uc57c \ud569\ub2c8\ub2e4.",duration:"\uac00\ubcc0",contents:["\uad00\uc2ec\uc744 \ub4f1\ub85d\ud558\uace0 \uc628\ub77c\uc778 \uc785\ud559 \uc2dc\ud5d8\uc5d0 \uc9c0\uc6d0","\uad6c\uc220 \uc2dc\ud5d8\uc73c\ub85c \ub9c8\ubb34\ub9ac\ub418\ub294 PTV \uc778\uc99d \uad50\uc721\uc790 \uacfc\uc815 \ucc38\uc11d","\ucd95\ud558\ud569\ub2c8\ub2e4 - \uc774\uc81c \uc778\uc99d \uad50\uc721\uc790\uc785\ub2c8\ub2e4!","CT \ucee4\ubba4\ub2c8\ud2f0\uc640 \ucd5c\uc2e0 \uc815\ubcf4\ub97c \uc720\uc9c0\ud558\uc138\uc694. \ub77c\uc774\uc120\uc2a4\ub294 \uc5f0\uac04 \uae30\uc900\uc73c\ub85c \uac31\uc2e0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],advantages:["\ubb38\uc11c\ud654\ub41c \uc804\ubb38\uc131\uc73c\ub85c \uc804\ubb38\uc801 \ud504\ub85c\ud544 \uac15\ud654","\ub3d9\ub8cc\uc640 \uace0\uac1d\uc5d0\uac8c \uad50\uc721 \uc81c\uacf5","CT \ucee4\ubba4\ub2c8\ud2f0 \uc811\uadfc \ubc0f \uc5f0\uac04 \ub77c\uc774\uc120\uc2a4 \uac31\uc2e0"]},"tr-t0154":{title:"PTV Visum - \ub3d9\uc801 \uad50\ud1b5 \ubc30\uc815(SBA) in PTV Visum (US)",code:"TR-T0154",product:"Visum",level:"Intermediate",image:qle,description:"\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 PTV-Visum\uc5d0\uc11c \ub3d9\uc801 \uad50\ud1b5 \ubc30\uc815(SBA)\uc758 \uc801\uc6a9\uc744 \ub2e4\ub8f9\ub2c8\ub2e4. \uc2dc\ubbac\ub808\uc774\uc158 \uae30\ubc18 \ub3d9\uc801 \ubc30\uc815(SBA)\uc740 \uad50\ucc28\ub85c \uae30\ud558\ud559\uc801 \uad6c\uc870\uc640 \uc81c\uc5b4(\uc2e0\ud638 \ud0c0\uc774\ubc0d)\ub97c \uace0\ub824\ud569\ub2c8\ub2e4. \ub300\uaddc\ubaa8 \uad50\ud1b5\uc758 \uc2dc\uacf5\uac04\uc801 \uc0c1\ud638\uc791\uc6a9\uc744 \ubaa8\ub378\ub9c1\ud558\ub294 \ub370 \uc0ac\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",targetGroup:"\ubcf5\ub3c4 \uc5f0\uad6c\uc640 \ub300\uaddc\ubaa8 \uad50\ud1b5 \uc2dc\ubbac\ub808\uc774\uc158\uc5d0 \uc885\uc0ac\ud558\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\uc640 \ubaa8\ub378\ub7ec.",prerequisites:"\uc815\uc801 \uad50\ud1b5 \ubc30\uc815\uacfc PTV-Visum\uc5d0\uc11c\uc758 \uc801\uc6a9\uc5d0 \ub300\ud55c \uc9c0\uc2dd.",duration:"8\uc2dc\uac04 (\uc774\ud2c0\uc5d0 \uac78\uccd0 \uac01\uac01 4\uc2dc\uac04\uc529 2\ud68c \uc138\uc158\uc73c\ub85c \ubd84\ud560)",contents:["SBA\ub97c \uc704\ud55c \ub124\ud2b8\uc6cc\ud06c \uc900\ube44 - \ub124\ud2b8\uc6cc\ud06c \ucf54\ub529","SBA\ub97c \uc704\ud55c \uc2dc\uac04 \ubcc0\ud654 \uc218\uc694 \uc124\uc815","\ubaa8\ub378 \ub9e4\uac1c\ubcc0\uc218 \uc870\uc815: \ucc28\ub7c9 \ucd94\uc885, \ud569\ub958 \ubc0f \ucc28\uc120 \ubcc0\uacbd","\uacb0\uacfc \uc2dc\uac01\ud654"]},"tr-t0155":{title:"PTV Visum - \ud569\uc131 \ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815(ODME) in PTV Visum (US)",code:"TR-T0155",product:"Visum",level:"Intermediate",image:qle,description:"\uc774 \uacfc\uc815\uc5d0\uc11c\ub294 PTV-Visum\uc5d0\uc11c \ud569\uc131 \ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815(ODME) \uc808\ucc28\uc758 \uc801\uc6a9\uc744 \ub2e4\ub8f9\ub2c8\ub2e4. ODME \ubc29\ubc95\uc740 \ub124\ud2b8\uc6cc\ud06c \ubc30\uc815 \uacb0\uacfc\uac00 \uad00\uce21\ub41c \uce74\uc6b4\ud2b8 \ub370\uc774\ud130\uc640 \ub354 \uac00\uae5d\uac8c \uc77c\uce58\ud558\ub3c4\ub85d \uc218\uc694 \ub9e4\ud2b8\ub9ad\uc2a4\ub97c \uc870\uc815\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.",content:"\ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815\uc740 \ub2e4\uc74c\uacfc \uac19\uc740 \uc0c1\ud669\uc5d0\uc11c \uc720\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4: \uae30\uc900 \ubaa8\ub378\uc774 \ubcf4\uc815\ub41c \ud574\uc640 \ub2e4\ub978 \ud574\uc5d0 \ubc1c\uc0dd\ud558\ub294 \uad50\ud1b5 \uc5f0\uad6c\ub97c \uc704\ud574 \uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\uc758 \ud1b5\ud589\ud45c\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uae30 \uc704\ud574 \ud604\uc7ac \ud574\uc758 \uce74\uc6b4\ud2b8\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0. \uc0d8\ud50c \ub370\uc774\ud130\uc5d0\uc11c \uc0dd\uc131\ub41c \ub9e4\ud2b8\ub9ad\uc2a4\ub97c \uce74\uc6b4\ud2b8 \ub370\uc774\ud130\ub97c \uc0ac\uc6a9\ud558\uc5ec \uac1c\uc120\ud558\ub294 \uacbd\uc6b0. \uc608: \ubaa8\ubc14\uc77c \uae30\uae30\uc758 \ube45\ub370\uc774\ud130. \uc870\uc0ac\ub41c \ud1b5\ud589 \uac70\ub9ac \ubd84\ud3ec\uc640 \uc77c\uce58\ud558\ub3c4\ub85d \uc2dc\ub4dc \ub610\ub294 \uae30\uc874 \ud1b5\ud589\ud45c\ub97c \uc870\uc815\ud558\ub294 \uacbd\uc6b0. \uacfc\uc815\uc5d0\uc11c\ub294 Visum\uc5d0 \uad6c\ud604\ub41c \uc5d4\ud2b8\ub85c\ud53c \uae30\ubc18(TFlowFuzzy)\uacfc \ucd5c\uc18c \uc81c\uacf1 \ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815 \ubc29\ubc95 \ubaa8\ub450\ub97c \ub2e4\ub8f9\ub2c8\ub2e4. \ucd5c\uc18c \uc81c\uacf1 \ubc29\ubc95\uc758 \ub3d9\uc801 \ubcc0\ud615 \uc801\uc6a9\ub3c4 \ub2e4\ub8f9\ub2c8\ub2e4. \ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815 \ubc29\ubc95\uc740 PrT(\uc790\ub3d9\ucc28)\uc640 PuT(\ub300\uc911\uad50\ud1b5) \ubaa8\ub4dc \ubaa8\ub450\uc5d0 \uc801\uc6a9 \uac00\ub2a5\ud558\uc9c0\ub9cc, \uc774 \uacfc\uc815\uc5d0\uc11c\ub294 PrT(\uc790\ub3d9\ucc28) \uce21\uba74 \uc801\uc6a9\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.",targetGroup:"\ub2e8\uae30\uc5d0\uc11c \uc911\uae30 \uacc4\ud68d\uc744 \uac00\uc9c4 \ubcf5\ub3c4 \ubc0f \uc601\ud5a5 \uc5f0\uad6c\uc5d0 \uc885\uc0ac\ud558\ub294 \uad50\ud1b5 \uc5d4\uc9c0\ub2c8\uc5b4\uc640 \uc5ec\ud589 \uc218\uc694 \ubaa8\ub378\ub7ec.",prerequisites:"\uc77c\ubc18\uc801\uc778 \uad50\ud1b5 \ubc30\uc815\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uacfc \uc774\uc0c1\uc801\uc73c\ub85c\ub294 PTV-Visum\uc5d0\uc11c\uc758 \uc77c\ubd80 \uc801\uc6a9 \uacbd\ud5d8.",duration:"4\uc2dc\uac04",contents:["\ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815\uc744 \uc704\ud55c \ub370\uc774\ud130 \uc900\ube44","PTV-Visum\uc5d0\uc11c \ub9e4\ud2b8\ub9ad\uc2a4 \ucd94\uc815 \ubc29\ubc95 \uc801\uc6a9 (TFLowFuzzy, \ucd5c\uc18c \uc81c\uacf1, \ub3d9\uc801 \ucd5c\uc18c \uc81c\uacf1)","\uacb0\uacfc \ubd84\uc11d"]}};function Xle(){const{t:e,currentLanguage:t}=(0,i.useContext)($n),n=Nt(),[r,a]=(0,i.useState)("all"),[o,s]=(0,i.useState)("all"),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=setTimeout(()=>{c(u)},300);return()=>clearTimeout(e)},[u]);const h=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})},p="ko"===t?Yle:Qle,m=Object.values(p).map((e,t)=>({id:t+1,product:e.product,level:e.level,title:e.title,code:e.code,image:e.image})),f=m.filter(e=>{const t="all"===r||e.product===r,n="all"===o||e.level===o,i=""===l||e.title.toLowerCase().includes(l.toLowerCase())||e.product.toLowerCase().includes(l.toLowerCase())||e.level.toLowerCase().includes(l.toLowerCase());return t&&n&&i}),A=e=>{n("/training/".concat(e.toLowerCase()))},g=e=>{switch(e){case"Basic":default:return"level-basic";case"Intermediate":return"level-intermediate";case"Advanced":return"level-advanced";case"Individual":return"level-individual"}};return(0,Yn.jsxs)("div",{className:"training-page",children:[(0,Yn.jsx)("section",{className:"training-hero",children:(0,Yn.jsxs)("div",{className:"training-hero-content",children:[(0,Yn.jsx)(h,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{className:"training-hero-title",children:e("training.heroTitle")})}),(0,Yn.jsx)(h,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("p",{className:"training-hero-subtitle",children:e("training.heroSubtitle")})})]})}),(0,Yn.jsx)("section",{className:"training-main-section",children:(0,Yn.jsxs)("div",{className:"training-container",children:[(0,Yn.jsxs)("div",{className:"training-controls",children:[(0,Yn.jsxs)("div",{className:"training-filters",children:[(0,Yn.jsx)("div",{className:"filter-group",children:(0,Yn.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"filter-select","aria-label":"Filter by product",children:[(0,Yn.jsx)("option",{value:"all",children:e("training.filters.allProducts")}),(0,Yn.jsx)("option",{value:"Visum",children:"Visum"}),(0,Yn.jsx)("option",{value:"Vissim",children:"Vissim"}),(0,Yn.jsx)("option",{value:"Vistro",children:"Vistro"}),(0,Yn.jsx)("option",{value:"Vistad",children:"Vistad"}),(0,Yn.jsx)("option",{value:"Optima",children:"Optima"}),(0,Yn.jsx)("option",{value:"General",children:"General"})]})}),(0,Yn.jsx)("div",{className:"filter-group",children:(0,Yn.jsxs)("select",{value:o,onChange:e=>s(e.target.value),className:"filter-select","aria-label":"Filter by level",children:[(0,Yn.jsx)("option",{value:"all",children:e("training.filters.allLevels")}),(0,Yn.jsx)("option",{value:"Basic",children:e("training.levels.Basic")}),(0,Yn.jsx)("option",{value:"Intermediate",children:e("training.levels.Intermediate")}),(0,Yn.jsx)("option",{value:"Advanced",children:e("training.levels.Advanced")}),(0,Yn.jsx)("option",{value:"Individual",children:e("training.levels.Individual")})]})})]}),(0,Yn.jsxs)("div",{className:"training-search",children:[(0,Yn.jsx)("input",{type:"text",placeholder:e("training.filters.searchPlaceholder"),value:u,onChange:e=>{d(e.target.value)},className:"search-input","aria-label":e("training.filters.searchLabel")}),(0,Yn.jsxs)("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Yn.jsx)("path",{d:"21 21l-4.35-4.35"})]})]})]}),(0,Yn.jsx)(h,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"results-count",children:[f.length," ",e("training.results.coursesFound"),("all"!==r||"all"!==o||l)&&(0,Yn.jsxs)("span",{className:"filter-applied",children:["all"!==r&&" \u2022 ".concat(r),"all"!==o&&" \u2022 ".concat("ko"===t?e("training.levels.".concat(o)):o),l&&' \u2022 "'.concat(l,'"')]})]})}),(0,Yn.jsx)("div",{className:"courses-grid",children:f.map((n,i)=>(0,Yn.jsx)(h,{animation:"slide-up",delay:50*i,children:(0,Yn.jsxs)("article",{className:"course-card",onClick:()=>A(n.code),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||A(n.code)},"aria-label":"View details for ".concat(n.title),children:[(0,Yn.jsxs)("div",{className:"course-image-container",children:[(0,Yn.jsx)("img",{src:n.image,alt:n.product,className:"course-image"}),(0,Yn.jsx)("div",{className:"level-badge ".concat(g(n.level)),children:"ko"===t?e("training.levels.".concat(n.level)):n.level})]}),(0,Yn.jsxs)("div",{className:"course-content",children:[(0,Yn.jsx)("h3",{className:"course-title",children:n.title}),(0,Yn.jsx)("p",{className:"course-code",children:n.code}),(0,Yn.jsx)("div",{className:"course-footer",children:(0,Yn.jsxs)("span",{className:"view-details",children:[e("training.courseCard.viewDetails"),(0,Yn.jsx)("svg",{className:"arrow-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})},n.id))}),0===f.length&&(0,Yn.jsx)(h,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"no-results",children:[(0,Yn.jsx)("h3",{children:e("training.results.noCourses")}),(0,Yn.jsx)("p",{children:e("training.results.noCoursesMessage")})]})})]})})]})}function Kle(){const{courseCode:e}=Dt(),{t:t,currentLanguage:n}=(0,i.useContext)($n),r=Nt(),a="ko"===n?Yle:Qle,o=Object.values(a).find(t=>t.code.toLowerCase()===(null===e||void 0===e?void 0:e.toLowerCase()));if(!o)return(0,Yn.jsx)("div",{className:"course-detail-not-found",children:(0,Yn.jsxs)("div",{className:"course-detail-container",children:[(0,Yn.jsx)("h1",{children:t("training.course.notFound.title")}),(0,Yn.jsx)("p",{children:t("training.course.notFound.message")}),(0,Yn.jsx)("button",{onClick:()=>r("/training"),className:"course-detail-back-btn",children:t("training.course.backToTraining")})]})});const s=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("div",{className:"course-detail-page",children:[(0,Yn.jsx)("section",{className:"course-detail-hero",children:(0,Yn.jsxs)("div",{className:"course-detail-hero-content",children:[(0,Yn.jsx)(s,{animation:"slide-up",delay:0,children:(0,Yn.jsxs)("button",{onClick:()=>r("/training"),className:"course-detail-back-link","aria-label":t("training.course.backToTraining"),children:["\u2190 ",t("training.course.backToTraining")]})}),(0,Yn.jsxs)("div",{className:"course-detail-hero-main",children:[(0,Yn.jsxs)("div",{className:"course-detail-hero-text",children:[(0,Yn.jsx)(s,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"course-detail-meta",children:[(0,Yn.jsx)("span",{className:"course-detail-product",children:o.product}),(0,Yn.jsx)("span",{className:"course-detail-level-badge ".concat((e=>{switch(e){case"Basic":default:return"course-detail-level-basic";case"Intermediate":return"course-detail-level-intermediate";case"Advanced":return"course-detail-level-advanced";case"Individual":return"course-detail-level-individual";case"Customized":return"course-detail-level-customized"}})(o.level)),children:"ko"===n?t("training.levels.".concat(o.level)):o.level})]})}),(0,Yn.jsx)(s,{animation:"slide-up",delay:200,children:(0,Yn.jsx)("h1",{className:"course-detail-title",children:o.title})}),(0,Yn.jsx)(s,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("p",{className:"course-detail-code",children:[t("training.course.code"),": ",o.code]})}),(0,Yn.jsx)(s,{animation:"slide-up",delay:400,children:(0,Yn.jsx)("div",{className:"course-detail-description",dangerouslySetInnerHTML:{__html:o.description}})})]}),(0,Yn.jsx)(s,{animation:"slide-left",delay:500,children:(0,Yn.jsx)("div",{className:"course-detail-hero-image",children:(0,Yn.jsx)("img",{src:o.image,alt:o.product,className:"course-detail-image"})})})]})]})}),(0,Yn.jsx)("section",{className:"course-detail-content",children:(0,Yn.jsx)("div",{className:"course-detail-container",children:(0,Yn.jsxs)("div",{className:"course-detail-grid",children:[(0,Yn.jsxs)("div",{className:"course-detail-main",children:[o.content&&(0,Yn.jsx)(s,{animation:"slide-up",delay:100,children:(0,Yn.jsxs)("div",{className:"course-detail-section",children:[(0,Yn.jsx)("h2",{children:t("training.course.overview")}),(0,Yn.jsx)("div",{className:"course-detail-rich-content",dangerouslySetInnerHTML:{__html:o.content}})]})}),o.targetGroup&&(0,Yn.jsx)(s,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"course-detail-section",children:[(0,Yn.jsx)("h2",{children:t("training.course.targetGroup")}),(0,Yn.jsx)("div",{className:"course-detail-rich-content",dangerouslySetInnerHTML:{__html:o.targetGroup}})]})}),o.prerequisites&&(0,Yn.jsx)(s,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("div",{className:"course-detail-section",children:[(0,Yn.jsx)("h2",{children:t("training.course.prerequisites")}),(0,Yn.jsx)("div",{className:"course-detail-rich-content",dangerouslySetInnerHTML:{__html:o.prerequisites}})]})}),o.contents&&o.contents.length>0&&(0,Yn.jsx)(s,{animation:"slide-up",delay:400,children:(0,Yn.jsxs)("div",{className:"course-detail-section",children:[(0,Yn.jsx)("h2",{children:t("training.course.contents")}),(0,Yn.jsx)("div",{className:"course-detail-contents",children:o.contents.map((e,t)=>(0,Yn.jsx)("div",{className:"course-detail-content-item",dangerouslySetInnerHTML:{__html:e}},t))})]})}),o.advantages&&o.advantages.length>0&&(0,Yn.jsx)(s,{animation:"slide-up",delay:500,children:(0,Yn.jsxs)("div",{className:"course-detail-section",children:[(0,Yn.jsx)("h2",{children:t("training.course.advantages")}),(0,Yn.jsx)("div",{className:"course-detail-advantages",children:o.advantages.map((e,t)=>(0,Yn.jsx)("div",{className:"course-detail-advantage-item",dangerouslySetInnerHTML:{__html:e}},t))})]})})]}),(0,Yn.jsxs)("div",{className:"course-detail-sidebar",children:[(0,Yn.jsx)(s,{animation:"slide-up",delay:200,children:(0,Yn.jsxs)("div",{className:"course-detail-info-card",children:[(0,Yn.jsx)("h3",{children:t("training.course.courseInformation")}),(0,Yn.jsxs)("div",{className:"course-detail-info-item",children:[(0,Yn.jsxs)("span",{className:"course-detail-info-label",children:[t("training.course.product"),":"]}),(0,Yn.jsx)("span",{className:"course-detail-info-value",children:o.product})]}),(0,Yn.jsxs)("div",{className:"course-detail-info-item",children:[(0,Yn.jsxs)("span",{className:"course-detail-info-label",children:[t("training.course.level"),":"]}),(0,Yn.jsx)("span",{className:"course-detail-info-value",children:"ko"===n?t("training.levels.".concat(o.level)):o.level})]}),o.duration&&(0,Yn.jsxs)("div",{className:"course-detail-info-item",children:[(0,Yn.jsxs)("span",{className:"course-detail-info-label",children:[t("training.course.duration"),":"]}),(0,Yn.jsx)("span",{className:"course-detail-info-value",children:o.duration})]}),(0,Yn.jsxs)("div",{className:"course-detail-info-item",children:[(0,Yn.jsxs)("span",{className:"course-detail-info-label",children:[t("training.course.code"),":"]}),(0,Yn.jsx)("span",{className:"course-detail-info-value",children:o.code})]})]})}),o.pricing&&(0,Yn.jsx)(s,{animation:"slide-up",delay:300,children:(0,Yn.jsxs)("div",{className:"course-detail-info-card",children:[(0,Yn.jsx)("h3",{children:t("training.course.pricingRegistration")}),(0,Yn.jsx)("div",{className:"course-detail-pricing",dangerouslySetInnerHTML:{__html:o.pricing}})]})}),(0,Yn.jsx)(s,{animation:"slide-up",delay:400,children:(0,Yn.jsxs)("div",{className:"course-detail-cta-card",children:[(0,Yn.jsx)("h3",{children:t("training.course.getStarted")}),(0,Yn.jsx)("p",{children:t("training.course.readyToEnhance")}),(0,Yn.jsx)("button",{onClick:()=>r("/get-in-touch"),className:"course-detail-cta-btn",children:t("training.course.contactUs")})]})})]})]})})})]})}const Zle=()=>((0,i.useEffect)(()=>{const e=document.createElement("script");return e.async=!0,e.src="https://embed.tawk.to/6864d898988cbd190bbeb195/1iv4us4vq",e.charset="UTF-8",e.setAttribute("crossorigin","*"),document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),null);function Jle(){const{pathname:e}=Et(),t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current!==e&&(window.scrollTo(0,0),t.current=e)},[e]),null}function $le(){return(0,Yn.jsxs)("div",{className:"App",children:[(0,Yn.jsx)(Jle,{}),(0,Yn.jsx)(ni,{}),(0,Yn.jsx)(en,{}),(0,Yn.jsx)(ii,{}),(0,Yn.jsx)(Zle,{})]})}function ece(){const{t:e}=(0,i.useContext)($n),t=e=>{let{children:t,animation:n="slide-up",delay:i=0,className:r=""}=e;const{elementRef:a,isVisible:o}=qoe({threshold:.1,triggerOnce:!0});return(0,Yn.jsx)("div",{ref:a,className:"animate-on-scroll ".concat(n," ").concat(o?"visible":""," ").concat(r),style:{transitionDelay:"".concat(i,"ms")},children:t})};return(0,Yn.jsxs)("main",{children:[(0,Yn.jsxs)("section",{className:"hero-section",style:{position:"relative",overflow:"hidden"},children:[(0,Yn.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:(0,Yn.jsx)(gb,{effectOptions:{onSpeedUp:()=>{},onSlowDown:()=>{},distortion:"xyDistortion",length:400,roadWidth:10,islandWidth:2,lanesPerRoad:4,fov:90,fovSpeedUp:150,speedUp:3,carLightsFade:.4,totalSideLightSticks:20,lightPairsPerRoadWay:40,shoulderLinesWidthPercentage:.05,brokenLinesWidthPercentage:.1,brokenLinesLengthPercentage:.5,lightStickWidth:[.12,.5],lightStickHeight:[1.3,1.7],movingAwaySpeed:[20,50],movingCloserSpeed:[-150,-230],carLightsLength:[12,80],carLightsRadius:[.05,.14],carWidthPercentage:[.3,.5],carShiftX:[-.8,.8],carFloorSeparation:[0,5],colors:{roadColor:13358561,islandColor:15067115,background:16119802,shoulderLines:9741240,brokenLines:9741240,leftCars:[2194641,5749995,15857145],rightCars:[16777215,15857145,9684477],sticks:9684477}}})}),(0,Yn.jsx)("div",{className:"hero-content hero-centered",style:{position:"relative",zIndex:1},children:(0,Yn.jsxs)("div",{className:"hero-text",children:[(0,Yn.jsx)(t,{animation:"slide-up",delay:0,children:(0,Yn.jsx)("h1",{children:e("hero.title")})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:200,children:(0,Yn.jsx)(PP,{words:e("hero.flipWords"),interval:2200,textClassName:"flip-words"})}),(0,Yn.jsx)(t,{animation:"slide-up",delay:400,children:(0,Yn.jsx)("div",{className:"hero-subheadline",children:e("hero.subtitle")})})]})})]}),(0,Yn.jsxs)("section",{className:"light-section",children:[(0,Yn.jsx)("h2",{children:e("sections.overview")}),(0,Yn.jsx)(ple,{})]})]})}const tce=function(){(0,i.useEffect)(()=>{ai().init({duration:800,once:!0})},[]);const e=(t=[{path:"/",element:(0,Yn.jsx)($le,{}),children:[{index:!0,element:(0,Yn.jsx)(ece,{})},{path:"about",element:(0,Yn.jsx)(Qoe,{})},{path:"solutions",element:(0,Yn.jsx)(ese,{})},{path:"solutions/remote-driving",element:(0,Yn.jsx)(fle,{})},{path:"solutions/digital-twin",element:(0,Yn.jsx)(Ale,{})},{path:"solutions/multimodal-simulator",element:(0,Yn.jsx)(gle,{})},{path:"solutions/traffic-analysis-tools",element:(0,Yn.jsx)(Sle,{})},{path:"solutions/visualization",element:(0,Yn.jsx)(Mle,{})},{path:"solutions/vr-road-design",element:(0,Yn.jsx)(Ele,{})},{path:"projects",element:(0,Yn.jsx)(dse,{})},{path:"team",element:(0,Yn.jsx)(Ese,{})},{path:"news",element:(0,Yn.jsx)(Ile,{})},{path:"news/:slug",element:(0,Yn.jsx)(zle,{})},{path:"training",element:(0,Yn.jsx)(Xle,{})},{path:"training/:courseCode",element:(0,Yn.jsx)(Kle,{})},{path:"disclosure",element:(0,Yn.jsx)(nle,{})},{path:"disclosure/:section",element:(0,Yn.jsx)(nle,{})},{path:"get-in-touch",element:(0,Yn.jsx)(Vse,{})}]}],_e({basename:null===(n={basename:"/dochakWebsite"})||void 0===n?void 0:n.basename,unstable_getContext:null===n||void 0===n?void 0:n.unstable_getContext,future:null===n||void 0===n?void 0:n.future,history:T({window:null===n||void 0===n?void 0:n.window}),hydrationData:(null===n||void 0===n?void 0:n.hydrationData)||Bn(),routes:t,mapRouteProperties:Xt,hydrationRouteProperties:Kt,dataStrategy:null===n||void 0===n?void 0:n.dataStrategy,patchRoutesOnNavigation:null===n||void 0===n?void 0:n.patchRoutesOnNavigation,window:null===n||void 0===n?void 0:n.window}).initialize());var t,n;return(0,Yn.jsx)(Jn,{children:(0,Yn.jsx)(RP,{router:e})})},nce=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:a,getTTFB:o}=t;n(e),i(e),r(e),a(e),o(e)})};a.createRoot(document.getElementById("root")).render((0,Yn.jsx)(i.StrictMode,{children:(0,Yn.jsx)(tce,{})})),nce()})()})();
//# sourceMappingURL=main.b10bb67e.js.map